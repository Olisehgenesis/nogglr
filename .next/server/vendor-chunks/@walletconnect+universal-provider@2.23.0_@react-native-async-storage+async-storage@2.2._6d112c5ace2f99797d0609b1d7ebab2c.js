"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@walletconnect+universal-provider@2.23.0_@react-native-async-storage+async-storage@2.2._6d112c5ace2f99797d0609b1d7ebab2c";
exports.ids = ["vendor-chunks/@walletconnect+universal-provider@2.23.0_@react-native-async-storage+async-storage@2.2._6d112c5ace2f99797d0609b1d7ebab2c"];
exports.modules = {

/***/ "(ssr)/./node_modules/.pnpm/@walletconnect+universal-provider@2.23.0_@react-native-async-storage+async-storage@2.2._6d112c5ace2f99797d0609b1d7ebab2c/node_modules/@walletconnect/universal-provider/dist/index.js":
/*!******************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@walletconnect+universal-provider@2.23.0_@react-native-async-storage+async-storage@2.2._6d112c5ace2f99797d0609b1d7ebab2c/node_modules/@walletconnect/universal-provider/dist/index.js ***!
  \******************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   UniversalProvider: () => (/* binding */ ns),\n/* harmony export */   \"default\": () => (/* binding */ N)\n/* harmony export */ });\n/* harmony import */ var _walletconnect_sign_client__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @walletconnect/sign-client */ \"(ssr)/./node_modules/.pnpm/@walletconnect+sign-client@2.23.0_@react-native-async-storage+async-storage@2.2.0_react_25c2337fc97fe1cec2249f031aee6434/node_modules/@walletconnect/sign-client/dist/index.js\");\n/* harmony import */ var _walletconnect_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @walletconnect/utils */ \"(ssr)/./node_modules/.pnpm/@walletconnect+utils@2.23.0_@react-native-async-storage+async-storage@2.2.0_react-nativ_88400d5790fca9da1bc548def3cf66c6/node_modules/@walletconnect/utils/dist/index.js\");\n/* harmony import */ var _walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @walletconnect/jsonrpc-utils */ \"(ssr)/./node_modules/.pnpm/@walletconnect+jsonrpc-utils@1.0.8/node_modules/@walletconnect/jsonrpc-utils/dist/esm/index.js\");\n/* harmony import */ var _walletconnect_jsonrpc_provider__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @walletconnect/jsonrpc-provider */ \"(ssr)/./node_modules/.pnpm/@walletconnect+jsonrpc-provider@1.0.14/node_modules/@walletconnect/jsonrpc-provider/dist/index.es.js\");\n/* harmony import */ var _walletconnect_jsonrpc_http_connection__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @walletconnect/jsonrpc-http-connection */ \"(ssr)/./node_modules/.pnpm/@walletconnect+jsonrpc-http-connection@1.0.8/node_modules/@walletconnect/jsonrpc-http-connection/dist/index.es.js\");\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! events */ \"events\");\nfunction _(t){return t==null||typeof t!=\"object\"&&typeof t!=\"function\"}function Z(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function T(t){return t==null?t===void 0?\"[object Undefined]\":\"[object Null]\":Object.prototype.toString.call(t)}const Fe=\"[object RegExp]\",ee=\"[object String]\",te=\"[object Number]\",se=\"[object Boolean]\",ie=\"[object Arguments]\",He=\"[object Symbol]\",Ue=\"[object Date]\",Be=\"[object Map]\",Le=\"[object Set]\",Me=\"[object Array]\",ze=\"[object ArrayBuffer]\",Ge=\"[object Object]\",We=\"[object DataView]\",Je=\"[object Uint8Array]\",Ke=\"[object Uint8ClampedArray]\",Ve=\"[object Uint16Array]\",Ye=\"[object Uint32Array]\",Xe=\"[object Int8Array]\",ke=\"[object Int16Array]\",Qe=\"[object Int32Array]\",Ze=\"[object Float32Array]\",Te=\"[object Float64Array]\";function x(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function et(t,e){return y(t,void 0,t,new Map,e)}function y(t,e,s,i=new Map,r=void 0){const a=r?.(t,e,s,i);if(a!=null)return a;if(_(t))return t;if(i.has(t))return i.get(t);if(Array.isArray(t)){const n=new Array(t.length);i.set(t,n);for(let c=0;c<t.length;c++)n[c]=y(t[c],c,s,i,r);return Object.hasOwn(t,\"index\")&&(n.index=t.index),Object.hasOwn(t,\"input\")&&(n.input=t.input),n}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){const n=new RegExp(t.source,t.flags);return n.lastIndex=t.lastIndex,n}if(t instanceof Map){const n=new Map;i.set(t,n);for(const[c,o]of t)n.set(c,y(o,c,s,i,r));return n}if(t instanceof Set){const n=new Set;i.set(t,n);for(const c of t)n.add(y(c,void 0,s,i,r));return n}if(typeof Buffer<\"u\"&&Buffer.isBuffer(t))return t.subarray();if(x(t)){const n=new(Object.getPrototypeOf(t)).constructor(t.length);i.set(t,n);for(let c=0;c<t.length;c++)n[c]=y(t[c],c,s,i,r);return n}if(t instanceof ArrayBuffer||typeof SharedArrayBuffer<\"u\"&&t instanceof SharedArrayBuffer)return t.slice(0);if(t instanceof DataView){const n=new DataView(t.buffer.slice(0),t.byteOffset,t.byteLength);return i.set(t,n),m(n,t,s,i,r),n}if(typeof File<\"u\"&&t instanceof File){const n=new File([t],t.name,{type:t.type});return i.set(t,n),m(n,t,s,i,r),n}if(t instanceof Blob){const n=new Blob([t],{type:t.type});return i.set(t,n),m(n,t,s,i,r),n}if(t instanceof Error){const n=new t.constructor;return i.set(t,n),n.message=t.message,n.name=t.name,n.stack=t.stack,n.cause=t.cause,m(n,t,s,i,r),n}if(typeof t==\"object\"&&tt(t)){const n=Object.create(Object.getPrototypeOf(t));return i.set(t,n),m(n,t,s,i,r),n}return t}function m(t,e,s=t,i,r){const a=[...Object.keys(e),...Z(e)];for(let n=0;n<a.length;n++){const c=a[n],o=Object.getOwnPropertyDescriptor(t,c);(o==null||o.writable)&&(t[c]=y(e[c],c,s,i,r))}}function tt(t){switch(T(t)){case ie:case Me:case ze:case We:case se:case Ue:case Ze:case Te:case Xe:case ke:case Qe:case Be:case te:case Ge:case Fe:case Le:case ee:case He:case Je:case Ke:case Ve:case Ye:return!0;default:return!1}}function st(t,e){return et(t,(s,i,r,a)=>{const n=e?.(s,i,r,a);if(n!=null)return n;if(typeof t==\"object\")switch(Object.prototype.toString.call(t)){case te:case ee:case se:{const c=new t.constructor(t?.valueOf());return m(c,t),c}case ie:{const c={};return m(c,t),c.length=t.length,c[Symbol.iterator]=t[Symbol.iterator],c}default:return}})}function ne(t){return st(t)}function re(t){return t!==null&&typeof t==\"object\"&&T(t)===\"[object Arguments]\"}function ae(t){return typeof t==\"object\"&&t!==null}function it(){}function nt(t){return x(t)}function rt(t){if(typeof t!=\"object\"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!==\"[object Object]\"){const s=t[Symbol.toStringTag];return s==null||!Object.getOwnPropertyDescriptor(t,Symbol.toStringTag)?.writable?!1:t.toString()===`[object ${s}]`}let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function at(t){if(_(t))return t;if(Array.isArray(t)||x(t)||t instanceof ArrayBuffer||typeof SharedArrayBuffer<\"u\"&&t instanceof SharedArrayBuffer)return t.slice(0);const e=Object.getPrototypeOf(t),s=e.constructor;if(t instanceof Date||t instanceof Map||t instanceof Set)return new s(t);if(t instanceof RegExp){const i=new s(t);return i.lastIndex=t.lastIndex,i}if(t instanceof DataView)return new s(t.buffer.slice(0));if(t instanceof Error){const i=new s(t.message);return i.stack=t.stack,i.name=t.name,i.cause=t.cause,i}if(typeof File<\"u\"&&t instanceof File)return new s([t],t.name,{type:t.type,lastModified:t.lastModified});if(typeof t==\"object\"){const i=Object.create(e);return Object.assign(i,t)}return t}function ct(t,...e){const s=e.slice(0,-1),i=e[e.length-1];let r=t;for(let a=0;a<s.length;a++){const n=s[a];r=$(r,n,i,new Map)}return r}function $(t,e,s,i){if(_(t)&&(t=Object(t)),e==null||typeof e!=\"object\")return t;if(i.has(e))return at(i.get(e));if(i.set(e,t),Array.isArray(e)){e=e.slice();for(let a=0;a<e.length;a++)e[a]=e[a]??void 0}const r=[...Object.keys(e),...Z(e)];for(let a=0;a<r.length;a++){const n=r[a];let c=e[n],o=t[n];if(re(c)&&(c={...c}),re(o)&&(o={...o}),typeof Buffer<\"u\"&&Buffer.isBuffer(c)&&(c=ne(c)),Array.isArray(c))if(typeof o==\"object\"&&o!=null){const l=[],h=Reflect.ownKeys(o);for(let f=0;f<h.length;f++){const u=h[f];l[u]=o[u]}o=l}else o=[];const p=s(o,c,n,t,e,i);p!=null?t[n]=p:Array.isArray(c)||ae(o)&&ae(c)?t[n]=$(o,c,s,i):o==null&&rt(c)?t[n]=$({},c,s,i):o==null&&nt(c)?t[n]=ne(c):(o===void 0||c!==void 0)&&(t[n]=c)}return t}function ot(t,...e){return ct(t,...e,it)}const ce=\"error\",ht=\"wss://relay.walletconnect.org\",pt=\"wc\",oe=\"universal_provider\",A=`${pt}@2:${oe}:`,he=\"https://rpc.walletconnect.org/v1/\",pe=\"generic\",lt=`${he}bundler`,v=\"call_status\",ut=86400,F={DEFAULT_CHAIN_CHANGED:\"default_chain_changed\"};var dt=Object.defineProperty,ft=Object.defineProperties,mt=Object.getOwnPropertyDescriptors,le=Object.getOwnPropertySymbols,gt=Object.prototype.hasOwnProperty,yt=Object.prototype.propertyIsEnumerable,ue=(t,e,s)=>e in t?dt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,E=(t,e)=>{for(var s in e||(e={}))gt.call(e,s)&&ue(t,s,e[s]);if(le)for(var s of le(e))yt.call(e,s)&&ue(t,s,e[s]);return t},vt=(t,e)=>ft(t,mt(e));function de(t,e,s){var i;const r=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_4__.parseChainId)(t);return((i=e.rpcMap)==null?void 0:i[r.reference])||`${he}?chainId=${r.namespace}:${r.reference}&projectId=${s}`}function wt(t){return t.includes(\":\")?t.split(\":\")[1]:t}function fe(t){return t.map(e=>`${e.split(\":\")[0]}:${e.split(\":\")[1]}`)}function bt(t,e){const s=Object.keys(e.namespaces).filter(r=>r.includes(t));if(!s.length)return[];const i=[];return s.forEach(r=>{const a=e.namespaces[r].accounts;i.push(...a)}),i}function me(t){return Object.fromEntries(Object.entries(t).filter(([e,s])=>{var i,r;return((i=s?.chains)==null?void 0:i.length)&&((r=s?.chains)==null?void 0:r.length)>0}))}function C(t={},e={}){const s=me(ge(t)),i=me(ge(e));return ot(s,i)}function ge(t){var e,s,i,r,a;const n={};if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_4__.isValidObject)(t))return n;for(const[c,o]of Object.entries(t)){const p=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_4__.isCaipNamespace)(c)?[c]:o.chains,l=o.methods||[],h=o.events||[],f=o.rpcMap||{},u=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_4__.parseNamespaceKey)(c);n[u]=vt(E(E({},n[u]),o),{chains:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_4__.mergeArrays)(p,(e=n[u])==null?void 0:e.chains),methods:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_4__.mergeArrays)(l,(s=n[u])==null?void 0:s.methods),events:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_4__.mergeArrays)(h,(i=n[u])==null?void 0:i.events)}),((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_4__.isValidObject)(f)||(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_4__.isValidObject)(((r=n[u])==null?void 0:r.rpcMap)||{}))&&(n[u].rpcMap=E(E({},f),(a=n[u])==null?void 0:a.rpcMap))}return n}function ye(t){return t.includes(\":\")?t.split(\":\")[2]:t}function ve(t){const e={};for(const[s,i]of Object.entries(t)){const r=i.methods||[],a=i.events||[],n=i.accounts||[],c=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_4__.isCaipNamespace)(s)?[s]:i.chains?i.chains:fe(i.accounts);e[s]={chains:c,methods:r,events:a,accounts:n}}return e}function H(t){return typeof t==\"number\"?t:t.includes(\"0x\")?parseInt(t,16):(t=t.includes(\":\")?t.split(\":\")[1]:t,isNaN(Number(t))?t:Number(t))}function Pt(t){try{const e=JSON.parse(t);return typeof e==\"object\"&&e!==null&&!Array.isArray(e)}catch{return!1}}const we={},w=t=>we[t],U=(t,e)=>{we[t]=e};var Ot=Object.defineProperty,be=Object.getOwnPropertySymbols,It=Object.prototype.hasOwnProperty,St=Object.prototype.propertyIsEnumerable,Pe=(t,e,s)=>e in t?Ot(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,Oe=(t,e)=>{for(var s in e||(e={}))It.call(e,s)&&Pe(t,s,e[s]);if(be)for(var s of be(e))St.call(e,s)&&Pe(t,s,e[s]);return t};const Ie=\"eip155\",$t=[\"atomic\",\"flow-control\",\"paymasterService\",\"sessionKeys\",\"auxiliaryFunds\"],At=t=>t&&t.startsWith(\"0x\")?BigInt(t).toString(10):t,B=t=>t&&t.startsWith(\"0x\")?t:`0x${BigInt(t).toString(16)}`,Se=t=>Object.keys(t).filter(e=>$t.includes(e)).reduce((e,s)=>(e[s]=Et(t[s]),e),{}),Et=t=>typeof t==\"string\"&&Pt(t)?JSON.parse(t):t,Ct=(t,e,s)=>{const{sessionProperties:i={},scopedProperties:r={}}=t,a={};if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_4__.isValidObject)(r)&&!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_4__.isValidObject)(i))return;const n=Se(i);for(const c of s){const o=At(c);if(!o)continue;a[B(o)]=n;const p=r?.[`${Ie}:${o}`];if(p){const l=p?.[`${Ie}:${o}:${e}`];a[B(o)]=Oe(Oe({},a[B(o)]),Se(l||p))}}for(const[c,o]of Object.entries(a))Object.keys(o).length===0&&delete a[c];return Object.keys(a).length>0?a:void 0};var jt=Object.defineProperty,Nt=(t,e,s)=>e in t?jt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,qt=(t,e,s)=>Nt(t,typeof e!=\"symbol\"?e+\"\":e,s);let L;class J{constructor(e){qt(this,\"storage\"),this.storage=e}async getItem(e){return await this.storage.getItem(e)}async setItem(e,s){return await this.storage.setItem(e,s)}async removeItem(e){return await this.storage.removeItem(e)}static getStorage(e){return L||(L=new J(e)),L}}var Dt=Object.defineProperty,Rt=Object.defineProperties,_t=Object.getOwnPropertyDescriptors,$e=Object.getOwnPropertySymbols,xt=Object.prototype.hasOwnProperty,Ft=Object.prototype.propertyIsEnumerable,Ae=(t,e,s)=>e in t?Dt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,Ht=(t,e)=>{for(var s in e||(e={}))xt.call(e,s)&&Ae(t,s,e[s]);if($e)for(var s of $e(e))Ft.call(e,s)&&Ae(t,s,e[s]);return t},Ut=(t,e)=>Rt(t,_t(e));async function Bt(t,e){const s=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_4__.parseChainId)(t.result.capabilities.caip345.caip2),i=t.result.capabilities.caip345.transactionHashes,r=await Promise.allSettled(i.map(h=>Lt(s.reference,h,e))),a=r.filter(h=>h.status===\"fulfilled\").map(h=>h.value).filter(h=>h);r.filter(h=>h.status===\"rejected\").forEach(h=>console.warn(\"Failed to fetch transaction receipt:\",h.reason));const n=!a.length||a.some(h=>!h),c=a.every(h=>h?.status===\"0x1\"),o=a.every(h=>h?.status===\"0x0\"),p=a.some(h=>h?.status===\"0x0\");let l;return n?l=100:c?l=200:o?l=500:p&&(l=600),{id:t.result.id,version:t.request.version,atomic:t.request.atomicRequired,chainId:t.request.chainId,capabilities:t.result.capabilities,receipts:a,status:l}}async function Lt(t,e,s){return await s(parseInt(t)).request((0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_0__.formatJsonRpcRequest)(\"eth_getTransactionReceipt\",[e]))}async function Mt({sendCalls:t,storage:e}){const s=await e.getItem(v);await e.setItem(v,Ut(Ht({},s),{[t.result.id]:{request:t.request,result:t.result,expiry:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_4__.calcExpiry)(ut)}}))}async function zt({resultId:t,storage:e}){const s=await e.getItem(v);if(s){delete s[t],await e.setItem(v,s);for(const i in s)(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_4__.isExpired)(s[i].expiry)&&delete s[i];await e.setItem(v,s)}}async function Gt({resultId:t,storage:e}){const s=await e.getItem(v),i=s?.[t];if(i&&!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_4__.isExpired)(i.expiry))return i;await zt({resultId:t,storage:e})}var Wt=Object.defineProperty,Jt=Object.defineProperties,Kt=Object.getOwnPropertyDescriptors,Ee=Object.getOwnPropertySymbols,Vt=Object.prototype.hasOwnProperty,Yt=Object.prototype.propertyIsEnumerable,M=(t,e,s)=>e in t?Wt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,z=(t,e)=>{for(var s in e||(e={}))Vt.call(e,s)&&M(t,s,e[s]);if(Ee)for(var s of Ee(e))Yt.call(e,s)&&M(t,s,e[s]);return t},G=(t,e)=>Jt(t,Kt(e)),g=(t,e,s)=>M(t,typeof e!=\"symbol\"?e+\"\":e,s);class Xt{constructor(e){g(this,\"name\",\"eip155\"),g(this,\"client\"),g(this,\"chainId\"),g(this,\"namespace\"),g(this,\"httpProviders\"),g(this,\"events\"),g(this,\"storage\"),this.namespace=e.namespace,this.events=w(\"events\"),this.client=w(\"client\"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain()),this.storage=J.getStorage(this.client.core.storage)}async request(e){switch(e.request.method){case\"eth_requestAccounts\":return this.getAccounts();case\"eth_accounts\":return this.getAccounts();case\"wallet_switchEthereumChain\":return await this.handleSwitchChain(e);case\"eth_chainId\":return parseInt(this.getDefaultChain());case\"wallet_getCapabilities\":return await this.getCapabilities(e);case\"wallet_getCallsStatus\":return await this.getCallStatus(e);case\"wallet_sendCalls\":return await this.sendCalls(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,s){this.httpProviders[e]||this.setHttpProvider(parseInt(e),s);const i=this.chainId;this.chainId=parseInt(e),this.events.emit(F.DEFAULT_CHAIN_CHANGED,{currentCaipChainId:`${this.name}:${e}`,previousCaipChainId:`${this.name}:${i}`})}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error(\"ChainId not found\");return e.split(\":\")[1]}createHttpProvider(e,s){const i=s||de(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);return new _walletconnect_jsonrpc_provider__WEBPACK_IMPORTED_MODULE_1__.JsonRpcProvider(new _walletconnect_jsonrpc_http_connection__WEBPACK_IMPORTED_MODULE_2__.HttpConnection(i,w(\"disableProviderPing\")))}setHttpProvider(e,s){const i=this.createHttpProvider(e,s);i&&(this.httpProviders[e]=i)}createHttpProviders(){const e={};return this.namespace.chains.forEach(s=>{var i;const r=parseInt(wt(s));e[r]=this.createHttpProvider(r,(i=this.namespace.rpcMap)==null?void 0:i[s])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(s=>s.split(\":\")[1]===this.chainId.toString()).map(s=>s.split(\":\")[2]))]:[]}getHttpProvider(e){const s=e||this.chainId;return this.httpProviders[s]||(this.httpProviders=G(z({},this.httpProviders),{[s]:this.createHttpProvider(s)}),this.httpProviders[s])}async handleSwitchChain(e){var s,i;let r=e.request.params?(s=e.request.params[0])==null?void 0:s.chainId:\"0x0\";r=r.startsWith(\"0x\")?r:`0x${r}`;const a=parseInt(r,16);if(this.isChainApproved(a))this.setDefaultChain(`${a}`);else if(this.namespace.methods.includes(\"wallet_switchEthereumChain\"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:r}]},chainId:(i=this.namespace.chains)==null?void 0:i[0]}),this.setDefaultChain(`${a}`);else throw new Error(`Failed to switch to chain 'eip155:${a}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var s,i,r,a,n;const c=(i=(s=e.request)==null?void 0:s.params)==null?void 0:i[0],o=((a=(r=e.request)==null?void 0:r.params)==null?void 0:a[1])||[];if(!c)throw new Error(\"Missing address parameter in `wallet_getCapabilities` request\");const p=this.client.session.get(e.topic),l=((n=p?.sessionProperties)==null?void 0:n.capabilities)||{},h=`${c}${o.join(\",\")}`,f=l?.[h];if(f)return f;let u;try{u=Ct(p,c,o)}catch(q){console.warn(\"Failed to extract capabilities from session\",q)}if(u)return u;const K=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:G(z({},p.sessionProperties||{}),{capabilities:G(z({},l||{}),{[h]:K})})})}catch(q){console.warn(\"Failed to update session with capabilities\",q)}return K}async getCallStatus(e){var s,i,r;const a=this.client.session.get(e.topic),n=(s=a.sessionProperties)==null?void 0:s.bundler_name;if(n){const p=this.getBundlerUrl(e.chainId,n);try{return await this.getUserOperationReceipt(p,e)}catch(l){console.warn(\"Failed to fetch call status from bundler\",l,p)}}const c=(i=a.sessionProperties)==null?void 0:i.bundler_url;if(c)try{return await this.getUserOperationReceipt(c,e)}catch(p){console.warn(\"Failed to fetch call status from custom bundler\",p,c)}const o=await Gt({resultId:(r=e.request.params)==null?void 0:r[0],storage:this.storage});if(o)try{return await Bt(o,this.getHttpProvider.bind(this))}catch(p){console.warn(\"Failed to fetch call status from stored send calls\",p,o)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error(\"Fetching call status not approved by the wallet.\")}async getUserOperationReceipt(e,s){var i;const r=new URL(e),a=await fetch(r,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify((0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_0__.formatJsonRpcRequest)(\"eth_getUserOperationReceipt\",[(i=s.request.params)==null?void 0:i[0]]))});if(!a.ok)throw new Error(`Failed to fetch user operation receipt - ${a.status}`);return await a.json()}getBundlerUrl(e,s){return`${lt}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${s}`}async sendCalls(e){var s,i,r;const a=await this.client.request(e),n=(s=e.request.params)==null?void 0:s[0],c=a?.id,o=a?.capabilities||{},p=(i=o?.caip345)==null?void 0:i.caip2,l=(r=o?.caip345)==null?void 0:r.transactionHashes;return!c||!p||!(l!=null&&l.length)||await Mt({sendCalls:{request:n,result:a},storage:this.storage}),a}}var kt=Object.defineProperty,Qt=(t,e,s)=>e in t?kt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,b=(t,e,s)=>Qt(t,typeof e!=\"symbol\"?e+\"\":e,s);class Zt{constructor(e){b(this,\"name\",pe),b(this,\"client\"),b(this,\"httpProviders\"),b(this,\"events\"),b(this,\"namespace\"),b(this,\"chainId\"),this.namespace=e.namespace,this.events=w(\"events\"),this.client=w(\"client\"),this.chainId=this.getDefaultChain(),this.name=this.getNamespaceName(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,s){this.httpProviders[e]||this.setHttpProvider(e,s);const i=this.chainId;this.chainId=e,this.events.emit(F.DEFAULT_CHAIN_CHANGED,{currentCaipChainId:`${this.name}:${e}`,previousCaipChainId:`${this.name}:${i}`})}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error(\"ChainId not found\");return e.split(\":\")[1]}getNamespaceName(){const e=this.namespace.chains[0];if(!e)throw new Error(\"ChainId not found\");return (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_4__.parseChainId)(e).namespace}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(s=>s.split(\":\")[1]===this.chainId.toString()).map(s=>s.split(\":\")[2]))]:[]}createHttpProviders(){var e,s;const i={};return(s=(e=this.namespace)==null?void 0:e.accounts)==null||s.forEach(r=>{var a,n;const c=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_4__.parseChainId)(r),o=(n=(a=this.namespace)==null?void 0:a.rpcMap)==null?void 0:n[`${c.namespace}:${c.reference}`];i[c.reference]=this.createHttpProvider(r,o)}),i}getHttpProvider(e){const s=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_4__.parseChainId)(e).reference,i=this.httpProviders[s];if(typeof i>\"u\")throw new Error(`JSON-RPC provider for ${e} not found`);return i}setHttpProvider(e,s){const i=this.createHttpProvider(e,s);i&&(this.httpProviders[e]=i)}createHttpProvider(e,s){const i=s||de(e,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);return new _walletconnect_jsonrpc_provider__WEBPACK_IMPORTED_MODULE_1__.JsonRpcProvider(new _walletconnect_jsonrpc_http_connection__WEBPACK_IMPORTED_MODULE_2__[\"default\"](i,w(\"disableProviderPing\")))}}var Tt=Object.defineProperty,es=Object.defineProperties,ts=Object.getOwnPropertyDescriptors,Ce=Object.getOwnPropertySymbols,ss=Object.prototype.hasOwnProperty,is=Object.prototype.propertyIsEnumerable,W=(t,e,s)=>e in t?Tt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,S=(t,e)=>{for(var s in e||(e={}))ss.call(e,s)&&W(t,s,e[s]);if(Ce)for(var s of Ce(e))is.call(e,s)&&W(t,s,e[s]);return t},j=(t,e)=>es(t,ts(e)),d=(t,e,s)=>W(t,typeof e!=\"symbol\"?e+\"\":e,s);class N{constructor(e){d(this,\"client\"),d(this,\"namespaces\"),d(this,\"optionalNamespaces\"),d(this,\"sessionProperties\"),d(this,\"scopedProperties\"),d(this,\"events\",new events__WEBPACK_IMPORTED_MODULE_3__),d(this,\"rpcProviders\",{}),d(this,\"session\"),d(this,\"providerOpts\"),d(this,\"logger\"),d(this,\"uri\"),d(this,\"disableProviderPing\",!1),d(this,\"connectParams\");var s,i;this.providerOpts=e,this.logger=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_4__.createLogger)({logger:(s=e.logger)!=null?s:ce,name:(i=this.providerOpts.name)!=null?i:oe}),this.disableProviderPing=e?.disableProviderPing||!1}static async init(e){const s=new N(e);return await s.initialize(),s}async request(e,s,i){const[r,a]=this.validateChain(s);if(!this.session)throw new Error(\"Please call connect() before request()\");return await this.getProvider(r).request({request:S({},e),chainId:`${r}:${a}`,topic:this.session.topic,expiry:i})}sendAsync(e,s,i,r){const a=new Date().getTime();this.request(e,i,r).then(n=>s(null,(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_0__.formatJsonRpcResult)(a,n))).catch(n=>s(n,void 0))}async enable(){if(!this.client)throw new Error(\"Sign Client not initialized\");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error(\"Please call connect() before enable()\");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_4__.getSdkError)(\"USER_DISCONNECTED\")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error(\"Sign Client not initialized\");if(this.connectParams=e,this.setNamespaces(e),this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,s){if(!this.client)throw new Error(\"Sign Client not initialized\");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:i,response:r}=await this.client.authenticate(e,s);i&&(this.uri=i,this.events.emit(\"display_uri\",i));const a=await r();if(this.session=a.session,this.session){const n=ve(this.session.namespaces);this.namespaces=C(this.namespaces,n),await this.persist(\"namespaces\",this.namespaces),this.onConnect()}return a}on(e,s){this.events.on(e,s)}once(e,s){this.events.once(e,s)}removeListener(e,s){this.events.removeListener(e,s)}off(e,s){this.events.off(e,s)}get isWalletConnect(){return!0}async pair(e){var s,i;const{uri:r,approval:a}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties,authentication:(s=this.connectParams)==null?void 0:s.authentication,walletPay:(i=this.connectParams)==null?void 0:i.walletPay});r&&(this.uri=r,this.events.emit(\"display_uri\",r));const n=await a();this.session=n;const c=ve(n.namespaces);return this.namespaces=C(this.namespaces,c),await this.persist(\"namespaces\",this.namespaces),await this.persist(\"optionalNamespaces\",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,s){try{if(!this.session)return;const[i,r]=this.validateChain(e);this.getProvider(i).setDefaultChain(r,s)}catch(i){if(!/Please call connect/.test(i.message))throw i}}async cleanupPendingPairings(e={}){try{this.logger.info(\"Cleaning up inactive pairings...\");const s=this.client.pairing.getAll();if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_4__.isValidArray)(s))return;for(const i of s)e.deletePairings?this.client.core.expirer.set(i.topic,0):await this.client.core.relayer.subscriber.unsubscribe(i.topic);this.logger.info(`Inactive pairings cleared: ${s.length}`)}catch(s){this.logger.warn(s,\"Failed to cleanup pending pairings\")}}abortPairingAttempt(){this.logger.warn(\"abortPairingAttempt is deprecated. This is now a no-op.\")}async checkStorage(){this.namespaces=await this.getFromStore(\"namespaces\")||{},this.optionalNamespaces=await this.getFromStore(\"optionalNamespaces\")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace(\"Initialized\"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,s;if(this.client=this.providerOpts.client||await _walletconnect_sign_client__WEBPACK_IMPORTED_MODULE_5__.SignClient.init({core:this.providerOpts.core,logger:this.providerOpts.logger||ce,relayUrl:this.providerOpts.relayUrl||ht,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(i){throw this.logger.error(i,\"Failed to get session\"),new Error(`The provided session: ${(s=(e=this.providerOpts)==null?void 0:e.session)==null?void 0:s.topic} doesn't exist in the Sign client`)}else{const i=this.client.session.getAll();this.session=i[0]}this.logger.trace(\"SignClient Initialized\")}createProviders(){if(!this.client)throw new Error(\"Sign Client not initialized\");if(!this.session)throw new Error(\"Session not initialized. Please call connect() before enable()\");const e=[...new Set(Object.keys(this.session.namespaces).map(s=>(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_4__.parseNamespaceKey)(s)))];U(\"client\",this.client),U(\"events\",this.events),U(\"disableProviderPing\",this.disableProviderPing),e.forEach(s=>{if(!this.session)return;const i=bt(s,this.session);if(i?.length===0)return;const r=fe(i),a=C(this.namespaces,this.optionalNamespaces),n=j(S({},a[s]),{accounts:i,chains:r});switch(s){case\"eip155\":this.rpcProviders[s]=new Xt({namespace:n});break;default:this.rpcProviders[s]=new Zt({namespace:n})}})}registerEventListeners(){if(typeof this.client>\"u\")throw new Error(\"Sign Client is not initialized\");this.client.on(\"session_ping\",e=>{var s;const{topic:i}=e;i===((s=this.session)==null?void 0:s.topic)&&this.events.emit(\"session_ping\",e)}),this.client.on(\"session_event\",e=>{var s;const{params:i,topic:r}=e;if(r!==((s=this.session)==null?void 0:s.topic))return;const{event:a}=i;if(a.name===\"accountsChanged\"){const n=a.data;n&&(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_4__.isValidArray)(n)&&this.events.emit(\"accountsChanged\",n.map(ye))}else if(a.name===\"chainChanged\"){const n=i.chainId,c=i.event.data,o=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_4__.parseNamespaceKey)(n),p=H(n)!==H(c)?`${o}:${H(c)}`:n;this.onChainChanged({currentCaipChainId:p})}else this.events.emit(a.name,a.data);this.events.emit(\"session_event\",e)}),this.client.on(\"session_update\",({topic:e,params:s})=>{var i,r;if(e!==((i=this.session)==null?void 0:i.topic))return;const{namespaces:a}=s,n=(r=this.client)==null?void 0:r.session.get(e);this.session=j(S({},n),{namespaces:a}),this.onSessionUpdate(),this.events.emit(\"session_update\",{topic:e,params:s})}),this.client.on(\"session_delete\",async e=>{var s;e.topic===((s=this.session)==null?void 0:s.topic)&&(await this.cleanup(),this.events.emit(\"session_delete\",e),this.events.emit(\"disconnect\",j(S({},(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_4__.getSdkError)(\"USER_DISCONNECTED\")),{data:e.topic})))}),this.on(F.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(j(S({},e),{internal:!0}))})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[pe]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var s;this.getProvider(e).updateNamespace((s=this.session)==null?void 0:s.namespaces[e])})}setNamespaces(e){const{namespaces:s={},optionalNamespaces:i={},sessionProperties:r,scopedProperties:a}=e;this.optionalNamespaces=C(s,i),this.sessionProperties=r,this.scopedProperties=a}validateChain(e){const[s,i]=e?.split(\":\")||[\"\",\"\"];if(!this.namespaces||!Object.keys(this.namespaces).length)return[s,i];if(s&&!Object.keys(this.namespaces||{}).map(n=>(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_4__.parseNamespaceKey)(n)).includes(s))throw new Error(`Namespace '${s}' is not configured. Please call connect() first with namespace config.`);if(s&&i)return[s,i];const r=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_4__.parseNamespaceKey)(Object.keys(this.namespaces)[0]),a=this.rpcProviders[r].getDefaultChain();return[r,a]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged({currentCaipChainId:e,previousCaipChainId:s,internal:i=!1}){if(!this.namespaces)return;const[r,a]=this.validateChain(e);a&&(this.updateNamespaceChain(r,a),i?(this.events.emit(\"chainChanged\",a),this.emitAccountsChangedOnChainChange({namespace:r,currentCaipChainId:e,previousCaipChainId:s})):this.getProvider(r).setDefaultChain(a),await this.persist(\"namespaces\",this.namespaces))}emitAccountsChangedOnChainChange({namespace:e,currentCaipChainId:s,previousCaipChainId:i}){var r,a;try{if(i===s)return;const n=(a=(r=this.session)==null?void 0:r.namespaces[e])==null?void 0:a.accounts;if(!n)return;const c=n.filter(o=>o.includes(`${s}:`)).map(ye);if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_4__.isValidArray)(c))return;this.events.emit(\"accountsChanged\",c)}catch(n){this.logger.warn(n,\"Failed to emit accountsChanged on chain change\")}}updateNamespaceChain(e,s){if(!this.namespaces)return;const i=this.namespaces[e]?e:`${e}:${s}`,r={chains:[],methods:[],events:[],defaultChain:s};this.namespaces[i]?this.namespaces[i]&&(this.namespaces[i].defaultChain=s):this.namespaces[i]=r}onConnect(){this.createProviders(),this.events.emit(\"connect\",{session:this.session})}async cleanup(){this.connectParams=void 0,this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore(\"namespaces\"),await this.deleteFromStore(\"optionalNamespaces\"),await this.deleteFromStore(\"sessionProperties\"),this.session=void 0,this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,s){var i;const r=((i=this.session)==null?void 0:i.topic)||\"\";await this.client.core.storage.setItem(`${A}/${e}${r}`,s)}async getFromStore(e){var s;const i=((s=this.session)==null?void 0:s.topic)||\"\";return await this.client.core.storage.getItem(`${A}/${e}${i}`)}async deleteFromStore(e){var s;const i=((s=this.session)==null?void 0:s.topic)||\"\";await this.client.core.storage.removeItem(`${A}/${e}${i}`)}async cleanupStorage(){var e;try{if(((e=this.client)==null?void 0:e.session.length)>0)return;const s=await this.client.core.storage.getKeys();for(const i of s)i.startsWith(A)&&await this.client.core.storage.removeItem(i)}catch(s){this.logger.warn(s,\"Failed to cleanup storage\")}}}const ns=N;\n//# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHdhbGxldGNvbm5lY3QrdW5pdmVyc2FsLXByb3ZpZGVyQDIuMjMuMF9AcmVhY3QtbmF0aXZlLWFzeW5jLXN0b3JhZ2UrYXN5bmMtc3RvcmFnZUAyLjIuXzZkMTEyYzVhY2UyZjk5Nzk3ZDA2MDliMWQ3ZWJhYjJjL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC91bml2ZXJzYWwtcHJvdmlkZXIvZGlzdC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUF1aEIsY0FBYyx5REFBeUQsY0FBYyxrR0FBa0csY0FBYyxpR0FBaUcsc2dCQUFzZ0IsY0FBYyx1REFBdUQsaUJBQWlCLCtCQUErQixxQ0FBcUMscUJBQXFCLG9CQUFvQixpQkFBaUIsNEJBQTRCLHFCQUFxQiw0QkFBNEIsV0FBVyxZQUFZLFdBQVcseUJBQXlCLGlHQUFpRyxrREFBa0Qsd0JBQXdCLHFDQUFxQyxpQ0FBaUMscUJBQXFCLGdCQUFnQixXQUFXLHlDQUF5QyxTQUFTLHFCQUFxQixnQkFBZ0IsV0FBVywwQ0FBMEMsU0FBUyw2REFBNkQsU0FBUyw0REFBNEQsV0FBVyxZQUFZLFdBQVcseUJBQXlCLFNBQVMsNEdBQTRHLDBCQUEwQixrRUFBa0UsaUNBQWlDLHVDQUF1Qyw2QkFBNkIsWUFBWSxFQUFFLGlDQUFpQyxzQkFBc0Isc0JBQXNCLFlBQVksRUFBRSxpQ0FBaUMsdUJBQXVCLDBCQUEwQixtR0FBbUcsOEJBQThCLGdEQUFnRCxpQ0FBaUMsU0FBUyx3QkFBd0Isb0NBQW9DLFlBQVksV0FBVyxLQUFLLG9EQUFvRCwrQ0FBK0MsZUFBZSxhQUFhLHlMQUF5TCxrQkFBa0IsaUJBQWlCLHdCQUF3QixxQkFBcUIsb0JBQW9CLGdFQUFnRSx5QkFBeUIsd0NBQXdDLGdCQUFnQixTQUFTLFdBQVcsd0VBQXdFLGdCQUFnQixFQUFFLGVBQWUsYUFBYSxlQUFlLGlFQUFpRSxlQUFlLG9DQUFvQyxlQUFlLGVBQWUsWUFBWSxlQUFlLHdDQUF3Qyw0Q0FB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QUcsdUJBQXVCLE1BQU0sSUFBSSw0REFBNEQsaURBQWlELCtFQUErRSxTQUFTLGtEQUFrRCxXQUF3RDtBQUNuMTdCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm9nZ2xyLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B3YWxsZXRjb25uZWN0K3VuaXZlcnNhbC1wcm92aWRlckAyLjIzLjBfQHJlYWN0LW5hdGl2ZS1hc3luYy1zdG9yYWdlK2FzeW5jLXN0b3JhZ2VAMi4yLl82ZDExMmM1YWNlMmY5OTc5N2QwNjA5YjFkN2ViYWIyYy9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL2Rpc3QvaW5kZXguanM/NDFjYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnR7U2lnbkNsaWVudCBhcyBqZX1mcm9tXCJAd2FsbGV0Y29ubmVjdC9zaWduLWNsaWVudFwiO2ltcG9ydHtpc1ZhbGlkT2JqZWN0IGFzIFAsaXNDYWlwTmFtZXNwYWNlIGFzIFYscGFyc2VOYW1lc3BhY2VLZXkgYXMgTyxtZXJnZUFycmF5cyBhcyBELHBhcnNlQ2hhaW5JZCBhcyBJLGNhbGNFeHBpcnkgYXMgTmUsaXNFeHBpcmVkIGFzIFksY3JlYXRlTG9nZ2VyIGFzIHFlLGdldFNka0Vycm9yIGFzIFgsaXNWYWxpZEFycmF5IGFzIFJ9ZnJvbVwiQHdhbGxldGNvbm5lY3QvdXRpbHNcIjtpbXBvcnR7Zm9ybWF0SnNvblJwY1JlcXVlc3QgYXMgayxmb3JtYXRKc29uUnBjUmVzdWx0IGFzIERlfWZyb21cIkB3YWxsZXRjb25uZWN0L2pzb25ycGMtdXRpbHNcIjtpbXBvcnR7SnNvblJwY1Byb3ZpZGVyIGFzIFF9ZnJvbVwiQHdhbGxldGNvbm5lY3QvanNvbnJwYy1wcm92aWRlclwiO2ltcG9ydCBSZSx7SHR0cENvbm5lY3Rpb24gYXMgX2V9ZnJvbVwiQHdhbGxldGNvbm5lY3QvanNvbnJwYy1odHRwLWNvbm5lY3Rpb25cIjtpbXBvcnQgeGUgZnJvbVwiZXZlbnRzXCI7ZnVuY3Rpb24gXyh0KXtyZXR1cm4gdD09bnVsbHx8dHlwZW9mIHQhPVwib2JqZWN0XCImJnR5cGVvZiB0IT1cImZ1bmN0aW9uXCJ9ZnVuY3Rpb24gWih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0KS5maWx0ZXIoZT0+T2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHQsZSkpfWZ1bmN0aW9uIFQodCl7cmV0dXJuIHQ9PW51bGw/dD09PXZvaWQgMD9cIltvYmplY3QgVW5kZWZpbmVkXVwiOlwiW29iamVjdCBOdWxsXVwiOk9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KX1jb25zdCBGZT1cIltvYmplY3QgUmVnRXhwXVwiLGVlPVwiW29iamVjdCBTdHJpbmddXCIsdGU9XCJbb2JqZWN0IE51bWJlcl1cIixzZT1cIltvYmplY3QgQm9vbGVhbl1cIixpZT1cIltvYmplY3QgQXJndW1lbnRzXVwiLEhlPVwiW29iamVjdCBTeW1ib2xdXCIsVWU9XCJbb2JqZWN0IERhdGVdXCIsQmU9XCJbb2JqZWN0IE1hcF1cIixMZT1cIltvYmplY3QgU2V0XVwiLE1lPVwiW29iamVjdCBBcnJheV1cIix6ZT1cIltvYmplY3QgQXJyYXlCdWZmZXJdXCIsR2U9XCJbb2JqZWN0IE9iamVjdF1cIixXZT1cIltvYmplY3QgRGF0YVZpZXddXCIsSmU9XCJbb2JqZWN0IFVpbnQ4QXJyYXldXCIsS2U9XCJbb2JqZWN0IFVpbnQ4Q2xhbXBlZEFycmF5XVwiLFZlPVwiW29iamVjdCBVaW50MTZBcnJheV1cIixZZT1cIltvYmplY3QgVWludDMyQXJyYXldXCIsWGU9XCJbb2JqZWN0IEludDhBcnJheV1cIixrZT1cIltvYmplY3QgSW50MTZBcnJheV1cIixRZT1cIltvYmplY3QgSW50MzJBcnJheV1cIixaZT1cIltvYmplY3QgRmxvYXQzMkFycmF5XVwiLFRlPVwiW29iamVjdCBGbG9hdDY0QXJyYXldXCI7ZnVuY3Rpb24geCh0KXtyZXR1cm4gQXJyYXlCdWZmZXIuaXNWaWV3KHQpJiYhKHQgaW5zdGFuY2VvZiBEYXRhVmlldyl9ZnVuY3Rpb24gZXQodCxlKXtyZXR1cm4geSh0LHZvaWQgMCx0LG5ldyBNYXAsZSl9ZnVuY3Rpb24geSh0LGUscyxpPW5ldyBNYXAscj12b2lkIDApe2NvbnN0IGE9cj8uKHQsZSxzLGkpO2lmKGEhPW51bGwpcmV0dXJuIGE7aWYoXyh0KSlyZXR1cm4gdDtpZihpLmhhcyh0KSlyZXR1cm4gaS5nZXQodCk7aWYoQXJyYXkuaXNBcnJheSh0KSl7Y29uc3Qgbj1uZXcgQXJyYXkodC5sZW5ndGgpO2kuc2V0KHQsbik7Zm9yKGxldCBjPTA7Yzx0Lmxlbmd0aDtjKyspbltjXT15KHRbY10sYyxzLGkscik7cmV0dXJuIE9iamVjdC5oYXNPd24odCxcImluZGV4XCIpJiYobi5pbmRleD10LmluZGV4KSxPYmplY3QuaGFzT3duKHQsXCJpbnB1dFwiKSYmKG4uaW5wdXQ9dC5pbnB1dCksbn1pZih0IGluc3RhbmNlb2YgRGF0ZSlyZXR1cm4gbmV3IERhdGUodC5nZXRUaW1lKCkpO2lmKHQgaW5zdGFuY2VvZiBSZWdFeHApe2NvbnN0IG49bmV3IFJlZ0V4cCh0LnNvdXJjZSx0LmZsYWdzKTtyZXR1cm4gbi5sYXN0SW5kZXg9dC5sYXN0SW5kZXgsbn1pZih0IGluc3RhbmNlb2YgTWFwKXtjb25zdCBuPW5ldyBNYXA7aS5zZXQodCxuKTtmb3IoY29uc3RbYyxvXW9mIHQpbi5zZXQoYyx5KG8sYyxzLGkscikpO3JldHVybiBufWlmKHQgaW5zdGFuY2VvZiBTZXQpe2NvbnN0IG49bmV3IFNldDtpLnNldCh0LG4pO2Zvcihjb25zdCBjIG9mIHQpbi5hZGQoeShjLHZvaWQgMCxzLGkscikpO3JldHVybiBufWlmKHR5cGVvZiBCdWZmZXI8XCJ1XCImJkJ1ZmZlci5pc0J1ZmZlcih0KSlyZXR1cm4gdC5zdWJhcnJheSgpO2lmKHgodCkpe2NvbnN0IG49bmV3KE9iamVjdC5nZXRQcm90b3R5cGVPZih0KSkuY29uc3RydWN0b3IodC5sZW5ndGgpO2kuc2V0KHQsbik7Zm9yKGxldCBjPTA7Yzx0Lmxlbmd0aDtjKyspbltjXT15KHRbY10sYyxzLGkscik7cmV0dXJuIG59aWYodCBpbnN0YW5jZW9mIEFycmF5QnVmZmVyfHx0eXBlb2YgU2hhcmVkQXJyYXlCdWZmZXI8XCJ1XCImJnQgaW5zdGFuY2VvZiBTaGFyZWRBcnJheUJ1ZmZlcilyZXR1cm4gdC5zbGljZSgwKTtpZih0IGluc3RhbmNlb2YgRGF0YVZpZXcpe2NvbnN0IG49bmV3IERhdGFWaWV3KHQuYnVmZmVyLnNsaWNlKDApLHQuYnl0ZU9mZnNldCx0LmJ5dGVMZW5ndGgpO3JldHVybiBpLnNldCh0LG4pLG0obix0LHMsaSxyKSxufWlmKHR5cGVvZiBGaWxlPFwidVwiJiZ0IGluc3RhbmNlb2YgRmlsZSl7Y29uc3Qgbj1uZXcgRmlsZShbdF0sdC5uYW1lLHt0eXBlOnQudHlwZX0pO3JldHVybiBpLnNldCh0LG4pLG0obix0LHMsaSxyKSxufWlmKHQgaW5zdGFuY2VvZiBCbG9iKXtjb25zdCBuPW5ldyBCbG9iKFt0XSx7dHlwZTp0LnR5cGV9KTtyZXR1cm4gaS5zZXQodCxuKSxtKG4sdCxzLGksciksbn1pZih0IGluc3RhbmNlb2YgRXJyb3Ipe2NvbnN0IG49bmV3IHQuY29uc3RydWN0b3I7cmV0dXJuIGkuc2V0KHQsbiksbi5tZXNzYWdlPXQubWVzc2FnZSxuLm5hbWU9dC5uYW1lLG4uc3RhY2s9dC5zdGFjayxuLmNhdXNlPXQuY2F1c2UsbShuLHQscyxpLHIpLG59aWYodHlwZW9mIHQ9PVwib2JqZWN0XCImJnR0KHQpKXtjb25zdCBuPU9iamVjdC5jcmVhdGUoT2JqZWN0LmdldFByb3RvdHlwZU9mKHQpKTtyZXR1cm4gaS5zZXQodCxuKSxtKG4sdCxzLGksciksbn1yZXR1cm4gdH1mdW5jdGlvbiBtKHQsZSxzPXQsaSxyKXtjb25zdCBhPVsuLi5PYmplY3Qua2V5cyhlKSwuLi5aKGUpXTtmb3IobGV0IG49MDtuPGEubGVuZ3RoO24rKyl7Y29uc3QgYz1hW25dLG89T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LGMpOyhvPT1udWxsfHxvLndyaXRhYmxlKSYmKHRbY109eShlW2NdLGMscyxpLHIpKX19ZnVuY3Rpb24gdHQodCl7c3dpdGNoKFQodCkpe2Nhc2UgaWU6Y2FzZSBNZTpjYXNlIHplOmNhc2UgV2U6Y2FzZSBzZTpjYXNlIFVlOmNhc2UgWmU6Y2FzZSBUZTpjYXNlIFhlOmNhc2Uga2U6Y2FzZSBRZTpjYXNlIEJlOmNhc2UgdGU6Y2FzZSBHZTpjYXNlIEZlOmNhc2UgTGU6Y2FzZSBlZTpjYXNlIEhlOmNhc2UgSmU6Y2FzZSBLZTpjYXNlIFZlOmNhc2UgWWU6cmV0dXJuITA7ZGVmYXVsdDpyZXR1cm4hMX19ZnVuY3Rpb24gc3QodCxlKXtyZXR1cm4gZXQodCwocyxpLHIsYSk9Pntjb25zdCBuPWU/LihzLGkscixhKTtpZihuIT1udWxsKXJldHVybiBuO2lmKHR5cGVvZiB0PT1cIm9iamVjdFwiKXN3aXRjaChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCkpe2Nhc2UgdGU6Y2FzZSBlZTpjYXNlIHNlOntjb25zdCBjPW5ldyB0LmNvbnN0cnVjdG9yKHQ/LnZhbHVlT2YoKSk7cmV0dXJuIG0oYyx0KSxjfWNhc2UgaWU6e2NvbnN0IGM9e307cmV0dXJuIG0oYyx0KSxjLmxlbmd0aD10Lmxlbmd0aCxjW1N5bWJvbC5pdGVyYXRvcl09dFtTeW1ib2wuaXRlcmF0b3JdLGN9ZGVmYXVsdDpyZXR1cm59fSl9ZnVuY3Rpb24gbmUodCl7cmV0dXJuIHN0KHQpfWZ1bmN0aW9uIHJlKHQpe3JldHVybiB0IT09bnVsbCYmdHlwZW9mIHQ9PVwib2JqZWN0XCImJlQodCk9PT1cIltvYmplY3QgQXJndW1lbnRzXVwifWZ1bmN0aW9uIGFlKHQpe3JldHVybiB0eXBlb2YgdD09XCJvYmplY3RcIiYmdCE9PW51bGx9ZnVuY3Rpb24gaXQoKXt9ZnVuY3Rpb24gbnQodCl7cmV0dXJuIHgodCl9ZnVuY3Rpb24gcnQodCl7aWYodHlwZW9mIHQhPVwib2JqZWN0XCJ8fHQ9PW51bGwpcmV0dXJuITE7aWYoT2JqZWN0LmdldFByb3RvdHlwZU9mKHQpPT09bnVsbClyZXR1cm4hMDtpZihPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCkhPT1cIltvYmplY3QgT2JqZWN0XVwiKXtjb25zdCBzPXRbU3ltYm9sLnRvU3RyaW5nVGFnXTtyZXR1cm4gcz09bnVsbHx8IU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxTeW1ib2wudG9TdHJpbmdUYWcpPy53cml0YWJsZT8hMTp0LnRvU3RyaW5nKCk9PT1gW29iamVjdCAke3N9XWB9bGV0IGU9dDtmb3IoO09iamVjdC5nZXRQcm90b3R5cGVPZihlKSE9PW51bGw7KWU9T2JqZWN0LmdldFByb3RvdHlwZU9mKGUpO3JldHVybiBPYmplY3QuZ2V0UHJvdG90eXBlT2YodCk9PT1lfWZ1bmN0aW9uIGF0KHQpe2lmKF8odCkpcmV0dXJuIHQ7aWYoQXJyYXkuaXNBcnJheSh0KXx8eCh0KXx8dCBpbnN0YW5jZW9mIEFycmF5QnVmZmVyfHx0eXBlb2YgU2hhcmVkQXJyYXlCdWZmZXI8XCJ1XCImJnQgaW5zdGFuY2VvZiBTaGFyZWRBcnJheUJ1ZmZlcilyZXR1cm4gdC5zbGljZSgwKTtjb25zdCBlPU9iamVjdC5nZXRQcm90b3R5cGVPZih0KSxzPWUuY29uc3RydWN0b3I7aWYodCBpbnN0YW5jZW9mIERhdGV8fHQgaW5zdGFuY2VvZiBNYXB8fHQgaW5zdGFuY2VvZiBTZXQpcmV0dXJuIG5ldyBzKHQpO2lmKHQgaW5zdGFuY2VvZiBSZWdFeHApe2NvbnN0IGk9bmV3IHModCk7cmV0dXJuIGkubGFzdEluZGV4PXQubGFzdEluZGV4LGl9aWYodCBpbnN0YW5jZW9mIERhdGFWaWV3KXJldHVybiBuZXcgcyh0LmJ1ZmZlci5zbGljZSgwKSk7aWYodCBpbnN0YW5jZW9mIEVycm9yKXtjb25zdCBpPW5ldyBzKHQubWVzc2FnZSk7cmV0dXJuIGkuc3RhY2s9dC5zdGFjayxpLm5hbWU9dC5uYW1lLGkuY2F1c2U9dC5jYXVzZSxpfWlmKHR5cGVvZiBGaWxlPFwidVwiJiZ0IGluc3RhbmNlb2YgRmlsZSlyZXR1cm4gbmV3IHMoW3RdLHQubmFtZSx7dHlwZTp0LnR5cGUsbGFzdE1vZGlmaWVkOnQubGFzdE1vZGlmaWVkfSk7aWYodHlwZW9mIHQ9PVwib2JqZWN0XCIpe2NvbnN0IGk9T2JqZWN0LmNyZWF0ZShlKTtyZXR1cm4gT2JqZWN0LmFzc2lnbihpLHQpfXJldHVybiB0fWZ1bmN0aW9uIGN0KHQsLi4uZSl7Y29uc3Qgcz1lLnNsaWNlKDAsLTEpLGk9ZVtlLmxlbmd0aC0xXTtsZXQgcj10O2ZvcihsZXQgYT0wO2E8cy5sZW5ndGg7YSsrKXtjb25zdCBuPXNbYV07cj0kKHIsbixpLG5ldyBNYXApfXJldHVybiByfWZ1bmN0aW9uICQodCxlLHMsaSl7aWYoXyh0KSYmKHQ9T2JqZWN0KHQpKSxlPT1udWxsfHx0eXBlb2YgZSE9XCJvYmplY3RcIilyZXR1cm4gdDtpZihpLmhhcyhlKSlyZXR1cm4gYXQoaS5nZXQoZSkpO2lmKGkuc2V0KGUsdCksQXJyYXkuaXNBcnJheShlKSl7ZT1lLnNsaWNlKCk7Zm9yKGxldCBhPTA7YTxlLmxlbmd0aDthKyspZVthXT1lW2FdPz92b2lkIDB9Y29uc3Qgcj1bLi4uT2JqZWN0LmtleXMoZSksLi4uWihlKV07Zm9yKGxldCBhPTA7YTxyLmxlbmd0aDthKyspe2NvbnN0IG49clthXTtsZXQgYz1lW25dLG89dFtuXTtpZihyZShjKSYmKGM9ey4uLmN9KSxyZShvKSYmKG89ey4uLm99KSx0eXBlb2YgQnVmZmVyPFwidVwiJiZCdWZmZXIuaXNCdWZmZXIoYykmJihjPW5lKGMpKSxBcnJheS5pc0FycmF5KGMpKWlmKHR5cGVvZiBvPT1cIm9iamVjdFwiJiZvIT1udWxsKXtjb25zdCBsPVtdLGg9UmVmbGVjdC5vd25LZXlzKG8pO2ZvcihsZXQgZj0wO2Y8aC5sZW5ndGg7ZisrKXtjb25zdCB1PWhbZl07bFt1XT1vW3VdfW89bH1lbHNlIG89W107Y29uc3QgcD1zKG8sYyxuLHQsZSxpKTtwIT1udWxsP3Rbbl09cDpBcnJheS5pc0FycmF5KGMpfHxhZShvKSYmYWUoYyk/dFtuXT0kKG8sYyxzLGkpOm89PW51bGwmJnJ0KGMpP3Rbbl09JCh7fSxjLHMsaSk6bz09bnVsbCYmbnQoYyk/dFtuXT1uZShjKToobz09PXZvaWQgMHx8YyE9PXZvaWQgMCkmJih0W25dPWMpfXJldHVybiB0fWZ1bmN0aW9uIG90KHQsLi4uZSl7cmV0dXJuIGN0KHQsLi4uZSxpdCl9Y29uc3QgY2U9XCJlcnJvclwiLGh0PVwid3NzOi8vcmVsYXkud2FsbGV0Y29ubmVjdC5vcmdcIixwdD1cIndjXCIsb2U9XCJ1bml2ZXJzYWxfcHJvdmlkZXJcIixBPWAke3B0fUAyOiR7b2V9OmAsaGU9XCJodHRwczovL3JwYy53YWxsZXRjb25uZWN0Lm9yZy92MS9cIixwZT1cImdlbmVyaWNcIixsdD1gJHtoZX1idW5kbGVyYCx2PVwiY2FsbF9zdGF0dXNcIix1dD04NjQwMCxGPXtERUZBVUxUX0NIQUlOX0NIQU5HRUQ6XCJkZWZhdWx0X2NoYWluX2NoYW5nZWRcIn07dmFyIGR0PU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxmdD1PYmplY3QuZGVmaW5lUHJvcGVydGllcyxtdD1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyxsZT1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzLGd0PU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkseXQ9T2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZSx1ZT0odCxlLHMpPT5lIGluIHQ/ZHQodCxlLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTpzfSk6dFtlXT1zLEU9KHQsZSk9Pntmb3IodmFyIHMgaW4gZXx8KGU9e30pKWd0LmNhbGwoZSxzKSYmdWUodCxzLGVbc10pO2lmKGxlKWZvcih2YXIgcyBvZiBsZShlKSl5dC5jYWxsKGUscykmJnVlKHQscyxlW3NdKTtyZXR1cm4gdH0sdnQ9KHQsZSk9PmZ0KHQsbXQoZSkpO2Z1bmN0aW9uIGRlKHQsZSxzKXt2YXIgaTtjb25zdCByPUkodCk7cmV0dXJuKChpPWUucnBjTWFwKT09bnVsbD92b2lkIDA6aVtyLnJlZmVyZW5jZV0pfHxgJHtoZX0/Y2hhaW5JZD0ke3IubmFtZXNwYWNlfToke3IucmVmZXJlbmNlfSZwcm9qZWN0SWQ9JHtzfWB9ZnVuY3Rpb24gd3QodCl7cmV0dXJuIHQuaW5jbHVkZXMoXCI6XCIpP3Quc3BsaXQoXCI6XCIpWzFdOnR9ZnVuY3Rpb24gZmUodCl7cmV0dXJuIHQubWFwKGU9PmAke2Uuc3BsaXQoXCI6XCIpWzBdfToke2Uuc3BsaXQoXCI6XCIpWzFdfWApfWZ1bmN0aW9uIGJ0KHQsZSl7Y29uc3Qgcz1PYmplY3Qua2V5cyhlLm5hbWVzcGFjZXMpLmZpbHRlcihyPT5yLmluY2x1ZGVzKHQpKTtpZighcy5sZW5ndGgpcmV0dXJuW107Y29uc3QgaT1bXTtyZXR1cm4gcy5mb3JFYWNoKHI9Pntjb25zdCBhPWUubmFtZXNwYWNlc1tyXS5hY2NvdW50cztpLnB1c2goLi4uYSl9KSxpfWZ1bmN0aW9uIG1lKHQpe3JldHVybiBPYmplY3QuZnJvbUVudHJpZXMoT2JqZWN0LmVudHJpZXModCkuZmlsdGVyKChbZSxzXSk9Pnt2YXIgaSxyO3JldHVybigoaT1zPy5jaGFpbnMpPT1udWxsP3ZvaWQgMDppLmxlbmd0aCkmJigocj1zPy5jaGFpbnMpPT1udWxsP3ZvaWQgMDpyLmxlbmd0aCk+MH0pKX1mdW5jdGlvbiBDKHQ9e30sZT17fSl7Y29uc3Qgcz1tZShnZSh0KSksaT1tZShnZShlKSk7cmV0dXJuIG90KHMsaSl9ZnVuY3Rpb24gZ2UodCl7dmFyIGUscyxpLHIsYTtjb25zdCBuPXt9O2lmKCFQKHQpKXJldHVybiBuO2Zvcihjb25zdFtjLG9db2YgT2JqZWN0LmVudHJpZXModCkpe2NvbnN0IHA9VihjKT9bY106by5jaGFpbnMsbD1vLm1ldGhvZHN8fFtdLGg9by5ldmVudHN8fFtdLGY9by5ycGNNYXB8fHt9LHU9TyhjKTtuW3VdPXZ0KEUoRSh7fSxuW3VdKSxvKSx7Y2hhaW5zOkQocCwoZT1uW3VdKT09bnVsbD92b2lkIDA6ZS5jaGFpbnMpLG1ldGhvZHM6RChsLChzPW5bdV0pPT1udWxsP3ZvaWQgMDpzLm1ldGhvZHMpLGV2ZW50czpEKGgsKGk9blt1XSk9PW51bGw/dm9pZCAwOmkuZXZlbnRzKX0pLChQKGYpfHxQKCgocj1uW3VdKT09bnVsbD92b2lkIDA6ci5ycGNNYXApfHx7fSkpJiYoblt1XS5ycGNNYXA9RShFKHt9LGYpLChhPW5bdV0pPT1udWxsP3ZvaWQgMDphLnJwY01hcCkpfXJldHVybiBufWZ1bmN0aW9uIHllKHQpe3JldHVybiB0LmluY2x1ZGVzKFwiOlwiKT90LnNwbGl0KFwiOlwiKVsyXTp0fWZ1bmN0aW9uIHZlKHQpe2NvbnN0IGU9e307Zm9yKGNvbnN0W3MsaV1vZiBPYmplY3QuZW50cmllcyh0KSl7Y29uc3Qgcj1pLm1ldGhvZHN8fFtdLGE9aS5ldmVudHN8fFtdLG49aS5hY2NvdW50c3x8W10sYz1WKHMpP1tzXTppLmNoYWlucz9pLmNoYWluczpmZShpLmFjY291bnRzKTtlW3NdPXtjaGFpbnM6YyxtZXRob2RzOnIsZXZlbnRzOmEsYWNjb3VudHM6bn19cmV0dXJuIGV9ZnVuY3Rpb24gSCh0KXtyZXR1cm4gdHlwZW9mIHQ9PVwibnVtYmVyXCI/dDp0LmluY2x1ZGVzKFwiMHhcIik/cGFyc2VJbnQodCwxNik6KHQ9dC5pbmNsdWRlcyhcIjpcIik/dC5zcGxpdChcIjpcIilbMV06dCxpc05hTihOdW1iZXIodCkpP3Q6TnVtYmVyKHQpKX1mdW5jdGlvbiBQdCh0KXt0cnl7Y29uc3QgZT1KU09OLnBhcnNlKHQpO3JldHVybiB0eXBlb2YgZT09XCJvYmplY3RcIiYmZSE9PW51bGwmJiFBcnJheS5pc0FycmF5KGUpfWNhdGNoe3JldHVybiExfX1jb25zdCB3ZT17fSx3PXQ9PndlW3RdLFU9KHQsZSk9Pnt3ZVt0XT1lfTt2YXIgT3Q9T2JqZWN0LmRlZmluZVByb3BlcnR5LGJlPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsSXQ9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxTdD1PYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLFBlPSh0LGUscyk9PmUgaW4gdD9PdCh0LGUse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnN9KTp0W2VdPXMsT2U9KHQsZSk9Pntmb3IodmFyIHMgaW4gZXx8KGU9e30pKUl0LmNhbGwoZSxzKSYmUGUodCxzLGVbc10pO2lmKGJlKWZvcih2YXIgcyBvZiBiZShlKSlTdC5jYWxsKGUscykmJlBlKHQscyxlW3NdKTtyZXR1cm4gdH07Y29uc3QgSWU9XCJlaXAxNTVcIiwkdD1bXCJhdG9taWNcIixcImZsb3ctY29udHJvbFwiLFwicGF5bWFzdGVyU2VydmljZVwiLFwic2Vzc2lvbktleXNcIixcImF1eGlsaWFyeUZ1bmRzXCJdLEF0PXQ9PnQmJnQuc3RhcnRzV2l0aChcIjB4XCIpP0JpZ0ludCh0KS50b1N0cmluZygxMCk6dCxCPXQ9PnQmJnQuc3RhcnRzV2l0aChcIjB4XCIpP3Q6YDB4JHtCaWdJbnQodCkudG9TdHJpbmcoMTYpfWAsU2U9dD0+T2JqZWN0LmtleXModCkuZmlsdGVyKGU9PiR0LmluY2x1ZGVzKGUpKS5yZWR1Y2UoKGUscyk9PihlW3NdPUV0KHRbc10pLGUpLHt9KSxFdD10PT50eXBlb2YgdD09XCJzdHJpbmdcIiYmUHQodCk/SlNPTi5wYXJzZSh0KTp0LEN0PSh0LGUscyk9Pntjb25zdHtzZXNzaW9uUHJvcGVydGllczppPXt9LHNjb3BlZFByb3BlcnRpZXM6cj17fX09dCxhPXt9O2lmKCFQKHIpJiYhUChpKSlyZXR1cm47Y29uc3Qgbj1TZShpKTtmb3IoY29uc3QgYyBvZiBzKXtjb25zdCBvPUF0KGMpO2lmKCFvKWNvbnRpbnVlO2FbQihvKV09bjtjb25zdCBwPXI/LltgJHtJZX06JHtvfWBdO2lmKHApe2NvbnN0IGw9cD8uW2Ake0llfToke299OiR7ZX1gXTthW0IobyldPU9lKE9lKHt9LGFbQihvKV0pLFNlKGx8fHApKX19Zm9yKGNvbnN0W2Msb11vZiBPYmplY3QuZW50cmllcyhhKSlPYmplY3Qua2V5cyhvKS5sZW5ndGg9PT0wJiZkZWxldGUgYVtjXTtyZXR1cm4gT2JqZWN0LmtleXMoYSkubGVuZ3RoPjA/YTp2b2lkIDB9O3ZhciBqdD1PYmplY3QuZGVmaW5lUHJvcGVydHksTnQ9KHQsZSxzKT0+ZSBpbiB0P2p0KHQsZSx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6c30pOnRbZV09cyxxdD0odCxlLHMpPT5OdCh0LHR5cGVvZiBlIT1cInN5bWJvbFwiP2UrXCJcIjplLHMpO2xldCBMO2NsYXNzIEp7Y29uc3RydWN0b3IoZSl7cXQodGhpcyxcInN0b3JhZ2VcIiksdGhpcy5zdG9yYWdlPWV9YXN5bmMgZ2V0SXRlbShlKXtyZXR1cm4gYXdhaXQgdGhpcy5zdG9yYWdlLmdldEl0ZW0oZSl9YXN5bmMgc2V0SXRlbShlLHMpe3JldHVybiBhd2FpdCB0aGlzLnN0b3JhZ2Uuc2V0SXRlbShlLHMpfWFzeW5jIHJlbW92ZUl0ZW0oZSl7cmV0dXJuIGF3YWl0IHRoaXMuc3RvcmFnZS5yZW1vdmVJdGVtKGUpfXN0YXRpYyBnZXRTdG9yYWdlKGUpe3JldHVybiBMfHwoTD1uZXcgSihlKSksTH19dmFyIER0PU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxSdD1PYmplY3QuZGVmaW5lUHJvcGVydGllcyxfdD1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycywkZT1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzLHh0PU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksRnQ9T2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZSxBZT0odCxlLHMpPT5lIGluIHQ/RHQodCxlLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTpzfSk6dFtlXT1zLEh0PSh0LGUpPT57Zm9yKHZhciBzIGluIGV8fChlPXt9KSl4dC5jYWxsKGUscykmJkFlKHQscyxlW3NdKTtpZigkZSlmb3IodmFyIHMgb2YgJGUoZSkpRnQuY2FsbChlLHMpJiZBZSh0LHMsZVtzXSk7cmV0dXJuIHR9LFV0PSh0LGUpPT5SdCh0LF90KGUpKTthc3luYyBmdW5jdGlvbiBCdCh0LGUpe2NvbnN0IHM9SSh0LnJlc3VsdC5jYXBhYmlsaXRpZXMuY2FpcDM0NS5jYWlwMiksaT10LnJlc3VsdC5jYXBhYmlsaXRpZXMuY2FpcDM0NS50cmFuc2FjdGlvbkhhc2hlcyxyPWF3YWl0IFByb21pc2UuYWxsU2V0dGxlZChpLm1hcChoPT5MdChzLnJlZmVyZW5jZSxoLGUpKSksYT1yLmZpbHRlcihoPT5oLnN0YXR1cz09PVwiZnVsZmlsbGVkXCIpLm1hcChoPT5oLnZhbHVlKS5maWx0ZXIoaD0+aCk7ci5maWx0ZXIoaD0+aC5zdGF0dXM9PT1cInJlamVjdGVkXCIpLmZvckVhY2goaD0+Y29uc29sZS53YXJuKFwiRmFpbGVkIHRvIGZldGNoIHRyYW5zYWN0aW9uIHJlY2VpcHQ6XCIsaC5yZWFzb24pKTtjb25zdCBuPSFhLmxlbmd0aHx8YS5zb21lKGg9PiFoKSxjPWEuZXZlcnkoaD0+aD8uc3RhdHVzPT09XCIweDFcIiksbz1hLmV2ZXJ5KGg9Pmg/LnN0YXR1cz09PVwiMHgwXCIpLHA9YS5zb21lKGg9Pmg/LnN0YXR1cz09PVwiMHgwXCIpO2xldCBsO3JldHVybiBuP2w9MTAwOmM/bD0yMDA6bz9sPTUwMDpwJiYobD02MDApLHtpZDp0LnJlc3VsdC5pZCx2ZXJzaW9uOnQucmVxdWVzdC52ZXJzaW9uLGF0b21pYzp0LnJlcXVlc3QuYXRvbWljUmVxdWlyZWQsY2hhaW5JZDp0LnJlcXVlc3QuY2hhaW5JZCxjYXBhYmlsaXRpZXM6dC5yZXN1bHQuY2FwYWJpbGl0aWVzLHJlY2VpcHRzOmEsc3RhdHVzOmx9fWFzeW5jIGZ1bmN0aW9uIEx0KHQsZSxzKXtyZXR1cm4gYXdhaXQgcyhwYXJzZUludCh0KSkucmVxdWVzdChrKFwiZXRoX2dldFRyYW5zYWN0aW9uUmVjZWlwdFwiLFtlXSkpfWFzeW5jIGZ1bmN0aW9uIE10KHtzZW5kQ2FsbHM6dCxzdG9yYWdlOmV9KXtjb25zdCBzPWF3YWl0IGUuZ2V0SXRlbSh2KTthd2FpdCBlLnNldEl0ZW0odixVdChIdCh7fSxzKSx7W3QucmVzdWx0LmlkXTp7cmVxdWVzdDp0LnJlcXVlc3QscmVzdWx0OnQucmVzdWx0LGV4cGlyeTpOZSh1dCl9fSkpfWFzeW5jIGZ1bmN0aW9uIHp0KHtyZXN1bHRJZDp0LHN0b3JhZ2U6ZX0pe2NvbnN0IHM9YXdhaXQgZS5nZXRJdGVtKHYpO2lmKHMpe2RlbGV0ZSBzW3RdLGF3YWl0IGUuc2V0SXRlbSh2LHMpO2Zvcihjb25zdCBpIGluIHMpWShzW2ldLmV4cGlyeSkmJmRlbGV0ZSBzW2ldO2F3YWl0IGUuc2V0SXRlbSh2LHMpfX1hc3luYyBmdW5jdGlvbiBHdCh7cmVzdWx0SWQ6dCxzdG9yYWdlOmV9KXtjb25zdCBzPWF3YWl0IGUuZ2V0SXRlbSh2KSxpPXM/Llt0XTtpZihpJiYhWShpLmV4cGlyeSkpcmV0dXJuIGk7YXdhaXQgenQoe3Jlc3VsdElkOnQsc3RvcmFnZTplfSl9dmFyIFd0PU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxKdD1PYmplY3QuZGVmaW5lUHJvcGVydGllcyxLdD1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyxFZT1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzLFZ0PU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksWXQ9T2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZSxNPSh0LGUscyk9PmUgaW4gdD9XdCh0LGUse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnN9KTp0W2VdPXMsej0odCxlKT0+e2Zvcih2YXIgcyBpbiBlfHwoZT17fSkpVnQuY2FsbChlLHMpJiZNKHQscyxlW3NdKTtpZihFZSlmb3IodmFyIHMgb2YgRWUoZSkpWXQuY2FsbChlLHMpJiZNKHQscyxlW3NdKTtyZXR1cm4gdH0sRz0odCxlKT0+SnQodCxLdChlKSksZz0odCxlLHMpPT5NKHQsdHlwZW9mIGUhPVwic3ltYm9sXCI/ZStcIlwiOmUscyk7Y2xhc3MgWHR7Y29uc3RydWN0b3IoZSl7Zyh0aGlzLFwibmFtZVwiLFwiZWlwMTU1XCIpLGcodGhpcyxcImNsaWVudFwiKSxnKHRoaXMsXCJjaGFpbklkXCIpLGcodGhpcyxcIm5hbWVzcGFjZVwiKSxnKHRoaXMsXCJodHRwUHJvdmlkZXJzXCIpLGcodGhpcyxcImV2ZW50c1wiKSxnKHRoaXMsXCJzdG9yYWdlXCIpLHRoaXMubmFtZXNwYWNlPWUubmFtZXNwYWNlLHRoaXMuZXZlbnRzPXcoXCJldmVudHNcIiksdGhpcy5jbGllbnQ9dyhcImNsaWVudFwiKSx0aGlzLmh0dHBQcm92aWRlcnM9dGhpcy5jcmVhdGVIdHRwUHJvdmlkZXJzKCksdGhpcy5jaGFpbklkPXBhcnNlSW50KHRoaXMuZ2V0RGVmYXVsdENoYWluKCkpLHRoaXMuc3RvcmFnZT1KLmdldFN0b3JhZ2UodGhpcy5jbGllbnQuY29yZS5zdG9yYWdlKX1hc3luYyByZXF1ZXN0KGUpe3N3aXRjaChlLnJlcXVlc3QubWV0aG9kKXtjYXNlXCJldGhfcmVxdWVzdEFjY291bnRzXCI6cmV0dXJuIHRoaXMuZ2V0QWNjb3VudHMoKTtjYXNlXCJldGhfYWNjb3VudHNcIjpyZXR1cm4gdGhpcy5nZXRBY2NvdW50cygpO2Nhc2VcIndhbGxldF9zd2l0Y2hFdGhlcmV1bUNoYWluXCI6cmV0dXJuIGF3YWl0IHRoaXMuaGFuZGxlU3dpdGNoQ2hhaW4oZSk7Y2FzZVwiZXRoX2NoYWluSWRcIjpyZXR1cm4gcGFyc2VJbnQodGhpcy5nZXREZWZhdWx0Q2hhaW4oKSk7Y2FzZVwid2FsbGV0X2dldENhcGFiaWxpdGllc1wiOnJldHVybiBhd2FpdCB0aGlzLmdldENhcGFiaWxpdGllcyhlKTtjYXNlXCJ3YWxsZXRfZ2V0Q2FsbHNTdGF0dXNcIjpyZXR1cm4gYXdhaXQgdGhpcy5nZXRDYWxsU3RhdHVzKGUpO2Nhc2VcIndhbGxldF9zZW5kQ2FsbHNcIjpyZXR1cm4gYXdhaXQgdGhpcy5zZW5kQ2FsbHMoZSl9cmV0dXJuIHRoaXMubmFtZXNwYWNlLm1ldGhvZHMuaW5jbHVkZXMoZS5yZXF1ZXN0Lm1ldGhvZCk/YXdhaXQgdGhpcy5jbGllbnQucmVxdWVzdChlKTp0aGlzLmdldEh0dHBQcm92aWRlcigpLnJlcXVlc3QoZS5yZXF1ZXN0KX11cGRhdGVOYW1lc3BhY2UoZSl7dGhpcy5uYW1lc3BhY2U9T2JqZWN0LmFzc2lnbih0aGlzLm5hbWVzcGFjZSxlKX1zZXREZWZhdWx0Q2hhaW4oZSxzKXt0aGlzLmh0dHBQcm92aWRlcnNbZV18fHRoaXMuc2V0SHR0cFByb3ZpZGVyKHBhcnNlSW50KGUpLHMpO2NvbnN0IGk9dGhpcy5jaGFpbklkO3RoaXMuY2hhaW5JZD1wYXJzZUludChlKSx0aGlzLmV2ZW50cy5lbWl0KEYuREVGQVVMVF9DSEFJTl9DSEFOR0VELHtjdXJyZW50Q2FpcENoYWluSWQ6YCR7dGhpcy5uYW1lfToke2V9YCxwcmV2aW91c0NhaXBDaGFpbklkOmAke3RoaXMubmFtZX06JHtpfWB9KX1yZXF1ZXN0QWNjb3VudHMoKXtyZXR1cm4gdGhpcy5nZXRBY2NvdW50cygpfWdldERlZmF1bHRDaGFpbigpe2lmKHRoaXMuY2hhaW5JZClyZXR1cm4gdGhpcy5jaGFpbklkLnRvU3RyaW5nKCk7aWYodGhpcy5uYW1lc3BhY2UuZGVmYXVsdENoYWluKXJldHVybiB0aGlzLm5hbWVzcGFjZS5kZWZhdWx0Q2hhaW47Y29uc3QgZT10aGlzLm5hbWVzcGFjZS5jaGFpbnNbMF07aWYoIWUpdGhyb3cgbmV3IEVycm9yKFwiQ2hhaW5JZCBub3QgZm91bmRcIik7cmV0dXJuIGUuc3BsaXQoXCI6XCIpWzFdfWNyZWF0ZUh0dHBQcm92aWRlcihlLHMpe2NvbnN0IGk9c3x8ZGUoYCR7dGhpcy5uYW1lfToke2V9YCx0aGlzLm5hbWVzcGFjZSx0aGlzLmNsaWVudC5jb3JlLnByb2plY3RJZCk7aWYoIWkpdGhyb3cgbmV3IEVycm9yKGBObyBSUEMgdXJsIHByb3ZpZGVkIGZvciBjaGFpbklkOiAke2V9YCk7cmV0dXJuIG5ldyBRKG5ldyBfZShpLHcoXCJkaXNhYmxlUHJvdmlkZXJQaW5nXCIpKSl9c2V0SHR0cFByb3ZpZGVyKGUscyl7Y29uc3QgaT10aGlzLmNyZWF0ZUh0dHBQcm92aWRlcihlLHMpO2kmJih0aGlzLmh0dHBQcm92aWRlcnNbZV09aSl9Y3JlYXRlSHR0cFByb3ZpZGVycygpe2NvbnN0IGU9e307cmV0dXJuIHRoaXMubmFtZXNwYWNlLmNoYWlucy5mb3JFYWNoKHM9Pnt2YXIgaTtjb25zdCByPXBhcnNlSW50KHd0KHMpKTtlW3JdPXRoaXMuY3JlYXRlSHR0cFByb3ZpZGVyKHIsKGk9dGhpcy5uYW1lc3BhY2UucnBjTWFwKT09bnVsbD92b2lkIDA6aVtzXSl9KSxlfWdldEFjY291bnRzKCl7Y29uc3QgZT10aGlzLm5hbWVzcGFjZS5hY2NvdW50cztyZXR1cm4gZT9bLi4ubmV3IFNldChlLmZpbHRlcihzPT5zLnNwbGl0KFwiOlwiKVsxXT09PXRoaXMuY2hhaW5JZC50b1N0cmluZygpKS5tYXAocz0+cy5zcGxpdChcIjpcIilbMl0pKV06W119Z2V0SHR0cFByb3ZpZGVyKGUpe2NvbnN0IHM9ZXx8dGhpcy5jaGFpbklkO3JldHVybiB0aGlzLmh0dHBQcm92aWRlcnNbc118fCh0aGlzLmh0dHBQcm92aWRlcnM9Ryh6KHt9LHRoaXMuaHR0cFByb3ZpZGVycykse1tzXTp0aGlzLmNyZWF0ZUh0dHBQcm92aWRlcihzKX0pLHRoaXMuaHR0cFByb3ZpZGVyc1tzXSl9YXN5bmMgaGFuZGxlU3dpdGNoQ2hhaW4oZSl7dmFyIHMsaTtsZXQgcj1lLnJlcXVlc3QucGFyYW1zPyhzPWUucmVxdWVzdC5wYXJhbXNbMF0pPT1udWxsP3ZvaWQgMDpzLmNoYWluSWQ6XCIweDBcIjtyPXIuc3RhcnRzV2l0aChcIjB4XCIpP3I6YDB4JHtyfWA7Y29uc3QgYT1wYXJzZUludChyLDE2KTtpZih0aGlzLmlzQ2hhaW5BcHByb3ZlZChhKSl0aGlzLnNldERlZmF1bHRDaGFpbihgJHthfWApO2Vsc2UgaWYodGhpcy5uYW1lc3BhY2UubWV0aG9kcy5pbmNsdWRlcyhcIndhbGxldF9zd2l0Y2hFdGhlcmV1bUNoYWluXCIpKWF3YWl0IHRoaXMuY2xpZW50LnJlcXVlc3Qoe3RvcGljOmUudG9waWMscmVxdWVzdDp7bWV0aG9kOmUucmVxdWVzdC5tZXRob2QscGFyYW1zOlt7Y2hhaW5JZDpyfV19LGNoYWluSWQ6KGk9dGhpcy5uYW1lc3BhY2UuY2hhaW5zKT09bnVsbD92b2lkIDA6aVswXX0pLHRoaXMuc2V0RGVmYXVsdENoYWluKGAke2F9YCk7ZWxzZSB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBzd2l0Y2ggdG8gY2hhaW4gJ2VpcDE1NToke2F9Jy4gVGhlIGNoYWluIGlzIG5vdCBhcHByb3ZlZCBvciB0aGUgd2FsbGV0IGRvZXMgbm90IHN1cHBvcnQgJ3dhbGxldF9zd2l0Y2hFdGhlcmV1bUNoYWluJyBtZXRob2QuYCk7cmV0dXJuIG51bGx9aXNDaGFpbkFwcHJvdmVkKGUpe3JldHVybiB0aGlzLm5hbWVzcGFjZS5jaGFpbnMuaW5jbHVkZXMoYCR7dGhpcy5uYW1lfToke2V9YCl9YXN5bmMgZ2V0Q2FwYWJpbGl0aWVzKGUpe3ZhciBzLGkscixhLG47Y29uc3QgYz0oaT0ocz1lLnJlcXVlc3QpPT1udWxsP3ZvaWQgMDpzLnBhcmFtcyk9PW51bGw/dm9pZCAwOmlbMF0sbz0oKGE9KHI9ZS5yZXF1ZXN0KT09bnVsbD92b2lkIDA6ci5wYXJhbXMpPT1udWxsP3ZvaWQgMDphWzFdKXx8W107aWYoIWMpdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyBhZGRyZXNzIHBhcmFtZXRlciBpbiBgd2FsbGV0X2dldENhcGFiaWxpdGllc2AgcmVxdWVzdFwiKTtjb25zdCBwPXRoaXMuY2xpZW50LnNlc3Npb24uZ2V0KGUudG9waWMpLGw9KChuPXA/LnNlc3Npb25Qcm9wZXJ0aWVzKT09bnVsbD92b2lkIDA6bi5jYXBhYmlsaXRpZXMpfHx7fSxoPWAke2N9JHtvLmpvaW4oXCIsXCIpfWAsZj1sPy5baF07aWYoZilyZXR1cm4gZjtsZXQgdTt0cnl7dT1DdChwLGMsbyl9Y2F0Y2gocSl7Y29uc29sZS53YXJuKFwiRmFpbGVkIHRvIGV4dHJhY3QgY2FwYWJpbGl0aWVzIGZyb20gc2Vzc2lvblwiLHEpfWlmKHUpcmV0dXJuIHU7Y29uc3QgSz1hd2FpdCB0aGlzLmNsaWVudC5yZXF1ZXN0KGUpO3RyeXthd2FpdCB0aGlzLmNsaWVudC5zZXNzaW9uLnVwZGF0ZShlLnRvcGljLHtzZXNzaW9uUHJvcGVydGllczpHKHooe30scC5zZXNzaW9uUHJvcGVydGllc3x8e30pLHtjYXBhYmlsaXRpZXM6Ryh6KHt9LGx8fHt9KSx7W2hdOkt9KX0pfSl9Y2F0Y2gocSl7Y29uc29sZS53YXJuKFwiRmFpbGVkIHRvIHVwZGF0ZSBzZXNzaW9uIHdpdGggY2FwYWJpbGl0aWVzXCIscSl9cmV0dXJuIEt9YXN5bmMgZ2V0Q2FsbFN0YXR1cyhlKXt2YXIgcyxpLHI7Y29uc3QgYT10aGlzLmNsaWVudC5zZXNzaW9uLmdldChlLnRvcGljKSxuPShzPWEuc2Vzc2lvblByb3BlcnRpZXMpPT1udWxsP3ZvaWQgMDpzLmJ1bmRsZXJfbmFtZTtpZihuKXtjb25zdCBwPXRoaXMuZ2V0QnVuZGxlclVybChlLmNoYWluSWQsbik7dHJ5e3JldHVybiBhd2FpdCB0aGlzLmdldFVzZXJPcGVyYXRpb25SZWNlaXB0KHAsZSl9Y2F0Y2gobCl7Y29uc29sZS53YXJuKFwiRmFpbGVkIHRvIGZldGNoIGNhbGwgc3RhdHVzIGZyb20gYnVuZGxlclwiLGwscCl9fWNvbnN0IGM9KGk9YS5zZXNzaW9uUHJvcGVydGllcyk9PW51bGw/dm9pZCAwOmkuYnVuZGxlcl91cmw7aWYoYyl0cnl7cmV0dXJuIGF3YWl0IHRoaXMuZ2V0VXNlck9wZXJhdGlvblJlY2VpcHQoYyxlKX1jYXRjaChwKXtjb25zb2xlLndhcm4oXCJGYWlsZWQgdG8gZmV0Y2ggY2FsbCBzdGF0dXMgZnJvbSBjdXN0b20gYnVuZGxlclwiLHAsYyl9Y29uc3Qgbz1hd2FpdCBHdCh7cmVzdWx0SWQ6KHI9ZS5yZXF1ZXN0LnBhcmFtcyk9PW51bGw/dm9pZCAwOnJbMF0sc3RvcmFnZTp0aGlzLnN0b3JhZ2V9KTtpZihvKXRyeXtyZXR1cm4gYXdhaXQgQnQobyx0aGlzLmdldEh0dHBQcm92aWRlci5iaW5kKHRoaXMpKX1jYXRjaChwKXtjb25zb2xlLndhcm4oXCJGYWlsZWQgdG8gZmV0Y2ggY2FsbCBzdGF0dXMgZnJvbSBzdG9yZWQgc2VuZCBjYWxsc1wiLHAsbyl9aWYodGhpcy5uYW1lc3BhY2UubWV0aG9kcy5pbmNsdWRlcyhlLnJlcXVlc3QubWV0aG9kKSlyZXR1cm4gYXdhaXQgdGhpcy5jbGllbnQucmVxdWVzdChlKTt0aHJvdyBuZXcgRXJyb3IoXCJGZXRjaGluZyBjYWxsIHN0YXR1cyBub3QgYXBwcm92ZWQgYnkgdGhlIHdhbGxldC5cIil9YXN5bmMgZ2V0VXNlck9wZXJhdGlvblJlY2VpcHQoZSxzKXt2YXIgaTtjb25zdCByPW5ldyBVUkwoZSksYT1hd2FpdCBmZXRjaChyLHttZXRob2Q6XCJQT1NUXCIsaGVhZGVyczp7XCJDb250ZW50LVR5cGVcIjpcImFwcGxpY2F0aW9uL2pzb25cIn0sYm9keTpKU09OLnN0cmluZ2lmeShrKFwiZXRoX2dldFVzZXJPcGVyYXRpb25SZWNlaXB0XCIsWyhpPXMucmVxdWVzdC5wYXJhbXMpPT1udWxsP3ZvaWQgMDppWzBdXSkpfSk7aWYoIWEub2spdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gZmV0Y2ggdXNlciBvcGVyYXRpb24gcmVjZWlwdCAtICR7YS5zdGF0dXN9YCk7cmV0dXJuIGF3YWl0IGEuanNvbigpfWdldEJ1bmRsZXJVcmwoZSxzKXtyZXR1cm5gJHtsdH0/cHJvamVjdElkPSR7dGhpcy5jbGllbnQuY29yZS5wcm9qZWN0SWR9JmNoYWluSWQ9JHtlfSZidW5kbGVyPSR7c31gfWFzeW5jIHNlbmRDYWxscyhlKXt2YXIgcyxpLHI7Y29uc3QgYT1hd2FpdCB0aGlzLmNsaWVudC5yZXF1ZXN0KGUpLG49KHM9ZS5yZXF1ZXN0LnBhcmFtcyk9PW51bGw/dm9pZCAwOnNbMF0sYz1hPy5pZCxvPWE/LmNhcGFiaWxpdGllc3x8e30scD0oaT1vPy5jYWlwMzQ1KT09bnVsbD92b2lkIDA6aS5jYWlwMixsPShyPW8/LmNhaXAzNDUpPT1udWxsP3ZvaWQgMDpyLnRyYW5zYWN0aW9uSGFzaGVzO3JldHVybiFjfHwhcHx8IShsIT1udWxsJiZsLmxlbmd0aCl8fGF3YWl0IE10KHtzZW5kQ2FsbHM6e3JlcXVlc3Q6bixyZXN1bHQ6YX0sc3RvcmFnZTp0aGlzLnN0b3JhZ2V9KSxhfX12YXIga3Q9T2JqZWN0LmRlZmluZVByb3BlcnR5LFF0PSh0LGUscyk9PmUgaW4gdD9rdCh0LGUse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnN9KTp0W2VdPXMsYj0odCxlLHMpPT5RdCh0LHR5cGVvZiBlIT1cInN5bWJvbFwiP2UrXCJcIjplLHMpO2NsYXNzIFp0e2NvbnN0cnVjdG9yKGUpe2IodGhpcyxcIm5hbWVcIixwZSksYih0aGlzLFwiY2xpZW50XCIpLGIodGhpcyxcImh0dHBQcm92aWRlcnNcIiksYih0aGlzLFwiZXZlbnRzXCIpLGIodGhpcyxcIm5hbWVzcGFjZVwiKSxiKHRoaXMsXCJjaGFpbklkXCIpLHRoaXMubmFtZXNwYWNlPWUubmFtZXNwYWNlLHRoaXMuZXZlbnRzPXcoXCJldmVudHNcIiksdGhpcy5jbGllbnQ9dyhcImNsaWVudFwiKSx0aGlzLmNoYWluSWQ9dGhpcy5nZXREZWZhdWx0Q2hhaW4oKSx0aGlzLm5hbWU9dGhpcy5nZXROYW1lc3BhY2VOYW1lKCksdGhpcy5odHRwUHJvdmlkZXJzPXRoaXMuY3JlYXRlSHR0cFByb3ZpZGVycygpfXVwZGF0ZU5hbWVzcGFjZShlKXt0aGlzLm5hbWVzcGFjZS5jaGFpbnM9Wy4uLm5ldyBTZXQoKHRoaXMubmFtZXNwYWNlLmNoYWluc3x8W10pLmNvbmNhdChlLmNoYWluc3x8W10pKV0sdGhpcy5uYW1lc3BhY2UuYWNjb3VudHM9Wy4uLm5ldyBTZXQoKHRoaXMubmFtZXNwYWNlLmFjY291bnRzfHxbXSkuY29uY2F0KGUuYWNjb3VudHN8fFtdKSldLHRoaXMubmFtZXNwYWNlLm1ldGhvZHM9Wy4uLm5ldyBTZXQoKHRoaXMubmFtZXNwYWNlLm1ldGhvZHN8fFtdKS5jb25jYXQoZS5tZXRob2RzfHxbXSkpXSx0aGlzLm5hbWVzcGFjZS5ldmVudHM9Wy4uLm5ldyBTZXQoKHRoaXMubmFtZXNwYWNlLmV2ZW50c3x8W10pLmNvbmNhdChlLmV2ZW50c3x8W10pKV0sdGhpcy5odHRwUHJvdmlkZXJzPXRoaXMuY3JlYXRlSHR0cFByb3ZpZGVycygpfXJlcXVlc3RBY2NvdW50cygpe3JldHVybiB0aGlzLmdldEFjY291bnRzKCl9cmVxdWVzdChlKXtyZXR1cm4gdGhpcy5uYW1lc3BhY2UubWV0aG9kcy5pbmNsdWRlcyhlLnJlcXVlc3QubWV0aG9kKT90aGlzLmNsaWVudC5yZXF1ZXN0KGUpOnRoaXMuZ2V0SHR0cFByb3ZpZGVyKGUuY2hhaW5JZCkucmVxdWVzdChlLnJlcXVlc3QpfXNldERlZmF1bHRDaGFpbihlLHMpe3RoaXMuaHR0cFByb3ZpZGVyc1tlXXx8dGhpcy5zZXRIdHRwUHJvdmlkZXIoZSxzKTtjb25zdCBpPXRoaXMuY2hhaW5JZDt0aGlzLmNoYWluSWQ9ZSx0aGlzLmV2ZW50cy5lbWl0KEYuREVGQVVMVF9DSEFJTl9DSEFOR0VELHtjdXJyZW50Q2FpcENoYWluSWQ6YCR7dGhpcy5uYW1lfToke2V9YCxwcmV2aW91c0NhaXBDaGFpbklkOmAke3RoaXMubmFtZX06JHtpfWB9KX1nZXREZWZhdWx0Q2hhaW4oKXtpZih0aGlzLmNoYWluSWQpcmV0dXJuIHRoaXMuY2hhaW5JZDtpZih0aGlzLm5hbWVzcGFjZS5kZWZhdWx0Q2hhaW4pcmV0dXJuIHRoaXMubmFtZXNwYWNlLmRlZmF1bHRDaGFpbjtjb25zdCBlPXRoaXMubmFtZXNwYWNlLmNoYWluc1swXTtpZighZSl0aHJvdyBuZXcgRXJyb3IoXCJDaGFpbklkIG5vdCBmb3VuZFwiKTtyZXR1cm4gZS5zcGxpdChcIjpcIilbMV19Z2V0TmFtZXNwYWNlTmFtZSgpe2NvbnN0IGU9dGhpcy5uYW1lc3BhY2UuY2hhaW5zWzBdO2lmKCFlKXRocm93IG5ldyBFcnJvcihcIkNoYWluSWQgbm90IGZvdW5kXCIpO3JldHVybiBJKGUpLm5hbWVzcGFjZX1nZXRBY2NvdW50cygpe2NvbnN0IGU9dGhpcy5uYW1lc3BhY2UuYWNjb3VudHM7cmV0dXJuIGU/Wy4uLm5ldyBTZXQoZS5maWx0ZXIocz0+cy5zcGxpdChcIjpcIilbMV09PT10aGlzLmNoYWluSWQudG9TdHJpbmcoKSkubWFwKHM9PnMuc3BsaXQoXCI6XCIpWzJdKSldOltdfWNyZWF0ZUh0dHBQcm92aWRlcnMoKXt2YXIgZSxzO2NvbnN0IGk9e307cmV0dXJuKHM9KGU9dGhpcy5uYW1lc3BhY2UpPT1udWxsP3ZvaWQgMDplLmFjY291bnRzKT09bnVsbHx8cy5mb3JFYWNoKHI9Pnt2YXIgYSxuO2NvbnN0IGM9SShyKSxvPShuPShhPXRoaXMubmFtZXNwYWNlKT09bnVsbD92b2lkIDA6YS5ycGNNYXApPT1udWxsP3ZvaWQgMDpuW2Ake2MubmFtZXNwYWNlfToke2MucmVmZXJlbmNlfWBdO2lbYy5yZWZlcmVuY2VdPXRoaXMuY3JlYXRlSHR0cFByb3ZpZGVyKHIsbyl9KSxpfWdldEh0dHBQcm92aWRlcihlKXtjb25zdCBzPUkoZSkucmVmZXJlbmNlLGk9dGhpcy5odHRwUHJvdmlkZXJzW3NdO2lmKHR5cGVvZiBpPlwidVwiKXRocm93IG5ldyBFcnJvcihgSlNPTi1SUEMgcHJvdmlkZXIgZm9yICR7ZX0gbm90IGZvdW5kYCk7cmV0dXJuIGl9c2V0SHR0cFByb3ZpZGVyKGUscyl7Y29uc3QgaT10aGlzLmNyZWF0ZUh0dHBQcm92aWRlcihlLHMpO2kmJih0aGlzLmh0dHBQcm92aWRlcnNbZV09aSl9Y3JlYXRlSHR0cFByb3ZpZGVyKGUscyl7Y29uc3QgaT1zfHxkZShlLHRoaXMubmFtZXNwYWNlLHRoaXMuY2xpZW50LmNvcmUucHJvamVjdElkKTtpZighaSl0aHJvdyBuZXcgRXJyb3IoYE5vIFJQQyB1cmwgcHJvdmlkZWQgZm9yIGNoYWluSWQ6ICR7ZX1gKTtyZXR1cm4gbmV3IFEobmV3IFJlKGksdyhcImRpc2FibGVQcm92aWRlclBpbmdcIikpKX19dmFyIFR0PU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxlcz1PYmplY3QuZGVmaW5lUHJvcGVydGllcyx0cz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyxDZT1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzLHNzPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksaXM9T2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZSxXPSh0LGUscyk9PmUgaW4gdD9UdCh0LGUse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnN9KTp0W2VdPXMsUz0odCxlKT0+e2Zvcih2YXIgcyBpbiBlfHwoZT17fSkpc3MuY2FsbChlLHMpJiZXKHQscyxlW3NdKTtpZihDZSlmb3IodmFyIHMgb2YgQ2UoZSkpaXMuY2FsbChlLHMpJiZXKHQscyxlW3NdKTtyZXR1cm4gdH0saj0odCxlKT0+ZXModCx0cyhlKSksZD0odCxlLHMpPT5XKHQsdHlwZW9mIGUhPVwic3ltYm9sXCI/ZStcIlwiOmUscyk7Y2xhc3MgTntjb25zdHJ1Y3RvcihlKXtkKHRoaXMsXCJjbGllbnRcIiksZCh0aGlzLFwibmFtZXNwYWNlc1wiKSxkKHRoaXMsXCJvcHRpb25hbE5hbWVzcGFjZXNcIiksZCh0aGlzLFwic2Vzc2lvblByb3BlcnRpZXNcIiksZCh0aGlzLFwic2NvcGVkUHJvcGVydGllc1wiKSxkKHRoaXMsXCJldmVudHNcIixuZXcgeGUpLGQodGhpcyxcInJwY1Byb3ZpZGVyc1wiLHt9KSxkKHRoaXMsXCJzZXNzaW9uXCIpLGQodGhpcyxcInByb3ZpZGVyT3B0c1wiKSxkKHRoaXMsXCJsb2dnZXJcIiksZCh0aGlzLFwidXJpXCIpLGQodGhpcyxcImRpc2FibGVQcm92aWRlclBpbmdcIiwhMSksZCh0aGlzLFwiY29ubmVjdFBhcmFtc1wiKTt2YXIgcyxpO3RoaXMucHJvdmlkZXJPcHRzPWUsdGhpcy5sb2dnZXI9cWUoe2xvZ2dlcjoocz1lLmxvZ2dlcikhPW51bGw/czpjZSxuYW1lOihpPXRoaXMucHJvdmlkZXJPcHRzLm5hbWUpIT1udWxsP2k6b2V9KSx0aGlzLmRpc2FibGVQcm92aWRlclBpbmc9ZT8uZGlzYWJsZVByb3ZpZGVyUGluZ3x8ITF9c3RhdGljIGFzeW5jIGluaXQoZSl7Y29uc3Qgcz1uZXcgTihlKTtyZXR1cm4gYXdhaXQgcy5pbml0aWFsaXplKCksc31hc3luYyByZXF1ZXN0KGUscyxpKXtjb25zdFtyLGFdPXRoaXMudmFsaWRhdGVDaGFpbihzKTtpZighdGhpcy5zZXNzaW9uKXRocm93IG5ldyBFcnJvcihcIlBsZWFzZSBjYWxsIGNvbm5lY3QoKSBiZWZvcmUgcmVxdWVzdCgpXCIpO3JldHVybiBhd2FpdCB0aGlzLmdldFByb3ZpZGVyKHIpLnJlcXVlc3Qoe3JlcXVlc3Q6Uyh7fSxlKSxjaGFpbklkOmAke3J9OiR7YX1gLHRvcGljOnRoaXMuc2Vzc2lvbi50b3BpYyxleHBpcnk6aX0pfXNlbmRBc3luYyhlLHMsaSxyKXtjb25zdCBhPW5ldyBEYXRlKCkuZ2V0VGltZSgpO3RoaXMucmVxdWVzdChlLGkscikudGhlbihuPT5zKG51bGwsRGUoYSxuKSkpLmNhdGNoKG49PnMobix2b2lkIDApKX1hc3luYyBlbmFibGUoKXtpZighdGhpcy5jbGllbnQpdGhyb3cgbmV3IEVycm9yKFwiU2lnbiBDbGllbnQgbm90IGluaXRpYWxpemVkXCIpO3JldHVybiB0aGlzLnNlc3Npb258fGF3YWl0IHRoaXMuY29ubmVjdCh7bmFtZXNwYWNlczp0aGlzLm5hbWVzcGFjZXMsb3B0aW9uYWxOYW1lc3BhY2VzOnRoaXMub3B0aW9uYWxOYW1lc3BhY2VzLHNlc3Npb25Qcm9wZXJ0aWVzOnRoaXMuc2Vzc2lvblByb3BlcnRpZXMsc2NvcGVkUHJvcGVydGllczp0aGlzLnNjb3BlZFByb3BlcnRpZXN9KSxhd2FpdCB0aGlzLnJlcXVlc3RBY2NvdW50cygpfWFzeW5jIGRpc2Nvbm5lY3QoKXt2YXIgZTtpZighdGhpcy5zZXNzaW9uKXRocm93IG5ldyBFcnJvcihcIlBsZWFzZSBjYWxsIGNvbm5lY3QoKSBiZWZvcmUgZW5hYmxlKClcIik7YXdhaXQgdGhpcy5jbGllbnQuZGlzY29ubmVjdCh7dG9waWM6KGU9dGhpcy5zZXNzaW9uKT09bnVsbD92b2lkIDA6ZS50b3BpYyxyZWFzb246WChcIlVTRVJfRElTQ09OTkVDVEVEXCIpfSksYXdhaXQgdGhpcy5jbGVhbnVwKCl9YXN5bmMgY29ubmVjdChlKXtpZighdGhpcy5jbGllbnQpdGhyb3cgbmV3IEVycm9yKFwiU2lnbiBDbGllbnQgbm90IGluaXRpYWxpemVkXCIpO2lmKHRoaXMuY29ubmVjdFBhcmFtcz1lLHRoaXMuc2V0TmFtZXNwYWNlcyhlKSx0aGlzLmNsZWFudXBQZW5kaW5nUGFpcmluZ3MoKSwhZS5za2lwUGFpcmluZylyZXR1cm4gYXdhaXQgdGhpcy5wYWlyKGUucGFpcmluZ1RvcGljKX1hc3luYyBhdXRoZW50aWNhdGUoZSxzKXtpZighdGhpcy5jbGllbnQpdGhyb3cgbmV3IEVycm9yKFwiU2lnbiBDbGllbnQgbm90IGluaXRpYWxpemVkXCIpO3RoaXMuc2V0TmFtZXNwYWNlcyhlKSxhd2FpdCB0aGlzLmNsZWFudXBQZW5kaW5nUGFpcmluZ3MoKTtjb25zdHt1cmk6aSxyZXNwb25zZTpyfT1hd2FpdCB0aGlzLmNsaWVudC5hdXRoZW50aWNhdGUoZSxzKTtpJiYodGhpcy51cmk9aSx0aGlzLmV2ZW50cy5lbWl0KFwiZGlzcGxheV91cmlcIixpKSk7Y29uc3QgYT1hd2FpdCByKCk7aWYodGhpcy5zZXNzaW9uPWEuc2Vzc2lvbix0aGlzLnNlc3Npb24pe2NvbnN0IG49dmUodGhpcy5zZXNzaW9uLm5hbWVzcGFjZXMpO3RoaXMubmFtZXNwYWNlcz1DKHRoaXMubmFtZXNwYWNlcyxuKSxhd2FpdCB0aGlzLnBlcnNpc3QoXCJuYW1lc3BhY2VzXCIsdGhpcy5uYW1lc3BhY2VzKSx0aGlzLm9uQ29ubmVjdCgpfXJldHVybiBhfW9uKGUscyl7dGhpcy5ldmVudHMub24oZSxzKX1vbmNlKGUscyl7dGhpcy5ldmVudHMub25jZShlLHMpfXJlbW92ZUxpc3RlbmVyKGUscyl7dGhpcy5ldmVudHMucmVtb3ZlTGlzdGVuZXIoZSxzKX1vZmYoZSxzKXt0aGlzLmV2ZW50cy5vZmYoZSxzKX1nZXQgaXNXYWxsZXRDb25uZWN0KCl7cmV0dXJuITB9YXN5bmMgcGFpcihlKXt2YXIgcyxpO2NvbnN0e3VyaTpyLGFwcHJvdmFsOmF9PWF3YWl0IHRoaXMuY2xpZW50LmNvbm5lY3Qoe3BhaXJpbmdUb3BpYzplLHJlcXVpcmVkTmFtZXNwYWNlczp0aGlzLm5hbWVzcGFjZXMsb3B0aW9uYWxOYW1lc3BhY2VzOnRoaXMub3B0aW9uYWxOYW1lc3BhY2VzLHNlc3Npb25Qcm9wZXJ0aWVzOnRoaXMuc2Vzc2lvblByb3BlcnRpZXMsc2NvcGVkUHJvcGVydGllczp0aGlzLnNjb3BlZFByb3BlcnRpZXMsYXV0aGVudGljYXRpb246KHM9dGhpcy5jb25uZWN0UGFyYW1zKT09bnVsbD92b2lkIDA6cy5hdXRoZW50aWNhdGlvbix3YWxsZXRQYXk6KGk9dGhpcy5jb25uZWN0UGFyYW1zKT09bnVsbD92b2lkIDA6aS53YWxsZXRQYXl9KTtyJiYodGhpcy51cmk9cix0aGlzLmV2ZW50cy5lbWl0KFwiZGlzcGxheV91cmlcIixyKSk7Y29uc3Qgbj1hd2FpdCBhKCk7dGhpcy5zZXNzaW9uPW47Y29uc3QgYz12ZShuLm5hbWVzcGFjZXMpO3JldHVybiB0aGlzLm5hbWVzcGFjZXM9Qyh0aGlzLm5hbWVzcGFjZXMsYyksYXdhaXQgdGhpcy5wZXJzaXN0KFwibmFtZXNwYWNlc1wiLHRoaXMubmFtZXNwYWNlcyksYXdhaXQgdGhpcy5wZXJzaXN0KFwib3B0aW9uYWxOYW1lc3BhY2VzXCIsdGhpcy5vcHRpb25hbE5hbWVzcGFjZXMpLHRoaXMub25Db25uZWN0KCksdGhpcy5zZXNzaW9ufXNldERlZmF1bHRDaGFpbihlLHMpe3RyeXtpZighdGhpcy5zZXNzaW9uKXJldHVybjtjb25zdFtpLHJdPXRoaXMudmFsaWRhdGVDaGFpbihlKTt0aGlzLmdldFByb3ZpZGVyKGkpLnNldERlZmF1bHRDaGFpbihyLHMpfWNhdGNoKGkpe2lmKCEvUGxlYXNlIGNhbGwgY29ubmVjdC8udGVzdChpLm1lc3NhZ2UpKXRocm93IGl9fWFzeW5jIGNsZWFudXBQZW5kaW5nUGFpcmluZ3MoZT17fSl7dHJ5e3RoaXMubG9nZ2VyLmluZm8oXCJDbGVhbmluZyB1cCBpbmFjdGl2ZSBwYWlyaW5ncy4uLlwiKTtjb25zdCBzPXRoaXMuY2xpZW50LnBhaXJpbmcuZ2V0QWxsKCk7aWYoIVIocykpcmV0dXJuO2Zvcihjb25zdCBpIG9mIHMpZS5kZWxldGVQYWlyaW5ncz90aGlzLmNsaWVudC5jb3JlLmV4cGlyZXIuc2V0KGkudG9waWMsMCk6YXdhaXQgdGhpcy5jbGllbnQuY29yZS5yZWxheWVyLnN1YnNjcmliZXIudW5zdWJzY3JpYmUoaS50b3BpYyk7dGhpcy5sb2dnZXIuaW5mbyhgSW5hY3RpdmUgcGFpcmluZ3MgY2xlYXJlZDogJHtzLmxlbmd0aH1gKX1jYXRjaChzKXt0aGlzLmxvZ2dlci53YXJuKHMsXCJGYWlsZWQgdG8gY2xlYW51cCBwZW5kaW5nIHBhaXJpbmdzXCIpfX1hYm9ydFBhaXJpbmdBdHRlbXB0KCl7dGhpcy5sb2dnZXIud2FybihcImFib3J0UGFpcmluZ0F0dGVtcHQgaXMgZGVwcmVjYXRlZC4gVGhpcyBpcyBub3cgYSBuby1vcC5cIil9YXN5bmMgY2hlY2tTdG9yYWdlKCl7dGhpcy5uYW1lc3BhY2VzPWF3YWl0IHRoaXMuZ2V0RnJvbVN0b3JlKFwibmFtZXNwYWNlc1wiKXx8e30sdGhpcy5vcHRpb25hbE5hbWVzcGFjZXM9YXdhaXQgdGhpcy5nZXRGcm9tU3RvcmUoXCJvcHRpb25hbE5hbWVzcGFjZXNcIil8fHt9LHRoaXMuc2Vzc2lvbiYmdGhpcy5jcmVhdGVQcm92aWRlcnMoKX1hc3luYyBpbml0aWFsaXplKCl7dGhpcy5sb2dnZXIudHJhY2UoXCJJbml0aWFsaXplZFwiKSxhd2FpdCB0aGlzLmNyZWF0ZUNsaWVudCgpLGF3YWl0IHRoaXMuY2hlY2tTdG9yYWdlKCksdGhpcy5yZWdpc3RlckV2ZW50TGlzdGVuZXJzKCl9YXN5bmMgY3JlYXRlQ2xpZW50KCl7dmFyIGUscztpZih0aGlzLmNsaWVudD10aGlzLnByb3ZpZGVyT3B0cy5jbGllbnR8fGF3YWl0IGplLmluaXQoe2NvcmU6dGhpcy5wcm92aWRlck9wdHMuY29yZSxsb2dnZXI6dGhpcy5wcm92aWRlck9wdHMubG9nZ2VyfHxjZSxyZWxheVVybDp0aGlzLnByb3ZpZGVyT3B0cy5yZWxheVVybHx8aHQscHJvamVjdElkOnRoaXMucHJvdmlkZXJPcHRzLnByb2plY3RJZCxtZXRhZGF0YTp0aGlzLnByb3ZpZGVyT3B0cy5tZXRhZGF0YSxzdG9yYWdlT3B0aW9uczp0aGlzLnByb3ZpZGVyT3B0cy5zdG9yYWdlT3B0aW9ucyxzdG9yYWdlOnRoaXMucHJvdmlkZXJPcHRzLnN0b3JhZ2UsbmFtZTp0aGlzLnByb3ZpZGVyT3B0cy5uYW1lLGN1c3RvbVN0b3JhZ2VQcmVmaXg6dGhpcy5wcm92aWRlck9wdHMuY3VzdG9tU3RvcmFnZVByZWZpeCx0ZWxlbWV0cnlFbmFibGVkOnRoaXMucHJvdmlkZXJPcHRzLnRlbGVtZXRyeUVuYWJsZWR9KSx0aGlzLnByb3ZpZGVyT3B0cy5zZXNzaW9uKXRyeXt0aGlzLnNlc3Npb249dGhpcy5jbGllbnQuc2Vzc2lvbi5nZXQodGhpcy5wcm92aWRlck9wdHMuc2Vzc2lvbi50b3BpYyl9Y2F0Y2goaSl7dGhyb3cgdGhpcy5sb2dnZXIuZXJyb3IoaSxcIkZhaWxlZCB0byBnZXQgc2Vzc2lvblwiKSxuZXcgRXJyb3IoYFRoZSBwcm92aWRlZCBzZXNzaW9uOiAkeyhzPShlPXRoaXMucHJvdmlkZXJPcHRzKT09bnVsbD92b2lkIDA6ZS5zZXNzaW9uKT09bnVsbD92b2lkIDA6cy50b3BpY30gZG9lc24ndCBleGlzdCBpbiB0aGUgU2lnbiBjbGllbnRgKX1lbHNle2NvbnN0IGk9dGhpcy5jbGllbnQuc2Vzc2lvbi5nZXRBbGwoKTt0aGlzLnNlc3Npb249aVswXX10aGlzLmxvZ2dlci50cmFjZShcIlNpZ25DbGllbnQgSW5pdGlhbGl6ZWRcIil9Y3JlYXRlUHJvdmlkZXJzKCl7aWYoIXRoaXMuY2xpZW50KXRocm93IG5ldyBFcnJvcihcIlNpZ24gQ2xpZW50IG5vdCBpbml0aWFsaXplZFwiKTtpZighdGhpcy5zZXNzaW9uKXRocm93IG5ldyBFcnJvcihcIlNlc3Npb24gbm90IGluaXRpYWxpemVkLiBQbGVhc2UgY2FsbCBjb25uZWN0KCkgYmVmb3JlIGVuYWJsZSgpXCIpO2NvbnN0IGU9Wy4uLm5ldyBTZXQoT2JqZWN0LmtleXModGhpcy5zZXNzaW9uLm5hbWVzcGFjZXMpLm1hcChzPT5PKHMpKSldO1UoXCJjbGllbnRcIix0aGlzLmNsaWVudCksVShcImV2ZW50c1wiLHRoaXMuZXZlbnRzKSxVKFwiZGlzYWJsZVByb3ZpZGVyUGluZ1wiLHRoaXMuZGlzYWJsZVByb3ZpZGVyUGluZyksZS5mb3JFYWNoKHM9PntpZighdGhpcy5zZXNzaW9uKXJldHVybjtjb25zdCBpPWJ0KHMsdGhpcy5zZXNzaW9uKTtpZihpPy5sZW5ndGg9PT0wKXJldHVybjtjb25zdCByPWZlKGkpLGE9Qyh0aGlzLm5hbWVzcGFjZXMsdGhpcy5vcHRpb25hbE5hbWVzcGFjZXMpLG49aihTKHt9LGFbc10pLHthY2NvdW50czppLGNoYWluczpyfSk7c3dpdGNoKHMpe2Nhc2VcImVpcDE1NVwiOnRoaXMucnBjUHJvdmlkZXJzW3NdPW5ldyBYdCh7bmFtZXNwYWNlOm59KTticmVhaztkZWZhdWx0OnRoaXMucnBjUHJvdmlkZXJzW3NdPW5ldyBadCh7bmFtZXNwYWNlOm59KX19KX1yZWdpc3RlckV2ZW50TGlzdGVuZXJzKCl7aWYodHlwZW9mIHRoaXMuY2xpZW50PlwidVwiKXRocm93IG5ldyBFcnJvcihcIlNpZ24gQ2xpZW50IGlzIG5vdCBpbml0aWFsaXplZFwiKTt0aGlzLmNsaWVudC5vbihcInNlc3Npb25fcGluZ1wiLGU9Pnt2YXIgcztjb25zdHt0b3BpYzppfT1lO2k9PT0oKHM9dGhpcy5zZXNzaW9uKT09bnVsbD92b2lkIDA6cy50b3BpYykmJnRoaXMuZXZlbnRzLmVtaXQoXCJzZXNzaW9uX3BpbmdcIixlKX0pLHRoaXMuY2xpZW50Lm9uKFwic2Vzc2lvbl9ldmVudFwiLGU9Pnt2YXIgcztjb25zdHtwYXJhbXM6aSx0b3BpYzpyfT1lO2lmKHIhPT0oKHM9dGhpcy5zZXNzaW9uKT09bnVsbD92b2lkIDA6cy50b3BpYykpcmV0dXJuO2NvbnN0e2V2ZW50OmF9PWk7aWYoYS5uYW1lPT09XCJhY2NvdW50c0NoYW5nZWRcIil7Y29uc3Qgbj1hLmRhdGE7biYmUihuKSYmdGhpcy5ldmVudHMuZW1pdChcImFjY291bnRzQ2hhbmdlZFwiLG4ubWFwKHllKSl9ZWxzZSBpZihhLm5hbWU9PT1cImNoYWluQ2hhbmdlZFwiKXtjb25zdCBuPWkuY2hhaW5JZCxjPWkuZXZlbnQuZGF0YSxvPU8obikscD1IKG4pIT09SChjKT9gJHtvfToke0goYyl9YDpuO3RoaXMub25DaGFpbkNoYW5nZWQoe2N1cnJlbnRDYWlwQ2hhaW5JZDpwfSl9ZWxzZSB0aGlzLmV2ZW50cy5lbWl0KGEubmFtZSxhLmRhdGEpO3RoaXMuZXZlbnRzLmVtaXQoXCJzZXNzaW9uX2V2ZW50XCIsZSl9KSx0aGlzLmNsaWVudC5vbihcInNlc3Npb25fdXBkYXRlXCIsKHt0b3BpYzplLHBhcmFtczpzfSk9Pnt2YXIgaSxyO2lmKGUhPT0oKGk9dGhpcy5zZXNzaW9uKT09bnVsbD92b2lkIDA6aS50b3BpYykpcmV0dXJuO2NvbnN0e25hbWVzcGFjZXM6YX09cyxuPShyPXRoaXMuY2xpZW50KT09bnVsbD92b2lkIDA6ci5zZXNzaW9uLmdldChlKTt0aGlzLnNlc3Npb249aihTKHt9LG4pLHtuYW1lc3BhY2VzOmF9KSx0aGlzLm9uU2Vzc2lvblVwZGF0ZSgpLHRoaXMuZXZlbnRzLmVtaXQoXCJzZXNzaW9uX3VwZGF0ZVwiLHt0b3BpYzplLHBhcmFtczpzfSl9KSx0aGlzLmNsaWVudC5vbihcInNlc3Npb25fZGVsZXRlXCIsYXN5bmMgZT0+e3ZhciBzO2UudG9waWM9PT0oKHM9dGhpcy5zZXNzaW9uKT09bnVsbD92b2lkIDA6cy50b3BpYykmJihhd2FpdCB0aGlzLmNsZWFudXAoKSx0aGlzLmV2ZW50cy5lbWl0KFwic2Vzc2lvbl9kZWxldGVcIixlKSx0aGlzLmV2ZW50cy5lbWl0KFwiZGlzY29ubmVjdFwiLGooUyh7fSxYKFwiVVNFUl9ESVNDT05ORUNURURcIikpLHtkYXRhOmUudG9waWN9KSkpfSksdGhpcy5vbihGLkRFRkFVTFRfQ0hBSU5fQ0hBTkdFRCxlPT57dGhpcy5vbkNoYWluQ2hhbmdlZChqKFMoe30sZSkse2ludGVybmFsOiEwfSkpfSl9Z2V0UHJvdmlkZXIoZSl7cmV0dXJuIHRoaXMucnBjUHJvdmlkZXJzW2VdfHx0aGlzLnJwY1Byb3ZpZGVyc1twZV19b25TZXNzaW9uVXBkYXRlKCl7T2JqZWN0LmtleXModGhpcy5ycGNQcm92aWRlcnMpLmZvckVhY2goZT0+e3ZhciBzO3RoaXMuZ2V0UHJvdmlkZXIoZSkudXBkYXRlTmFtZXNwYWNlKChzPXRoaXMuc2Vzc2lvbik9PW51bGw/dm9pZCAwOnMubmFtZXNwYWNlc1tlXSl9KX1zZXROYW1lc3BhY2VzKGUpe2NvbnN0e25hbWVzcGFjZXM6cz17fSxvcHRpb25hbE5hbWVzcGFjZXM6aT17fSxzZXNzaW9uUHJvcGVydGllczpyLHNjb3BlZFByb3BlcnRpZXM6YX09ZTt0aGlzLm9wdGlvbmFsTmFtZXNwYWNlcz1DKHMsaSksdGhpcy5zZXNzaW9uUHJvcGVydGllcz1yLHRoaXMuc2NvcGVkUHJvcGVydGllcz1hfXZhbGlkYXRlQ2hhaW4oZSl7Y29uc3RbcyxpXT1lPy5zcGxpdChcIjpcIil8fFtcIlwiLFwiXCJdO2lmKCF0aGlzLm5hbWVzcGFjZXN8fCFPYmplY3Qua2V5cyh0aGlzLm5hbWVzcGFjZXMpLmxlbmd0aClyZXR1cm5bcyxpXTtpZihzJiYhT2JqZWN0LmtleXModGhpcy5uYW1lc3BhY2VzfHx7fSkubWFwKG49Pk8obikpLmluY2x1ZGVzKHMpKXRocm93IG5ldyBFcnJvcihgTmFtZXNwYWNlICcke3N9JyBpcyBub3QgY29uZmlndXJlZC4gUGxlYXNlIGNhbGwgY29ubmVjdCgpIGZpcnN0IHdpdGggbmFtZXNwYWNlIGNvbmZpZy5gKTtpZihzJiZpKXJldHVybltzLGldO2NvbnN0IHI9TyhPYmplY3Qua2V5cyh0aGlzLm5hbWVzcGFjZXMpWzBdKSxhPXRoaXMucnBjUHJvdmlkZXJzW3JdLmdldERlZmF1bHRDaGFpbigpO3JldHVybltyLGFdfWFzeW5jIHJlcXVlc3RBY2NvdW50cygpe2NvbnN0W2VdPXRoaXMudmFsaWRhdGVDaGFpbigpO3JldHVybiBhd2FpdCB0aGlzLmdldFByb3ZpZGVyKGUpLnJlcXVlc3RBY2NvdW50cygpfWFzeW5jIG9uQ2hhaW5DaGFuZ2VkKHtjdXJyZW50Q2FpcENoYWluSWQ6ZSxwcmV2aW91c0NhaXBDaGFpbklkOnMsaW50ZXJuYWw6aT0hMX0pe2lmKCF0aGlzLm5hbWVzcGFjZXMpcmV0dXJuO2NvbnN0W3IsYV09dGhpcy52YWxpZGF0ZUNoYWluKGUpO2EmJih0aGlzLnVwZGF0ZU5hbWVzcGFjZUNoYWluKHIsYSksaT8odGhpcy5ldmVudHMuZW1pdChcImNoYWluQ2hhbmdlZFwiLGEpLHRoaXMuZW1pdEFjY291bnRzQ2hhbmdlZE9uQ2hhaW5DaGFuZ2Uoe25hbWVzcGFjZTpyLGN1cnJlbnRDYWlwQ2hhaW5JZDplLHByZXZpb3VzQ2FpcENoYWluSWQ6c30pKTp0aGlzLmdldFByb3ZpZGVyKHIpLnNldERlZmF1bHRDaGFpbihhKSxhd2FpdCB0aGlzLnBlcnNpc3QoXCJuYW1lc3BhY2VzXCIsdGhpcy5uYW1lc3BhY2VzKSl9ZW1pdEFjY291bnRzQ2hhbmdlZE9uQ2hhaW5DaGFuZ2Uoe25hbWVzcGFjZTplLGN1cnJlbnRDYWlwQ2hhaW5JZDpzLHByZXZpb3VzQ2FpcENoYWluSWQ6aX0pe3ZhciByLGE7dHJ5e2lmKGk9PT1zKXJldHVybjtjb25zdCBuPShhPShyPXRoaXMuc2Vzc2lvbik9PW51bGw/dm9pZCAwOnIubmFtZXNwYWNlc1tlXSk9PW51bGw/dm9pZCAwOmEuYWNjb3VudHM7aWYoIW4pcmV0dXJuO2NvbnN0IGM9bi5maWx0ZXIobz0+by5pbmNsdWRlcyhgJHtzfTpgKSkubWFwKHllKTtpZighUihjKSlyZXR1cm47dGhpcy5ldmVudHMuZW1pdChcImFjY291bnRzQ2hhbmdlZFwiLGMpfWNhdGNoKG4pe3RoaXMubG9nZ2VyLndhcm4obixcIkZhaWxlZCB0byBlbWl0IGFjY291bnRzQ2hhbmdlZCBvbiBjaGFpbiBjaGFuZ2VcIil9fXVwZGF0ZU5hbWVzcGFjZUNoYWluKGUscyl7aWYoIXRoaXMubmFtZXNwYWNlcylyZXR1cm47Y29uc3QgaT10aGlzLm5hbWVzcGFjZXNbZV0/ZTpgJHtlfToke3N9YCxyPXtjaGFpbnM6W10sbWV0aG9kczpbXSxldmVudHM6W10sZGVmYXVsdENoYWluOnN9O3RoaXMubmFtZXNwYWNlc1tpXT90aGlzLm5hbWVzcGFjZXNbaV0mJih0aGlzLm5hbWVzcGFjZXNbaV0uZGVmYXVsdENoYWluPXMpOnRoaXMubmFtZXNwYWNlc1tpXT1yfW9uQ29ubmVjdCgpe3RoaXMuY3JlYXRlUHJvdmlkZXJzKCksdGhpcy5ldmVudHMuZW1pdChcImNvbm5lY3RcIix7c2Vzc2lvbjp0aGlzLnNlc3Npb259KX1hc3luYyBjbGVhbnVwKCl7dGhpcy5jb25uZWN0UGFyYW1zPXZvaWQgMCx0aGlzLm5hbWVzcGFjZXM9dm9pZCAwLHRoaXMub3B0aW9uYWxOYW1lc3BhY2VzPXZvaWQgMCx0aGlzLnNlc3Npb25Qcm9wZXJ0aWVzPXZvaWQgMCxhd2FpdCB0aGlzLmRlbGV0ZUZyb21TdG9yZShcIm5hbWVzcGFjZXNcIiksYXdhaXQgdGhpcy5kZWxldGVGcm9tU3RvcmUoXCJvcHRpb25hbE5hbWVzcGFjZXNcIiksYXdhaXQgdGhpcy5kZWxldGVGcm9tU3RvcmUoXCJzZXNzaW9uUHJvcGVydGllc1wiKSx0aGlzLnNlc3Npb249dm9pZCAwLHRoaXMuY2xlYW51cFBlbmRpbmdQYWlyaW5ncyh7ZGVsZXRlUGFpcmluZ3M6ITB9KSxhd2FpdCB0aGlzLmNsZWFudXBTdG9yYWdlKCl9YXN5bmMgcGVyc2lzdChlLHMpe3ZhciBpO2NvbnN0IHI9KChpPXRoaXMuc2Vzc2lvbik9PW51bGw/dm9pZCAwOmkudG9waWMpfHxcIlwiO2F3YWl0IHRoaXMuY2xpZW50LmNvcmUuc3RvcmFnZS5zZXRJdGVtKGAke0F9LyR7ZX0ke3J9YCxzKX1hc3luYyBnZXRGcm9tU3RvcmUoZSl7dmFyIHM7Y29uc3QgaT0oKHM9dGhpcy5zZXNzaW9uKT09bnVsbD92b2lkIDA6cy50b3BpYyl8fFwiXCI7cmV0dXJuIGF3YWl0IHRoaXMuY2xpZW50LmNvcmUuc3RvcmFnZS5nZXRJdGVtKGAke0F9LyR7ZX0ke2l9YCl9YXN5bmMgZGVsZXRlRnJvbVN0b3JlKGUpe3ZhciBzO2NvbnN0IGk9KChzPXRoaXMuc2Vzc2lvbik9PW51bGw/dm9pZCAwOnMudG9waWMpfHxcIlwiO2F3YWl0IHRoaXMuY2xpZW50LmNvcmUuc3RvcmFnZS5yZW1vdmVJdGVtKGAke0F9LyR7ZX0ke2l9YCl9YXN5bmMgY2xlYW51cFN0b3JhZ2UoKXt2YXIgZTt0cnl7aWYoKChlPXRoaXMuY2xpZW50KT09bnVsbD92b2lkIDA6ZS5zZXNzaW9uLmxlbmd0aCk+MClyZXR1cm47Y29uc3Qgcz1hd2FpdCB0aGlzLmNsaWVudC5jb3JlLnN0b3JhZ2UuZ2V0S2V5cygpO2Zvcihjb25zdCBpIG9mIHMpaS5zdGFydHNXaXRoKEEpJiZhd2FpdCB0aGlzLmNsaWVudC5jb3JlLnN0b3JhZ2UucmVtb3ZlSXRlbShpKX1jYXRjaChzKXt0aGlzLmxvZ2dlci53YXJuKHMsXCJGYWlsZWQgdG8gY2xlYW51cCBzdG9yYWdlXCIpfX19Y29uc3QgbnM9TjtleHBvcnR7bnMgYXMgVW5pdmVyc2FsUHJvdmlkZXIsTiBhcyBkZWZhdWx0fTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@walletconnect+universal-provider@2.23.0_@react-native-async-storage+async-storage@2.2._6d112c5ace2f99797d0609b1d7ebab2c/node_modules/@walletconnect/universal-provider/dist/index.js\n");

/***/ })

};
;