"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535";
exports.ids = ["vendor-chunks/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535"];
exports.modules = {

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/exports/features.js":
/*!*************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/exports/features.js ***!
  \*************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ReownAuthentication: () => (/* reexport safe */ _src_features_reown_authentication_index_js__WEBPACK_IMPORTED_MODULE_0__.ReownAuthentication),\n/* harmony export */   ReownAuthenticationMessenger: () => (/* reexport safe */ _src_features_reown_authentication_index_js__WEBPACK_IMPORTED_MODULE_0__.ReownAuthenticationMessenger)\n/* harmony export */ });\n/* harmony import */ var _src_features_reown_authentication_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../src/features/reown-authentication/index.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/features/reown-authentication/index.js\");\n\n//# sourceMappingURL=features.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTFfQHJlYWN0LW5hdGl2ZS1hc3luYy1zdG9yYWdlK2FzeW5jLXN0b3JhZ2VAMi4yLjBfcmVhY3QtX2E4MDMyMTIzODk3ZTA3OTMxMzc0MjMyYzNjYzRlNTM1L25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL2V4cG9ydHMvZmVhdHVyZXMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQThEO0FBQzlEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm9nZ2xyLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0ByZW93bithcHBraXQtY29udHJvbGxlcnNAMS44LjExX0ByZWFjdC1uYXRpdmUtYXN5bmMtc3RvcmFnZSthc3luYy1zdG9yYWdlQDIuMi4wX3JlYWN0LV9hODAzMjEyMzg5N2UwNzkzMTM3NDIzMmMzY2M0ZTUzNS9ub2RlX21vZHVsZXMvQHJlb3duL2FwcGtpdC1jb250cm9sbGVycy9kaXN0L2VzbS9leHBvcnRzL2ZlYXR1cmVzLmpzP2NmOGUiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0ICogZnJvbSAnLi4vc3JjL2ZlYXR1cmVzL3Jlb3duLWF1dGhlbnRpY2F0aW9uL2luZGV4LmpzJztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZlYXR1cmVzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/exports/features.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/AdapterController/ChainAdapterBlueprint.js":
/*!****************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/AdapterController/ChainAdapterBlueprint.js ***!
  \****************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AdapterBlueprint: () => (/* binding */ AdapterBlueprint)\n/* harmony export */ });\n/* harmony import */ var _walletconnect_universal_provider__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @walletconnect/universal-provider */ \"(ssr)/./node_modules/.pnpm/@walletconnect+universal-provider@2.22.4_@react-native-async-storage+async-storage@2.2._5dd727ea2623fa355027986e37232b45/node_modules/@walletconnect/universal-provider/dist/index.js\");\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @reown/appkit-common */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-common@1.8.11_bufferutil@4.0.9_typescript@5.9.3_utf-8-validate@5.0.10_zod@4.1.12/node_modules/@reown/appkit-common/dist/esm/src/utils/ConstantsUtil.js\");\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @reown/appkit-common */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-common@1.8.11_bufferutil@4.0.9_typescript@5.9.3_utf-8-validate@5.0.10_zod@4.1.12/node_modules/@reown/appkit-common/dist/esm/src/utils/ErrorUtil.js\");\n/* harmony import */ var _utils_ChainControllerUtil_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../utils/ChainControllerUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ChainControllerUtil.js\");\n/* harmony import */ var _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../utils/CoreHelperUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/CoreHelperUtil.js\");\n/* harmony import */ var _utils_WalletConnectUtil_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/WalletConnectUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/WalletConnectUtil.js\");\n/* harmony import */ var _ChainController_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../ChainController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ChainController.js\");\n/* harmony import */ var _ConnectorController_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../ConnectorController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectorController.js\");\n/* harmony import */ var _ProviderController_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../ProviderController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ProviderController.js\");\n\n\n\n\n\n\n\n\n\nconst IGNORED_CONNECTOR_IDS_FOR_LISTENER = [\n    _reown_appkit_common__WEBPACK_IMPORTED_MODULE_1__.ConstantsUtil.CONNECTOR_ID.AUTH,\n    _reown_appkit_common__WEBPACK_IMPORTED_MODULE_1__.ConstantsUtil.CONNECTOR_ID.WALLET_CONNECT\n];\n/**\n * Abstract class representing a chain adapter blueprint.\n * @template Connector - The type of connector extending ChainAdapterConnector\n */\nclass AdapterBlueprint {\n    /**\n     * Creates an instance of AdapterBlueprint.\n     * @param {AdapterBlueprint.Params} params - The parameters for initializing the adapter\n     */\n    constructor(params) {\n        this.availableConnectors = [];\n        this.availableConnections = [];\n        this.providerHandlers = {};\n        this.eventListeners = new Map();\n        this.getCaipNetworks = (namespace) => _ChainController_js__WEBPACK_IMPORTED_MODULE_2__.ChainController.getCaipNetworks(namespace);\n        this.getConnectorId = (namespace) => _ConnectorController_js__WEBPACK_IMPORTED_MODULE_3__.ConnectorController.getConnectorId(namespace);\n        if (params) {\n            this.construct(params);\n        }\n    }\n    /**\n     * Initializes the adapter with the given parameters.\n     * @param {AdapterBlueprint.Params} params - The parameters for initializing the adapter\n     */\n    construct(params) {\n        this.projectId = params.projectId;\n        this.namespace = params.namespace;\n        this.adapterType = params.adapterType;\n    }\n    /**\n     * Gets the available connectors.\n     * @returns {Connector[]} An array of available connectors\n     */\n    get connectors() {\n        return this.availableConnectors;\n    }\n    /**\n     * Gets the available connections.\n     * @returns {Connection[]} An array of available connections\n     */\n    get connections() {\n        return this.availableConnections;\n    }\n    /**\n     * Gets the supported networks.\n     * @returns {CaipNetwork[]} An array of supported networks\n     */\n    get networks() {\n        return this.getCaipNetworks(this.namespace);\n    }\n    /**\n     * Handles the auth connected event.\n     * @param {W3mFrameTypes.Responses['FrameGetUserResponse']} user - The user response\n     */\n    onAuthConnected({ accounts, chainId }) {\n        const caipNetwork = this.getCaipNetworks()\n            .filter(n => n.chainNamespace === this.namespace)\n            .find(n => n.id.toString() === chainId?.toString());\n        if (accounts && caipNetwork) {\n            this.addConnection({\n                connectorId: _reown_appkit_common__WEBPACK_IMPORTED_MODULE_1__.ConstantsUtil.CONNECTOR_ID.AUTH,\n                accounts,\n                caipNetwork\n            });\n        }\n    }\n    /**\n     * Sets the auth provider.\n     * @param {W3mFrameProvider} authProvider - The auth provider instance\n     */\n    setAuthProvider(authProvider) {\n        authProvider.onConnect(this.onAuthConnected.bind(this));\n        authProvider.onSocialConnected(this.onAuthConnected.bind(this));\n        this.addConnector({\n            id: _reown_appkit_common__WEBPACK_IMPORTED_MODULE_1__.ConstantsUtil.CONNECTOR_ID.AUTH,\n            type: 'AUTH',\n            name: _reown_appkit_common__WEBPACK_IMPORTED_MODULE_1__.ConstantsUtil.CONNECTOR_NAMES.AUTH,\n            provider: authProvider,\n            imageId: undefined,\n            chain: this.namespace,\n            chains: []\n        });\n    }\n    /**\n     * Adds one or more connectors to the available connectors list.\n     * @param {...Connector} connectors - The connectors to add\n     */\n    addConnector(...connectors) {\n        const connectorsAdded = new Set();\n        this.availableConnectors = [...connectors, ...this.availableConnectors].filter(connector => {\n            if (connectorsAdded.has(connector.id)) {\n                return false;\n            }\n            connectorsAdded.add(connector.id);\n            return true;\n        });\n        this.emit('connectors', this.availableConnectors);\n    }\n    /**\n     * Adds connections to the available connections list\n     * @param {...Connection} connections - The connections to add\n     */\n    addConnection(...connections) {\n        const connectionsAdded = new Set();\n        this.availableConnections = [...connections, ...this.availableConnections].filter(connection => {\n            if (connectionsAdded.has(connection.connectorId.toLowerCase())) {\n                return false;\n            }\n            connectionsAdded.add(connection.connectorId.toLowerCase());\n            return true;\n        });\n        this.emit('connections', this.availableConnections);\n    }\n    /**\n     * Deletes a connection from the available connections list\n     * @param {string} connectorId - The connector ID of the connection to delete\n     */\n    deleteConnection(connectorId) {\n        this.availableConnections = this.availableConnections.filter(c => c.connectorId.toLowerCase() !== connectorId.toLowerCase());\n        this.emit('connections', this.availableConnections);\n    }\n    /**\n     * Clears all connections from the available connections list\n     * @param {boolean} emit - Whether to emit the connections event\n     */\n    clearConnections(emit = false) {\n        this.availableConnections = [];\n        if (emit) {\n            this.emit('connections', this.availableConnections);\n        }\n    }\n    setStatus(status, chainNamespace) {\n        _ChainController_js__WEBPACK_IMPORTED_MODULE_2__.ChainController.setAccountProp('status', status, chainNamespace);\n    }\n    /**\n     * Adds an event listener for a specific event.\n     * @template T\n     * @param {T} eventName - The name of the event\n     * @param {EventCallback<T>} callback - The callback function to be called when the event is emitted\n     */\n    on(eventName, callback) {\n        if (!this.eventListeners.has(eventName)) {\n            this.eventListeners.set(eventName, new Set());\n        }\n        this.eventListeners.get(eventName)?.add(callback);\n    }\n    /**\n     * Removes an event listener for a specific event.\n     * @template T\n     * @param {T} eventName - The name of the event\n     * @param {EventCallback<T>} callback - The callback function to be removed\n     */\n    off(eventName, callback) {\n        const listeners = this.eventListeners.get(eventName);\n        if (listeners) {\n            listeners.delete(callback);\n        }\n    }\n    /**\n     * Removes all event listeners.\n     */\n    removeAllEventListeners() {\n        this.eventListeners.forEach(listeners => {\n            listeners.clear();\n        });\n    }\n    /**\n     * Emits an event with the given name and optional data.\n     * @template T\n     * @param {T} eventName - The name of the event to emit\n     * @param {EventData[T]} [data] - The optional data to be passed to the event listeners\n     */\n    emit(eventName, data) {\n        const listeners = this.eventListeners.get(eventName);\n        if (listeners) {\n            listeners.forEach(callback => callback(data));\n        }\n    }\n    /**\n     * Connects to WalletConnect.\n     * @param {number | string} [_chainId] - Optional chain ID to connect to\n     */\n    async connectWalletConnect(_chainId) {\n        try {\n            const connector = this.getWalletConnectConnector();\n            const result = await connector.connectWalletConnect();\n            return { clientId: result.clientId };\n        }\n        catch (err) {\n            if (_utils_WalletConnectUtil_js__WEBPACK_IMPORTED_MODULE_4__.WcHelpersUtil.isUserRejectedRequestError(err)) {\n                throw new _reown_appkit_common__WEBPACK_IMPORTED_MODULE_5__.UserRejectedRequestError(err);\n            }\n            throw err;\n        }\n    }\n    /**\n     * Switches the network.\n     * @param {AdapterBlueprint.SwitchNetworkParams} params - Network switching parameters\n     */\n    async switchNetwork(params) {\n        const { caipNetwork } = params;\n        const providerType = _ProviderController_js__WEBPACK_IMPORTED_MODULE_6__.ProviderController.getProviderId(caipNetwork.chainNamespace);\n        const provider = _ProviderController_js__WEBPACK_IMPORTED_MODULE_6__.ProviderController.getProvider(caipNetwork.chainNamespace);\n        if (!provider) {\n            throw new Error('Provider not found');\n        }\n        if (providerType === 'WALLET_CONNECT') {\n            const walletConnectProvider = provider;\n            walletConnectProvider.setDefaultChain(caipNetwork.caipNetworkId);\n            return;\n        }\n        if (providerType === 'AUTH') {\n            const authProvider = _ConnectorController_js__WEBPACK_IMPORTED_MODULE_3__.ConnectorController.getAuthConnector()?.provider;\n            if (!authProvider) {\n                throw new Error('Auth provider not found');\n            }\n            const preferredAccountType = (0,_utils_ChainControllerUtil_js__WEBPACK_IMPORTED_MODULE_7__.getPreferredAccountType)(caipNetwork.chainNamespace);\n            await authProvider.switchNetwork({ chainId: caipNetwork.caipNetworkId });\n            const user = await authProvider.getUser({\n                chainId: caipNetwork.caipNetworkId,\n                preferredAccountType\n            });\n            this.emit('switchNetwork', user);\n        }\n    }\n    getWalletConnectConnector() {\n        const connector = this.connectors.find(c => c.id === 'walletConnect');\n        if (!connector) {\n            throw new Error('WalletConnectConnector not found');\n        }\n        // Review why this type assertion is necessary\n        return connector;\n    }\n    /**\n     * Handles connect event for a specific connector.\n     * @param {string[]} accounts - The accounts that changed\n     * @param {string} connectorId - The ID of the connector\n     */\n    onConnect(accounts, connectorId) {\n        if (accounts.length > 0) {\n            const { address, chainId } = _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_8__.CoreHelperUtil.getAccount(accounts[0]);\n            const caipNetwork = this.getCaipNetworks()\n                .filter(n => n.chainNamespace === this.namespace)\n                .find(n => n.id.toString() === chainId?.toString());\n            const connector = this.connectors.find(c => c.id === connectorId);\n            if (address) {\n                this.emit('accountChanged', {\n                    address,\n                    chainId,\n                    connector\n                });\n                this.addConnection({\n                    connectorId,\n                    accounts: accounts.map(_account => {\n                        const { address } = _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_8__.CoreHelperUtil.getAccount(_account);\n                        return { address: address };\n                    }),\n                    caipNetwork\n                });\n            }\n        }\n    }\n    /**\n     * Handles accounts changed event for a specific connector.\n     * @param {string[]} accounts - The accounts that changed\n     * @param {string} connectorId - The ID of the connector\n     */\n    onAccountsChanged(accounts, connectorId, disconnectIfNoAccounts = true) {\n        if (accounts.length > 0) {\n            const { address } = _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_8__.CoreHelperUtil.getAccount(accounts[0]);\n            const connection = this.getConnection({\n                connectorId,\n                connections: this.connections,\n                connectors: this.connectors\n            });\n            if (address &&\n                this.getConnectorId(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_1__.ConstantsUtil.CHAIN.EVM)?.toLowerCase() ===\n                    connectorId.toLowerCase()) {\n                this.emit('accountChanged', {\n                    address,\n                    chainId: connection?.caipNetwork?.id,\n                    connector: connection?.connector\n                });\n            }\n            this.addConnection({\n                connectorId,\n                accounts: accounts.map(_account => {\n                    const { address } = _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_8__.CoreHelperUtil.getAccount(_account);\n                    return { address: address };\n                }),\n                caipNetwork: connection?.caipNetwork\n            });\n        }\n        else if (disconnectIfNoAccounts) {\n            this.onDisconnect(connectorId);\n        }\n    }\n    /**\n     * Handles disconnect event for a specific connector.\n     * @param {string} connectorId - The ID of the connector\n     */\n    onDisconnect(connectorId) {\n        this.removeProviderListeners(connectorId);\n        this.deleteConnection(connectorId);\n        if (this.getConnectorId(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_1__.ConstantsUtil.CHAIN.EVM)?.toLowerCase() ===\n            connectorId.toLowerCase()) {\n            this.emitFirstAvailableConnection();\n        }\n        if (this.connections.length === 0) {\n            this.emit('disconnect');\n        }\n    }\n    /**\n     * Handles chain changed event for a specific connector.\n     * @param {string} chainId - The ID of the chain that changed\n     * @param {string} connectorId - The ID of the connector\n     */\n    onChainChanged(chainId, connectorId) {\n        const formattedChainId = typeof chainId === 'string' && chainId.startsWith('0x')\n            ? parseInt(chainId, 16).toString()\n            : chainId.toString();\n        const connection = this.getConnection({\n            connectorId,\n            connections: this.connections,\n            connectors: this.connectors\n        });\n        const caipNetwork = this.getCaipNetworks()\n            .filter(n => n.chainNamespace === this.namespace)\n            .find(n => n.id.toString() === formattedChainId);\n        if (connection) {\n            this.addConnection({\n                connectorId,\n                accounts: connection.accounts,\n                caipNetwork\n            });\n        }\n        if (this.getConnectorId(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_1__.ConstantsUtil.CHAIN.EVM)?.toLowerCase() ===\n            connectorId.toLowerCase()) {\n            this.emit('switchNetwork', { chainId: formattedChainId });\n        }\n    }\n    /**\n     * Listens to provider events for a specific connector.\n     * @param {string} connectorId - The ID of the connector\n     * @param {Provider | CombinedProvider} provider - The provider to listen to\n     */\n    listenProviderEvents(connectorId, provider) {\n        if (IGNORED_CONNECTOR_IDS_FOR_LISTENER.includes(connectorId)) {\n            return;\n        }\n        const accountsChangedHandler = (accounts) => this.onAccountsChanged(accounts, connectorId);\n        const chainChangedHandler = (chainId) => this.onChainChanged(chainId, connectorId);\n        const disconnectHandler = () => this.onDisconnect(connectorId);\n        if (!this.providerHandlers[connectorId]) {\n            provider.on('disconnect', disconnectHandler);\n            provider.on('accountsChanged', accountsChangedHandler);\n            provider.on('chainChanged', chainChangedHandler);\n            this.providerHandlers[connectorId] = {\n                provider,\n                disconnect: disconnectHandler,\n                accountsChanged: accountsChangedHandler,\n                chainChanged: chainChangedHandler\n            };\n        }\n    }\n    /**\n     * Removes provider listeners for a specific connector.\n     * @param {string} connectorId - The ID of the connector\n     */\n    removeProviderListeners(connectorId) {\n        if (this.providerHandlers[connectorId]) {\n            const { provider, disconnect, accountsChanged, chainChanged } = this.providerHandlers[connectorId];\n            provider.removeListener('disconnect', disconnect);\n            provider.removeListener('accountsChanged', accountsChanged);\n            provider.removeListener('chainChanged', chainChanged);\n            this.providerHandlers[connectorId] = null;\n        }\n    }\n    /**\n     * Emits the first available connection.\n     */\n    emitFirstAvailableConnection() {\n        const connection = this.getConnection({\n            connections: this.connections,\n            connectors: this.connectors\n        });\n        if (connection) {\n            const [account] = connection.accounts;\n            this.emit('accountChanged', {\n                address: account?.address,\n                chainId: connection.caipNetwork?.id,\n                connector: connection.connector\n            });\n        }\n    }\n    /**\n     * Gets a connection based on provided parameters.\n     * If connectorId is provided, returns connection for that specific connector.\n     * Otherwise, returns the first available valid connection.\n     *\n     * @param params - Connection parameters\n     * @param params.address - Optional address to filter by\n     * @param params.connectorId - Optional connector ID to filter by\n     * @param params.connections - List of available connections\n     * @param params.connectors - List of available connectors\n     * @returns Connection or null if none found\n     */\n    getConnection({ address, connectorId, connections, connectors }) {\n        if (connectorId) {\n            const connection = connections.find(c => c.connectorId.toLowerCase() === connectorId.toLowerCase());\n            if (!connection) {\n                return null;\n            }\n            const connector = connectors.find(c => c.id.toLowerCase() === connection.connectorId.toLowerCase());\n            const account = address\n                ? connection.accounts.find(a => a.address.toLowerCase() === address.toLowerCase())\n                : connection.accounts[0];\n            return { ...connection, account, connector };\n        }\n        const validConnection = connections.find(c => c.accounts.length > 0 &&\n            connectors.some(conn => conn.id.toLowerCase() === c.connectorId.toLowerCase()));\n        if (validConnection) {\n            const [account] = validConnection.accounts;\n            const connector = connectors.find(c => c.id.toLowerCase() === validConnection.connectorId.toLowerCase());\n            return {\n                ...validConnection,\n                account,\n                connector\n            };\n        }\n        return null;\n    }\n}\n//# sourceMappingURL=ChainAdapterBlueprint.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTFfQHJlYWN0LW5hdGl2ZS1hc3luYy1zdG9yYWdlK2FzeW5jLXN0b3JhZ2VAMi4yLjBfcmVhY3QtX2E4MDMyMTIzODk3ZTA3OTMxMzc0MjMyYzNjYzRlNTM1L25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9BZGFwdGVyQ29udHJvbGxlci9DaGFpbkFkYXB0ZXJCbHVlcHJpbnQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFrRTtBQUNvQztBQUN6QjtBQUNkO0FBQ0U7QUFDMUI7QUFDaUI7QUFDUTtBQUNGO0FBQzlEO0FBQ0EsSUFBSSwrREFBbUI7QUFDdkIsSUFBSSwrREFBbUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBLGVBQWUseUJBQXlCO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QyxnRUFBZTtBQUM3RCw2Q0FBNkMsd0VBQW1CO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUseUJBQXlCO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsYUFBYTtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsY0FBYztBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsZUFBZTtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGlEQUFpRDtBQUNoRTtBQUNBLHNCQUFzQixtQkFBbUI7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QiwrREFBbUI7QUFDaEQ7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsa0JBQWtCO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsK0RBQW1CO0FBQ25DO0FBQ0Esa0JBQWtCLCtEQUFtQjtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxlQUFlLGNBQWM7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxlQUFlO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsU0FBUztBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxnRUFBZTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsR0FBRztBQUNsQixlQUFlLGtCQUFrQjtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsR0FBRztBQUNsQixlQUFlLGtCQUFrQjtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsR0FBRztBQUNsQixlQUFlLGNBQWM7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxpQkFBaUI7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0EsZ0JBQWdCLHNFQUFhO0FBQzdCLDBCQUEwQiwwRUFBd0I7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxzQ0FBc0M7QUFDckQ7QUFDQTtBQUNBLGdCQUFnQixjQUFjO0FBQzlCLDZCQUE2QixzRUFBa0I7QUFDL0MseUJBQXlCLHNFQUFrQjtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsd0VBQW1CO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QyxzRkFBdUI7QUFDaEUsK0NBQStDLG9DQUFvQztBQUNuRjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFVBQVU7QUFDekIsZUFBZSxRQUFRO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixtQkFBbUIsRUFBRSxvRUFBYztBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLFVBQVUsRUFBRSxvRUFBYztBQUMxRCxpQ0FBaUM7QUFDakMscUJBQXFCO0FBQ3JCO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFVBQVU7QUFDekIsZUFBZSxRQUFRO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixVQUFVLEVBQUUsb0VBQWM7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxvQ0FBb0MsK0RBQW1CO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsVUFBVSxFQUFFLG9FQUFjO0FBQ3RELDZCQUE2QjtBQUM3QixpQkFBaUI7QUFDakI7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsK0RBQW1CO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixlQUFlLFFBQVE7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxnQ0FBZ0MsK0RBQW1CO0FBQ25EO0FBQ0EseUNBQXlDLDJCQUEyQjtBQUNwRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixlQUFlLDZCQUE2QjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QjtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isc0RBQXNEO0FBQzFFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLCtDQUErQztBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ub2dnbHIvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTFfQHJlYWN0LW5hdGl2ZS1hc3luYy1zdG9yYWdlK2FzeW5jLXN0b3JhZ2VAMi4yLjBfcmVhY3QtX2E4MDMyMTIzODk3ZTA3OTMxMzc0MjMyYzNjYzRlNTM1L25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9BZGFwdGVyQ29udHJvbGxlci9DaGFpbkFkYXB0ZXJCbHVlcHJpbnQuanM/NmJmZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgVW5pdmVyc2FsUHJvdmlkZXIgZnJvbSAnQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyJztcbmltcG9ydCB7IENvbnN0YW50c1V0aWwgYXMgQ29tbW9uQ29uc3RhbnRzVXRpbCwgVXNlclJlamVjdGVkUmVxdWVzdEVycm9yIH0gZnJvbSAnQHJlb3duL2FwcGtpdC1jb21tb24nO1xuaW1wb3J0IHsgZ2V0UHJlZmVycmVkQWNjb3VudFR5cGUgfSBmcm9tICcuLi8uLi91dGlscy9DaGFpbkNvbnRyb2xsZXJVdGlsLmpzJztcbmltcG9ydCB7IENvcmVIZWxwZXJVdGlsIH0gZnJvbSAnLi4vLi4vdXRpbHMvQ29yZUhlbHBlclV0aWwuanMnO1xuaW1wb3J0IHsgV2NIZWxwZXJzVXRpbCB9IGZyb20gJy4uLy4uL3V0aWxzL1dhbGxldENvbm5lY3RVdGlsLmpzJztcbmltcG9ydCB7fSBmcm9tICcuLi9DaGFpbkNvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgQ2hhaW5Db250cm9sbGVyIH0gZnJvbSAnLi4vQ2hhaW5Db250cm9sbGVyLmpzJztcbmltcG9ydCB7IENvbm5lY3RvckNvbnRyb2xsZXIgfSBmcm9tICcuLi9Db25uZWN0b3JDb250cm9sbGVyLmpzJztcbmltcG9ydCB7IFByb3ZpZGVyQ29udHJvbGxlciB9IGZyb20gJy4uL1Byb3ZpZGVyQ29udHJvbGxlci5qcyc7XG5jb25zdCBJR05PUkVEX0NPTk5FQ1RPUl9JRFNfRk9SX0xJU1RFTkVSID0gW1xuICAgIENvbW1vbkNvbnN0YW50c1V0aWwuQ09OTkVDVE9SX0lELkFVVEgsXG4gICAgQ29tbW9uQ29uc3RhbnRzVXRpbC5DT05ORUNUT1JfSUQuV0FMTEVUX0NPTk5FQ1Rcbl07XG4vKipcbiAqIEFic3RyYWN0IGNsYXNzIHJlcHJlc2VudGluZyBhIGNoYWluIGFkYXB0ZXIgYmx1ZXByaW50LlxuICogQHRlbXBsYXRlIENvbm5lY3RvciAtIFRoZSB0eXBlIG9mIGNvbm5lY3RvciBleHRlbmRpbmcgQ2hhaW5BZGFwdGVyQ29ubmVjdG9yXG4gKi9cbmV4cG9ydCBjbGFzcyBBZGFwdGVyQmx1ZXByaW50IHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIEFkYXB0ZXJCbHVlcHJpbnQuXG4gICAgICogQHBhcmFtIHtBZGFwdGVyQmx1ZXByaW50LlBhcmFtc30gcGFyYW1zIC0gVGhlIHBhcmFtZXRlcnMgZm9yIGluaXRpYWxpemluZyB0aGUgYWRhcHRlclxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHBhcmFtcykge1xuICAgICAgICB0aGlzLmF2YWlsYWJsZUNvbm5lY3RvcnMgPSBbXTtcbiAgICAgICAgdGhpcy5hdmFpbGFibGVDb25uZWN0aW9ucyA9IFtdO1xuICAgICAgICB0aGlzLnByb3ZpZGVySGFuZGxlcnMgPSB7fTtcbiAgICAgICAgdGhpcy5ldmVudExpc3RlbmVycyA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5nZXRDYWlwTmV0d29ya3MgPSAobmFtZXNwYWNlKSA9PiBDaGFpbkNvbnRyb2xsZXIuZ2V0Q2FpcE5ldHdvcmtzKG5hbWVzcGFjZSk7XG4gICAgICAgIHRoaXMuZ2V0Q29ubmVjdG9ySWQgPSAobmFtZXNwYWNlKSA9PiBDb25uZWN0b3JDb250cm9sbGVyLmdldENvbm5lY3RvcklkKG5hbWVzcGFjZSk7XG4gICAgICAgIGlmIChwYXJhbXMpIHtcbiAgICAgICAgICAgIHRoaXMuY29uc3RydWN0KHBhcmFtcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZXMgdGhlIGFkYXB0ZXIgd2l0aCB0aGUgZ2l2ZW4gcGFyYW1ldGVycy5cbiAgICAgKiBAcGFyYW0ge0FkYXB0ZXJCbHVlcHJpbnQuUGFyYW1zfSBwYXJhbXMgLSBUaGUgcGFyYW1ldGVycyBmb3IgaW5pdGlhbGl6aW5nIHRoZSBhZGFwdGVyXG4gICAgICovXG4gICAgY29uc3RydWN0KHBhcmFtcykge1xuICAgICAgICB0aGlzLnByb2plY3RJZCA9IHBhcmFtcy5wcm9qZWN0SWQ7XG4gICAgICAgIHRoaXMubmFtZXNwYWNlID0gcGFyYW1zLm5hbWVzcGFjZTtcbiAgICAgICAgdGhpcy5hZGFwdGVyVHlwZSA9IHBhcmFtcy5hZGFwdGVyVHlwZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgYXZhaWxhYmxlIGNvbm5lY3RvcnMuXG4gICAgICogQHJldHVybnMge0Nvbm5lY3RvcltdfSBBbiBhcnJheSBvZiBhdmFpbGFibGUgY29ubmVjdG9yc1xuICAgICAqL1xuICAgIGdldCBjb25uZWN0b3JzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hdmFpbGFibGVDb25uZWN0b3JzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBhdmFpbGFibGUgY29ubmVjdGlvbnMuXG4gICAgICogQHJldHVybnMge0Nvbm5lY3Rpb25bXX0gQW4gYXJyYXkgb2YgYXZhaWxhYmxlIGNvbm5lY3Rpb25zXG4gICAgICovXG4gICAgZ2V0IGNvbm5lY3Rpb25zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hdmFpbGFibGVDb25uZWN0aW9ucztcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgc3VwcG9ydGVkIG5ldHdvcmtzLlxuICAgICAqIEByZXR1cm5zIHtDYWlwTmV0d29ya1tdfSBBbiBhcnJheSBvZiBzdXBwb3J0ZWQgbmV0d29ya3NcbiAgICAgKi9cbiAgICBnZXQgbmV0d29ya3MoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldENhaXBOZXR3b3Jrcyh0aGlzLm5hbWVzcGFjZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgdGhlIGF1dGggY29ubmVjdGVkIGV2ZW50LlxuICAgICAqIEBwYXJhbSB7VzNtRnJhbWVUeXBlcy5SZXNwb25zZXNbJ0ZyYW1lR2V0VXNlclJlc3BvbnNlJ119IHVzZXIgLSBUaGUgdXNlciByZXNwb25zZVxuICAgICAqL1xuICAgIG9uQXV0aENvbm5lY3RlZCh7IGFjY291bnRzLCBjaGFpbklkIH0pIHtcbiAgICAgICAgY29uc3QgY2FpcE5ldHdvcmsgPSB0aGlzLmdldENhaXBOZXR3b3JrcygpXG4gICAgICAgICAgICAuZmlsdGVyKG4gPT4gbi5jaGFpbk5hbWVzcGFjZSA9PT0gdGhpcy5uYW1lc3BhY2UpXG4gICAgICAgICAgICAuZmluZChuID0+IG4uaWQudG9TdHJpbmcoKSA9PT0gY2hhaW5JZD8udG9TdHJpbmcoKSk7XG4gICAgICAgIGlmIChhY2NvdW50cyAmJiBjYWlwTmV0d29yaykge1xuICAgICAgICAgICAgdGhpcy5hZGRDb25uZWN0aW9uKHtcbiAgICAgICAgICAgICAgICBjb25uZWN0b3JJZDogQ29tbW9uQ29uc3RhbnRzVXRpbC5DT05ORUNUT1JfSUQuQVVUSCxcbiAgICAgICAgICAgICAgICBhY2NvdW50cyxcbiAgICAgICAgICAgICAgICBjYWlwTmV0d29ya1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgYXV0aCBwcm92aWRlci5cbiAgICAgKiBAcGFyYW0ge1czbUZyYW1lUHJvdmlkZXJ9IGF1dGhQcm92aWRlciAtIFRoZSBhdXRoIHByb3ZpZGVyIGluc3RhbmNlXG4gICAgICovXG4gICAgc2V0QXV0aFByb3ZpZGVyKGF1dGhQcm92aWRlcikge1xuICAgICAgICBhdXRoUHJvdmlkZXIub25Db25uZWN0KHRoaXMub25BdXRoQ29ubmVjdGVkLmJpbmQodGhpcykpO1xuICAgICAgICBhdXRoUHJvdmlkZXIub25Tb2NpYWxDb25uZWN0ZWQodGhpcy5vbkF1dGhDb25uZWN0ZWQuYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMuYWRkQ29ubmVjdG9yKHtcbiAgICAgICAgICAgIGlkOiBDb21tb25Db25zdGFudHNVdGlsLkNPTk5FQ1RPUl9JRC5BVVRILFxuICAgICAgICAgICAgdHlwZTogJ0FVVEgnLFxuICAgICAgICAgICAgbmFtZTogQ29tbW9uQ29uc3RhbnRzVXRpbC5DT05ORUNUT1JfTkFNRVMuQVVUSCxcbiAgICAgICAgICAgIHByb3ZpZGVyOiBhdXRoUHJvdmlkZXIsXG4gICAgICAgICAgICBpbWFnZUlkOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBjaGFpbjogdGhpcy5uYW1lc3BhY2UsXG4gICAgICAgICAgICBjaGFpbnM6IFtdXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGRzIG9uZSBvciBtb3JlIGNvbm5lY3RvcnMgdG8gdGhlIGF2YWlsYWJsZSBjb25uZWN0b3JzIGxpc3QuXG4gICAgICogQHBhcmFtIHsuLi5Db25uZWN0b3J9IGNvbm5lY3RvcnMgLSBUaGUgY29ubmVjdG9ycyB0byBhZGRcbiAgICAgKi9cbiAgICBhZGRDb25uZWN0b3IoLi4uY29ubmVjdG9ycykge1xuICAgICAgICBjb25zdCBjb25uZWN0b3JzQWRkZWQgPSBuZXcgU2V0KCk7XG4gICAgICAgIHRoaXMuYXZhaWxhYmxlQ29ubmVjdG9ycyA9IFsuLi5jb25uZWN0b3JzLCAuLi50aGlzLmF2YWlsYWJsZUNvbm5lY3RvcnNdLmZpbHRlcihjb25uZWN0b3IgPT4ge1xuICAgICAgICAgICAgaWYgKGNvbm5lY3RvcnNBZGRlZC5oYXMoY29ubmVjdG9yLmlkKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbm5lY3RvcnNBZGRlZC5hZGQoY29ubmVjdG9yLmlkKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5lbWl0KCdjb25uZWN0b3JzJywgdGhpcy5hdmFpbGFibGVDb25uZWN0b3JzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkcyBjb25uZWN0aW9ucyB0byB0aGUgYXZhaWxhYmxlIGNvbm5lY3Rpb25zIGxpc3RcbiAgICAgKiBAcGFyYW0gey4uLkNvbm5lY3Rpb259IGNvbm5lY3Rpb25zIC0gVGhlIGNvbm5lY3Rpb25zIHRvIGFkZFxuICAgICAqL1xuICAgIGFkZENvbm5lY3Rpb24oLi4uY29ubmVjdGlvbnMpIHtcbiAgICAgICAgY29uc3QgY29ubmVjdGlvbnNBZGRlZCA9IG5ldyBTZXQoKTtcbiAgICAgICAgdGhpcy5hdmFpbGFibGVDb25uZWN0aW9ucyA9IFsuLi5jb25uZWN0aW9ucywgLi4udGhpcy5hdmFpbGFibGVDb25uZWN0aW9uc10uZmlsdGVyKGNvbm5lY3Rpb24gPT4ge1xuICAgICAgICAgICAgaWYgKGNvbm5lY3Rpb25zQWRkZWQuaGFzKGNvbm5lY3Rpb24uY29ubmVjdG9ySWQudG9Mb3dlckNhc2UoKSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25uZWN0aW9uc0FkZGVkLmFkZChjb25uZWN0aW9uLmNvbm5lY3RvcklkLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmVtaXQoJ2Nvbm5lY3Rpb25zJywgdGhpcy5hdmFpbGFibGVDb25uZWN0aW9ucyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERlbGV0ZXMgYSBjb25uZWN0aW9uIGZyb20gdGhlIGF2YWlsYWJsZSBjb25uZWN0aW9ucyBsaXN0XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbm5lY3RvcklkIC0gVGhlIGNvbm5lY3RvciBJRCBvZiB0aGUgY29ubmVjdGlvbiB0byBkZWxldGVcbiAgICAgKi9cbiAgICBkZWxldGVDb25uZWN0aW9uKGNvbm5lY3RvcklkKSB7XG4gICAgICAgIHRoaXMuYXZhaWxhYmxlQ29ubmVjdGlvbnMgPSB0aGlzLmF2YWlsYWJsZUNvbm5lY3Rpb25zLmZpbHRlcihjID0+IGMuY29ubmVjdG9ySWQudG9Mb3dlckNhc2UoKSAhPT0gY29ubmVjdG9ySWQudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgIHRoaXMuZW1pdCgnY29ubmVjdGlvbnMnLCB0aGlzLmF2YWlsYWJsZUNvbm5lY3Rpb25zKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xlYXJzIGFsbCBjb25uZWN0aW9ucyBmcm9tIHRoZSBhdmFpbGFibGUgY29ubmVjdGlvbnMgbGlzdFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gZW1pdCAtIFdoZXRoZXIgdG8gZW1pdCB0aGUgY29ubmVjdGlvbnMgZXZlbnRcbiAgICAgKi9cbiAgICBjbGVhckNvbm5lY3Rpb25zKGVtaXQgPSBmYWxzZSkge1xuICAgICAgICB0aGlzLmF2YWlsYWJsZUNvbm5lY3Rpb25zID0gW107XG4gICAgICAgIGlmIChlbWl0KSB7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ2Nvbm5lY3Rpb25zJywgdGhpcy5hdmFpbGFibGVDb25uZWN0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2V0U3RhdHVzKHN0YXR1cywgY2hhaW5OYW1lc3BhY2UpIHtcbiAgICAgICAgQ2hhaW5Db250cm9sbGVyLnNldEFjY291bnRQcm9wKCdzdGF0dXMnLCBzdGF0dXMsIGNoYWluTmFtZXNwYWNlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkcyBhbiBldmVudCBsaXN0ZW5lciBmb3IgYSBzcGVjaWZpYyBldmVudC5cbiAgICAgKiBAdGVtcGxhdGUgVFxuICAgICAqIEBwYXJhbSB7VH0gZXZlbnROYW1lIC0gVGhlIG5hbWUgb2YgdGhlIGV2ZW50XG4gICAgICogQHBhcmFtIHtFdmVudENhbGxiYWNrPFQ+fSBjYWxsYmFjayAtIFRoZSBjYWxsYmFjayBmdW5jdGlvbiB0byBiZSBjYWxsZWQgd2hlbiB0aGUgZXZlbnQgaXMgZW1pdHRlZFxuICAgICAqL1xuICAgIG9uKGV2ZW50TmFtZSwgY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKCF0aGlzLmV2ZW50TGlzdGVuZXJzLmhhcyhldmVudE5hbWUpKSB7XG4gICAgICAgICAgICB0aGlzLmV2ZW50TGlzdGVuZXJzLnNldChldmVudE5hbWUsIG5ldyBTZXQoKSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5ldmVudExpc3RlbmVycy5nZXQoZXZlbnROYW1lKT8uYWRkKGNhbGxiYWNrKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbiBldmVudCBsaXN0ZW5lciBmb3IgYSBzcGVjaWZpYyBldmVudC5cbiAgICAgKiBAdGVtcGxhdGUgVFxuICAgICAqIEBwYXJhbSB7VH0gZXZlbnROYW1lIC0gVGhlIG5hbWUgb2YgdGhlIGV2ZW50XG4gICAgICogQHBhcmFtIHtFdmVudENhbGxiYWNrPFQ+fSBjYWxsYmFjayAtIFRoZSBjYWxsYmFjayBmdW5jdGlvbiB0byBiZSByZW1vdmVkXG4gICAgICovXG4gICAgb2ZmKGV2ZW50TmFtZSwgY2FsbGJhY2spIHtcbiAgICAgICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy5ldmVudExpc3RlbmVycy5nZXQoZXZlbnROYW1lKTtcbiAgICAgICAgaWYgKGxpc3RlbmVycykge1xuICAgICAgICAgICAgbGlzdGVuZXJzLmRlbGV0ZShjYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwgZXZlbnQgbGlzdGVuZXJzLlxuICAgICAqL1xuICAgIHJlbW92ZUFsbEV2ZW50TGlzdGVuZXJzKCkge1xuICAgICAgICB0aGlzLmV2ZW50TGlzdGVuZXJzLmZvckVhY2gobGlzdGVuZXJzID0+IHtcbiAgICAgICAgICAgIGxpc3RlbmVycy5jbGVhcigpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRW1pdHMgYW4gZXZlbnQgd2l0aCB0aGUgZ2l2ZW4gbmFtZSBhbmQgb3B0aW9uYWwgZGF0YS5cbiAgICAgKiBAdGVtcGxhdGUgVFxuICAgICAqIEBwYXJhbSB7VH0gZXZlbnROYW1lIC0gVGhlIG5hbWUgb2YgdGhlIGV2ZW50IHRvIGVtaXRcbiAgICAgKiBAcGFyYW0ge0V2ZW50RGF0YVtUXX0gW2RhdGFdIC0gVGhlIG9wdGlvbmFsIGRhdGEgdG8gYmUgcGFzc2VkIHRvIHRoZSBldmVudCBsaXN0ZW5lcnNcbiAgICAgKi9cbiAgICBlbWl0KGV2ZW50TmFtZSwgZGF0YSkge1xuICAgICAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLmV2ZW50TGlzdGVuZXJzLmdldChldmVudE5hbWUpO1xuICAgICAgICBpZiAobGlzdGVuZXJzKSB7XG4gICAgICAgICAgICBsaXN0ZW5lcnMuZm9yRWFjaChjYWxsYmFjayA9PiBjYWxsYmFjayhkYXRhKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29ubmVjdHMgdG8gV2FsbGV0Q29ubmVjdC5cbiAgICAgKiBAcGFyYW0ge251bWJlciB8IHN0cmluZ30gW19jaGFpbklkXSAtIE9wdGlvbmFsIGNoYWluIElEIHRvIGNvbm5lY3QgdG9cbiAgICAgKi9cbiAgICBhc3luYyBjb25uZWN0V2FsbGV0Q29ubmVjdChfY2hhaW5JZCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgY29ubmVjdG9yID0gdGhpcy5nZXRXYWxsZXRDb25uZWN0Q29ubmVjdG9yKCk7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjb25uZWN0b3IuY29ubmVjdFdhbGxldENvbm5lY3QoKTtcbiAgICAgICAgICAgIHJldHVybiB7IGNsaWVudElkOiByZXN1bHQuY2xpZW50SWQgfTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBpZiAoV2NIZWxwZXJzVXRpbC5pc1VzZXJSZWplY3RlZFJlcXVlc3RFcnJvcihlcnIpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFVzZXJSZWplY3RlZFJlcXVlc3RFcnJvcihlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN3aXRjaGVzIHRoZSBuZXR3b3JrLlxuICAgICAqIEBwYXJhbSB7QWRhcHRlckJsdWVwcmludC5Td2l0Y2hOZXR3b3JrUGFyYW1zfSBwYXJhbXMgLSBOZXR3b3JrIHN3aXRjaGluZyBwYXJhbWV0ZXJzXG4gICAgICovXG4gICAgYXN5bmMgc3dpdGNoTmV0d29yayhwYXJhbXMpIHtcbiAgICAgICAgY29uc3QgeyBjYWlwTmV0d29yayB9ID0gcGFyYW1zO1xuICAgICAgICBjb25zdCBwcm92aWRlclR5cGUgPSBQcm92aWRlckNvbnRyb2xsZXIuZ2V0UHJvdmlkZXJJZChjYWlwTmV0d29yay5jaGFpbk5hbWVzcGFjZSk7XG4gICAgICAgIGNvbnN0IHByb3ZpZGVyID0gUHJvdmlkZXJDb250cm9sbGVyLmdldFByb3ZpZGVyKGNhaXBOZXR3b3JrLmNoYWluTmFtZXNwYWNlKTtcbiAgICAgICAgaWYgKCFwcm92aWRlcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQcm92aWRlciBub3QgZm91bmQnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocHJvdmlkZXJUeXBlID09PSAnV0FMTEVUX0NPTk5FQ1QnKSB7XG4gICAgICAgICAgICBjb25zdCB3YWxsZXRDb25uZWN0UHJvdmlkZXIgPSBwcm92aWRlcjtcbiAgICAgICAgICAgIHdhbGxldENvbm5lY3RQcm92aWRlci5zZXREZWZhdWx0Q2hhaW4oY2FpcE5ldHdvcmsuY2FpcE5ldHdvcmtJZCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByb3ZpZGVyVHlwZSA9PT0gJ0FVVEgnKSB7XG4gICAgICAgICAgICBjb25zdCBhdXRoUHJvdmlkZXIgPSBDb25uZWN0b3JDb250cm9sbGVyLmdldEF1dGhDb25uZWN0b3IoKT8ucHJvdmlkZXI7XG4gICAgICAgICAgICBpZiAoIWF1dGhQcm92aWRlcikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQXV0aCBwcm92aWRlciBub3QgZm91bmQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHByZWZlcnJlZEFjY291bnRUeXBlID0gZ2V0UHJlZmVycmVkQWNjb3VudFR5cGUoY2FpcE5ldHdvcmsuY2hhaW5OYW1lc3BhY2UpO1xuICAgICAgICAgICAgYXdhaXQgYXV0aFByb3ZpZGVyLnN3aXRjaE5ldHdvcmsoeyBjaGFpbklkOiBjYWlwTmV0d29yay5jYWlwTmV0d29ya0lkIH0pO1xuICAgICAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IGF1dGhQcm92aWRlci5nZXRVc2VyKHtcbiAgICAgICAgICAgICAgICBjaGFpbklkOiBjYWlwTmV0d29yay5jYWlwTmV0d29ya0lkLFxuICAgICAgICAgICAgICAgIHByZWZlcnJlZEFjY291bnRUeXBlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnc3dpdGNoTmV0d29yaycsIHVzZXIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldFdhbGxldENvbm5lY3RDb25uZWN0b3IoKSB7XG4gICAgICAgIGNvbnN0IGNvbm5lY3RvciA9IHRoaXMuY29ubmVjdG9ycy5maW5kKGMgPT4gYy5pZCA9PT0gJ3dhbGxldENvbm5lY3QnKTtcbiAgICAgICAgaWYgKCFjb25uZWN0b3IpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignV2FsbGV0Q29ubmVjdENvbm5lY3RvciBub3QgZm91bmQnKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBSZXZpZXcgd2h5IHRoaXMgdHlwZSBhc3NlcnRpb24gaXMgbmVjZXNzYXJ5XG4gICAgICAgIHJldHVybiBjb25uZWN0b3I7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgY29ubmVjdCBldmVudCBmb3IgYSBzcGVjaWZpYyBjb25uZWN0b3IuXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gYWNjb3VudHMgLSBUaGUgYWNjb3VudHMgdGhhdCBjaGFuZ2VkXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbm5lY3RvcklkIC0gVGhlIElEIG9mIHRoZSBjb25uZWN0b3JcbiAgICAgKi9cbiAgICBvbkNvbm5lY3QoYWNjb3VudHMsIGNvbm5lY3RvcklkKSB7XG4gICAgICAgIGlmIChhY2NvdW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb25zdCB7IGFkZHJlc3MsIGNoYWluSWQgfSA9IENvcmVIZWxwZXJVdGlsLmdldEFjY291bnQoYWNjb3VudHNbMF0pO1xuICAgICAgICAgICAgY29uc3QgY2FpcE5ldHdvcmsgPSB0aGlzLmdldENhaXBOZXR3b3JrcygpXG4gICAgICAgICAgICAgICAgLmZpbHRlcihuID0+IG4uY2hhaW5OYW1lc3BhY2UgPT09IHRoaXMubmFtZXNwYWNlKVxuICAgICAgICAgICAgICAgIC5maW5kKG4gPT4gbi5pZC50b1N0cmluZygpID09PSBjaGFpbklkPy50b1N0cmluZygpKTtcbiAgICAgICAgICAgIGNvbnN0IGNvbm5lY3RvciA9IHRoaXMuY29ubmVjdG9ycy5maW5kKGMgPT4gYy5pZCA9PT0gY29ubmVjdG9ySWQpO1xuICAgICAgICAgICAgaWYgKGFkZHJlc3MpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2FjY291bnRDaGFuZ2VkJywge1xuICAgICAgICAgICAgICAgICAgICBhZGRyZXNzLFxuICAgICAgICAgICAgICAgICAgICBjaGFpbklkLFxuICAgICAgICAgICAgICAgICAgICBjb25uZWN0b3JcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZENvbm5lY3Rpb24oe1xuICAgICAgICAgICAgICAgICAgICBjb25uZWN0b3JJZCxcbiAgICAgICAgICAgICAgICAgICAgYWNjb3VudHM6IGFjY291bnRzLm1hcChfYWNjb3VudCA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGFkZHJlc3MgfSA9IENvcmVIZWxwZXJVdGlsLmdldEFjY291bnQoX2FjY291bnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgYWRkcmVzczogYWRkcmVzcyB9O1xuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgY2FpcE5ldHdvcmtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBIYW5kbGVzIGFjY291bnRzIGNoYW5nZWQgZXZlbnQgZm9yIGEgc3BlY2lmaWMgY29ubmVjdG9yLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nW119IGFjY291bnRzIC0gVGhlIGFjY291bnRzIHRoYXQgY2hhbmdlZFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjb25uZWN0b3JJZCAtIFRoZSBJRCBvZiB0aGUgY29ubmVjdG9yXG4gICAgICovXG4gICAgb25BY2NvdW50c0NoYW5nZWQoYWNjb3VudHMsIGNvbm5lY3RvcklkLCBkaXNjb25uZWN0SWZOb0FjY291bnRzID0gdHJ1ZSkge1xuICAgICAgICBpZiAoYWNjb3VudHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc3QgeyBhZGRyZXNzIH0gPSBDb3JlSGVscGVyVXRpbC5nZXRBY2NvdW50KGFjY291bnRzWzBdKTtcbiAgICAgICAgICAgIGNvbnN0IGNvbm5lY3Rpb24gPSB0aGlzLmdldENvbm5lY3Rpb24oe1xuICAgICAgICAgICAgICAgIGNvbm5lY3RvcklkLFxuICAgICAgICAgICAgICAgIGNvbm5lY3Rpb25zOiB0aGlzLmNvbm5lY3Rpb25zLFxuICAgICAgICAgICAgICAgIGNvbm5lY3RvcnM6IHRoaXMuY29ubmVjdG9yc1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoYWRkcmVzcyAmJlxuICAgICAgICAgICAgICAgIHRoaXMuZ2V0Q29ubmVjdG9ySWQoQ29tbW9uQ29uc3RhbnRzVXRpbC5DSEFJTi5FVk0pPy50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICBjb25uZWN0b3JJZC50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdhY2NvdW50Q2hhbmdlZCcsIHtcbiAgICAgICAgICAgICAgICAgICAgYWRkcmVzcyxcbiAgICAgICAgICAgICAgICAgICAgY2hhaW5JZDogY29ubmVjdGlvbj8uY2FpcE5ldHdvcms/LmlkLFxuICAgICAgICAgICAgICAgICAgICBjb25uZWN0b3I6IGNvbm5lY3Rpb24/LmNvbm5lY3RvclxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5hZGRDb25uZWN0aW9uKHtcbiAgICAgICAgICAgICAgICBjb25uZWN0b3JJZCxcbiAgICAgICAgICAgICAgICBhY2NvdW50czogYWNjb3VudHMubWFwKF9hY2NvdW50ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBhZGRyZXNzIH0gPSBDb3JlSGVscGVyVXRpbC5nZXRBY2NvdW50KF9hY2NvdW50KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgYWRkcmVzczogYWRkcmVzcyB9O1xuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIGNhaXBOZXR3b3JrOiBjb25uZWN0aW9uPy5jYWlwTmV0d29ya1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZGlzY29ubmVjdElmTm9BY2NvdW50cykge1xuICAgICAgICAgICAgdGhpcy5vbkRpc2Nvbm5lY3QoY29ubmVjdG9ySWQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgZGlzY29ubmVjdCBldmVudCBmb3IgYSBzcGVjaWZpYyBjb25uZWN0b3IuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbm5lY3RvcklkIC0gVGhlIElEIG9mIHRoZSBjb25uZWN0b3JcbiAgICAgKi9cbiAgICBvbkRpc2Nvbm5lY3QoY29ubmVjdG9ySWQpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVQcm92aWRlckxpc3RlbmVycyhjb25uZWN0b3JJZCk7XG4gICAgICAgIHRoaXMuZGVsZXRlQ29ubmVjdGlvbihjb25uZWN0b3JJZCk7XG4gICAgICAgIGlmICh0aGlzLmdldENvbm5lY3RvcklkKENvbW1vbkNvbnN0YW50c1V0aWwuQ0hBSU4uRVZNKT8udG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgIGNvbm5lY3RvcklkLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgICAgICAgIHRoaXMuZW1pdEZpcnN0QXZhaWxhYmxlQ29ubmVjdGlvbigpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmNvbm5lY3Rpb25zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5lbWl0KCdkaXNjb25uZWN0Jyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlcyBjaGFpbiBjaGFuZ2VkIGV2ZW50IGZvciBhIHNwZWNpZmljIGNvbm5lY3Rvci5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gY2hhaW5JZCAtIFRoZSBJRCBvZiB0aGUgY2hhaW4gdGhhdCBjaGFuZ2VkXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbm5lY3RvcklkIC0gVGhlIElEIG9mIHRoZSBjb25uZWN0b3JcbiAgICAgKi9cbiAgICBvbkNoYWluQ2hhbmdlZChjaGFpbklkLCBjb25uZWN0b3JJZCkge1xuICAgICAgICBjb25zdCBmb3JtYXR0ZWRDaGFpbklkID0gdHlwZW9mIGNoYWluSWQgPT09ICdzdHJpbmcnICYmIGNoYWluSWQuc3RhcnRzV2l0aCgnMHgnKVxuICAgICAgICAgICAgPyBwYXJzZUludChjaGFpbklkLCAxNikudG9TdHJpbmcoKVxuICAgICAgICAgICAgOiBjaGFpbklkLnRvU3RyaW5nKCk7XG4gICAgICAgIGNvbnN0IGNvbm5lY3Rpb24gPSB0aGlzLmdldENvbm5lY3Rpb24oe1xuICAgICAgICAgICAgY29ubmVjdG9ySWQsXG4gICAgICAgICAgICBjb25uZWN0aW9uczogdGhpcy5jb25uZWN0aW9ucyxcbiAgICAgICAgICAgIGNvbm5lY3RvcnM6IHRoaXMuY29ubmVjdG9yc1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgY2FpcE5ldHdvcmsgPSB0aGlzLmdldENhaXBOZXR3b3JrcygpXG4gICAgICAgICAgICAuZmlsdGVyKG4gPT4gbi5jaGFpbk5hbWVzcGFjZSA9PT0gdGhpcy5uYW1lc3BhY2UpXG4gICAgICAgICAgICAuZmluZChuID0+IG4uaWQudG9TdHJpbmcoKSA9PT0gZm9ybWF0dGVkQ2hhaW5JZCk7XG4gICAgICAgIGlmIChjb25uZWN0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLmFkZENvbm5lY3Rpb24oe1xuICAgICAgICAgICAgICAgIGNvbm5lY3RvcklkLFxuICAgICAgICAgICAgICAgIGFjY291bnRzOiBjb25uZWN0aW9uLmFjY291bnRzLFxuICAgICAgICAgICAgICAgIGNhaXBOZXR3b3JrXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5nZXRDb25uZWN0b3JJZChDb21tb25Db25zdGFudHNVdGlsLkNIQUlOLkVWTSk/LnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICBjb25uZWN0b3JJZC50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ3N3aXRjaE5ldHdvcmsnLCB7IGNoYWluSWQ6IGZvcm1hdHRlZENoYWluSWQgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogTGlzdGVucyB0byBwcm92aWRlciBldmVudHMgZm9yIGEgc3BlY2lmaWMgY29ubmVjdG9yLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjb25uZWN0b3JJZCAtIFRoZSBJRCBvZiB0aGUgY29ubmVjdG9yXG4gICAgICogQHBhcmFtIHtQcm92aWRlciB8IENvbWJpbmVkUHJvdmlkZXJ9IHByb3ZpZGVyIC0gVGhlIHByb3ZpZGVyIHRvIGxpc3RlbiB0b1xuICAgICAqL1xuICAgIGxpc3RlblByb3ZpZGVyRXZlbnRzKGNvbm5lY3RvcklkLCBwcm92aWRlcikge1xuICAgICAgICBpZiAoSUdOT1JFRF9DT05ORUNUT1JfSURTX0ZPUl9MSVNURU5FUi5pbmNsdWRlcyhjb25uZWN0b3JJZCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBhY2NvdW50c0NoYW5nZWRIYW5kbGVyID0gKGFjY291bnRzKSA9PiB0aGlzLm9uQWNjb3VudHNDaGFuZ2VkKGFjY291bnRzLCBjb25uZWN0b3JJZCk7XG4gICAgICAgIGNvbnN0IGNoYWluQ2hhbmdlZEhhbmRsZXIgPSAoY2hhaW5JZCkgPT4gdGhpcy5vbkNoYWluQ2hhbmdlZChjaGFpbklkLCBjb25uZWN0b3JJZCk7XG4gICAgICAgIGNvbnN0IGRpc2Nvbm5lY3RIYW5kbGVyID0gKCkgPT4gdGhpcy5vbkRpc2Nvbm5lY3QoY29ubmVjdG9ySWQpO1xuICAgICAgICBpZiAoIXRoaXMucHJvdmlkZXJIYW5kbGVyc1tjb25uZWN0b3JJZF0pIHtcbiAgICAgICAgICAgIHByb3ZpZGVyLm9uKCdkaXNjb25uZWN0JywgZGlzY29ubmVjdEhhbmRsZXIpO1xuICAgICAgICAgICAgcHJvdmlkZXIub24oJ2FjY291bnRzQ2hhbmdlZCcsIGFjY291bnRzQ2hhbmdlZEhhbmRsZXIpO1xuICAgICAgICAgICAgcHJvdmlkZXIub24oJ2NoYWluQ2hhbmdlZCcsIGNoYWluQ2hhbmdlZEhhbmRsZXIpO1xuICAgICAgICAgICAgdGhpcy5wcm92aWRlckhhbmRsZXJzW2Nvbm5lY3RvcklkXSA9IHtcbiAgICAgICAgICAgICAgICBwcm92aWRlcixcbiAgICAgICAgICAgICAgICBkaXNjb25uZWN0OiBkaXNjb25uZWN0SGFuZGxlcixcbiAgICAgICAgICAgICAgICBhY2NvdW50c0NoYW5nZWQ6IGFjY291bnRzQ2hhbmdlZEhhbmRsZXIsXG4gICAgICAgICAgICAgICAgY2hhaW5DaGFuZ2VkOiBjaGFpbkNoYW5nZWRIYW5kbGVyXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgcHJvdmlkZXIgbGlzdGVuZXJzIGZvciBhIHNwZWNpZmljIGNvbm5lY3Rvci5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gY29ubmVjdG9ySWQgLSBUaGUgSUQgb2YgdGhlIGNvbm5lY3RvclxuICAgICAqL1xuICAgIHJlbW92ZVByb3ZpZGVyTGlzdGVuZXJzKGNvbm5lY3RvcklkKSB7XG4gICAgICAgIGlmICh0aGlzLnByb3ZpZGVySGFuZGxlcnNbY29ubmVjdG9ySWRdKSB7XG4gICAgICAgICAgICBjb25zdCB7IHByb3ZpZGVyLCBkaXNjb25uZWN0LCBhY2NvdW50c0NoYW5nZWQsIGNoYWluQ2hhbmdlZCB9ID0gdGhpcy5wcm92aWRlckhhbmRsZXJzW2Nvbm5lY3RvcklkXTtcbiAgICAgICAgICAgIHByb3ZpZGVyLnJlbW92ZUxpc3RlbmVyKCdkaXNjb25uZWN0JywgZGlzY29ubmVjdCk7XG4gICAgICAgICAgICBwcm92aWRlci5yZW1vdmVMaXN0ZW5lcignYWNjb3VudHNDaGFuZ2VkJywgYWNjb3VudHNDaGFuZ2VkKTtcbiAgICAgICAgICAgIHByb3ZpZGVyLnJlbW92ZUxpc3RlbmVyKCdjaGFpbkNoYW5nZWQnLCBjaGFpbkNoYW5nZWQpO1xuICAgICAgICAgICAgdGhpcy5wcm92aWRlckhhbmRsZXJzW2Nvbm5lY3RvcklkXSA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogRW1pdHMgdGhlIGZpcnN0IGF2YWlsYWJsZSBjb25uZWN0aW9uLlxuICAgICAqL1xuICAgIGVtaXRGaXJzdEF2YWlsYWJsZUNvbm5lY3Rpb24oKSB7XG4gICAgICAgIGNvbnN0IGNvbm5lY3Rpb24gPSB0aGlzLmdldENvbm5lY3Rpb24oe1xuICAgICAgICAgICAgY29ubmVjdGlvbnM6IHRoaXMuY29ubmVjdGlvbnMsXG4gICAgICAgICAgICBjb25uZWN0b3JzOiB0aGlzLmNvbm5lY3RvcnNcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChjb25uZWN0aW9uKSB7XG4gICAgICAgICAgICBjb25zdCBbYWNjb3VudF0gPSBjb25uZWN0aW9uLmFjY291bnRzO1xuICAgICAgICAgICAgdGhpcy5lbWl0KCdhY2NvdW50Q2hhbmdlZCcsIHtcbiAgICAgICAgICAgICAgICBhZGRyZXNzOiBhY2NvdW50Py5hZGRyZXNzLFxuICAgICAgICAgICAgICAgIGNoYWluSWQ6IGNvbm5lY3Rpb24uY2FpcE5ldHdvcms/LmlkLFxuICAgICAgICAgICAgICAgIGNvbm5lY3RvcjogY29ubmVjdGlvbi5jb25uZWN0b3JcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMgYSBjb25uZWN0aW9uIGJhc2VkIG9uIHByb3ZpZGVkIHBhcmFtZXRlcnMuXG4gICAgICogSWYgY29ubmVjdG9ySWQgaXMgcHJvdmlkZWQsIHJldHVybnMgY29ubmVjdGlvbiBmb3IgdGhhdCBzcGVjaWZpYyBjb25uZWN0b3IuXG4gICAgICogT3RoZXJ3aXNlLCByZXR1cm5zIHRoZSBmaXJzdCBhdmFpbGFibGUgdmFsaWQgY29ubmVjdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwYXJhbXMgLSBDb25uZWN0aW9uIHBhcmFtZXRlcnNcbiAgICAgKiBAcGFyYW0gcGFyYW1zLmFkZHJlc3MgLSBPcHRpb25hbCBhZGRyZXNzIHRvIGZpbHRlciBieVxuICAgICAqIEBwYXJhbSBwYXJhbXMuY29ubmVjdG9ySWQgLSBPcHRpb25hbCBjb25uZWN0b3IgSUQgdG8gZmlsdGVyIGJ5XG4gICAgICogQHBhcmFtIHBhcmFtcy5jb25uZWN0aW9ucyAtIExpc3Qgb2YgYXZhaWxhYmxlIGNvbm5lY3Rpb25zXG4gICAgICogQHBhcmFtIHBhcmFtcy5jb25uZWN0b3JzIC0gTGlzdCBvZiBhdmFpbGFibGUgY29ubmVjdG9yc1xuICAgICAqIEByZXR1cm5zIENvbm5lY3Rpb24gb3IgbnVsbCBpZiBub25lIGZvdW5kXG4gICAgICovXG4gICAgZ2V0Q29ubmVjdGlvbih7IGFkZHJlc3MsIGNvbm5lY3RvcklkLCBjb25uZWN0aW9ucywgY29ubmVjdG9ycyB9KSB7XG4gICAgICAgIGlmIChjb25uZWN0b3JJZCkge1xuICAgICAgICAgICAgY29uc3QgY29ubmVjdGlvbiA9IGNvbm5lY3Rpb25zLmZpbmQoYyA9PiBjLmNvbm5lY3RvcklkLnRvTG93ZXJDYXNlKCkgPT09IGNvbm5lY3RvcklkLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICAgICAgaWYgKCFjb25uZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBjb25uZWN0b3IgPSBjb25uZWN0b3JzLmZpbmQoYyA9PiBjLmlkLnRvTG93ZXJDYXNlKCkgPT09IGNvbm5lY3Rpb24uY29ubmVjdG9ySWQudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgICAgICBjb25zdCBhY2NvdW50ID0gYWRkcmVzc1xuICAgICAgICAgICAgICAgID8gY29ubmVjdGlvbi5hY2NvdW50cy5maW5kKGEgPT4gYS5hZGRyZXNzLnRvTG93ZXJDYXNlKCkgPT09IGFkZHJlc3MudG9Mb3dlckNhc2UoKSlcbiAgICAgICAgICAgICAgICA6IGNvbm5lY3Rpb24uYWNjb3VudHNbMF07XG4gICAgICAgICAgICByZXR1cm4geyAuLi5jb25uZWN0aW9uLCBhY2NvdW50LCBjb25uZWN0b3IgfTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2YWxpZENvbm5lY3Rpb24gPSBjb25uZWN0aW9ucy5maW5kKGMgPT4gYy5hY2NvdW50cy5sZW5ndGggPiAwICYmXG4gICAgICAgICAgICBjb25uZWN0b3JzLnNvbWUoY29ubiA9PiBjb25uLmlkLnRvTG93ZXJDYXNlKCkgPT09IGMuY29ubmVjdG9ySWQudG9Mb3dlckNhc2UoKSkpO1xuICAgICAgICBpZiAodmFsaWRDb25uZWN0aW9uKSB7XG4gICAgICAgICAgICBjb25zdCBbYWNjb3VudF0gPSB2YWxpZENvbm5lY3Rpb24uYWNjb3VudHM7XG4gICAgICAgICAgICBjb25zdCBjb25uZWN0b3IgPSBjb25uZWN0b3JzLmZpbmQoYyA9PiBjLmlkLnRvTG93ZXJDYXNlKCkgPT09IHZhbGlkQ29ubmVjdGlvbi5jb25uZWN0b3JJZC50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgLi4udmFsaWRDb25uZWN0aW9uLFxuICAgICAgICAgICAgICAgIGFjY291bnQsXG4gICAgICAgICAgICAgICAgY29ubmVjdG9yXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNoYWluQWRhcHRlckJsdWVwcmludC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/AdapterController/ChainAdapterBlueprint.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/AdapterController/WalletConnectConnector.js":
/*!*****************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/AdapterController/WalletConnectConnector.js ***!
  \*****************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   WalletConnectConnector: () => (/* binding */ WalletConnectConnector)\n/* harmony export */ });\n/* harmony import */ var _walletconnect_universal_provider__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @walletconnect/universal-provider */ \"(ssr)/./node_modules/.pnpm/@walletconnect+universal-provider@2.22.4_@react-native-async-storage+async-storage@2.2._5dd727ea2623fa355027986e37232b45/node_modules/@walletconnect/universal-provider/dist/index.js\");\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @reown/appkit-common */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-common@1.8.11_bufferutil@4.0.9_typescript@5.9.3_utf-8-validate@5.0.10_zod@4.1.12/node_modules/@reown/appkit-common/dist/esm/src/utils/ConstantsUtil.js\");\n/* harmony import */ var _utils_SIWXUtil_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../utils/SIWXUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/SIWXUtil.js\");\n/* harmony import */ var _utils_WalletConnectUtil_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/WalletConnectUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/WalletConnectUtil.js\");\n/* harmony import */ var _ChainController_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../ChainController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ChainController.js\");\n/* harmony import */ var _OptionsController_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../OptionsController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/OptionsController.js\");\n\n\n\n\n\n\nclass WalletConnectConnector {\n    constructor({ provider, namespace }) {\n        this.id = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_1__.ConstantsUtil.CONNECTOR_ID.WALLET_CONNECT;\n        this.name = 'WalletConnect';\n        this.type = 'WALLET_CONNECT';\n        this.imageId = 'ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400';\n        this.getCaipNetworks = _ChainController_js__WEBPACK_IMPORTED_MODULE_2__.ChainController.getCaipNetworks.bind(_ChainController_js__WEBPACK_IMPORTED_MODULE_2__.ChainController);\n        this.caipNetworks = this.getCaipNetworks();\n        this.provider = provider;\n        this.chain = namespace;\n    }\n    get chains() {\n        return this.getCaipNetworks();\n    }\n    async connectWalletConnect() {\n        const isAuthenticated = await this.authenticate();\n        if (!isAuthenticated) {\n            const caipNetworks = this.getCaipNetworks();\n            const universalProviderConfigOverride = _OptionsController_js__WEBPACK_IMPORTED_MODULE_3__.OptionsController.state.universalProviderConfigOverride;\n            const namespaces = _utils_WalletConnectUtil_js__WEBPACK_IMPORTED_MODULE_4__.WcHelpersUtil.createNamespaces(caipNetworks, universalProviderConfigOverride);\n            await this.provider.connect({ optionalNamespaces: namespaces });\n        }\n        return {\n            clientId: await this.provider.client.core.crypto.getClientId(),\n            session: this.provider.session\n        };\n    }\n    async disconnect() {\n        await this.provider.disconnect();\n    }\n    async authenticate() {\n        const chains = this.chains.map(network => network.caipNetworkId);\n        return _utils_SIWXUtil_js__WEBPACK_IMPORTED_MODULE_5__.SIWXUtil.universalProviderAuthenticate({\n            universalProvider: this.provider,\n            chains,\n            methods: OPTIONAL_METHODS\n        });\n    }\n}\nconst OPTIONAL_METHODS = [\n    'eth_accounts',\n    'eth_requestAccounts',\n    'eth_sendRawTransaction',\n    'eth_sign',\n    'eth_signTransaction',\n    'eth_signTypedData',\n    'eth_signTypedData_v3',\n    'eth_signTypedData_v4',\n    'eth_sendTransaction',\n    'personal_sign',\n    'wallet_switchEthereumChain',\n    'wallet_addEthereumChain',\n    'wallet_getPermissions',\n    'wallet_requestPermissions',\n    'wallet_registerOnboarding',\n    'wallet_watchAsset',\n    'wallet_scanQRCode',\n    // EIP-5792\n    'wallet_getCallsStatus',\n    'wallet_sendCalls',\n    'wallet_getCapabilities',\n    // EIP-7715\n    'wallet_grantPermissions',\n    'wallet_revokePermissions',\n    //EIP-7811\n    'wallet_getAssets'\n];\n//# sourceMappingURL=WalletConnectConnector.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTFfQHJlYWN0LW5hdGl2ZS1hc3luYy1zdG9yYWdlK2FzeW5jLXN0b3JhZ2VAMi4yLjBfcmVhY3QtX2E4MDMyMTIzODk3ZTA3OTMxMzc0MjMyYzNjYzRlNTM1L25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9BZGFwdGVyQ29udHJvbGxlci9XYWxsZXRDb25uZWN0Q29ubmVjdG9yLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBa0U7QUFDYjtBQUNGO0FBQ2M7QUFDVDtBQUNJO0FBQ3JEO0FBQ1Asa0JBQWtCLHFCQUFxQjtBQUN2QyxrQkFBa0IsK0RBQWE7QUFDL0I7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLGdFQUFlLHNCQUFzQixnRUFBZTtBQUNuRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0RBQW9ELG9FQUFpQjtBQUNyRSwrQkFBK0Isc0VBQWE7QUFDNUMsMENBQTBDLGdDQUFnQztBQUMxRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSx3REFBUTtBQUN2QjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ub2dnbHIvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTFfQHJlYWN0LW5hdGl2ZS1hc3luYy1zdG9yYWdlK2FzeW5jLXN0b3JhZ2VAMi4yLjBfcmVhY3QtX2E4MDMyMTIzODk3ZTA3OTMxMzc0MjMyYzNjYzRlNTM1L25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9BZGFwdGVyQ29udHJvbGxlci9XYWxsZXRDb25uZWN0Q29ubmVjdG9yLmpzP2RhNTIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFVuaXZlcnNhbFByb3ZpZGVyIGZyb20gJ0B3YWxsZXRjb25uZWN0L3VuaXZlcnNhbC1wcm92aWRlcic7XG5pbXBvcnQgeyBDb25zdGFudHNVdGlsIH0gZnJvbSAnQHJlb3duL2FwcGtpdC1jb21tb24nO1xuaW1wb3J0IHsgU0lXWFV0aWwgfSBmcm9tICcuLi8uLi91dGlscy9TSVdYVXRpbC5qcyc7XG5pbXBvcnQgeyBXY0hlbHBlcnNVdGlsIH0gZnJvbSAnLi4vLi4vdXRpbHMvV2FsbGV0Q29ubmVjdFV0aWwuanMnO1xuaW1wb3J0IHsgQ2hhaW5Db250cm9sbGVyIH0gZnJvbSAnLi4vQ2hhaW5Db250cm9sbGVyLmpzJztcbmltcG9ydCB7IE9wdGlvbnNDb250cm9sbGVyIH0gZnJvbSAnLi4vT3B0aW9uc0NvbnRyb2xsZXIuanMnO1xuZXhwb3J0IGNsYXNzIFdhbGxldENvbm5lY3RDb25uZWN0b3Ige1xuICAgIGNvbnN0cnVjdG9yKHsgcHJvdmlkZXIsIG5hbWVzcGFjZSB9KSB7XG4gICAgICAgIHRoaXMuaWQgPSBDb25zdGFudHNVdGlsLkNPTk5FQ1RPUl9JRC5XQUxMRVRfQ09OTkVDVDtcbiAgICAgICAgdGhpcy5uYW1lID0gJ1dhbGxldENvbm5lY3QnO1xuICAgICAgICB0aGlzLnR5cGUgPSAnV0FMTEVUX0NPTk5FQ1QnO1xuICAgICAgICB0aGlzLmltYWdlSWQgPSAnZWYxYTFmY2YtN2ZlOC00ZDY5LWJkNmQtZmRhMTM0NWI0NDAwJztcbiAgICAgICAgdGhpcy5nZXRDYWlwTmV0d29ya3MgPSBDaGFpbkNvbnRyb2xsZXIuZ2V0Q2FpcE5ldHdvcmtzLmJpbmQoQ2hhaW5Db250cm9sbGVyKTtcbiAgICAgICAgdGhpcy5jYWlwTmV0d29ya3MgPSB0aGlzLmdldENhaXBOZXR3b3JrcygpO1xuICAgICAgICB0aGlzLnByb3ZpZGVyID0gcHJvdmlkZXI7XG4gICAgICAgIHRoaXMuY2hhaW4gPSBuYW1lc3BhY2U7XG4gICAgfVxuICAgIGdldCBjaGFpbnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldENhaXBOZXR3b3JrcygpO1xuICAgIH1cbiAgICBhc3luYyBjb25uZWN0V2FsbGV0Q29ubmVjdCgpIHtcbiAgICAgICAgY29uc3QgaXNBdXRoZW50aWNhdGVkID0gYXdhaXQgdGhpcy5hdXRoZW50aWNhdGUoKTtcbiAgICAgICAgaWYgKCFpc0F1dGhlbnRpY2F0ZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGNhaXBOZXR3b3JrcyA9IHRoaXMuZ2V0Q2FpcE5ldHdvcmtzKCk7XG4gICAgICAgICAgICBjb25zdCB1bml2ZXJzYWxQcm92aWRlckNvbmZpZ092ZXJyaWRlID0gT3B0aW9uc0NvbnRyb2xsZXIuc3RhdGUudW5pdmVyc2FsUHJvdmlkZXJDb25maWdPdmVycmlkZTtcbiAgICAgICAgICAgIGNvbnN0IG5hbWVzcGFjZXMgPSBXY0hlbHBlcnNVdGlsLmNyZWF0ZU5hbWVzcGFjZXMoY2FpcE5ldHdvcmtzLCB1bml2ZXJzYWxQcm92aWRlckNvbmZpZ092ZXJyaWRlKTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucHJvdmlkZXIuY29ubmVjdCh7IG9wdGlvbmFsTmFtZXNwYWNlczogbmFtZXNwYWNlcyB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY2xpZW50SWQ6IGF3YWl0IHRoaXMucHJvdmlkZXIuY2xpZW50LmNvcmUuY3J5cHRvLmdldENsaWVudElkKCksXG4gICAgICAgICAgICBzZXNzaW9uOiB0aGlzLnByb3ZpZGVyLnNlc3Npb25cbiAgICAgICAgfTtcbiAgICB9XG4gICAgYXN5bmMgZGlzY29ubmVjdCgpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5wcm92aWRlci5kaXNjb25uZWN0KCk7XG4gICAgfVxuICAgIGFzeW5jIGF1dGhlbnRpY2F0ZSgpIHtcbiAgICAgICAgY29uc3QgY2hhaW5zID0gdGhpcy5jaGFpbnMubWFwKG5ldHdvcmsgPT4gbmV0d29yay5jYWlwTmV0d29ya0lkKTtcbiAgICAgICAgcmV0dXJuIFNJV1hVdGlsLnVuaXZlcnNhbFByb3ZpZGVyQXV0aGVudGljYXRlKHtcbiAgICAgICAgICAgIHVuaXZlcnNhbFByb3ZpZGVyOiB0aGlzLnByb3ZpZGVyLFxuICAgICAgICAgICAgY2hhaW5zLFxuICAgICAgICAgICAgbWV0aG9kczogT1BUSU9OQUxfTUVUSE9EU1xuICAgICAgICB9KTtcbiAgICB9XG59XG5jb25zdCBPUFRJT05BTF9NRVRIT0RTID0gW1xuICAgICdldGhfYWNjb3VudHMnLFxuICAgICdldGhfcmVxdWVzdEFjY291bnRzJyxcbiAgICAnZXRoX3NlbmRSYXdUcmFuc2FjdGlvbicsXG4gICAgJ2V0aF9zaWduJyxcbiAgICAnZXRoX3NpZ25UcmFuc2FjdGlvbicsXG4gICAgJ2V0aF9zaWduVHlwZWREYXRhJyxcbiAgICAnZXRoX3NpZ25UeXBlZERhdGFfdjMnLFxuICAgICdldGhfc2lnblR5cGVkRGF0YV92NCcsXG4gICAgJ2V0aF9zZW5kVHJhbnNhY3Rpb24nLFxuICAgICdwZXJzb25hbF9zaWduJyxcbiAgICAnd2FsbGV0X3N3aXRjaEV0aGVyZXVtQ2hhaW4nLFxuICAgICd3YWxsZXRfYWRkRXRoZXJldW1DaGFpbicsXG4gICAgJ3dhbGxldF9nZXRQZXJtaXNzaW9ucycsXG4gICAgJ3dhbGxldF9yZXF1ZXN0UGVybWlzc2lvbnMnLFxuICAgICd3YWxsZXRfcmVnaXN0ZXJPbmJvYXJkaW5nJyxcbiAgICAnd2FsbGV0X3dhdGNoQXNzZXQnLFxuICAgICd3YWxsZXRfc2NhblFSQ29kZScsXG4gICAgLy8gRUlQLTU3OTJcbiAgICAnd2FsbGV0X2dldENhbGxzU3RhdHVzJyxcbiAgICAnd2FsbGV0X3NlbmRDYWxscycsXG4gICAgJ3dhbGxldF9nZXRDYXBhYmlsaXRpZXMnLFxuICAgIC8vIEVJUC03NzE1XG4gICAgJ3dhbGxldF9ncmFudFBlcm1pc3Npb25zJyxcbiAgICAnd2FsbGV0X3Jldm9rZVBlcm1pc3Npb25zJyxcbiAgICAvL0VJUC03ODExXG4gICAgJ3dhbGxldF9nZXRBc3NldHMnXG5dO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9V2FsbGV0Q29ubmVjdENvbm5lY3Rvci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/AdapterController/WalletConnectConnector.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/AdapterController/index.js":
/*!************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/AdapterController/index.js ***!
  \************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AdapterController: () => (/* binding */ AdapterController)\n/* harmony export */ });\nconst state = {\n    adapters: {}\n};\nconst AdapterController = {\n    state,\n    initialize(adapters) {\n        state.adapters = { ...adapters };\n    },\n    get(namespace) {\n        return state.adapters[namespace];\n    }\n};\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTFfQHJlYWN0LW5hdGl2ZS1hc3luYy1zdG9yYWdlK2FzeW5jLXN0b3JhZ2VAMi4yLjBfcmVhY3QtX2E4MDMyMTIzODk3ZTA3OTMxMzc0MjMyYzNjYzRlNTM1L25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9BZGFwdGVyQ29udHJvbGxlci9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0EsMkJBQTJCO0FBQzNCLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm9nZ2xyLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0ByZW93bithcHBraXQtY29udHJvbGxlcnNAMS44LjExX0ByZWFjdC1uYXRpdmUtYXN5bmMtc3RvcmFnZSthc3luYy1zdG9yYWdlQDIuMi4wX3JlYWN0LV9hODAzMjEyMzg5N2UwNzkzMTM3NDIzMmMzY2M0ZTUzNS9ub2RlX21vZHVsZXMvQHJlb3duL2FwcGtpdC1jb250cm9sbGVycy9kaXN0L2VzbS9zcmMvY29udHJvbGxlcnMvQWRhcHRlckNvbnRyb2xsZXIvaW5kZXguanM/ZDg2NCJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBzdGF0ZSA9IHtcbiAgICBhZGFwdGVyczoge31cbn07XG5leHBvcnQgY29uc3QgQWRhcHRlckNvbnRyb2xsZXIgPSB7XG4gICAgc3RhdGUsXG4gICAgaW5pdGlhbGl6ZShhZGFwdGVycykge1xuICAgICAgICBzdGF0ZS5hZGFwdGVycyA9IHsgLi4uYWRhcHRlcnMgfTtcbiAgICB9LFxuICAgIGdldChuYW1lc3BhY2UpIHtcbiAgICAgICAgcmV0dXJuIHN0YXRlLmFkYXB0ZXJzW25hbWVzcGFjZV07XG4gICAgfVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/AdapterController/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/AlertController.js":
/*!****************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/AlertController.js ***!
  \****************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AlertController: () => (/* binding */ AlertController)\n/* harmony export */ });\n/* harmony import */ var valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! valtio/vanilla */ \"(ssr)/./node_modules/.pnpm/valtio@2.1.7_@types+react@18.3.26_react@18.3.1/node_modules/valtio/esm/vanilla.mjs\");\n/* harmony import */ var valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! valtio/vanilla/utils */ \"(ssr)/./node_modules/.pnpm/valtio@2.1.7_@types+react@18.3.26_react@18.3.1/node_modules/valtio/esm/vanilla/utils.mjs\");\n/* harmony import */ var _utils_withErrorBoundary_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/withErrorBoundary.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/withErrorBoundary.js\");\n/* harmony import */ var _OptionsController_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./OptionsController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/OptionsController.js\");\n\n\n\n\n// -- State --------------------------------------------- //\nconst state = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.proxy)({\n    message: '',\n    variant: 'info',\n    open: false\n});\n// -- Controller ---------------------------------------- //\nconst controller = {\n    state,\n    subscribeKey(key, callback) {\n        return (0,valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_1__.subscribeKey)(state, key, callback);\n    },\n    open(message, variant) {\n        const { debug } = _OptionsController_js__WEBPACK_IMPORTED_MODULE_2__.OptionsController.state;\n        const { code, displayMessage, debugMessage } = message;\n        if (displayMessage && debug) {\n            state.message = displayMessage;\n            state.variant = variant;\n            state.open = true;\n        }\n        if (debugMessage) {\n            // eslint-disable-next-line no-console\n            console.error(typeof debugMessage === 'function' ? debugMessage() : debugMessage, code ? { code } : undefined);\n        }\n    },\n    warn(title, description, code) {\n        state.open = true;\n        state.message = title;\n        state.variant = 'warning';\n        if (description) {\n            console.warn(description, code);\n        }\n    },\n    close() {\n        state.open = false;\n        state.message = '';\n        state.variant = 'info';\n    }\n};\n// Export the controller wrapped with our error boundary\nconst AlertController = (0,_utils_withErrorBoundary_js__WEBPACK_IMPORTED_MODULE_3__.withErrorBoundary)(controller);\n//# sourceMappingURL=AlertController.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTFfQHJlYWN0LW5hdGl2ZS1hc3luYy1zdG9yYWdlK2FzeW5jLXN0b3JhZ2VAMi4yLjBfcmVhY3QtX2E4MDMyMTIzODk3ZTA3OTMxMzc0MjMyYzNjYzRlNTM1L25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9BbGVydENvbnRyb2xsZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBdUM7QUFDdUI7QUFDSTtBQUNQO0FBQzNEO0FBQ0EsY0FBYyxxREFBSztBQUNuQjtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGtFQUFNO0FBQ3JCLEtBQUs7QUFDTDtBQUNBLGdCQUFnQixRQUFRLEVBQUUsb0VBQWlCO0FBQzNDLGdCQUFnQixxQ0FBcUM7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1R0FBdUcsT0FBTztBQUM5RztBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLHdCQUF3Qiw4RUFBaUI7QUFDaEQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ub2dnbHIvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTFfQHJlYWN0LW5hdGl2ZS1hc3luYy1zdG9yYWdlK2FzeW5jLXN0b3JhZ2VAMi4yLjBfcmVhY3QtX2E4MDMyMTIzODk3ZTA3OTMxMzc0MjMyYzNjYzRlNTM1L25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9BbGVydENvbnRyb2xsZXIuanM/MzJlMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwcm94eSB9IGZyb20gJ3ZhbHRpby92YW5pbGxhJztcbmltcG9ydCB7IHN1YnNjcmliZUtleSBhcyBzdWJLZXkgfSBmcm9tICd2YWx0aW8vdmFuaWxsYS91dGlscyc7XG5pbXBvcnQgeyB3aXRoRXJyb3JCb3VuZGFyeSB9IGZyb20gJy4uL3V0aWxzL3dpdGhFcnJvckJvdW5kYXJ5LmpzJztcbmltcG9ydCB7IE9wdGlvbnNDb250cm9sbGVyIH0gZnJvbSAnLi9PcHRpb25zQ29udHJvbGxlci5qcyc7XG4vLyAtLSBTdGF0ZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbmNvbnN0IHN0YXRlID0gcHJveHkoe1xuICAgIG1lc3NhZ2U6ICcnLFxuICAgIHZhcmlhbnQ6ICdpbmZvJyxcbiAgICBvcGVuOiBmYWxzZVxufSk7XG4vLyAtLSBDb250cm9sbGVyIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbmNvbnN0IGNvbnRyb2xsZXIgPSB7XG4gICAgc3RhdGUsXG4gICAgc3Vic2NyaWJlS2V5KGtleSwgY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIHN1YktleShzdGF0ZSwga2V5LCBjYWxsYmFjayk7XG4gICAgfSxcbiAgICBvcGVuKG1lc3NhZ2UsIHZhcmlhbnQpIHtcbiAgICAgICAgY29uc3QgeyBkZWJ1ZyB9ID0gT3B0aW9uc0NvbnRyb2xsZXIuc3RhdGU7XG4gICAgICAgIGNvbnN0IHsgY29kZSwgZGlzcGxheU1lc3NhZ2UsIGRlYnVnTWVzc2FnZSB9ID0gbWVzc2FnZTtcbiAgICAgICAgaWYgKGRpc3BsYXlNZXNzYWdlICYmIGRlYnVnKSB7XG4gICAgICAgICAgICBzdGF0ZS5tZXNzYWdlID0gZGlzcGxheU1lc3NhZ2U7XG4gICAgICAgICAgICBzdGF0ZS52YXJpYW50ID0gdmFyaWFudDtcbiAgICAgICAgICAgIHN0YXRlLm9wZW4gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkZWJ1Z01lc3NhZ2UpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKHR5cGVvZiBkZWJ1Z01lc3NhZ2UgPT09ICdmdW5jdGlvbicgPyBkZWJ1Z01lc3NhZ2UoKSA6IGRlYnVnTWVzc2FnZSwgY29kZSA/IHsgY29kZSB9IDogdW5kZWZpbmVkKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgd2Fybih0aXRsZSwgZGVzY3JpcHRpb24sIGNvZGUpIHtcbiAgICAgICAgc3RhdGUub3BlbiA9IHRydWU7XG4gICAgICAgIHN0YXRlLm1lc3NhZ2UgPSB0aXRsZTtcbiAgICAgICAgc3RhdGUudmFyaWFudCA9ICd3YXJuaW5nJztcbiAgICAgICAgaWYgKGRlc2NyaXB0aW9uKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oZGVzY3JpcHRpb24sIGNvZGUpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBjbG9zZSgpIHtcbiAgICAgICAgc3RhdGUub3BlbiA9IGZhbHNlO1xuICAgICAgICBzdGF0ZS5tZXNzYWdlID0gJyc7XG4gICAgICAgIHN0YXRlLnZhcmlhbnQgPSAnaW5mbyc7XG4gICAgfVxufTtcbi8vIEV4cG9ydCB0aGUgY29udHJvbGxlciB3cmFwcGVkIHdpdGggb3VyIGVycm9yIGJvdW5kYXJ5XG5leHBvcnQgY29uc3QgQWxlcnRDb250cm9sbGVyID0gd2l0aEVycm9yQm91bmRhcnkoY29udHJvbGxlcik7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1BbGVydENvbnRyb2xsZXIuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/AlertController.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ApiController.js":
/*!**************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ApiController.js ***!
  \**************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ApiController: () => (/* binding */ ApiController),\n/* harmony export */   api: () => (/* binding */ api)\n/* harmony export */ });\n/* harmony import */ var valtio_vanilla__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! valtio/vanilla */ \"(ssr)/./node_modules/.pnpm/valtio@2.1.7_@types+react@18.3.26_react@18.3.1/node_modules/valtio/esm/vanilla.mjs\");\n/* harmony import */ var valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! valtio/vanilla/utils */ \"(ssr)/./node_modules/.pnpm/valtio@2.1.7_@types+react@18.3.26_react@18.3.1/node_modules/valtio/esm/vanilla/utils.mjs\");\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @reown/appkit-common */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-common@1.8.11_bufferutil@4.0.9_typescript@5.9.3_utf-8-validate@5.0.10_zod@4.1.12/node_modules/@reown/appkit-common/dist/esm/src/utils/ConstantsUtil.js\");\n/* harmony import */ var _utils_AssetUtil_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../utils/AssetUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/AssetUtil.js\");\n/* harmony import */ var _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/CoreHelperUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/CoreHelperUtil.js\");\n/* harmony import */ var _utils_FetchUtil_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/FetchUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/FetchUtil.js\");\n/* harmony import */ var _utils_MobileWallet_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utils/MobileWallet.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/MobileWallet.js\");\n/* harmony import */ var _utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../utils/StorageUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/StorageUtil.js\");\n/* harmony import */ var _AssetController_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./AssetController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/AssetController.js\");\n/* harmony import */ var _ChainController_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./ChainController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ChainController.js\");\n/* harmony import */ var _ConnectorController_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./ConnectorController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectorController.js\");\n/* harmony import */ var _EventsController_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./EventsController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/EventsController.js\");\n/* harmony import */ var _OptionsController_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./OptionsController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/OptionsController.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n// -- Helpers ------------------------------------------- //\nconst baseUrl = _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_0__.CoreHelperUtil.getApiUrl();\nconst api = new _utils_FetchUtil_js__WEBPACK_IMPORTED_MODULE_1__.FetchUtil({\n    baseUrl,\n    clientId: null\n});\nconst entries = 40;\nconst recommendedEntries = 4;\nconst imageCountToFetch = 20;\n// -- State --------------------------------------------- //\nconst state = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_2__.proxy)({\n    promises: {},\n    page: 1,\n    count: 0,\n    featured: [],\n    allFeatured: [],\n    recommended: [],\n    allRecommended: [],\n    wallets: [],\n    filteredWallets: [],\n    search: [],\n    isAnalyticsEnabled: false,\n    excludedWallets: [],\n    isFetchingRecommendedWallets: false,\n    explorerWallets: [],\n    explorerFilteredWallets: [],\n    plan: {\n        tier: 'none',\n        hasExceededUsageLimit: false,\n        limits: {\n            isAboveRpcLimit: false,\n            isAboveMauLimit: false\n        }\n    }\n});\n// -- Controller ---------------------------------------- //\nconst ApiController = {\n    state,\n    subscribeKey(key, callback) {\n        return (0,valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_3__.subscribeKey)(state, key, callback);\n    },\n    _getSdkProperties() {\n        const { projectId, sdkType, sdkVersion } = _OptionsController_js__WEBPACK_IMPORTED_MODULE_4__.OptionsController.state;\n        return {\n            projectId,\n            st: sdkType || 'appkit',\n            sv: sdkVersion || 'html-wagmi-4.2.2'\n        };\n    },\n    _filterOutExtensions(wallets) {\n        if (_OptionsController_js__WEBPACK_IMPORTED_MODULE_4__.OptionsController.state.isUniversalProvider) {\n            return wallets.filter(w => Boolean(w.mobile_link || w.desktop_link || w.webapp_link));\n        }\n        return wallets;\n    },\n    async _fetchWalletImage(imageId) {\n        const imageUrl = `${api.baseUrl}/getWalletImage/${imageId}`;\n        const blob = await api.getBlob({ path: imageUrl, params: ApiController._getSdkProperties() });\n        _AssetController_js__WEBPACK_IMPORTED_MODULE_5__.AssetController.setWalletImage(imageId, URL.createObjectURL(blob));\n    },\n    async _fetchNetworkImage(imageId) {\n        const imageUrl = `${api.baseUrl}/public/getAssetImage/${imageId}`;\n        const blob = await api.getBlob({ path: imageUrl, params: ApiController._getSdkProperties() });\n        _AssetController_js__WEBPACK_IMPORTED_MODULE_5__.AssetController.setNetworkImage(imageId, URL.createObjectURL(blob));\n    },\n    async _fetchConnectorImage(imageId) {\n        const imageUrl = `${api.baseUrl}/public/getAssetImage/${imageId}`;\n        const blob = await api.getBlob({ path: imageUrl, params: ApiController._getSdkProperties() });\n        _AssetController_js__WEBPACK_IMPORTED_MODULE_5__.AssetController.setConnectorImage(imageId, URL.createObjectURL(blob));\n    },\n    async _fetchCurrencyImage(countryCode) {\n        const imageUrl = `${api.baseUrl}/public/getCurrencyImage/${countryCode}`;\n        const blob = await api.getBlob({ path: imageUrl, params: ApiController._getSdkProperties() });\n        _AssetController_js__WEBPACK_IMPORTED_MODULE_5__.AssetController.setCurrencyImage(countryCode, URL.createObjectURL(blob));\n    },\n    async _fetchTokenImage(symbol) {\n        const imageUrl = `${api.baseUrl}/public/getTokenImage/${symbol}`;\n        const blob = await api.getBlob({ path: imageUrl, params: ApiController._getSdkProperties() });\n        _AssetController_js__WEBPACK_IMPORTED_MODULE_5__.AssetController.setTokenImage(symbol, URL.createObjectURL(blob));\n    },\n    _filterWalletsByPlatform(wallets) {\n        const walletsLength = wallets.length;\n        const filteredWallets = _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_0__.CoreHelperUtil.isMobile()\n            ? wallets?.filter(w => {\n                if (w.mobile_link || w.webapp_link) {\n                    return true;\n                }\n                const customDeeplinkWalletIds = Object.values(_utils_MobileWallet_js__WEBPACK_IMPORTED_MODULE_6__.CUSTOM_DEEPLINK_WALLETS).map(wallet => wallet.id);\n                return customDeeplinkWalletIds.includes(w.id);\n            })\n            : wallets;\n        const mobileFilteredOutWalletsLength = walletsLength - filteredWallets.length;\n        return { filteredWallets, mobileFilteredOutWalletsLength };\n    },\n    async fetchProjectConfig() {\n        const response = await api.get({\n            path: '/appkit/v1/config',\n            params: ApiController._getSdkProperties()\n        });\n        return response.features;\n    },\n    async fetchUsage() {\n        try {\n            const response = await api.get({\n                path: '/appkit/v1/project-limits',\n                params: ApiController._getSdkProperties()\n            });\n            const { tier, isAboveMauLimit, isAboveRpcLimit } = response.planLimits;\n            const isStarterPlan = tier === 'starter';\n            const isAboveUsageLimit = isAboveMauLimit || isAboveRpcLimit;\n            ApiController.state.plan = {\n                tier,\n                hasExceededUsageLimit: isStarterPlan && isAboveUsageLimit,\n                limits: {\n                    isAboveRpcLimit,\n                    isAboveMauLimit\n                }\n            };\n        }\n        catch (e) {\n            console.warn('Failed to fetch usage', e);\n        }\n    },\n    async fetchAllowedOrigins() {\n        try {\n            const { allowedOrigins } = await api.get({\n                path: '/projects/v1/origins',\n                params: ApiController._getSdkProperties()\n            });\n            return allowedOrigins;\n        }\n        catch (error) {\n            if (error instanceof Error && error.cause instanceof Response) {\n                const status = error.cause.status;\n                if (status === _reown_appkit_common__WEBPACK_IMPORTED_MODULE_7__.ConstantsUtil.HTTP_STATUS_CODES.TOO_MANY_REQUESTS) {\n                    throw new Error('RATE_LIMITED', { cause: error });\n                }\n                if (status >= _reown_appkit_common__WEBPACK_IMPORTED_MODULE_7__.ConstantsUtil.HTTP_STATUS_CODES.SERVER_ERROR && status < 600) {\n                    throw new Error('SERVER_ERROR', { cause: error });\n                }\n                return [];\n            }\n            return [];\n        }\n    },\n    async fetchNetworkImages() {\n        const requestedCaipNetworks = _ChainController_js__WEBPACK_IMPORTED_MODULE_8__.ChainController.getAllRequestedCaipNetworks();\n        const ids = requestedCaipNetworks\n            ?.map(({ assets }) => assets?.imageId)\n            .filter(Boolean)\n            .filter(imageId => !_utils_AssetUtil_js__WEBPACK_IMPORTED_MODULE_9__.AssetUtil.getNetworkImageById(imageId));\n        if (ids) {\n            await Promise.allSettled(ids.map(id => ApiController._fetchNetworkImage(id)));\n        }\n    },\n    async fetchConnectorImages() {\n        const { connectors } = _ConnectorController_js__WEBPACK_IMPORTED_MODULE_10__.ConnectorController.state;\n        const ids = connectors.map(({ imageId }) => imageId).filter(Boolean);\n        await Promise.allSettled(ids.map(id => ApiController._fetchConnectorImage(id)));\n    },\n    async fetchCurrencyImages(currencies = []) {\n        await Promise.allSettled(currencies.map(currency => ApiController._fetchCurrencyImage(currency)));\n    },\n    async fetchTokenImages(tokens = []) {\n        await Promise.allSettled(tokens.map(token => ApiController._fetchTokenImage(token)));\n    },\n    async fetchWallets(params) {\n        const exclude = params.exclude ?? [];\n        const sdkProperties = ApiController._getSdkProperties();\n        if (sdkProperties.sv.startsWith('html-core-')) {\n            exclude.push(...Object.values(_utils_MobileWallet_js__WEBPACK_IMPORTED_MODULE_6__.CUSTOM_DEEPLINK_WALLETS).map(w => w.id));\n        }\n        const wallets = await api.get({\n            path: '/getWallets',\n            params: {\n                ...ApiController._getSdkProperties(),\n                ...params,\n                page: String(params.page),\n                entries: String(params.entries),\n                include: params.include?.join(','),\n                exclude: exclude.join(',')\n            }\n        });\n        const { filteredWallets, mobileFilteredOutWalletsLength } = ApiController._filterWalletsByPlatform(wallets?.data);\n        return {\n            data: filteredWallets || [],\n            // Keep original count for display on main page\n            count: wallets?.count,\n            mobileFilteredOutWalletsLength\n        };\n    },\n    async prefetchWalletRanks() {\n        const connectors = _ConnectorController_js__WEBPACK_IMPORTED_MODULE_10__.ConnectorController.state.connectors;\n        if (!connectors?.length) {\n            return;\n        }\n        const params = {\n            page: 1,\n            entries: 20,\n            badge: 'certified'\n        };\n        params.names = connectors.map(c => c.name).join(',');\n        if (_ChainController_js__WEBPACK_IMPORTED_MODULE_8__.ChainController.state.activeChain === _reown_appkit_common__WEBPACK_IMPORTED_MODULE_7__.ConstantsUtil.CHAIN.EVM) {\n            const rdnsCandidates = [\n                ...connectors.flatMap(c => c.connectors?.map(sc => sc.info?.rdns) || []),\n                ...connectors.map(c => c.info?.rdns)\n            ].filter((val) => typeof val === 'string' && val.length > 0);\n            if (rdnsCandidates.length) {\n                params.rdns = rdnsCandidates.join(',');\n            }\n        }\n        const { data } = await ApiController.fetchWallets(params);\n        state.explorerWallets = data;\n        const caipNetworkIds = _ChainController_js__WEBPACK_IMPORTED_MODULE_8__.ChainController.getRequestedCaipNetworkIds().join(',');\n        state.explorerFilteredWallets = data.filter(wallet => wallet.chains?.some(chain => caipNetworkIds.includes(chain)));\n    },\n    async fetchFeaturedWallets() {\n        const { featuredWalletIds } = _OptionsController_js__WEBPACK_IMPORTED_MODULE_4__.OptionsController.state;\n        if (featuredWalletIds?.length) {\n            const params = {\n                ...ApiController._getSdkProperties(),\n                page: 1,\n                entries: featuredWalletIds?.length ?? recommendedEntries,\n                include: featuredWalletIds\n            };\n            const { data } = await ApiController.fetchWallets(params);\n            const sortedData = [...data].sort((a, b) => featuredWalletIds.indexOf(a.id) - featuredWalletIds.indexOf(b.id));\n            const images = sortedData.map(d => d.image_id).filter(Boolean);\n            await Promise.allSettled(images.map(id => ApiController._fetchWalletImage(id)));\n            state.featured = sortedData;\n            state.allFeatured = sortedData;\n        }\n    },\n    async fetchRecommendedWallets() {\n        try {\n            state.isFetchingRecommendedWallets = true;\n            const { includeWalletIds, excludeWalletIds, featuredWalletIds } = _OptionsController_js__WEBPACK_IMPORTED_MODULE_4__.OptionsController.state;\n            const exclude = [...(excludeWalletIds ?? []), ...(featuredWalletIds ?? [])].filter(Boolean);\n            const chains = _ChainController_js__WEBPACK_IMPORTED_MODULE_8__.ChainController.getRequestedCaipNetworkIds().join(',');\n            const params = {\n                page: 1,\n                entries: recommendedEntries,\n                include: includeWalletIds,\n                exclude,\n                chains\n            };\n            const { data, count } = await ApiController.fetchWallets(params);\n            const recent = _utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_11__.StorageUtil.getRecentWallets();\n            const recommendedImages = data.map(d => d.image_id).filter(Boolean);\n            const recentImages = recent.map(r => r.image_id).filter(Boolean);\n            await Promise.allSettled([...recommendedImages, ...recentImages].map(id => ApiController._fetchWalletImage(id)));\n            state.recommended = data;\n            state.allRecommended = data;\n            state.count = count ?? 0;\n        }\n        catch {\n            // Catch silently\n        }\n        finally {\n            state.isFetchingRecommendedWallets = false;\n        }\n    },\n    async fetchWalletsByPage({ page }) {\n        const { includeWalletIds, excludeWalletIds, featuredWalletIds } = _OptionsController_js__WEBPACK_IMPORTED_MODULE_4__.OptionsController.state;\n        const chains = _ChainController_js__WEBPACK_IMPORTED_MODULE_8__.ChainController.getRequestedCaipNetworkIds().join(',');\n        const exclude = [\n            ...state.recommended.map(({ id }) => id),\n            ...(excludeWalletIds ?? []),\n            ...(featuredWalletIds ?? [])\n        ].filter(Boolean);\n        const params = {\n            page,\n            entries,\n            include: includeWalletIds,\n            exclude,\n            chains\n        };\n        const { data, count, mobileFilteredOutWalletsLength } = await ApiController.fetchWallets(params);\n        state.mobileFilteredOutWalletsLength =\n            mobileFilteredOutWalletsLength + (state.mobileFilteredOutWalletsLength ?? 0);\n        const images = data\n            .slice(0, imageCountToFetch)\n            .map(w => w.image_id)\n            .filter(Boolean);\n        await Promise.allSettled(images.map(id => ApiController._fetchWalletImage(id)));\n        state.wallets = _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_0__.CoreHelperUtil.uniqueBy([...state.wallets, ...ApiController._filterOutExtensions(data)], 'id').filter(w => w.chains?.some(chain => chains.includes(chain)));\n        state.count = count > state.count ? count : state.count;\n        state.page = page;\n    },\n    async initializeExcludedWallets({ ids }) {\n        const params = {\n            page: 1,\n            entries: ids.length,\n            include: ids\n        };\n        const { data } = await ApiController.fetchWallets(params);\n        if (data) {\n            data.forEach(wallet => {\n                state.excludedWallets.push({ rdns: wallet.rdns, name: wallet.name });\n            });\n        }\n    },\n    async searchWallet({ search, badge }) {\n        const { includeWalletIds, excludeWalletIds } = _OptionsController_js__WEBPACK_IMPORTED_MODULE_4__.OptionsController.state;\n        const chains = _ChainController_js__WEBPACK_IMPORTED_MODULE_8__.ChainController.getRequestedCaipNetworkIds().join(',');\n        state.search = [];\n        const params = {\n            page: 1,\n            entries: 100,\n            search: search?.trim(),\n            badge_type: badge,\n            include: includeWalletIds,\n            exclude: excludeWalletIds,\n            chains\n        };\n        const { data } = await ApiController.fetchWallets(params);\n        _EventsController_js__WEBPACK_IMPORTED_MODULE_12__.EventsController.sendEvent({\n            type: 'track',\n            event: 'SEARCH_WALLET',\n            properties: { badge: badge ?? '', search: search ?? '' }\n        });\n        const images = data.map(w => w.image_id).filter(Boolean);\n        await Promise.allSettled([\n            ...images.map(id => ApiController._fetchWalletImage(id)),\n            _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_0__.CoreHelperUtil.wait(300)\n        ]);\n        state.search = ApiController._filterOutExtensions(data);\n    },\n    initPromise(key, fetchFn) {\n        const existingPromise = state.promises[key];\n        if (existingPromise) {\n            return existingPromise;\n        }\n        return (state.promises[key] = fetchFn());\n    },\n    prefetch({ fetchConnectorImages = true, fetchFeaturedWallets = true, fetchRecommendedWallets = true, fetchNetworkImages = true, fetchWalletRanks = true } = {}) {\n        const promises = [\n            fetchConnectorImages &&\n                ApiController.initPromise('connectorImages', ApiController.fetchConnectorImages),\n            fetchFeaturedWallets &&\n                ApiController.initPromise('featuredWallets', ApiController.fetchFeaturedWallets),\n            fetchRecommendedWallets &&\n                ApiController.initPromise('recommendedWallets', ApiController.fetchRecommendedWallets),\n            fetchNetworkImages &&\n                ApiController.initPromise('networkImages', ApiController.fetchNetworkImages),\n            fetchWalletRanks &&\n                ApiController.initPromise('walletRanks', ApiController.prefetchWalletRanks)\n        ].filter(Boolean);\n        return Promise.allSettled(promises);\n    },\n    prefetchAnalyticsConfig() {\n        if (_OptionsController_js__WEBPACK_IMPORTED_MODULE_4__.OptionsController.state.features?.analytics) {\n            ApiController.fetchAnalyticsConfig();\n        }\n    },\n    async fetchAnalyticsConfig() {\n        try {\n            const { isAnalyticsEnabled } = await api.get({\n                path: '/getAnalyticsConfig',\n                params: ApiController._getSdkProperties()\n            });\n            _OptionsController_js__WEBPACK_IMPORTED_MODULE_4__.OptionsController.setFeatures({ analytics: isAnalyticsEnabled });\n        }\n        catch (error) {\n            _OptionsController_js__WEBPACK_IMPORTED_MODULE_4__.OptionsController.setFeatures({ analytics: false });\n        }\n    },\n    filterByNamespaces(namespaces) {\n        if (!namespaces?.length) {\n            state.featured = state.allFeatured;\n            state.recommended = state.allRecommended;\n            return;\n        }\n        const caipNetworkIds = _ChainController_js__WEBPACK_IMPORTED_MODULE_8__.ChainController.getRequestedCaipNetworkIds().join(',');\n        state.featured = state.allFeatured.filter(wallet => wallet.chains?.some(chain => caipNetworkIds.includes(chain)));\n        state.recommended = state.allRecommended.filter(wallet => wallet.chains?.some(chain => caipNetworkIds.includes(chain)));\n        state.filteredWallets = state.wallets.filter(wallet => wallet.chains?.some(chain => caipNetworkIds.includes(chain)));\n    },\n    clearFilterByNamespaces() {\n        state.filteredWallets = [];\n    },\n    setFilterByNamespace(namespace) {\n        if (!namespace) {\n            state.featured = state.allFeatured;\n            state.recommended = state.allRecommended;\n            return;\n        }\n        const caipNetworkIds = _ChainController_js__WEBPACK_IMPORTED_MODULE_8__.ChainController.getRequestedCaipNetworkIds().join(',');\n        state.featured = state.allFeatured.filter(wallet => wallet.chains?.some(chain => caipNetworkIds.includes(chain)));\n        state.recommended = state.allRecommended.filter(wallet => wallet.chains?.some(chain => caipNetworkIds.includes(chain)));\n        state.filteredWallets = state.wallets.filter(wallet => wallet.chains?.some(chain => caipNetworkIds.includes(chain)));\n    }\n};\n//# sourceMappingURL=ApiController.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTFfQHJlYWN0LW5hdGl2ZS1hc3luYy1zdG9yYWdlK2FzeW5jLXN0b3JhZ2VAMi4yLjBfcmVhY3QtX2E4MDMyMTIzODk3ZTA3OTMxMzc0MjMyYzNjYzRlNTM1L25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9BcGlDb250cm9sbGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUF1QztBQUN1QjtBQUNUO0FBQ0g7QUFDVTtBQUNWO0FBQ2lCO0FBQ2I7QUFDQztBQUNBO0FBQ1E7QUFDTjtBQUNFO0FBQzNEO0FBQ0EsZ0JBQWdCLG9FQUFjO0FBQ3ZCLGdCQUFnQiwwREFBUztBQUNoQztBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxxREFBSztBQUNuQixnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDTztBQUNQO0FBQ0E7QUFDQSxlQUFlLGtFQUFNO0FBQ3JCLEtBQUs7QUFDTDtBQUNBLGdCQUFnQixpQ0FBaUMsRUFBRSxvRUFBaUI7QUFDcEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLFlBQVksb0VBQWlCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLDRCQUE0QixZQUFZLGtCQUFrQixRQUFRO0FBQ2xFLHlDQUF5QywyREFBMkQ7QUFDcEcsUUFBUSxnRUFBZTtBQUN2QixLQUFLO0FBQ0w7QUFDQSw0QkFBNEIsWUFBWSx3QkFBd0IsUUFBUTtBQUN4RSx5Q0FBeUMsMkRBQTJEO0FBQ3BHLFFBQVEsZ0VBQWU7QUFDdkIsS0FBSztBQUNMO0FBQ0EsNEJBQTRCLFlBQVksd0JBQXdCLFFBQVE7QUFDeEUseUNBQXlDLDJEQUEyRDtBQUNwRyxRQUFRLGdFQUFlO0FBQ3ZCLEtBQUs7QUFDTDtBQUNBLDRCQUE0QixZQUFZLDJCQUEyQixZQUFZO0FBQy9FLHlDQUF5QywyREFBMkQ7QUFDcEcsUUFBUSxnRUFBZTtBQUN2QixLQUFLO0FBQ0w7QUFDQSw0QkFBNEIsWUFBWSx3QkFBd0IsT0FBTztBQUN2RSx5Q0FBeUMsMkRBQTJEO0FBQ3BHLFFBQVEsZ0VBQWU7QUFDdkIsS0FBSztBQUNMO0FBQ0E7QUFDQSxnQ0FBZ0Msb0VBQWM7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4REFBOEQsMkVBQXVCO0FBQ3JGO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2Isb0JBQW9CLHlDQUF5QztBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxvQkFBb0IsaUJBQWlCO0FBQ3JDO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQiwrREFBYTtBQUM1QyxzREFBc0QsY0FBYztBQUNwRTtBQUNBLDhCQUE4QiwrREFBYTtBQUMzQyxzREFBc0QsY0FBYztBQUNwRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0Esc0NBQXNDLGdFQUFlO0FBQ3JEO0FBQ0EscUJBQXFCLFFBQVE7QUFDN0I7QUFDQSxnQ0FBZ0MsMERBQVM7QUFDekM7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsZ0JBQWdCLGFBQWEsRUFBRSx5RUFBbUI7QUFDbEQsc0NBQXNDLFNBQVM7QUFDL0M7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLDJFQUF1QjtBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULGdCQUFnQixrREFBa0Q7QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsMkJBQTJCLHlFQUFtQjtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGdFQUFlLHVCQUF1QiwrREFBYTtBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLE9BQU87QUFDdkI7QUFDQSwrQkFBK0IsZ0VBQWU7QUFDOUM7QUFDQSxLQUFLO0FBQ0w7QUFDQSxnQkFBZ0Isb0JBQW9CLEVBQUUsb0VBQWlCO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLE9BQU87QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQix3REFBd0QsRUFBRSxvRUFBaUI7QUFDL0Y7QUFDQSwyQkFBMkIsZ0VBQWU7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsY0FBYztBQUNsQywyQkFBMkIsK0RBQVc7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsK0JBQStCLE1BQU07QUFDckMsZ0JBQWdCLHdEQUF3RCxFQUFFLG9FQUFpQjtBQUMzRix1QkFBdUIsZ0VBQWU7QUFDdEM7QUFDQSx3Q0FBd0MsSUFBSTtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQiw4Q0FBOEM7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0Isb0VBQWM7QUFDdEM7QUFDQTtBQUNBLEtBQUs7QUFDTCxzQ0FBc0MsS0FBSztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLE9BQU87QUFDdkI7QUFDQTtBQUNBLDZDQUE2QyxzQ0FBc0M7QUFDbkYsYUFBYTtBQUNiO0FBQ0EsS0FBSztBQUNMLHlCQUF5QixlQUFlO0FBQ3hDLGdCQUFnQixxQ0FBcUMsRUFBRSxvRUFBaUI7QUFDeEUsdUJBQXVCLGdFQUFlO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLE9BQU87QUFDdkIsUUFBUSxtRUFBZ0I7QUFDeEI7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsWUFBWSxvRUFBYztBQUMxQjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxlQUFlLCtJQUErSSxJQUFJO0FBQ2xLO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsWUFBWSxvRUFBaUI7QUFDN0I7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0Esb0JBQW9CLHFCQUFxQjtBQUN6QztBQUNBO0FBQ0EsYUFBYTtBQUNiLFlBQVksb0VBQWlCLGVBQWUsK0JBQStCO0FBQzNFO0FBQ0E7QUFDQSxZQUFZLG9FQUFpQixlQUFlLGtCQUFrQjtBQUM5RDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsZ0VBQWU7QUFDOUM7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLGdFQUFlO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL25vZ2dsci8uL25vZGVfbW9kdWxlcy8ucG5wbS9AcmVvd24rYXBwa2l0LWNvbnRyb2xsZXJzQDEuOC4xMV9AcmVhY3QtbmF0aXZlLWFzeW5jLXN0b3JhZ2UrYXN5bmMtc3RvcmFnZUAyLjIuMF9yZWFjdC1fYTgwMzIxMjM4OTdlMDc5MzEzNzQyMzJjM2NjNGU1MzUvbm9kZV9tb2R1bGVzL0ByZW93bi9hcHBraXQtY29udHJvbGxlcnMvZGlzdC9lc20vc3JjL2NvbnRyb2xsZXJzL0FwaUNvbnRyb2xsZXIuanM/ZjRjMyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwcm94eSB9IGZyb20gJ3ZhbHRpby92YW5pbGxhJztcbmltcG9ydCB7IHN1YnNjcmliZUtleSBhcyBzdWJLZXkgfSBmcm9tICd2YWx0aW8vdmFuaWxsYS91dGlscyc7XG5pbXBvcnQgeyBDb25zdGFudHNVdGlsIH0gZnJvbSAnQHJlb3duL2FwcGtpdC1jb21tb24nO1xuaW1wb3J0IHsgQXNzZXRVdGlsIH0gZnJvbSAnLi4vdXRpbHMvQXNzZXRVdGlsLmpzJztcbmltcG9ydCB7IENvcmVIZWxwZXJVdGlsIH0gZnJvbSAnLi4vdXRpbHMvQ29yZUhlbHBlclV0aWwuanMnO1xuaW1wb3J0IHsgRmV0Y2hVdGlsIH0gZnJvbSAnLi4vdXRpbHMvRmV0Y2hVdGlsLmpzJztcbmltcG9ydCB7IENVU1RPTV9ERUVQTElOS19XQUxMRVRTIH0gZnJvbSAnLi4vdXRpbHMvTW9iaWxlV2FsbGV0LmpzJztcbmltcG9ydCB7IFN0b3JhZ2VVdGlsIH0gZnJvbSAnLi4vdXRpbHMvU3RvcmFnZVV0aWwuanMnO1xuaW1wb3J0IHsgQXNzZXRDb250cm9sbGVyIH0gZnJvbSAnLi9Bc3NldENvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgQ2hhaW5Db250cm9sbGVyIH0gZnJvbSAnLi9DaGFpbkNvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgQ29ubmVjdG9yQ29udHJvbGxlciB9IGZyb20gJy4vQ29ubmVjdG9yQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBFdmVudHNDb250cm9sbGVyIH0gZnJvbSAnLi9FdmVudHNDb250cm9sbGVyLmpzJztcbmltcG9ydCB7IE9wdGlvbnNDb250cm9sbGVyIH0gZnJvbSAnLi9PcHRpb25zQ29udHJvbGxlci5qcyc7XG4vLyAtLSBIZWxwZXJzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbmNvbnN0IGJhc2VVcmwgPSBDb3JlSGVscGVyVXRpbC5nZXRBcGlVcmwoKTtcbmV4cG9ydCBjb25zdCBhcGkgPSBuZXcgRmV0Y2hVdGlsKHtcbiAgICBiYXNlVXJsLFxuICAgIGNsaWVudElkOiBudWxsXG59KTtcbmNvbnN0IGVudHJpZXMgPSA0MDtcbmNvbnN0IHJlY29tbWVuZGVkRW50cmllcyA9IDQ7XG5jb25zdCBpbWFnZUNvdW50VG9GZXRjaCA9IDIwO1xuLy8gLS0gU3RhdGUgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5jb25zdCBzdGF0ZSA9IHByb3h5KHtcbiAgICBwcm9taXNlczoge30sXG4gICAgcGFnZTogMSxcbiAgICBjb3VudDogMCxcbiAgICBmZWF0dXJlZDogW10sXG4gICAgYWxsRmVhdHVyZWQ6IFtdLFxuICAgIHJlY29tbWVuZGVkOiBbXSxcbiAgICBhbGxSZWNvbW1lbmRlZDogW10sXG4gICAgd2FsbGV0czogW10sXG4gICAgZmlsdGVyZWRXYWxsZXRzOiBbXSxcbiAgICBzZWFyY2g6IFtdLFxuICAgIGlzQW5hbHl0aWNzRW5hYmxlZDogZmFsc2UsXG4gICAgZXhjbHVkZWRXYWxsZXRzOiBbXSxcbiAgICBpc0ZldGNoaW5nUmVjb21tZW5kZWRXYWxsZXRzOiBmYWxzZSxcbiAgICBleHBsb3JlcldhbGxldHM6IFtdLFxuICAgIGV4cGxvcmVyRmlsdGVyZWRXYWxsZXRzOiBbXSxcbiAgICBwbGFuOiB7XG4gICAgICAgIHRpZXI6ICdub25lJyxcbiAgICAgICAgaGFzRXhjZWVkZWRVc2FnZUxpbWl0OiBmYWxzZSxcbiAgICAgICAgbGltaXRzOiB7XG4gICAgICAgICAgICBpc0Fib3ZlUnBjTGltaXQ6IGZhbHNlLFxuICAgICAgICAgICAgaXNBYm92ZU1hdUxpbWl0OiBmYWxzZVxuICAgICAgICB9XG4gICAgfVxufSk7XG4vLyAtLSBDb250cm9sbGVyIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbmV4cG9ydCBjb25zdCBBcGlDb250cm9sbGVyID0ge1xuICAgIHN0YXRlLFxuICAgIHN1YnNjcmliZUtleShrZXksIGNhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybiBzdWJLZXkoc3RhdGUsIGtleSwgY2FsbGJhY2spO1xuICAgIH0sXG4gICAgX2dldFNka1Byb3BlcnRpZXMoKSB7XG4gICAgICAgIGNvbnN0IHsgcHJvamVjdElkLCBzZGtUeXBlLCBzZGtWZXJzaW9uIH0gPSBPcHRpb25zQ29udHJvbGxlci5zdGF0ZTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHByb2plY3RJZCxcbiAgICAgICAgICAgIHN0OiBzZGtUeXBlIHx8ICdhcHBraXQnLFxuICAgICAgICAgICAgc3Y6IHNka1ZlcnNpb24gfHwgJ2h0bWwtd2FnbWktNC4yLjInXG4gICAgICAgIH07XG4gICAgfSxcbiAgICBfZmlsdGVyT3V0RXh0ZW5zaW9ucyh3YWxsZXRzKSB7XG4gICAgICAgIGlmIChPcHRpb25zQ29udHJvbGxlci5zdGF0ZS5pc1VuaXZlcnNhbFByb3ZpZGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gd2FsbGV0cy5maWx0ZXIodyA9PiBCb29sZWFuKHcubW9iaWxlX2xpbmsgfHwgdy5kZXNrdG9wX2xpbmsgfHwgdy53ZWJhcHBfbGluaykpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3YWxsZXRzO1xuICAgIH0sXG4gICAgYXN5bmMgX2ZldGNoV2FsbGV0SW1hZ2UoaW1hZ2VJZCkge1xuICAgICAgICBjb25zdCBpbWFnZVVybCA9IGAke2FwaS5iYXNlVXJsfS9nZXRXYWxsZXRJbWFnZS8ke2ltYWdlSWR9YDtcbiAgICAgICAgY29uc3QgYmxvYiA9IGF3YWl0IGFwaS5nZXRCbG9iKHsgcGF0aDogaW1hZ2VVcmwsIHBhcmFtczogQXBpQ29udHJvbGxlci5fZ2V0U2RrUHJvcGVydGllcygpIH0pO1xuICAgICAgICBBc3NldENvbnRyb2xsZXIuc2V0V2FsbGV0SW1hZ2UoaW1hZ2VJZCwgVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKSk7XG4gICAgfSxcbiAgICBhc3luYyBfZmV0Y2hOZXR3b3JrSW1hZ2UoaW1hZ2VJZCkge1xuICAgICAgICBjb25zdCBpbWFnZVVybCA9IGAke2FwaS5iYXNlVXJsfS9wdWJsaWMvZ2V0QXNzZXRJbWFnZS8ke2ltYWdlSWR9YDtcbiAgICAgICAgY29uc3QgYmxvYiA9IGF3YWl0IGFwaS5nZXRCbG9iKHsgcGF0aDogaW1hZ2VVcmwsIHBhcmFtczogQXBpQ29udHJvbGxlci5fZ2V0U2RrUHJvcGVydGllcygpIH0pO1xuICAgICAgICBBc3NldENvbnRyb2xsZXIuc2V0TmV0d29ya0ltYWdlKGltYWdlSWQsIFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYikpO1xuICAgIH0sXG4gICAgYXN5bmMgX2ZldGNoQ29ubmVjdG9ySW1hZ2UoaW1hZ2VJZCkge1xuICAgICAgICBjb25zdCBpbWFnZVVybCA9IGAke2FwaS5iYXNlVXJsfS9wdWJsaWMvZ2V0QXNzZXRJbWFnZS8ke2ltYWdlSWR9YDtcbiAgICAgICAgY29uc3QgYmxvYiA9IGF3YWl0IGFwaS5nZXRCbG9iKHsgcGF0aDogaW1hZ2VVcmwsIHBhcmFtczogQXBpQ29udHJvbGxlci5fZ2V0U2RrUHJvcGVydGllcygpIH0pO1xuICAgICAgICBBc3NldENvbnRyb2xsZXIuc2V0Q29ubmVjdG9ySW1hZ2UoaW1hZ2VJZCwgVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKSk7XG4gICAgfSxcbiAgICBhc3luYyBfZmV0Y2hDdXJyZW5jeUltYWdlKGNvdW50cnlDb2RlKSB7XG4gICAgICAgIGNvbnN0IGltYWdlVXJsID0gYCR7YXBpLmJhc2VVcmx9L3B1YmxpYy9nZXRDdXJyZW5jeUltYWdlLyR7Y291bnRyeUNvZGV9YDtcbiAgICAgICAgY29uc3QgYmxvYiA9IGF3YWl0IGFwaS5nZXRCbG9iKHsgcGF0aDogaW1hZ2VVcmwsIHBhcmFtczogQXBpQ29udHJvbGxlci5fZ2V0U2RrUHJvcGVydGllcygpIH0pO1xuICAgICAgICBBc3NldENvbnRyb2xsZXIuc2V0Q3VycmVuY3lJbWFnZShjb3VudHJ5Q29kZSwgVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKSk7XG4gICAgfSxcbiAgICBhc3luYyBfZmV0Y2hUb2tlbkltYWdlKHN5bWJvbCkge1xuICAgICAgICBjb25zdCBpbWFnZVVybCA9IGAke2FwaS5iYXNlVXJsfS9wdWJsaWMvZ2V0VG9rZW5JbWFnZS8ke3N5bWJvbH1gO1xuICAgICAgICBjb25zdCBibG9iID0gYXdhaXQgYXBpLmdldEJsb2IoeyBwYXRoOiBpbWFnZVVybCwgcGFyYW1zOiBBcGlDb250cm9sbGVyLl9nZXRTZGtQcm9wZXJ0aWVzKCkgfSk7XG4gICAgICAgIEFzc2V0Q29udHJvbGxlci5zZXRUb2tlbkltYWdlKHN5bWJvbCwgVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKSk7XG4gICAgfSxcbiAgICBfZmlsdGVyV2FsbGV0c0J5UGxhdGZvcm0od2FsbGV0cykge1xuICAgICAgICBjb25zdCB3YWxsZXRzTGVuZ3RoID0gd2FsbGV0cy5sZW5ndGg7XG4gICAgICAgIGNvbnN0IGZpbHRlcmVkV2FsbGV0cyA9IENvcmVIZWxwZXJVdGlsLmlzTW9iaWxlKClcbiAgICAgICAgICAgID8gd2FsbGV0cz8uZmlsdGVyKHcgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh3Lm1vYmlsZV9saW5rIHx8IHcud2ViYXBwX2xpbmspIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGN1c3RvbURlZXBsaW5rV2FsbGV0SWRzID0gT2JqZWN0LnZhbHVlcyhDVVNUT01fREVFUExJTktfV0FMTEVUUykubWFwKHdhbGxldCA9PiB3YWxsZXQuaWQpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjdXN0b21EZWVwbGlua1dhbGxldElkcy5pbmNsdWRlcyh3LmlkKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICA6IHdhbGxldHM7XG4gICAgICAgIGNvbnN0IG1vYmlsZUZpbHRlcmVkT3V0V2FsbGV0c0xlbmd0aCA9IHdhbGxldHNMZW5ndGggLSBmaWx0ZXJlZFdhbGxldHMubGVuZ3RoO1xuICAgICAgICByZXR1cm4geyBmaWx0ZXJlZFdhbGxldHMsIG1vYmlsZUZpbHRlcmVkT3V0V2FsbGV0c0xlbmd0aCB9O1xuICAgIH0sXG4gICAgYXN5bmMgZmV0Y2hQcm9qZWN0Q29uZmlnKCkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGFwaS5nZXQoe1xuICAgICAgICAgICAgcGF0aDogJy9hcHBraXQvdjEvY29uZmlnJyxcbiAgICAgICAgICAgIHBhcmFtczogQXBpQ29udHJvbGxlci5fZ2V0U2RrUHJvcGVydGllcygpXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcmVzcG9uc2UuZmVhdHVyZXM7XG4gICAgfSxcbiAgICBhc3luYyBmZXRjaFVzYWdlKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhcGkuZ2V0KHtcbiAgICAgICAgICAgICAgICBwYXRoOiAnL2FwcGtpdC92MS9wcm9qZWN0LWxpbWl0cycsXG4gICAgICAgICAgICAgICAgcGFyYW1zOiBBcGlDb250cm9sbGVyLl9nZXRTZGtQcm9wZXJ0aWVzKClcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgeyB0aWVyLCBpc0Fib3ZlTWF1TGltaXQsIGlzQWJvdmVScGNMaW1pdCB9ID0gcmVzcG9uc2UucGxhbkxpbWl0cztcbiAgICAgICAgICAgIGNvbnN0IGlzU3RhcnRlclBsYW4gPSB0aWVyID09PSAnc3RhcnRlcic7XG4gICAgICAgICAgICBjb25zdCBpc0Fib3ZlVXNhZ2VMaW1pdCA9IGlzQWJvdmVNYXVMaW1pdCB8fCBpc0Fib3ZlUnBjTGltaXQ7XG4gICAgICAgICAgICBBcGlDb250cm9sbGVyLnN0YXRlLnBsYW4gPSB7XG4gICAgICAgICAgICAgICAgdGllcixcbiAgICAgICAgICAgICAgICBoYXNFeGNlZWRlZFVzYWdlTGltaXQ6IGlzU3RhcnRlclBsYW4gJiYgaXNBYm92ZVVzYWdlTGltaXQsXG4gICAgICAgICAgICAgICAgbGltaXRzOiB7XG4gICAgICAgICAgICAgICAgICAgIGlzQWJvdmVScGNMaW1pdCxcbiAgICAgICAgICAgICAgICAgICAgaXNBYm92ZU1hdUxpbWl0XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdGYWlsZWQgdG8gZmV0Y2ggdXNhZ2UnLCBlKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgYXN5bmMgZmV0Y2hBbGxvd2VkT3JpZ2lucygpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHsgYWxsb3dlZE9yaWdpbnMgfSA9IGF3YWl0IGFwaS5nZXQoe1xuICAgICAgICAgICAgICAgIHBhdGg6ICcvcHJvamVjdHMvdjEvb3JpZ2lucycsXG4gICAgICAgICAgICAgICAgcGFyYW1zOiBBcGlDb250cm9sbGVyLl9nZXRTZGtQcm9wZXJ0aWVzKClcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIGFsbG93ZWRPcmlnaW5zO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IgJiYgZXJyb3IuY2F1c2UgaW5zdGFuY2VvZiBSZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXR1cyA9IGVycm9yLmNhdXNlLnN0YXR1cztcbiAgICAgICAgICAgICAgICBpZiAoc3RhdHVzID09PSBDb25zdGFudHNVdGlsLkhUVFBfU1RBVFVTX0NPREVTLlRPT19NQU5ZX1JFUVVFU1RTKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUkFURV9MSU1JVEVEJywgeyBjYXVzZTogZXJyb3IgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzdGF0dXMgPj0gQ29uc3RhbnRzVXRpbC5IVFRQX1NUQVRVU19DT0RFUy5TRVJWRVJfRVJST1IgJiYgc3RhdHVzIDwgNjAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignU0VSVkVSX0VSUk9SJywgeyBjYXVzZTogZXJyb3IgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgYXN5bmMgZmV0Y2hOZXR3b3JrSW1hZ2VzKCkge1xuICAgICAgICBjb25zdCByZXF1ZXN0ZWRDYWlwTmV0d29ya3MgPSBDaGFpbkNvbnRyb2xsZXIuZ2V0QWxsUmVxdWVzdGVkQ2FpcE5ldHdvcmtzKCk7XG4gICAgICAgIGNvbnN0IGlkcyA9IHJlcXVlc3RlZENhaXBOZXR3b3Jrc1xuICAgICAgICAgICAgPy5tYXAoKHsgYXNzZXRzIH0pID0+IGFzc2V0cz8uaW1hZ2VJZClcbiAgICAgICAgICAgIC5maWx0ZXIoQm9vbGVhbilcbiAgICAgICAgICAgIC5maWx0ZXIoaW1hZ2VJZCA9PiAhQXNzZXRVdGlsLmdldE5ldHdvcmtJbWFnZUJ5SWQoaW1hZ2VJZCkpO1xuICAgICAgICBpZiAoaWRzKSB7XG4gICAgICAgICAgICBhd2FpdCBQcm9taXNlLmFsbFNldHRsZWQoaWRzLm1hcChpZCA9PiBBcGlDb250cm9sbGVyLl9mZXRjaE5ldHdvcmtJbWFnZShpZCkpKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgYXN5bmMgZmV0Y2hDb25uZWN0b3JJbWFnZXMoKSB7XG4gICAgICAgIGNvbnN0IHsgY29ubmVjdG9ycyB9ID0gQ29ubmVjdG9yQ29udHJvbGxlci5zdGF0ZTtcbiAgICAgICAgY29uc3QgaWRzID0gY29ubmVjdG9ycy5tYXAoKHsgaW1hZ2VJZCB9KSA9PiBpbWFnZUlkKS5maWx0ZXIoQm9vbGVhbik7XG4gICAgICAgIGF3YWl0IFByb21pc2UuYWxsU2V0dGxlZChpZHMubWFwKGlkID0+IEFwaUNvbnRyb2xsZXIuX2ZldGNoQ29ubmVjdG9ySW1hZ2UoaWQpKSk7XG4gICAgfSxcbiAgICBhc3luYyBmZXRjaEN1cnJlbmN5SW1hZ2VzKGN1cnJlbmNpZXMgPSBbXSkge1xuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbFNldHRsZWQoY3VycmVuY2llcy5tYXAoY3VycmVuY3kgPT4gQXBpQ29udHJvbGxlci5fZmV0Y2hDdXJyZW5jeUltYWdlKGN1cnJlbmN5KSkpO1xuICAgIH0sXG4gICAgYXN5bmMgZmV0Y2hUb2tlbkltYWdlcyh0b2tlbnMgPSBbXSkge1xuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbFNldHRsZWQodG9rZW5zLm1hcCh0b2tlbiA9PiBBcGlDb250cm9sbGVyLl9mZXRjaFRva2VuSW1hZ2UodG9rZW4pKSk7XG4gICAgfSxcbiAgICBhc3luYyBmZXRjaFdhbGxldHMocGFyYW1zKSB7XG4gICAgICAgIGNvbnN0IGV4Y2x1ZGUgPSBwYXJhbXMuZXhjbHVkZSA/PyBbXTtcbiAgICAgICAgY29uc3Qgc2RrUHJvcGVydGllcyA9IEFwaUNvbnRyb2xsZXIuX2dldFNka1Byb3BlcnRpZXMoKTtcbiAgICAgICAgaWYgKHNka1Byb3BlcnRpZXMuc3Yuc3RhcnRzV2l0aCgnaHRtbC1jb3JlLScpKSB7XG4gICAgICAgICAgICBleGNsdWRlLnB1c2goLi4uT2JqZWN0LnZhbHVlcyhDVVNUT01fREVFUExJTktfV0FMTEVUUykubWFwKHcgPT4gdy5pZCkpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHdhbGxldHMgPSBhd2FpdCBhcGkuZ2V0KHtcbiAgICAgICAgICAgIHBhdGg6ICcvZ2V0V2FsbGV0cycsXG4gICAgICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICAgICAgICAuLi5BcGlDb250cm9sbGVyLl9nZXRTZGtQcm9wZXJ0aWVzKCksXG4gICAgICAgICAgICAgICAgLi4ucGFyYW1zLFxuICAgICAgICAgICAgICAgIHBhZ2U6IFN0cmluZyhwYXJhbXMucGFnZSksXG4gICAgICAgICAgICAgICAgZW50cmllczogU3RyaW5nKHBhcmFtcy5lbnRyaWVzKSxcbiAgICAgICAgICAgICAgICBpbmNsdWRlOiBwYXJhbXMuaW5jbHVkZT8uam9pbignLCcpLFxuICAgICAgICAgICAgICAgIGV4Y2x1ZGU6IGV4Y2x1ZGUuam9pbignLCcpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCB7IGZpbHRlcmVkV2FsbGV0cywgbW9iaWxlRmlsdGVyZWRPdXRXYWxsZXRzTGVuZ3RoIH0gPSBBcGlDb250cm9sbGVyLl9maWx0ZXJXYWxsZXRzQnlQbGF0Zm9ybSh3YWxsZXRzPy5kYXRhKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGRhdGE6IGZpbHRlcmVkV2FsbGV0cyB8fCBbXSxcbiAgICAgICAgICAgIC8vIEtlZXAgb3JpZ2luYWwgY291bnQgZm9yIGRpc3BsYXkgb24gbWFpbiBwYWdlXG4gICAgICAgICAgICBjb3VudDogd2FsbGV0cz8uY291bnQsXG4gICAgICAgICAgICBtb2JpbGVGaWx0ZXJlZE91dFdhbGxldHNMZW5ndGhcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIGFzeW5jIHByZWZldGNoV2FsbGV0UmFua3MoKSB7XG4gICAgICAgIGNvbnN0IGNvbm5lY3RvcnMgPSBDb25uZWN0b3JDb250cm9sbGVyLnN0YXRlLmNvbm5lY3RvcnM7XG4gICAgICAgIGlmICghY29ubmVjdG9ycz8ubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGFyYW1zID0ge1xuICAgICAgICAgICAgcGFnZTogMSxcbiAgICAgICAgICAgIGVudHJpZXM6IDIwLFxuICAgICAgICAgICAgYmFkZ2U6ICdjZXJ0aWZpZWQnXG4gICAgICAgIH07XG4gICAgICAgIHBhcmFtcy5uYW1lcyA9IGNvbm5lY3RvcnMubWFwKGMgPT4gYy5uYW1lKS5qb2luKCcsJyk7XG4gICAgICAgIGlmIChDaGFpbkNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ2hhaW4gPT09IENvbnN0YW50c1V0aWwuQ0hBSU4uRVZNKSB7XG4gICAgICAgICAgICBjb25zdCByZG5zQ2FuZGlkYXRlcyA9IFtcbiAgICAgICAgICAgICAgICAuLi5jb25uZWN0b3JzLmZsYXRNYXAoYyA9PiBjLmNvbm5lY3RvcnM/Lm1hcChzYyA9PiBzYy5pbmZvPy5yZG5zKSB8fCBbXSksXG4gICAgICAgICAgICAgICAgLi4uY29ubmVjdG9ycy5tYXAoYyA9PiBjLmluZm8/LnJkbnMpXG4gICAgICAgICAgICBdLmZpbHRlcigodmFsKSA9PiB0eXBlb2YgdmFsID09PSAnc3RyaW5nJyAmJiB2YWwubGVuZ3RoID4gMCk7XG4gICAgICAgICAgICBpZiAocmRuc0NhbmRpZGF0ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgcGFyYW1zLnJkbnMgPSByZG5zQ2FuZGlkYXRlcy5qb2luKCcsJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCBBcGlDb250cm9sbGVyLmZldGNoV2FsbGV0cyhwYXJhbXMpO1xuICAgICAgICBzdGF0ZS5leHBsb3JlcldhbGxldHMgPSBkYXRhO1xuICAgICAgICBjb25zdCBjYWlwTmV0d29ya0lkcyA9IENoYWluQ29udHJvbGxlci5nZXRSZXF1ZXN0ZWRDYWlwTmV0d29ya0lkcygpLmpvaW4oJywnKTtcbiAgICAgICAgc3RhdGUuZXhwbG9yZXJGaWx0ZXJlZFdhbGxldHMgPSBkYXRhLmZpbHRlcih3YWxsZXQgPT4gd2FsbGV0LmNoYWlucz8uc29tZShjaGFpbiA9PiBjYWlwTmV0d29ya0lkcy5pbmNsdWRlcyhjaGFpbikpKTtcbiAgICB9LFxuICAgIGFzeW5jIGZldGNoRmVhdHVyZWRXYWxsZXRzKCkge1xuICAgICAgICBjb25zdCB7IGZlYXR1cmVkV2FsbGV0SWRzIH0gPSBPcHRpb25zQ29udHJvbGxlci5zdGF0ZTtcbiAgICAgICAgaWYgKGZlYXR1cmVkV2FsbGV0SWRzPy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICAuLi5BcGlDb250cm9sbGVyLl9nZXRTZGtQcm9wZXJ0aWVzKCksXG4gICAgICAgICAgICAgICAgcGFnZTogMSxcbiAgICAgICAgICAgICAgICBlbnRyaWVzOiBmZWF0dXJlZFdhbGxldElkcz8ubGVuZ3RoID8/IHJlY29tbWVuZGVkRW50cmllcyxcbiAgICAgICAgICAgICAgICBpbmNsdWRlOiBmZWF0dXJlZFdhbGxldElkc1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgQXBpQ29udHJvbGxlci5mZXRjaFdhbGxldHMocGFyYW1zKTtcbiAgICAgICAgICAgIGNvbnN0IHNvcnRlZERhdGEgPSBbLi4uZGF0YV0uc29ydCgoYSwgYikgPT4gZmVhdHVyZWRXYWxsZXRJZHMuaW5kZXhPZihhLmlkKSAtIGZlYXR1cmVkV2FsbGV0SWRzLmluZGV4T2YoYi5pZCkpO1xuICAgICAgICAgICAgY29uc3QgaW1hZ2VzID0gc29ydGVkRGF0YS5tYXAoZCA9PiBkLmltYWdlX2lkKS5maWx0ZXIoQm9vbGVhbik7XG4gICAgICAgICAgICBhd2FpdCBQcm9taXNlLmFsbFNldHRsZWQoaW1hZ2VzLm1hcChpZCA9PiBBcGlDb250cm9sbGVyLl9mZXRjaFdhbGxldEltYWdlKGlkKSkpO1xuICAgICAgICAgICAgc3RhdGUuZmVhdHVyZWQgPSBzb3J0ZWREYXRhO1xuICAgICAgICAgICAgc3RhdGUuYWxsRmVhdHVyZWQgPSBzb3J0ZWREYXRhO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBhc3luYyBmZXRjaFJlY29tbWVuZGVkV2FsbGV0cygpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHN0YXRlLmlzRmV0Y2hpbmdSZWNvbW1lbmRlZFdhbGxldHMgPSB0cnVlO1xuICAgICAgICAgICAgY29uc3QgeyBpbmNsdWRlV2FsbGV0SWRzLCBleGNsdWRlV2FsbGV0SWRzLCBmZWF0dXJlZFdhbGxldElkcyB9ID0gT3B0aW9uc0NvbnRyb2xsZXIuc3RhdGU7XG4gICAgICAgICAgICBjb25zdCBleGNsdWRlID0gWy4uLihleGNsdWRlV2FsbGV0SWRzID8/IFtdKSwgLi4uKGZlYXR1cmVkV2FsbGV0SWRzID8/IFtdKV0uZmlsdGVyKEJvb2xlYW4pO1xuICAgICAgICAgICAgY29uc3QgY2hhaW5zID0gQ2hhaW5Db250cm9sbGVyLmdldFJlcXVlc3RlZENhaXBOZXR3b3JrSWRzKCkuam9pbignLCcpO1xuICAgICAgICAgICAgY29uc3QgcGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHBhZ2U6IDEsXG4gICAgICAgICAgICAgICAgZW50cmllczogcmVjb21tZW5kZWRFbnRyaWVzLFxuICAgICAgICAgICAgICAgIGluY2x1ZGU6IGluY2x1ZGVXYWxsZXRJZHMsXG4gICAgICAgICAgICAgICAgZXhjbHVkZSxcbiAgICAgICAgICAgICAgICBjaGFpbnNcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCB7IGRhdGEsIGNvdW50IH0gPSBhd2FpdCBBcGlDb250cm9sbGVyLmZldGNoV2FsbGV0cyhwYXJhbXMpO1xuICAgICAgICAgICAgY29uc3QgcmVjZW50ID0gU3RvcmFnZVV0aWwuZ2V0UmVjZW50V2FsbGV0cygpO1xuICAgICAgICAgICAgY29uc3QgcmVjb21tZW5kZWRJbWFnZXMgPSBkYXRhLm1hcChkID0+IGQuaW1hZ2VfaWQpLmZpbHRlcihCb29sZWFuKTtcbiAgICAgICAgICAgIGNvbnN0IHJlY2VudEltYWdlcyA9IHJlY2VudC5tYXAociA9PiByLmltYWdlX2lkKS5maWx0ZXIoQm9vbGVhbik7XG4gICAgICAgICAgICBhd2FpdCBQcm9taXNlLmFsbFNldHRsZWQoWy4uLnJlY29tbWVuZGVkSW1hZ2VzLCAuLi5yZWNlbnRJbWFnZXNdLm1hcChpZCA9PiBBcGlDb250cm9sbGVyLl9mZXRjaFdhbGxldEltYWdlKGlkKSkpO1xuICAgICAgICAgICAgc3RhdGUucmVjb21tZW5kZWQgPSBkYXRhO1xuICAgICAgICAgICAgc3RhdGUuYWxsUmVjb21tZW5kZWQgPSBkYXRhO1xuICAgICAgICAgICAgc3RhdGUuY291bnQgPSBjb3VudCA/PyAwO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIC8vIENhdGNoIHNpbGVudGx5XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICBzdGF0ZS5pc0ZldGNoaW5nUmVjb21tZW5kZWRXYWxsZXRzID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGFzeW5jIGZldGNoV2FsbGV0c0J5UGFnZSh7IHBhZ2UgfSkge1xuICAgICAgICBjb25zdCB7IGluY2x1ZGVXYWxsZXRJZHMsIGV4Y2x1ZGVXYWxsZXRJZHMsIGZlYXR1cmVkV2FsbGV0SWRzIH0gPSBPcHRpb25zQ29udHJvbGxlci5zdGF0ZTtcbiAgICAgICAgY29uc3QgY2hhaW5zID0gQ2hhaW5Db250cm9sbGVyLmdldFJlcXVlc3RlZENhaXBOZXR3b3JrSWRzKCkuam9pbignLCcpO1xuICAgICAgICBjb25zdCBleGNsdWRlID0gW1xuICAgICAgICAgICAgLi4uc3RhdGUucmVjb21tZW5kZWQubWFwKCh7IGlkIH0pID0+IGlkKSxcbiAgICAgICAgICAgIC4uLihleGNsdWRlV2FsbGV0SWRzID8/IFtdKSxcbiAgICAgICAgICAgIC4uLihmZWF0dXJlZFdhbGxldElkcyA/PyBbXSlcbiAgICAgICAgXS5maWx0ZXIoQm9vbGVhbik7XG4gICAgICAgIGNvbnN0IHBhcmFtcyA9IHtcbiAgICAgICAgICAgIHBhZ2UsXG4gICAgICAgICAgICBlbnRyaWVzLFxuICAgICAgICAgICAgaW5jbHVkZTogaW5jbHVkZVdhbGxldElkcyxcbiAgICAgICAgICAgIGV4Y2x1ZGUsXG4gICAgICAgICAgICBjaGFpbnNcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgeyBkYXRhLCBjb3VudCwgbW9iaWxlRmlsdGVyZWRPdXRXYWxsZXRzTGVuZ3RoIH0gPSBhd2FpdCBBcGlDb250cm9sbGVyLmZldGNoV2FsbGV0cyhwYXJhbXMpO1xuICAgICAgICBzdGF0ZS5tb2JpbGVGaWx0ZXJlZE91dFdhbGxldHNMZW5ndGggPVxuICAgICAgICAgICAgbW9iaWxlRmlsdGVyZWRPdXRXYWxsZXRzTGVuZ3RoICsgKHN0YXRlLm1vYmlsZUZpbHRlcmVkT3V0V2FsbGV0c0xlbmd0aCA/PyAwKTtcbiAgICAgICAgY29uc3QgaW1hZ2VzID0gZGF0YVxuICAgICAgICAgICAgLnNsaWNlKDAsIGltYWdlQ291bnRUb0ZldGNoKVxuICAgICAgICAgICAgLm1hcCh3ID0+IHcuaW1hZ2VfaWQpXG4gICAgICAgICAgICAuZmlsdGVyKEJvb2xlYW4pO1xuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbFNldHRsZWQoaW1hZ2VzLm1hcChpZCA9PiBBcGlDb250cm9sbGVyLl9mZXRjaFdhbGxldEltYWdlKGlkKSkpO1xuICAgICAgICBzdGF0ZS53YWxsZXRzID0gQ29yZUhlbHBlclV0aWwudW5pcXVlQnkoWy4uLnN0YXRlLndhbGxldHMsIC4uLkFwaUNvbnRyb2xsZXIuX2ZpbHRlck91dEV4dGVuc2lvbnMoZGF0YSldLCAnaWQnKS5maWx0ZXIodyA9PiB3LmNoYWlucz8uc29tZShjaGFpbiA9PiBjaGFpbnMuaW5jbHVkZXMoY2hhaW4pKSk7XG4gICAgICAgIHN0YXRlLmNvdW50ID0gY291bnQgPiBzdGF0ZS5jb3VudCA/IGNvdW50IDogc3RhdGUuY291bnQ7XG4gICAgICAgIHN0YXRlLnBhZ2UgPSBwYWdlO1xuICAgIH0sXG4gICAgYXN5bmMgaW5pdGlhbGl6ZUV4Y2x1ZGVkV2FsbGV0cyh7IGlkcyB9KSB7XG4gICAgICAgIGNvbnN0IHBhcmFtcyA9IHtcbiAgICAgICAgICAgIHBhZ2U6IDEsXG4gICAgICAgICAgICBlbnRyaWVzOiBpZHMubGVuZ3RoLFxuICAgICAgICAgICAgaW5jbHVkZTogaWRzXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgQXBpQ29udHJvbGxlci5mZXRjaFdhbGxldHMocGFyYW1zKTtcbiAgICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgICAgIGRhdGEuZm9yRWFjaCh3YWxsZXQgPT4ge1xuICAgICAgICAgICAgICAgIHN0YXRlLmV4Y2x1ZGVkV2FsbGV0cy5wdXNoKHsgcmRuczogd2FsbGV0LnJkbnMsIG5hbWU6IHdhbGxldC5uYW1lIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGFzeW5jIHNlYXJjaFdhbGxldCh7IHNlYXJjaCwgYmFkZ2UgfSkge1xuICAgICAgICBjb25zdCB7IGluY2x1ZGVXYWxsZXRJZHMsIGV4Y2x1ZGVXYWxsZXRJZHMgfSA9IE9wdGlvbnNDb250cm9sbGVyLnN0YXRlO1xuICAgICAgICBjb25zdCBjaGFpbnMgPSBDaGFpbkNvbnRyb2xsZXIuZ2V0UmVxdWVzdGVkQ2FpcE5ldHdvcmtJZHMoKS5qb2luKCcsJyk7XG4gICAgICAgIHN0YXRlLnNlYXJjaCA9IFtdO1xuICAgICAgICBjb25zdCBwYXJhbXMgPSB7XG4gICAgICAgICAgICBwYWdlOiAxLFxuICAgICAgICAgICAgZW50cmllczogMTAwLFxuICAgICAgICAgICAgc2VhcmNoOiBzZWFyY2g/LnRyaW0oKSxcbiAgICAgICAgICAgIGJhZGdlX3R5cGU6IGJhZGdlLFxuICAgICAgICAgICAgaW5jbHVkZTogaW5jbHVkZVdhbGxldElkcyxcbiAgICAgICAgICAgIGV4Y2x1ZGU6IGV4Y2x1ZGVXYWxsZXRJZHMsXG4gICAgICAgICAgICBjaGFpbnNcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCBBcGlDb250cm9sbGVyLmZldGNoV2FsbGV0cyhwYXJhbXMpO1xuICAgICAgICBFdmVudHNDb250cm9sbGVyLnNlbmRFdmVudCh7XG4gICAgICAgICAgICB0eXBlOiAndHJhY2snLFxuICAgICAgICAgICAgZXZlbnQ6ICdTRUFSQ0hfV0FMTEVUJyxcbiAgICAgICAgICAgIHByb3BlcnRpZXM6IHsgYmFkZ2U6IGJhZGdlID8/ICcnLCBzZWFyY2g6IHNlYXJjaCA/PyAnJyB9XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBpbWFnZXMgPSBkYXRhLm1hcCh3ID0+IHcuaW1hZ2VfaWQpLmZpbHRlcihCb29sZWFuKTtcbiAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGxTZXR0bGVkKFtcbiAgICAgICAgICAgIC4uLmltYWdlcy5tYXAoaWQgPT4gQXBpQ29udHJvbGxlci5fZmV0Y2hXYWxsZXRJbWFnZShpZCkpLFxuICAgICAgICAgICAgQ29yZUhlbHBlclV0aWwud2FpdCgzMDApXG4gICAgICAgIF0pO1xuICAgICAgICBzdGF0ZS5zZWFyY2ggPSBBcGlDb250cm9sbGVyLl9maWx0ZXJPdXRFeHRlbnNpb25zKGRhdGEpO1xuICAgIH0sXG4gICAgaW5pdFByb21pc2Uoa2V5LCBmZXRjaEZuKSB7XG4gICAgICAgIGNvbnN0IGV4aXN0aW5nUHJvbWlzZSA9IHN0YXRlLnByb21pc2VzW2tleV07XG4gICAgICAgIGlmIChleGlzdGluZ1Byb21pc2UpIHtcbiAgICAgICAgICAgIHJldHVybiBleGlzdGluZ1Byb21pc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChzdGF0ZS5wcm9taXNlc1trZXldID0gZmV0Y2hGbigpKTtcbiAgICB9LFxuICAgIHByZWZldGNoKHsgZmV0Y2hDb25uZWN0b3JJbWFnZXMgPSB0cnVlLCBmZXRjaEZlYXR1cmVkV2FsbGV0cyA9IHRydWUsIGZldGNoUmVjb21tZW5kZWRXYWxsZXRzID0gdHJ1ZSwgZmV0Y2hOZXR3b3JrSW1hZ2VzID0gdHJ1ZSwgZmV0Y2hXYWxsZXRSYW5rcyA9IHRydWUgfSA9IHt9KSB7XG4gICAgICAgIGNvbnN0IHByb21pc2VzID0gW1xuICAgICAgICAgICAgZmV0Y2hDb25uZWN0b3JJbWFnZXMgJiZcbiAgICAgICAgICAgICAgICBBcGlDb250cm9sbGVyLmluaXRQcm9taXNlKCdjb25uZWN0b3JJbWFnZXMnLCBBcGlDb250cm9sbGVyLmZldGNoQ29ubmVjdG9ySW1hZ2VzKSxcbiAgICAgICAgICAgIGZldGNoRmVhdHVyZWRXYWxsZXRzICYmXG4gICAgICAgICAgICAgICAgQXBpQ29udHJvbGxlci5pbml0UHJvbWlzZSgnZmVhdHVyZWRXYWxsZXRzJywgQXBpQ29udHJvbGxlci5mZXRjaEZlYXR1cmVkV2FsbGV0cyksXG4gICAgICAgICAgICBmZXRjaFJlY29tbWVuZGVkV2FsbGV0cyAmJlxuICAgICAgICAgICAgICAgIEFwaUNvbnRyb2xsZXIuaW5pdFByb21pc2UoJ3JlY29tbWVuZGVkV2FsbGV0cycsIEFwaUNvbnRyb2xsZXIuZmV0Y2hSZWNvbW1lbmRlZFdhbGxldHMpLFxuICAgICAgICAgICAgZmV0Y2hOZXR3b3JrSW1hZ2VzICYmXG4gICAgICAgICAgICAgICAgQXBpQ29udHJvbGxlci5pbml0UHJvbWlzZSgnbmV0d29ya0ltYWdlcycsIEFwaUNvbnRyb2xsZXIuZmV0Y2hOZXR3b3JrSW1hZ2VzKSxcbiAgICAgICAgICAgIGZldGNoV2FsbGV0UmFua3MgJiZcbiAgICAgICAgICAgICAgICBBcGlDb250cm9sbGVyLmluaXRQcm9taXNlKCd3YWxsZXRSYW5rcycsIEFwaUNvbnRyb2xsZXIucHJlZmV0Y2hXYWxsZXRSYW5rcylcbiAgICAgICAgXS5maWx0ZXIoQm9vbGVhbik7XG4gICAgICAgIHJldHVybiBQcm9taXNlLmFsbFNldHRsZWQocHJvbWlzZXMpO1xuICAgIH0sXG4gICAgcHJlZmV0Y2hBbmFseXRpY3NDb25maWcoKSB7XG4gICAgICAgIGlmIChPcHRpb25zQ29udHJvbGxlci5zdGF0ZS5mZWF0dXJlcz8uYW5hbHl0aWNzKSB7XG4gICAgICAgICAgICBBcGlDb250cm9sbGVyLmZldGNoQW5hbHl0aWNzQ29uZmlnKCk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGFzeW5jIGZldGNoQW5hbHl0aWNzQ29uZmlnKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgeyBpc0FuYWx5dGljc0VuYWJsZWQgfSA9IGF3YWl0IGFwaS5nZXQoe1xuICAgICAgICAgICAgICAgIHBhdGg6ICcvZ2V0QW5hbHl0aWNzQ29uZmlnJyxcbiAgICAgICAgICAgICAgICBwYXJhbXM6IEFwaUNvbnRyb2xsZXIuX2dldFNka1Byb3BlcnRpZXMoKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBPcHRpb25zQ29udHJvbGxlci5zZXRGZWF0dXJlcyh7IGFuYWx5dGljczogaXNBbmFseXRpY3NFbmFibGVkIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgT3B0aW9uc0NvbnRyb2xsZXIuc2V0RmVhdHVyZXMoeyBhbmFseXRpY3M6IGZhbHNlIH0pO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBmaWx0ZXJCeU5hbWVzcGFjZXMobmFtZXNwYWNlcykge1xuICAgICAgICBpZiAoIW5hbWVzcGFjZXM/Lmxlbmd0aCkge1xuICAgICAgICAgICAgc3RhdGUuZmVhdHVyZWQgPSBzdGF0ZS5hbGxGZWF0dXJlZDtcbiAgICAgICAgICAgIHN0YXRlLnJlY29tbWVuZGVkID0gc3RhdGUuYWxsUmVjb21tZW5kZWQ7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY2FpcE5ldHdvcmtJZHMgPSBDaGFpbkNvbnRyb2xsZXIuZ2V0UmVxdWVzdGVkQ2FpcE5ldHdvcmtJZHMoKS5qb2luKCcsJyk7XG4gICAgICAgIHN0YXRlLmZlYXR1cmVkID0gc3RhdGUuYWxsRmVhdHVyZWQuZmlsdGVyKHdhbGxldCA9PiB3YWxsZXQuY2hhaW5zPy5zb21lKGNoYWluID0+IGNhaXBOZXR3b3JrSWRzLmluY2x1ZGVzKGNoYWluKSkpO1xuICAgICAgICBzdGF0ZS5yZWNvbW1lbmRlZCA9IHN0YXRlLmFsbFJlY29tbWVuZGVkLmZpbHRlcih3YWxsZXQgPT4gd2FsbGV0LmNoYWlucz8uc29tZShjaGFpbiA9PiBjYWlwTmV0d29ya0lkcy5pbmNsdWRlcyhjaGFpbikpKTtcbiAgICAgICAgc3RhdGUuZmlsdGVyZWRXYWxsZXRzID0gc3RhdGUud2FsbGV0cy5maWx0ZXIod2FsbGV0ID0+IHdhbGxldC5jaGFpbnM/LnNvbWUoY2hhaW4gPT4gY2FpcE5ldHdvcmtJZHMuaW5jbHVkZXMoY2hhaW4pKSk7XG4gICAgfSxcbiAgICBjbGVhckZpbHRlckJ5TmFtZXNwYWNlcygpIHtcbiAgICAgICAgc3RhdGUuZmlsdGVyZWRXYWxsZXRzID0gW107XG4gICAgfSxcbiAgICBzZXRGaWx0ZXJCeU5hbWVzcGFjZShuYW1lc3BhY2UpIHtcbiAgICAgICAgaWYgKCFuYW1lc3BhY2UpIHtcbiAgICAgICAgICAgIHN0YXRlLmZlYXR1cmVkID0gc3RhdGUuYWxsRmVhdHVyZWQ7XG4gICAgICAgICAgICBzdGF0ZS5yZWNvbW1lbmRlZCA9IHN0YXRlLmFsbFJlY29tbWVuZGVkO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNhaXBOZXR3b3JrSWRzID0gQ2hhaW5Db250cm9sbGVyLmdldFJlcXVlc3RlZENhaXBOZXR3b3JrSWRzKCkuam9pbignLCcpO1xuICAgICAgICBzdGF0ZS5mZWF0dXJlZCA9IHN0YXRlLmFsbEZlYXR1cmVkLmZpbHRlcih3YWxsZXQgPT4gd2FsbGV0LmNoYWlucz8uc29tZShjaGFpbiA9PiBjYWlwTmV0d29ya0lkcy5pbmNsdWRlcyhjaGFpbikpKTtcbiAgICAgICAgc3RhdGUucmVjb21tZW5kZWQgPSBzdGF0ZS5hbGxSZWNvbW1lbmRlZC5maWx0ZXIod2FsbGV0ID0+IHdhbGxldC5jaGFpbnM/LnNvbWUoY2hhaW4gPT4gY2FpcE5ldHdvcmtJZHMuaW5jbHVkZXMoY2hhaW4pKSk7XG4gICAgICAgIHN0YXRlLmZpbHRlcmVkV2FsbGV0cyA9IHN0YXRlLndhbGxldHMuZmlsdGVyKHdhbGxldCA9PiB3YWxsZXQuY2hhaW5zPy5zb21lKGNoYWluID0+IGNhaXBOZXR3b3JrSWRzLmluY2x1ZGVzKGNoYWluKSkpO1xuICAgIH1cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1BcGlDb250cm9sbGVyLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ApiController.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/AssetController.js":
/*!****************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/AssetController.js ***!
  \****************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AssetController: () => (/* binding */ AssetController)\n/* harmony export */ });\n/* harmony import */ var valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! valtio/vanilla */ \"(ssr)/./node_modules/.pnpm/valtio@2.1.7_@types+react@18.3.26_react@18.3.1/node_modules/valtio/esm/vanilla.mjs\");\n/* harmony import */ var valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! valtio/vanilla/utils */ \"(ssr)/./node_modules/.pnpm/valtio@2.1.7_@types+react@18.3.26_react@18.3.1/node_modules/valtio/esm/vanilla/utils.mjs\");\n/* harmony import */ var _utils_withErrorBoundary_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/withErrorBoundary.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/withErrorBoundary.js\");\n\n\n\n// -- State --------------------------------------------- //\nconst state = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.proxy)({\n    walletImages: {},\n    networkImages: {},\n    chainImages: {},\n    connectorImages: {},\n    tokenImages: {},\n    currencyImages: {}\n});\n// -- Controller ---------------------------------------- //\nconst controller = {\n    state,\n    subscribeNetworkImages(callback) {\n        return (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.subscribe)(state.networkImages, () => callback(state.networkImages));\n    },\n    subscribeKey(key, callback) {\n        return (0,valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_1__.subscribeKey)(state, key, callback);\n    },\n    subscribe(callback) {\n        return (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.subscribe)(state, () => callback(state));\n    },\n    setWalletImage(key, value) {\n        state.walletImages[key] = value;\n    },\n    setNetworkImage(key, value) {\n        state.networkImages[key] = value;\n    },\n    setChainImage(key, value) {\n        state.chainImages[key] = value;\n    },\n    setConnectorImage(key, value) {\n        state.connectorImages = { ...state.connectorImages, [key]: value };\n    },\n    setTokenImage(key, value) {\n        state.tokenImages[key] = value;\n    },\n    setCurrencyImage(key, value) {\n        state.currencyImages[key] = value;\n    }\n};\n// Export the controller wrapped with our error boundary\nconst AssetController = (0,_utils_withErrorBoundary_js__WEBPACK_IMPORTED_MODULE_2__.withErrorBoundary)(controller);\n//# sourceMappingURL=AssetController.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTFfQHJlYWN0LW5hdGl2ZS1hc3luYy1zdG9yYWdlK2FzeW5jLXN0b3JhZ2VAMi4yLjBfcmVhY3QtX2E4MDMyMTIzODk3ZTA3OTMxMzc0MjMyYzNjYzRlNTM1L25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9Bc3NldENvbnRyb2xsZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUF5RDtBQUNLO0FBQ0k7QUFDbEU7QUFDQSxjQUFjLHFEQUFLO0FBQ25CLG9CQUFvQjtBQUNwQixxQkFBcUI7QUFDckIsbUJBQW1CO0FBQ25CLHVCQUF1QjtBQUN2QixtQkFBbUI7QUFDbkI7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLHlEQUFHO0FBQ2xCLEtBQUs7QUFDTDtBQUNBLGVBQWUsa0VBQU07QUFDckIsS0FBSztBQUNMO0FBQ0EsZUFBZSx5REFBRztBQUNsQixLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxrQ0FBa0M7QUFDbEMsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLHdCQUF3Qiw4RUFBaUI7QUFDaEQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ub2dnbHIvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTFfQHJlYWN0LW5hdGl2ZS1hc3luYy1zdG9yYWdlK2FzeW5jLXN0b3JhZ2VAMi4yLjBfcmVhY3QtX2E4MDMyMTIzODk3ZTA3OTMxMzc0MjMyYzNjYzRlNTM1L25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9Bc3NldENvbnRyb2xsZXIuanM/NjRmNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwcm94eSwgc3Vic2NyaWJlIGFzIHN1YiB9IGZyb20gJ3ZhbHRpby92YW5pbGxhJztcbmltcG9ydCB7IHN1YnNjcmliZUtleSBhcyBzdWJLZXkgfSBmcm9tICd2YWx0aW8vdmFuaWxsYS91dGlscyc7XG5pbXBvcnQgeyB3aXRoRXJyb3JCb3VuZGFyeSB9IGZyb20gJy4uL3V0aWxzL3dpdGhFcnJvckJvdW5kYXJ5LmpzJztcbi8vIC0tIFN0YXRlIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuY29uc3Qgc3RhdGUgPSBwcm94eSh7XG4gICAgd2FsbGV0SW1hZ2VzOiB7fSxcbiAgICBuZXR3b3JrSW1hZ2VzOiB7fSxcbiAgICBjaGFpbkltYWdlczoge30sXG4gICAgY29ubmVjdG9ySW1hZ2VzOiB7fSxcbiAgICB0b2tlbkltYWdlczoge30sXG4gICAgY3VycmVuY3lJbWFnZXM6IHt9XG59KTtcbi8vIC0tIENvbnRyb2xsZXIgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuY29uc3QgY29udHJvbGxlciA9IHtcbiAgICBzdGF0ZSxcbiAgICBzdWJzY3JpYmVOZXR3b3JrSW1hZ2VzKGNhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybiBzdWIoc3RhdGUubmV0d29ya0ltYWdlcywgKCkgPT4gY2FsbGJhY2soc3RhdGUubmV0d29ya0ltYWdlcykpO1xuICAgIH0sXG4gICAgc3Vic2NyaWJlS2V5KGtleSwgY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIHN1YktleShzdGF0ZSwga2V5LCBjYWxsYmFjayk7XG4gICAgfSxcbiAgICBzdWJzY3JpYmUoY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIHN1YihzdGF0ZSwgKCkgPT4gY2FsbGJhY2soc3RhdGUpKTtcbiAgICB9LFxuICAgIHNldFdhbGxldEltYWdlKGtleSwgdmFsdWUpIHtcbiAgICAgICAgc3RhdGUud2FsbGV0SW1hZ2VzW2tleV0gPSB2YWx1ZTtcbiAgICB9LFxuICAgIHNldE5ldHdvcmtJbWFnZShrZXksIHZhbHVlKSB7XG4gICAgICAgIHN0YXRlLm5ldHdvcmtJbWFnZXNba2V5XSA9IHZhbHVlO1xuICAgIH0sXG4gICAgc2V0Q2hhaW5JbWFnZShrZXksIHZhbHVlKSB7XG4gICAgICAgIHN0YXRlLmNoYWluSW1hZ2VzW2tleV0gPSB2YWx1ZTtcbiAgICB9LFxuICAgIHNldENvbm5lY3RvckltYWdlKGtleSwgdmFsdWUpIHtcbiAgICAgICAgc3RhdGUuY29ubmVjdG9ySW1hZ2VzID0geyAuLi5zdGF0ZS5jb25uZWN0b3JJbWFnZXMsIFtrZXldOiB2YWx1ZSB9O1xuICAgIH0sXG4gICAgc2V0VG9rZW5JbWFnZShrZXksIHZhbHVlKSB7XG4gICAgICAgIHN0YXRlLnRva2VuSW1hZ2VzW2tleV0gPSB2YWx1ZTtcbiAgICB9LFxuICAgIHNldEN1cnJlbmN5SW1hZ2Uoa2V5LCB2YWx1ZSkge1xuICAgICAgICBzdGF0ZS5jdXJyZW5jeUltYWdlc1trZXldID0gdmFsdWU7XG4gICAgfVxufTtcbi8vIEV4cG9ydCB0aGUgY29udHJvbGxlciB3cmFwcGVkIHdpdGggb3VyIGVycm9yIGJvdW5kYXJ5XG5leHBvcnQgY29uc3QgQXNzZXRDb250cm9sbGVyID0gd2l0aEVycm9yQm91bmRhcnkoY29udHJvbGxlcik7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Bc3NldENvbnRyb2xsZXIuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/AssetController.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/BlockchainApiController.js":
/*!************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/BlockchainApiController.js ***!
  \************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BlockchainApiController: () => (/* binding */ BlockchainApiController)\n/* harmony export */ });\n/* harmony import */ var valtio_vanilla__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! valtio/vanilla */ \"(ssr)/./node_modules/.pnpm/valtio@2.1.7_@types+react@18.3.26_react@18.3.1/node_modules/valtio/esm/vanilla.mjs\");\n/* harmony import */ var _utils_ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utils/ConstantsUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ConstantsUtil.js\");\n/* harmony import */ var _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/CoreHelperUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/CoreHelperUtil.js\");\n/* harmony import */ var _utils_FetchUtil_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/FetchUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/FetchUtil.js\");\n/* harmony import */ var _utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/StorageUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/StorageUtil.js\");\n/* harmony import */ var _ChainController_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ChainController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ChainController.js\");\n/* harmony import */ var _OptionsController_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./OptionsController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/OptionsController.js\");\n/* harmony import */ var _SnackController_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./SnackController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/SnackController.js\");\n\n\n\n\n\n\n\n\nconst DEFAULT_OPTIONS = {\n    purchaseCurrencies: [\n        {\n            id: '2b92315d-eab7-5bef-84fa-089a131333f5',\n            name: 'USD Coin',\n            symbol: 'USDC',\n            networks: [\n                {\n                    name: 'ethereum-mainnet',\n                    display_name: 'Ethereum',\n                    chain_id: '1',\n                    contract_address: '0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48'\n                },\n                {\n                    name: 'polygon-mainnet',\n                    display_name: 'Polygon',\n                    chain_id: '137',\n                    contract_address: '0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174'\n                }\n            ]\n        },\n        {\n            id: '2b92315d-eab7-5bef-84fa-089a131333f5',\n            name: 'Ether',\n            symbol: 'ETH',\n            networks: [\n                {\n                    name: 'ethereum-mainnet',\n                    display_name: 'Ethereum',\n                    chain_id: '1',\n                    contract_address: '0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48'\n                },\n                {\n                    name: 'polygon-mainnet',\n                    display_name: 'Polygon',\n                    chain_id: '137',\n                    contract_address: '0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174'\n                }\n            ]\n        }\n    ],\n    paymentCurrencies: [\n        {\n            id: 'USD',\n            payment_method_limits: [\n                {\n                    id: 'card',\n                    min: '10.00',\n                    max: '7500.00'\n                },\n                {\n                    id: 'ach_bank_account',\n                    min: '10.00',\n                    max: '25000.00'\n                }\n            ]\n        },\n        {\n            id: 'EUR',\n            payment_method_limits: [\n                {\n                    id: 'card',\n                    min: '10.00',\n                    max: '7500.00'\n                },\n                {\n                    id: 'ach_bank_account',\n                    min: '10.00',\n                    max: '25000.00'\n                }\n            ]\n        }\n    ]\n};\n// -- Helpers ------------------------------------------- //\nconst baseUrl = _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_0__.CoreHelperUtil.getBlockchainApiUrl();\n// -- State --------------------------------------------- //\nconst state = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_1__.proxy)({\n    clientId: null,\n    api: new _utils_FetchUtil_js__WEBPACK_IMPORTED_MODULE_2__.FetchUtil({ baseUrl, clientId: null }),\n    supportedChains: { http: [], ws: [] }\n});\n// -- Controller ---------------------------------------- //\nconst BlockchainApiController = {\n    state,\n    async get(request) {\n        const { st, sv } = BlockchainApiController.getSdkProperties();\n        const projectId = _OptionsController_js__WEBPACK_IMPORTED_MODULE_3__.OptionsController.state.projectId;\n        const params = {\n            ...(request.params || {}),\n            st,\n            sv,\n            projectId\n        };\n        return state.api.get({\n            ...request,\n            params\n        });\n    },\n    getSdkProperties() {\n        const { sdkType, sdkVersion } = _OptionsController_js__WEBPACK_IMPORTED_MODULE_3__.OptionsController.state;\n        return {\n            st: sdkType || 'unknown',\n            sv: sdkVersion || 'unknown'\n        };\n    },\n    async isNetworkSupported(networkId) {\n        if (!networkId) {\n            return false;\n        }\n        try {\n            if (!state.supportedChains.http.length) {\n                await BlockchainApiController.getSupportedNetworks();\n            }\n        }\n        catch (e) {\n            return false;\n        }\n        return state.supportedChains.http.includes(networkId);\n    },\n    async getSupportedNetworks() {\n        try {\n            const supportedChains = await BlockchainApiController.get({\n                path: 'v1/supported-chains'\n            });\n            state.supportedChains = supportedChains;\n            return supportedChains;\n        }\n        catch {\n            return state.supportedChains;\n        }\n    },\n    async fetchIdentity({ address }) {\n        const identityCache = _utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_4__.StorageUtil.getIdentityFromCacheForAddress(address);\n        if (identityCache) {\n            return identityCache;\n        }\n        const result = await BlockchainApiController.get({\n            path: `/v1/identity/${address}`,\n            params: {\n                sender: _ChainController_js__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeCaipAddress\n                    ? _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_0__.CoreHelperUtil.getPlainAddress(_ChainController_js__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeCaipAddress)\n                    : undefined\n            }\n        });\n        _utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_4__.StorageUtil.updateIdentityCache({\n            address,\n            identity: result,\n            timestamp: Date.now()\n        });\n        return result;\n    },\n    async fetchTransactions({ account, cursor, signal, cache, chainId }) {\n        const isSupported = await BlockchainApiController.isNetworkSupported(_ChainController_js__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeCaipNetwork?.caipNetworkId);\n        if (!isSupported) {\n            return { data: [], next: undefined };\n        }\n        const transactionsCache = _utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_4__.StorageUtil.getTransactionsCacheForAddress({\n            address: account,\n            chainId\n        });\n        if (transactionsCache) {\n            return transactionsCache;\n        }\n        const result = await BlockchainApiController.get({\n            path: `/v1/account/${account}/history`,\n            params: {\n                cursor,\n                chainId\n            },\n            signal,\n            cache\n        });\n        _utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_4__.StorageUtil.updateTransactionsCache({\n            address: account,\n            chainId,\n            timestamp: Date.now(),\n            transactions: result\n        });\n        return result;\n    },\n    async fetchSwapQuote({ amount, userAddress, from, to, gasPrice }) {\n        const isSupported = await BlockchainApiController.isNetworkSupported(_ChainController_js__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeCaipNetwork?.caipNetworkId);\n        if (!isSupported) {\n            return { quotes: [] };\n        }\n        return BlockchainApiController.get({\n            path: `/v1/convert/quotes`,\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            params: {\n                amount,\n                userAddress,\n                from,\n                to,\n                gasPrice\n            }\n        });\n    },\n    async fetchSwapTokens({ chainId }) {\n        const isSupported = await BlockchainApiController.isNetworkSupported(_ChainController_js__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeCaipNetwork?.caipNetworkId);\n        if (!isSupported) {\n            return { tokens: [] };\n        }\n        return BlockchainApiController.get({\n            path: `/v1/convert/tokens`,\n            params: { chainId }\n        });\n    },\n    async fetchTokenPrice({ addresses }) {\n        const isSupported = await BlockchainApiController.isNetworkSupported(_ChainController_js__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeCaipNetwork?.caipNetworkId);\n        if (!isSupported) {\n            return { fungibles: [] };\n        }\n        const tokenPriceCache = _utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_4__.StorageUtil.getTokenPriceCacheForAddresses(addresses);\n        if (tokenPriceCache) {\n            return tokenPriceCache;\n        }\n        const result = await state.api.post({\n            path: '/v1/fungible/price',\n            body: {\n                currency: 'usd',\n                addresses,\n                projectId: _OptionsController_js__WEBPACK_IMPORTED_MODULE_3__.OptionsController.state.projectId\n            },\n            headers: {\n                'Content-Type': 'application/json'\n            }\n        });\n        _utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_4__.StorageUtil.updateTokenPriceCache({\n            addresses,\n            timestamp: Date.now(),\n            tokenPrice: result\n        });\n        return result;\n    },\n    async fetchSwapAllowance({ tokenAddress, userAddress }) {\n        const isSupported = await BlockchainApiController.isNetworkSupported(_ChainController_js__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeCaipNetwork?.caipNetworkId);\n        if (!isSupported) {\n            return { allowance: '0' };\n        }\n        return BlockchainApiController.get({\n            path: `/v1/convert/allowance`,\n            params: {\n                tokenAddress,\n                userAddress\n            },\n            headers: {\n                'Content-Type': 'application/json'\n            }\n        });\n    },\n    async fetchGasPrice({ chainId }) {\n        const { st, sv } = BlockchainApiController.getSdkProperties();\n        const isSupported = await BlockchainApiController.isNetworkSupported(_ChainController_js__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeCaipNetwork?.caipNetworkId);\n        if (!isSupported) {\n            throw new Error('Network not supported for Gas Price');\n        }\n        return BlockchainApiController.get({\n            path: `/v1/convert/gas-price`,\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            params: {\n                chainId,\n                st,\n                sv\n            }\n        });\n    },\n    async generateSwapCalldata({ amount, from, to, userAddress, disableEstimate }) {\n        const isSupported = await BlockchainApiController.isNetworkSupported(_ChainController_js__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeCaipNetwork?.caipNetworkId);\n        if (!isSupported) {\n            throw new Error('Network not supported for Swaps');\n        }\n        return state.api.post({\n            path: '/v1/convert/build-transaction',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: {\n                amount,\n                eip155: {\n                    slippage: _utils_ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_6__.ConstantsUtil.CONVERT_SLIPPAGE_TOLERANCE\n                },\n                projectId: _OptionsController_js__WEBPACK_IMPORTED_MODULE_3__.OptionsController.state.projectId,\n                from,\n                to,\n                userAddress,\n                disableEstimate\n            }\n        });\n    },\n    async generateApproveCalldata({ from, to, userAddress }) {\n        const { st, sv } = BlockchainApiController.getSdkProperties();\n        const isSupported = await BlockchainApiController.isNetworkSupported(_ChainController_js__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeCaipNetwork?.caipNetworkId);\n        if (!isSupported) {\n            throw new Error('Network not supported for Swaps');\n        }\n        return BlockchainApiController.get({\n            path: `/v1/convert/build-approve`,\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            params: {\n                userAddress,\n                from,\n                to,\n                st,\n                sv\n            }\n        });\n    },\n    async getBalance(address, chainId, forceUpdate) {\n        const { st, sv } = BlockchainApiController.getSdkProperties();\n        const isSupported = await BlockchainApiController.isNetworkSupported(_ChainController_js__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeCaipNetwork?.caipNetworkId);\n        if (!isSupported) {\n            _SnackController_js__WEBPACK_IMPORTED_MODULE_7__.SnackController.showError('Token Balance Unavailable');\n            return { balances: [] };\n        }\n        const caipAddress = `${chainId}:${address}`;\n        const cachedBalance = _utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_4__.StorageUtil.getBalanceCacheForCaipAddress(caipAddress);\n        if (cachedBalance) {\n            return cachedBalance;\n        }\n        const balance = await BlockchainApiController.get({\n            path: `/v1/account/${address}/balance`,\n            params: {\n                currency: 'usd',\n                chainId,\n                forceUpdate,\n                st,\n                sv\n            }\n        });\n        _utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_4__.StorageUtil.updateBalanceCache({\n            caipAddress,\n            balance,\n            timestamp: Date.now()\n        });\n        return balance;\n    },\n    async lookupEnsName(name) {\n        const isSupported = await BlockchainApiController.isNetworkSupported(_ChainController_js__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeCaipNetwork?.caipNetworkId);\n        if (!isSupported) {\n            return { addresses: {}, attributes: [] };\n        }\n        return BlockchainApiController.get({\n            path: `/v1/profile/account/${name}`,\n            params: { apiVersion: '2' }\n        });\n    },\n    async reverseLookupEnsName({ address }) {\n        const isSupported = await BlockchainApiController.isNetworkSupported(_ChainController_js__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeCaipNetwork?.caipNetworkId);\n        if (!isSupported) {\n            return [];\n        }\n        const sender = _ChainController_js__WEBPACK_IMPORTED_MODULE_5__.ChainController.getAccountData()?.address;\n        return BlockchainApiController.get({\n            path: `/v1/profile/reverse/${address}`,\n            params: {\n                sender,\n                apiVersion: '2'\n            }\n        });\n    },\n    async getEnsNameSuggestions(name) {\n        const isSupported = await BlockchainApiController.isNetworkSupported(_ChainController_js__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeCaipNetwork?.caipNetworkId);\n        if (!isSupported) {\n            return { suggestions: [] };\n        }\n        return BlockchainApiController.get({\n            path: `/v1/profile/suggestions/${name}`,\n            params: { zone: 'reown.id' }\n        });\n    },\n    async registerEnsName({ coinType, address, message, signature }) {\n        const isSupported = await BlockchainApiController.isNetworkSupported(_ChainController_js__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeCaipNetwork?.caipNetworkId);\n        if (!isSupported) {\n            return { success: false };\n        }\n        return state.api.post({\n            path: `/v1/profile/account`,\n            body: { coin_type: coinType, address, message, signature },\n            headers: {\n                'Content-Type': 'application/json'\n            }\n        });\n    },\n    async generateOnRampURL({ destinationWallets, partnerUserId, defaultNetwork, purchaseAmount, paymentAmount }) {\n        const isSupported = await BlockchainApiController.isNetworkSupported(_ChainController_js__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeCaipNetwork?.caipNetworkId);\n        if (!isSupported) {\n            return '';\n        }\n        const response = await state.api.post({\n            path: `/v1/generators/onrampurl`,\n            params: {\n                projectId: _OptionsController_js__WEBPACK_IMPORTED_MODULE_3__.OptionsController.state.projectId\n            },\n            body: {\n                destinationWallets,\n                defaultNetwork,\n                partnerUserId,\n                defaultExperience: 'buy',\n                presetCryptoAmount: purchaseAmount,\n                presetFiatAmount: paymentAmount\n            }\n        });\n        return response.url;\n    },\n    async getOnrampOptions() {\n        const isSupported = await BlockchainApiController.isNetworkSupported(_ChainController_js__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeCaipNetwork?.caipNetworkId);\n        if (!isSupported) {\n            return { paymentCurrencies: [], purchaseCurrencies: [] };\n        }\n        try {\n            const response = await BlockchainApiController.get({\n                path: `/v1/onramp/options`\n            });\n            return response;\n        }\n        catch (e) {\n            return DEFAULT_OPTIONS;\n        }\n    },\n    async getOnrampQuote({ purchaseCurrency, paymentCurrency, amount, network }) {\n        try {\n            const isSupported = await BlockchainApiController.isNetworkSupported(_ChainController_js__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeCaipNetwork?.caipNetworkId);\n            if (!isSupported) {\n                return null;\n            }\n            const response = await state.api.post({\n                path: `/v1/onramp/quote`,\n                params: {\n                    projectId: _OptionsController_js__WEBPACK_IMPORTED_MODULE_3__.OptionsController.state.projectId\n                },\n                body: {\n                    purchaseCurrency,\n                    paymentCurrency,\n                    amount,\n                    network\n                }\n            });\n            return response;\n        }\n        catch (e) {\n            // Mocking response as 1:1 until endpoint is ready\n            return {\n                networkFee: { amount, currency: paymentCurrency.id },\n                paymentSubtotal: { amount, currency: paymentCurrency.id },\n                paymentTotal: { amount, currency: paymentCurrency.id },\n                purchaseAmount: { amount, currency: paymentCurrency.id },\n                quoteId: 'mocked-quote-id'\n            };\n        }\n    },\n    async getSmartSessions(caipAddress) {\n        const isSupported = await BlockchainApiController.isNetworkSupported(_ChainController_js__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeCaipNetwork?.caipNetworkId);\n        if (!isSupported) {\n            return [];\n        }\n        return BlockchainApiController.get({\n            path: `/v1/sessions/${caipAddress}`\n        });\n    },\n    async revokeSmartSession(address, pci, signature) {\n        const isSupported = await BlockchainApiController.isNetworkSupported(_ChainController_js__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeCaipNetwork?.caipNetworkId);\n        if (!isSupported) {\n            return { success: false };\n        }\n        return state.api.post({\n            path: `/v1/sessions/${address}/revoke`,\n            params: {\n                projectId: _OptionsController_js__WEBPACK_IMPORTED_MODULE_3__.OptionsController.state.projectId\n            },\n            body: {\n                pci,\n                signature\n            }\n        });\n    },\n    setClientId(clientId) {\n        state.clientId = clientId;\n        state.api = new _utils_FetchUtil_js__WEBPACK_IMPORTED_MODULE_2__.FetchUtil({ baseUrl, clientId });\n    }\n};\n//# sourceMappingURL=BlockchainApiController.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTFfQHJlYWN0LW5hdGl2ZS1hc3luYy1zdG9yYWdlK2FzeW5jLXN0b3JhZ2VAMi4yLjBfcmVhY3QtX2E4MDMyMTIzODk3ZTA3OTMxMzc0MjMyYzNjYzRlNTM1L25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9CbG9ja2NoYWluQXBpQ29udHJvbGxlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBdUM7QUFDbUI7QUFDRTtBQUNWO0FBQ0k7QUFDQztBQUNJO0FBQ0o7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLG9FQUFjO0FBQzlCO0FBQ0EsY0FBYyxxREFBSztBQUNuQjtBQUNBLGFBQWEsMERBQVMsR0FBRyx5QkFBeUI7QUFDbEQsdUJBQXVCO0FBQ3ZCLENBQUM7QUFDRDtBQUNPO0FBQ1A7QUFDQTtBQUNBLGdCQUFnQixTQUFTO0FBQ3pCLDBCQUEwQixvRUFBaUI7QUFDM0M7QUFDQSxvQ0FBb0M7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0EsZ0JBQWdCLHNCQUFzQixFQUFFLG9FQUFpQjtBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsMEJBQTBCLFNBQVM7QUFDbkMsOEJBQThCLDhEQUFXO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLFFBQVE7QUFDMUM7QUFDQSx3QkFBd0IsZ0VBQWU7QUFDdkMsc0JBQXNCLG9FQUFjLGlCQUFpQixnRUFBZTtBQUNwRTtBQUNBO0FBQ0EsU0FBUztBQUNULFFBQVEsOERBQVc7QUFDbkI7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMLDhCQUE4Qix5Q0FBeUM7QUFDdkUsNkVBQTZFLGdFQUFlO0FBQzVGO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0Esa0NBQWtDLDhEQUFXO0FBQzdDO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsUUFBUTtBQUN6QztBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLFNBQVM7QUFDVCxRQUFRLDhEQUFXO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMLDJCQUEyQix5Q0FBeUM7QUFDcEUsNkVBQTZFLGdFQUFlO0FBQzVGO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMLDRCQUE0QixTQUFTO0FBQ3JDLDZFQUE2RSxnRUFBZTtBQUM1RjtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEIsU0FBUztBQUNULEtBQUs7QUFDTCw0QkFBNEIsV0FBVztBQUN2Qyw2RUFBNkUsZ0VBQWU7QUFDNUY7QUFDQSxxQkFBcUI7QUFDckI7QUFDQSxnQ0FBZ0MsOERBQVc7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixvRUFBaUI7QUFDNUMsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxRQUFRLDhEQUFXO0FBQ25CO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTCwrQkFBK0IsMkJBQTJCO0FBQzFELDZFQUE2RSxnRUFBZTtBQUM1RjtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTCwwQkFBMEIsU0FBUztBQUNuQyxnQkFBZ0IsU0FBUztBQUN6Qiw2RUFBNkUsZ0VBQWU7QUFDNUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0wsaUNBQWlDLGdEQUFnRDtBQUNqRiw2RUFBNkUsZ0VBQWU7QUFDNUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLGtFQUFhO0FBQzNDLGlCQUFpQjtBQUNqQiwyQkFBMkIsb0VBQWlCO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMLG9DQUFvQyx1QkFBdUI7QUFDM0QsZ0JBQWdCLFNBQVM7QUFDekIsNkVBQTZFLGdFQUFlO0FBQzVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBLGdCQUFnQixTQUFTO0FBQ3pCLDZFQUE2RSxnRUFBZTtBQUM1RjtBQUNBLFlBQVksZ0VBQWU7QUFDM0IscUJBQXFCO0FBQ3JCO0FBQ0EsK0JBQStCLFFBQVEsR0FBRyxRQUFRO0FBQ2xELDhCQUE4Qiw4REFBVztBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyxRQUFRO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULFFBQVEsOERBQVc7QUFDbkI7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMO0FBQ0EsNkVBQTZFLGdFQUFlO0FBQzVGO0FBQ0EscUJBQXFCLGFBQWE7QUFDbEM7QUFDQTtBQUNBLHlDQUF5QyxLQUFLO0FBQzlDLHNCQUFzQjtBQUN0QixTQUFTO0FBQ1QsS0FBSztBQUNMLGlDQUFpQyxTQUFTO0FBQzFDLDZFQUE2RSxnRUFBZTtBQUM1RjtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsZ0VBQWU7QUFDdEM7QUFDQSx5Q0FBeUMsUUFBUTtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQSw2RUFBNkUsZ0VBQWU7QUFDNUY7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBLDZDQUE2QyxLQUFLO0FBQ2xELHNCQUFzQjtBQUN0QixTQUFTO0FBQ1QsS0FBSztBQUNMLDRCQUE0Qix1Q0FBdUM7QUFDbkUsNkVBQTZFLGdFQUFlO0FBQzVGO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixrREFBa0Q7QUFDdEU7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTCw4QkFBOEIsa0ZBQWtGO0FBQ2hILDZFQUE2RSxnRUFBZTtBQUM1RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsb0VBQWlCO0FBQzVDLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMO0FBQ0EsNkVBQTZFLGdFQUFlO0FBQzVGO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsMkJBQTJCLG9EQUFvRDtBQUMvRTtBQUNBLGlGQUFpRixnRUFBZTtBQUNoRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0Isb0VBQWlCO0FBQ2hELGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixzQ0FBc0M7QUFDcEUsbUNBQW1DLHNDQUFzQztBQUN6RSxnQ0FBZ0Msc0NBQXNDO0FBQ3RFLGtDQUFrQyxzQ0FBc0M7QUFDeEU7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsNkVBQTZFLGdFQUFlO0FBQzVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLFlBQVk7QUFDOUMsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBLDZFQUE2RSxnRUFBZTtBQUM1RjtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0Esa0NBQWtDLFFBQVE7QUFDMUM7QUFDQSwyQkFBMkIsb0VBQWlCO0FBQzVDLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBLHdCQUF3QiwwREFBUyxHQUFHLG1CQUFtQjtBQUN2RDtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ub2dnbHIvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTFfQHJlYWN0LW5hdGl2ZS1hc3luYy1zdG9yYWdlK2FzeW5jLXN0b3JhZ2VAMi4yLjBfcmVhY3QtX2E4MDMyMTIzODk3ZTA3OTMxMzc0MjMyYzNjYzRlNTM1L25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9CbG9ja2NoYWluQXBpQ29udHJvbGxlci5qcz8wNmZlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHByb3h5IH0gZnJvbSAndmFsdGlvL3ZhbmlsbGEnO1xuaW1wb3J0IHsgQ29uc3RhbnRzVXRpbCB9IGZyb20gJy4uL3V0aWxzL0NvbnN0YW50c1V0aWwuanMnO1xuaW1wb3J0IHsgQ29yZUhlbHBlclV0aWwgfSBmcm9tICcuLi91dGlscy9Db3JlSGVscGVyVXRpbC5qcyc7XG5pbXBvcnQgeyBGZXRjaFV0aWwgfSBmcm9tICcuLi91dGlscy9GZXRjaFV0aWwuanMnO1xuaW1wb3J0IHsgU3RvcmFnZVV0aWwgfSBmcm9tICcuLi91dGlscy9TdG9yYWdlVXRpbC5qcyc7XG5pbXBvcnQgeyBDaGFpbkNvbnRyb2xsZXIgfSBmcm9tICcuL0NoYWluQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBPcHRpb25zQ29udHJvbGxlciB9IGZyb20gJy4vT3B0aW9uc0NvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgU25hY2tDb250cm9sbGVyIH0gZnJvbSAnLi9TbmFja0NvbnRyb2xsZXIuanMnO1xuY29uc3QgREVGQVVMVF9PUFRJT05TID0ge1xuICAgIHB1cmNoYXNlQ3VycmVuY2llczogW1xuICAgICAgICB7XG4gICAgICAgICAgICBpZDogJzJiOTIzMTVkLWVhYjctNWJlZi04NGZhLTA4OWExMzEzMzNmNScsXG4gICAgICAgICAgICBuYW1lOiAnVVNEIENvaW4nLFxuICAgICAgICAgICAgc3ltYm9sOiAnVVNEQycsXG4gICAgICAgICAgICBuZXR3b3JrczogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ2V0aGVyZXVtLW1haW5uZXQnLFxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5X25hbWU6ICdFdGhlcmV1bScsXG4gICAgICAgICAgICAgICAgICAgIGNoYWluX2lkOiAnMScsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyYWN0X2FkZHJlc3M6ICcweEEwYjg2OTkxYzYyMThiMzZjMWQxOUQ0YTJlOUViMGNFMzYwNmVCNDgnXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICdwb2x5Z29uLW1haW5uZXQnLFxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5X25hbWU6ICdQb2x5Z29uJyxcbiAgICAgICAgICAgICAgICAgICAgY2hhaW5faWQ6ICcxMzcnLFxuICAgICAgICAgICAgICAgICAgICBjb250cmFjdF9hZGRyZXNzOiAnMHgyNzkxQmNhMWYyZGU0NjYxRUQ4OEEzMEM5OUE3YTk0NDlBYTg0MTc0J1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgaWQ6ICcyYjkyMzE1ZC1lYWI3LTViZWYtODRmYS0wODlhMTMxMzMzZjUnLFxuICAgICAgICAgICAgbmFtZTogJ0V0aGVyJyxcbiAgICAgICAgICAgIHN5bWJvbDogJ0VUSCcsXG4gICAgICAgICAgICBuZXR3b3JrczogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ2V0aGVyZXVtLW1haW5uZXQnLFxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5X25hbWU6ICdFdGhlcmV1bScsXG4gICAgICAgICAgICAgICAgICAgIGNoYWluX2lkOiAnMScsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyYWN0X2FkZHJlc3M6ICcweEEwYjg2OTkxYzYyMThiMzZjMWQxOUQ0YTJlOUViMGNFMzYwNmVCNDgnXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICdwb2x5Z29uLW1haW5uZXQnLFxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5X25hbWU6ICdQb2x5Z29uJyxcbiAgICAgICAgICAgICAgICAgICAgY2hhaW5faWQ6ICcxMzcnLFxuICAgICAgICAgICAgICAgICAgICBjb250cmFjdF9hZGRyZXNzOiAnMHgyNzkxQmNhMWYyZGU0NjYxRUQ4OEEzMEM5OUE3YTk0NDlBYTg0MTc0J1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF1cbiAgICAgICAgfVxuICAgIF0sXG4gICAgcGF5bWVudEN1cnJlbmNpZXM6IFtcbiAgICAgICAge1xuICAgICAgICAgICAgaWQ6ICdVU0QnLFxuICAgICAgICAgICAgcGF5bWVudF9tZXRob2RfbGltaXRzOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZDogJ2NhcmQnLFxuICAgICAgICAgICAgICAgICAgICBtaW46ICcxMC4wMCcsXG4gICAgICAgICAgICAgICAgICAgIG1heDogJzc1MDAuMDAnXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlkOiAnYWNoX2JhbmtfYWNjb3VudCcsXG4gICAgICAgICAgICAgICAgICAgIG1pbjogJzEwLjAwJyxcbiAgICAgICAgICAgICAgICAgICAgbWF4OiAnMjUwMDAuMDAnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBpZDogJ0VVUicsXG4gICAgICAgICAgICBwYXltZW50X21ldGhvZF9saW1pdHM6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlkOiAnY2FyZCcsXG4gICAgICAgICAgICAgICAgICAgIG1pbjogJzEwLjAwJyxcbiAgICAgICAgICAgICAgICAgICAgbWF4OiAnNzUwMC4wMCdcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6ICdhY2hfYmFua19hY2NvdW50JyxcbiAgICAgICAgICAgICAgICAgICAgbWluOiAnMTAuMDAnLFxuICAgICAgICAgICAgICAgICAgICBtYXg6ICcyNTAwMC4wMCdcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdXG4gICAgICAgIH1cbiAgICBdXG59O1xuLy8gLS0gSGVscGVycyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5jb25zdCBiYXNlVXJsID0gQ29yZUhlbHBlclV0aWwuZ2V0QmxvY2tjaGFpbkFwaVVybCgpO1xuLy8gLS0gU3RhdGUgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5jb25zdCBzdGF0ZSA9IHByb3h5KHtcbiAgICBjbGllbnRJZDogbnVsbCxcbiAgICBhcGk6IG5ldyBGZXRjaFV0aWwoeyBiYXNlVXJsLCBjbGllbnRJZDogbnVsbCB9KSxcbiAgICBzdXBwb3J0ZWRDaGFpbnM6IHsgaHR0cDogW10sIHdzOiBbXSB9XG59KTtcbi8vIC0tIENvbnRyb2xsZXIgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuZXhwb3J0IGNvbnN0IEJsb2NrY2hhaW5BcGlDb250cm9sbGVyID0ge1xuICAgIHN0YXRlLFxuICAgIGFzeW5jIGdldChyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IHsgc3QsIHN2IH0gPSBCbG9ja2NoYWluQXBpQ29udHJvbGxlci5nZXRTZGtQcm9wZXJ0aWVzKCk7XG4gICAgICAgIGNvbnN0IHByb2plY3RJZCA9IE9wdGlvbnNDb250cm9sbGVyLnN0YXRlLnByb2plY3RJZDtcbiAgICAgICAgY29uc3QgcGFyYW1zID0ge1xuICAgICAgICAgICAgLi4uKHJlcXVlc3QucGFyYW1zIHx8IHt9KSxcbiAgICAgICAgICAgIHN0LFxuICAgICAgICAgICAgc3YsXG4gICAgICAgICAgICBwcm9qZWN0SWRcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHN0YXRlLmFwaS5nZXQoe1xuICAgICAgICAgICAgLi4ucmVxdWVzdCxcbiAgICAgICAgICAgIHBhcmFtc1xuICAgICAgICB9KTtcbiAgICB9LFxuICAgIGdldFNka1Byb3BlcnRpZXMoKSB7XG4gICAgICAgIGNvbnN0IHsgc2RrVHlwZSwgc2RrVmVyc2lvbiB9ID0gT3B0aW9uc0NvbnRyb2xsZXIuc3RhdGU7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzdDogc2RrVHlwZSB8fCAndW5rbm93bicsXG4gICAgICAgICAgICBzdjogc2RrVmVyc2lvbiB8fCAndW5rbm93bidcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIGFzeW5jIGlzTmV0d29ya1N1cHBvcnRlZChuZXR3b3JrSWQpIHtcbiAgICAgICAgaWYgKCFuZXR3b3JrSWQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKCFzdGF0ZS5zdXBwb3J0ZWRDaGFpbnMuaHR0cC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCBCbG9ja2NoYWluQXBpQ29udHJvbGxlci5nZXRTdXBwb3J0ZWROZXR3b3JrcygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0YXRlLnN1cHBvcnRlZENoYWlucy5odHRwLmluY2x1ZGVzKG5ldHdvcmtJZCk7XG4gICAgfSxcbiAgICBhc3luYyBnZXRTdXBwb3J0ZWROZXR3b3JrcygpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHN1cHBvcnRlZENoYWlucyA9IGF3YWl0IEJsb2NrY2hhaW5BcGlDb250cm9sbGVyLmdldCh7XG4gICAgICAgICAgICAgICAgcGF0aDogJ3YxL3N1cHBvcnRlZC1jaGFpbnMnXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHN0YXRlLnN1cHBvcnRlZENoYWlucyA9IHN1cHBvcnRlZENoYWlucztcbiAgICAgICAgICAgIHJldHVybiBzdXBwb3J0ZWRDaGFpbnM7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgcmV0dXJuIHN0YXRlLnN1cHBvcnRlZENoYWlucztcbiAgICAgICAgfVxuICAgIH0sXG4gICAgYXN5bmMgZmV0Y2hJZGVudGl0eSh7IGFkZHJlc3MgfSkge1xuICAgICAgICBjb25zdCBpZGVudGl0eUNhY2hlID0gU3RvcmFnZVV0aWwuZ2V0SWRlbnRpdHlGcm9tQ2FjaGVGb3JBZGRyZXNzKGFkZHJlc3MpO1xuICAgICAgICBpZiAoaWRlbnRpdHlDYWNoZSkge1xuICAgICAgICAgICAgcmV0dXJuIGlkZW50aXR5Q2FjaGU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgQmxvY2tjaGFpbkFwaUNvbnRyb2xsZXIuZ2V0KHtcbiAgICAgICAgICAgIHBhdGg6IGAvdjEvaWRlbnRpdHkvJHthZGRyZXNzfWAsXG4gICAgICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICAgICAgICBzZW5kZXI6IENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDYWlwQWRkcmVzc1xuICAgICAgICAgICAgICAgICAgICA/IENvcmVIZWxwZXJVdGlsLmdldFBsYWluQWRkcmVzcyhDaGFpbkNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ2FpcEFkZHJlc3MpXG4gICAgICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBTdG9yYWdlVXRpbC51cGRhdGVJZGVudGl0eUNhY2hlKHtcbiAgICAgICAgICAgIGFkZHJlc3MsXG4gICAgICAgICAgICBpZGVudGl0eTogcmVzdWx0LFxuICAgICAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0sXG4gICAgYXN5bmMgZmV0Y2hUcmFuc2FjdGlvbnMoeyBhY2NvdW50LCBjdXJzb3IsIHNpZ25hbCwgY2FjaGUsIGNoYWluSWQgfSkge1xuICAgICAgICBjb25zdCBpc1N1cHBvcnRlZCA9IGF3YWl0IEJsb2NrY2hhaW5BcGlDb250cm9sbGVyLmlzTmV0d29ya1N1cHBvcnRlZChDaGFpbkNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ2FpcE5ldHdvcms/LmNhaXBOZXR3b3JrSWQpO1xuICAgICAgICBpZiAoIWlzU3VwcG9ydGVkKSB7XG4gICAgICAgICAgICByZXR1cm4geyBkYXRhOiBbXSwgbmV4dDogdW5kZWZpbmVkIH07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdHJhbnNhY3Rpb25zQ2FjaGUgPSBTdG9yYWdlVXRpbC5nZXRUcmFuc2FjdGlvbnNDYWNoZUZvckFkZHJlc3Moe1xuICAgICAgICAgICAgYWRkcmVzczogYWNjb3VudCxcbiAgICAgICAgICAgIGNoYWluSWRcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICh0cmFuc2FjdGlvbnNDYWNoZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRyYW5zYWN0aW9uc0NhY2hlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IEJsb2NrY2hhaW5BcGlDb250cm9sbGVyLmdldCh7XG4gICAgICAgICAgICBwYXRoOiBgL3YxL2FjY291bnQvJHthY2NvdW50fS9oaXN0b3J5YCxcbiAgICAgICAgICAgIHBhcmFtczoge1xuICAgICAgICAgICAgICAgIGN1cnNvcixcbiAgICAgICAgICAgICAgICBjaGFpbklkXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2lnbmFsLFxuICAgICAgICAgICAgY2FjaGVcbiAgICAgICAgfSk7XG4gICAgICAgIFN0b3JhZ2VVdGlsLnVwZGF0ZVRyYW5zYWN0aW9uc0NhY2hlKHtcbiAgICAgICAgICAgIGFkZHJlc3M6IGFjY291bnQsXG4gICAgICAgICAgICBjaGFpbklkLFxuICAgICAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgICAgICAgICAgdHJhbnNhY3Rpb25zOiByZXN1bHRcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSxcbiAgICBhc3luYyBmZXRjaFN3YXBRdW90ZSh7IGFtb3VudCwgdXNlckFkZHJlc3MsIGZyb20sIHRvLCBnYXNQcmljZSB9KSB7XG4gICAgICAgIGNvbnN0IGlzU3VwcG9ydGVkID0gYXdhaXQgQmxvY2tjaGFpbkFwaUNvbnRyb2xsZXIuaXNOZXR3b3JrU3VwcG9ydGVkKENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDYWlwTmV0d29yaz8uY2FpcE5ldHdvcmtJZCk7XG4gICAgICAgIGlmICghaXNTdXBwb3J0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB7IHF1b3RlczogW10gfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gQmxvY2tjaGFpbkFwaUNvbnRyb2xsZXIuZ2V0KHtcbiAgICAgICAgICAgIHBhdGg6IGAvdjEvY29udmVydC9xdW90ZXNgLFxuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICAgICAgICBhbW91bnQsXG4gICAgICAgICAgICAgICAgdXNlckFkZHJlc3MsXG4gICAgICAgICAgICAgICAgZnJvbSxcbiAgICAgICAgICAgICAgICB0byxcbiAgICAgICAgICAgICAgICBnYXNQcmljZVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9LFxuICAgIGFzeW5jIGZldGNoU3dhcFRva2Vucyh7IGNoYWluSWQgfSkge1xuICAgICAgICBjb25zdCBpc1N1cHBvcnRlZCA9IGF3YWl0IEJsb2NrY2hhaW5BcGlDb250cm9sbGVyLmlzTmV0d29ya1N1cHBvcnRlZChDaGFpbkNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ2FpcE5ldHdvcms/LmNhaXBOZXR3b3JrSWQpO1xuICAgICAgICBpZiAoIWlzU3VwcG9ydGVkKSB7XG4gICAgICAgICAgICByZXR1cm4geyB0b2tlbnM6IFtdIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEJsb2NrY2hhaW5BcGlDb250cm9sbGVyLmdldCh7XG4gICAgICAgICAgICBwYXRoOiBgL3YxL2NvbnZlcnQvdG9rZW5zYCxcbiAgICAgICAgICAgIHBhcmFtczogeyBjaGFpbklkIH1cbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBhc3luYyBmZXRjaFRva2VuUHJpY2UoeyBhZGRyZXNzZXMgfSkge1xuICAgICAgICBjb25zdCBpc1N1cHBvcnRlZCA9IGF3YWl0IEJsb2NrY2hhaW5BcGlDb250cm9sbGVyLmlzTmV0d29ya1N1cHBvcnRlZChDaGFpbkNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ2FpcE5ldHdvcms/LmNhaXBOZXR3b3JrSWQpO1xuICAgICAgICBpZiAoIWlzU3VwcG9ydGVkKSB7XG4gICAgICAgICAgICByZXR1cm4geyBmdW5naWJsZXM6IFtdIH07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdG9rZW5QcmljZUNhY2hlID0gU3RvcmFnZVV0aWwuZ2V0VG9rZW5QcmljZUNhY2hlRm9yQWRkcmVzc2VzKGFkZHJlc3Nlcyk7XG4gICAgICAgIGlmICh0b2tlblByaWNlQ2FjaGUpIHtcbiAgICAgICAgICAgIHJldHVybiB0b2tlblByaWNlQ2FjaGU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc3RhdGUuYXBpLnBvc3Qoe1xuICAgICAgICAgICAgcGF0aDogJy92MS9mdW5naWJsZS9wcmljZScsXG4gICAgICAgICAgICBib2R5OiB7XG4gICAgICAgICAgICAgICAgY3VycmVuY3k6ICd1c2QnLFxuICAgICAgICAgICAgICAgIGFkZHJlc3NlcyxcbiAgICAgICAgICAgICAgICBwcm9qZWN0SWQ6IE9wdGlvbnNDb250cm9sbGVyLnN0YXRlLnByb2plY3RJZFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBTdG9yYWdlVXRpbC51cGRhdGVUb2tlblByaWNlQ2FjaGUoe1xuICAgICAgICAgICAgYWRkcmVzc2VzLFxuICAgICAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgICAgICAgICAgdG9rZW5QcmljZTogcmVzdWx0XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0sXG4gICAgYXN5bmMgZmV0Y2hTd2FwQWxsb3dhbmNlKHsgdG9rZW5BZGRyZXNzLCB1c2VyQWRkcmVzcyB9KSB7XG4gICAgICAgIGNvbnN0IGlzU3VwcG9ydGVkID0gYXdhaXQgQmxvY2tjaGFpbkFwaUNvbnRyb2xsZXIuaXNOZXR3b3JrU3VwcG9ydGVkKENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDYWlwTmV0d29yaz8uY2FpcE5ldHdvcmtJZCk7XG4gICAgICAgIGlmICghaXNTdXBwb3J0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB7IGFsbG93YW5jZTogJzAnIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEJsb2NrY2hhaW5BcGlDb250cm9sbGVyLmdldCh7XG4gICAgICAgICAgICBwYXRoOiBgL3YxL2NvbnZlcnQvYWxsb3dhbmNlYCxcbiAgICAgICAgICAgIHBhcmFtczoge1xuICAgICAgICAgICAgICAgIHRva2VuQWRkcmVzcyxcbiAgICAgICAgICAgICAgICB1c2VyQWRkcmVzc1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgYXN5bmMgZmV0Y2hHYXNQcmljZSh7IGNoYWluSWQgfSkge1xuICAgICAgICBjb25zdCB7IHN0LCBzdiB9ID0gQmxvY2tjaGFpbkFwaUNvbnRyb2xsZXIuZ2V0U2RrUHJvcGVydGllcygpO1xuICAgICAgICBjb25zdCBpc1N1cHBvcnRlZCA9IGF3YWl0IEJsb2NrY2hhaW5BcGlDb250cm9sbGVyLmlzTmV0d29ya1N1cHBvcnRlZChDaGFpbkNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ2FpcE5ldHdvcms/LmNhaXBOZXR3b3JrSWQpO1xuICAgICAgICBpZiAoIWlzU3VwcG9ydGVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05ldHdvcmsgbm90IHN1cHBvcnRlZCBmb3IgR2FzIFByaWNlJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEJsb2NrY2hhaW5BcGlDb250cm9sbGVyLmdldCh7XG4gICAgICAgICAgICBwYXRoOiBgL3YxL2NvbnZlcnQvZ2FzLXByaWNlYCxcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgICAgICAgY2hhaW5JZCxcbiAgICAgICAgICAgICAgICBzdCxcbiAgICAgICAgICAgICAgICBzdlxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9LFxuICAgIGFzeW5jIGdlbmVyYXRlU3dhcENhbGxkYXRhKHsgYW1vdW50LCBmcm9tLCB0bywgdXNlckFkZHJlc3MsIGRpc2FibGVFc3RpbWF0ZSB9KSB7XG4gICAgICAgIGNvbnN0IGlzU3VwcG9ydGVkID0gYXdhaXQgQmxvY2tjaGFpbkFwaUNvbnRyb2xsZXIuaXNOZXR3b3JrU3VwcG9ydGVkKENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDYWlwTmV0d29yaz8uY2FpcE5ldHdvcmtJZCk7XG4gICAgICAgIGlmICghaXNTdXBwb3J0ZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTmV0d29yayBub3Qgc3VwcG9ydGVkIGZvciBTd2FwcycpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdGF0ZS5hcGkucG9zdCh7XG4gICAgICAgICAgICBwYXRoOiAnL3YxL2NvbnZlcnQvYnVpbGQtdHJhbnNhY3Rpb24nLFxuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBib2R5OiB7XG4gICAgICAgICAgICAgICAgYW1vdW50LFxuICAgICAgICAgICAgICAgIGVpcDE1NToge1xuICAgICAgICAgICAgICAgICAgICBzbGlwcGFnZTogQ29uc3RhbnRzVXRpbC5DT05WRVJUX1NMSVBQQUdFX1RPTEVSQU5DRVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcHJvamVjdElkOiBPcHRpb25zQ29udHJvbGxlci5zdGF0ZS5wcm9qZWN0SWQsXG4gICAgICAgICAgICAgICAgZnJvbSxcbiAgICAgICAgICAgICAgICB0byxcbiAgICAgICAgICAgICAgICB1c2VyQWRkcmVzcyxcbiAgICAgICAgICAgICAgICBkaXNhYmxlRXN0aW1hdGVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBhc3luYyBnZW5lcmF0ZUFwcHJvdmVDYWxsZGF0YSh7IGZyb20sIHRvLCB1c2VyQWRkcmVzcyB9KSB7XG4gICAgICAgIGNvbnN0IHsgc3QsIHN2IH0gPSBCbG9ja2NoYWluQXBpQ29udHJvbGxlci5nZXRTZGtQcm9wZXJ0aWVzKCk7XG4gICAgICAgIGNvbnN0IGlzU3VwcG9ydGVkID0gYXdhaXQgQmxvY2tjaGFpbkFwaUNvbnRyb2xsZXIuaXNOZXR3b3JrU3VwcG9ydGVkKENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDYWlwTmV0d29yaz8uY2FpcE5ldHdvcmtJZCk7XG4gICAgICAgIGlmICghaXNTdXBwb3J0ZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTmV0d29yayBub3Qgc3VwcG9ydGVkIGZvciBTd2FwcycpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBCbG9ja2NoYWluQXBpQ29udHJvbGxlci5nZXQoe1xuICAgICAgICAgICAgcGF0aDogYC92MS9jb252ZXJ0L2J1aWxkLWFwcHJvdmVgLFxuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICAgICAgICB1c2VyQWRkcmVzcyxcbiAgICAgICAgICAgICAgICBmcm9tLFxuICAgICAgICAgICAgICAgIHRvLFxuICAgICAgICAgICAgICAgIHN0LFxuICAgICAgICAgICAgICAgIHN2XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgYXN5bmMgZ2V0QmFsYW5jZShhZGRyZXNzLCBjaGFpbklkLCBmb3JjZVVwZGF0ZSkge1xuICAgICAgICBjb25zdCB7IHN0LCBzdiB9ID0gQmxvY2tjaGFpbkFwaUNvbnRyb2xsZXIuZ2V0U2RrUHJvcGVydGllcygpO1xuICAgICAgICBjb25zdCBpc1N1cHBvcnRlZCA9IGF3YWl0IEJsb2NrY2hhaW5BcGlDb250cm9sbGVyLmlzTmV0d29ya1N1cHBvcnRlZChDaGFpbkNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ2FpcE5ldHdvcms/LmNhaXBOZXR3b3JrSWQpO1xuICAgICAgICBpZiAoIWlzU3VwcG9ydGVkKSB7XG4gICAgICAgICAgICBTbmFja0NvbnRyb2xsZXIuc2hvd0Vycm9yKCdUb2tlbiBCYWxhbmNlIFVuYXZhaWxhYmxlJyk7XG4gICAgICAgICAgICByZXR1cm4geyBiYWxhbmNlczogW10gfTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjYWlwQWRkcmVzcyA9IGAke2NoYWluSWR9OiR7YWRkcmVzc31gO1xuICAgICAgICBjb25zdCBjYWNoZWRCYWxhbmNlID0gU3RvcmFnZVV0aWwuZ2V0QmFsYW5jZUNhY2hlRm9yQ2FpcEFkZHJlc3MoY2FpcEFkZHJlc3MpO1xuICAgICAgICBpZiAoY2FjaGVkQmFsYW5jZSkge1xuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZEJhbGFuY2U7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYmFsYW5jZSA9IGF3YWl0IEJsb2NrY2hhaW5BcGlDb250cm9sbGVyLmdldCh7XG4gICAgICAgICAgICBwYXRoOiBgL3YxL2FjY291bnQvJHthZGRyZXNzfS9iYWxhbmNlYCxcbiAgICAgICAgICAgIHBhcmFtczoge1xuICAgICAgICAgICAgICAgIGN1cnJlbmN5OiAndXNkJyxcbiAgICAgICAgICAgICAgICBjaGFpbklkLFxuICAgICAgICAgICAgICAgIGZvcmNlVXBkYXRlLFxuICAgICAgICAgICAgICAgIHN0LFxuICAgICAgICAgICAgICAgIHN2XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBTdG9yYWdlVXRpbC51cGRhdGVCYWxhbmNlQ2FjaGUoe1xuICAgICAgICAgICAgY2FpcEFkZHJlc3MsXG4gICAgICAgICAgICBiYWxhbmNlLFxuICAgICAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gYmFsYW5jZTtcbiAgICB9LFxuICAgIGFzeW5jIGxvb2t1cEVuc05hbWUobmFtZSkge1xuICAgICAgICBjb25zdCBpc1N1cHBvcnRlZCA9IGF3YWl0IEJsb2NrY2hhaW5BcGlDb250cm9sbGVyLmlzTmV0d29ya1N1cHBvcnRlZChDaGFpbkNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ2FpcE5ldHdvcms/LmNhaXBOZXR3b3JrSWQpO1xuICAgICAgICBpZiAoIWlzU3VwcG9ydGVkKSB7XG4gICAgICAgICAgICByZXR1cm4geyBhZGRyZXNzZXM6IHt9LCBhdHRyaWJ1dGVzOiBbXSB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBCbG9ja2NoYWluQXBpQ29udHJvbGxlci5nZXQoe1xuICAgICAgICAgICAgcGF0aDogYC92MS9wcm9maWxlL2FjY291bnQvJHtuYW1lfWAsXG4gICAgICAgICAgICBwYXJhbXM6IHsgYXBpVmVyc2lvbjogJzInIH1cbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBhc3luYyByZXZlcnNlTG9va3VwRW5zTmFtZSh7IGFkZHJlc3MgfSkge1xuICAgICAgICBjb25zdCBpc1N1cHBvcnRlZCA9IGF3YWl0IEJsb2NrY2hhaW5BcGlDb250cm9sbGVyLmlzTmV0d29ya1N1cHBvcnRlZChDaGFpbkNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ2FpcE5ldHdvcms/LmNhaXBOZXR3b3JrSWQpO1xuICAgICAgICBpZiAoIWlzU3VwcG9ydGVkKSB7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2VuZGVyID0gQ2hhaW5Db250cm9sbGVyLmdldEFjY291bnREYXRhKCk/LmFkZHJlc3M7XG4gICAgICAgIHJldHVybiBCbG9ja2NoYWluQXBpQ29udHJvbGxlci5nZXQoe1xuICAgICAgICAgICAgcGF0aDogYC92MS9wcm9maWxlL3JldmVyc2UvJHthZGRyZXNzfWAsXG4gICAgICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICAgICAgICBzZW5kZXIsXG4gICAgICAgICAgICAgICAgYXBpVmVyc2lvbjogJzInXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgYXN5bmMgZ2V0RW5zTmFtZVN1Z2dlc3Rpb25zKG5hbWUpIHtcbiAgICAgICAgY29uc3QgaXNTdXBwb3J0ZWQgPSBhd2FpdCBCbG9ja2NoYWluQXBpQ29udHJvbGxlci5pc05ldHdvcmtTdXBwb3J0ZWQoQ2hhaW5Db250cm9sbGVyLnN0YXRlLmFjdGl2ZUNhaXBOZXR3b3JrPy5jYWlwTmV0d29ya0lkKTtcbiAgICAgICAgaWYgKCFpc1N1cHBvcnRlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHsgc3VnZ2VzdGlvbnM6IFtdIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEJsb2NrY2hhaW5BcGlDb250cm9sbGVyLmdldCh7XG4gICAgICAgICAgICBwYXRoOiBgL3YxL3Byb2ZpbGUvc3VnZ2VzdGlvbnMvJHtuYW1lfWAsXG4gICAgICAgICAgICBwYXJhbXM6IHsgem9uZTogJ3Jlb3duLmlkJyB9XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgYXN5bmMgcmVnaXN0ZXJFbnNOYW1lKHsgY29pblR5cGUsIGFkZHJlc3MsIG1lc3NhZ2UsIHNpZ25hdHVyZSB9KSB7XG4gICAgICAgIGNvbnN0IGlzU3VwcG9ydGVkID0gYXdhaXQgQmxvY2tjaGFpbkFwaUNvbnRyb2xsZXIuaXNOZXR3b3JrU3VwcG9ydGVkKENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDYWlwTmV0d29yaz8uY2FpcE5ldHdvcmtJZCk7XG4gICAgICAgIGlmICghaXNTdXBwb3J0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0YXRlLmFwaS5wb3N0KHtcbiAgICAgICAgICAgIHBhdGg6IGAvdjEvcHJvZmlsZS9hY2NvdW50YCxcbiAgICAgICAgICAgIGJvZHk6IHsgY29pbl90eXBlOiBjb2luVHlwZSwgYWRkcmVzcywgbWVzc2FnZSwgc2lnbmF0dXJlIH0sXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9LFxuICAgIGFzeW5jIGdlbmVyYXRlT25SYW1wVVJMKHsgZGVzdGluYXRpb25XYWxsZXRzLCBwYXJ0bmVyVXNlcklkLCBkZWZhdWx0TmV0d29yaywgcHVyY2hhc2VBbW91bnQsIHBheW1lbnRBbW91bnQgfSkge1xuICAgICAgICBjb25zdCBpc1N1cHBvcnRlZCA9IGF3YWl0IEJsb2NrY2hhaW5BcGlDb250cm9sbGVyLmlzTmV0d29ya1N1cHBvcnRlZChDaGFpbkNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ2FpcE5ldHdvcms/LmNhaXBOZXR3b3JrSWQpO1xuICAgICAgICBpZiAoIWlzU3VwcG9ydGVkKSB7XG4gICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBzdGF0ZS5hcGkucG9zdCh7XG4gICAgICAgICAgICBwYXRoOiBgL3YxL2dlbmVyYXRvcnMvb25yYW1wdXJsYCxcbiAgICAgICAgICAgIHBhcmFtczoge1xuICAgICAgICAgICAgICAgIHByb2plY3RJZDogT3B0aW9uc0NvbnRyb2xsZXIuc3RhdGUucHJvamVjdElkXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYm9keToge1xuICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uV2FsbGV0cyxcbiAgICAgICAgICAgICAgICBkZWZhdWx0TmV0d29yayxcbiAgICAgICAgICAgICAgICBwYXJ0bmVyVXNlcklkLFxuICAgICAgICAgICAgICAgIGRlZmF1bHRFeHBlcmllbmNlOiAnYnV5JyxcbiAgICAgICAgICAgICAgICBwcmVzZXRDcnlwdG9BbW91bnQ6IHB1cmNoYXNlQW1vdW50LFxuICAgICAgICAgICAgICAgIHByZXNldEZpYXRBbW91bnQ6IHBheW1lbnRBbW91bnRcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiByZXNwb25zZS51cmw7XG4gICAgfSxcbiAgICBhc3luYyBnZXRPbnJhbXBPcHRpb25zKCkge1xuICAgICAgICBjb25zdCBpc1N1cHBvcnRlZCA9IGF3YWl0IEJsb2NrY2hhaW5BcGlDb250cm9sbGVyLmlzTmV0d29ya1N1cHBvcnRlZChDaGFpbkNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ2FpcE5ldHdvcms/LmNhaXBOZXR3b3JrSWQpO1xuICAgICAgICBpZiAoIWlzU3VwcG9ydGVkKSB7XG4gICAgICAgICAgICByZXR1cm4geyBwYXltZW50Q3VycmVuY2llczogW10sIHB1cmNoYXNlQ3VycmVuY2llczogW10gfTtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBCbG9ja2NoYWluQXBpQ29udHJvbGxlci5nZXQoe1xuICAgICAgICAgICAgICAgIHBhdGg6IGAvdjEvb25yYW1wL29wdGlvbnNgXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgcmV0dXJuIERFRkFVTFRfT1BUSU9OUztcbiAgICAgICAgfVxuICAgIH0sXG4gICAgYXN5bmMgZ2V0T25yYW1wUXVvdGUoeyBwdXJjaGFzZUN1cnJlbmN5LCBwYXltZW50Q3VycmVuY3ksIGFtb3VudCwgbmV0d29yayB9KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBpc1N1cHBvcnRlZCA9IGF3YWl0IEJsb2NrY2hhaW5BcGlDb250cm9sbGVyLmlzTmV0d29ya1N1cHBvcnRlZChDaGFpbkNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ2FpcE5ldHdvcms/LmNhaXBOZXR3b3JrSWQpO1xuICAgICAgICAgICAgaWYgKCFpc1N1cHBvcnRlZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBzdGF0ZS5hcGkucG9zdCh7XG4gICAgICAgICAgICAgICAgcGF0aDogYC92MS9vbnJhbXAvcXVvdGVgLFxuICAgICAgICAgICAgICAgIHBhcmFtczoge1xuICAgICAgICAgICAgICAgICAgICBwcm9qZWN0SWQ6IE9wdGlvbnNDb250cm9sbGVyLnN0YXRlLnByb2plY3RJZFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgYm9keToge1xuICAgICAgICAgICAgICAgICAgICBwdXJjaGFzZUN1cnJlbmN5LFxuICAgICAgICAgICAgICAgICAgICBwYXltZW50Q3VycmVuY3ksXG4gICAgICAgICAgICAgICAgICAgIGFtb3VudCxcbiAgICAgICAgICAgICAgICAgICAgbmV0d29ya1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAvLyBNb2NraW5nIHJlc3BvbnNlIGFzIDE6MSB1bnRpbCBlbmRwb2ludCBpcyByZWFkeVxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBuZXR3b3JrRmVlOiB7IGFtb3VudCwgY3VycmVuY3k6IHBheW1lbnRDdXJyZW5jeS5pZCB9LFxuICAgICAgICAgICAgICAgIHBheW1lbnRTdWJ0b3RhbDogeyBhbW91bnQsIGN1cnJlbmN5OiBwYXltZW50Q3VycmVuY3kuaWQgfSxcbiAgICAgICAgICAgICAgICBwYXltZW50VG90YWw6IHsgYW1vdW50LCBjdXJyZW5jeTogcGF5bWVudEN1cnJlbmN5LmlkIH0sXG4gICAgICAgICAgICAgICAgcHVyY2hhc2VBbW91bnQ6IHsgYW1vdW50LCBjdXJyZW5jeTogcGF5bWVudEN1cnJlbmN5LmlkIH0sXG4gICAgICAgICAgICAgICAgcXVvdGVJZDogJ21vY2tlZC1xdW90ZS1pZCdcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGFzeW5jIGdldFNtYXJ0U2Vzc2lvbnMoY2FpcEFkZHJlc3MpIHtcbiAgICAgICAgY29uc3QgaXNTdXBwb3J0ZWQgPSBhd2FpdCBCbG9ja2NoYWluQXBpQ29udHJvbGxlci5pc05ldHdvcmtTdXBwb3J0ZWQoQ2hhaW5Db250cm9sbGVyLnN0YXRlLmFjdGl2ZUNhaXBOZXR3b3JrPy5jYWlwTmV0d29ya0lkKTtcbiAgICAgICAgaWYgKCFpc1N1cHBvcnRlZCkge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBCbG9ja2NoYWluQXBpQ29udHJvbGxlci5nZXQoe1xuICAgICAgICAgICAgcGF0aDogYC92MS9zZXNzaW9ucy8ke2NhaXBBZGRyZXNzfWBcbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBhc3luYyByZXZva2VTbWFydFNlc3Npb24oYWRkcmVzcywgcGNpLCBzaWduYXR1cmUpIHtcbiAgICAgICAgY29uc3QgaXNTdXBwb3J0ZWQgPSBhd2FpdCBCbG9ja2NoYWluQXBpQ29udHJvbGxlci5pc05ldHdvcmtTdXBwb3J0ZWQoQ2hhaW5Db250cm9sbGVyLnN0YXRlLmFjdGl2ZUNhaXBOZXR3b3JrPy5jYWlwTmV0d29ya0lkKTtcbiAgICAgICAgaWYgKCFpc1N1cHBvcnRlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3RhdGUuYXBpLnBvc3Qoe1xuICAgICAgICAgICAgcGF0aDogYC92MS9zZXNzaW9ucy8ke2FkZHJlc3N9L3Jldm9rZWAsXG4gICAgICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICAgICAgICBwcm9qZWN0SWQ6IE9wdGlvbnNDb250cm9sbGVyLnN0YXRlLnByb2plY3RJZFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGJvZHk6IHtcbiAgICAgICAgICAgICAgICBwY2ksXG4gICAgICAgICAgICAgICAgc2lnbmF0dXJlXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgc2V0Q2xpZW50SWQoY2xpZW50SWQpIHtcbiAgICAgICAgc3RhdGUuY2xpZW50SWQgPSBjbGllbnRJZDtcbiAgICAgICAgc3RhdGUuYXBpID0gbmV3IEZldGNoVXRpbCh7IGJhc2VVcmwsIGNsaWVudElkIH0pO1xuICAgIH1cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1CbG9ja2NoYWluQXBpQ29udHJvbGxlci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/BlockchainApiController.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ChainController.js":
/*!****************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ChainController.js ***!
  \****************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ChainController: () => (/* binding */ ChainController)\n/* harmony export */ });\n/* harmony import */ var valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! valtio/vanilla */ \"(ssr)/./node_modules/.pnpm/valtio@2.1.7_@types+react@18.3.26_react@18.3.1/node_modules/valtio/esm/vanilla.mjs\");\n/* harmony import */ var valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! valtio/vanilla/utils */ \"(ssr)/./node_modules/.pnpm/valtio@2.1.7_@types+react@18.3.26_react@18.3.1/node_modules/valtio/esm/vanilla/utils.mjs\");\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @reown/appkit-common */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-common@1.8.11_bufferutil@4.0.9_typescript@5.9.3_utf-8-validate@5.0.10_zod@4.1.12/node_modules/@reown/appkit-common/dist/esm/src/utils/ParseUtil.js\");\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @reown/appkit-common */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-common@1.8.11_bufferutil@4.0.9_typescript@5.9.3_utf-8-validate@5.0.10_zod@4.1.12/node_modules/@reown/appkit-common/dist/esm/src/utils/ConstantsUtil.js\");\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @reown/appkit-common */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-common@1.8.11_bufferutil@4.0.9_typescript@5.9.3_utf-8-validate@5.0.10_zod@4.1.12/node_modules/@reown/appkit-common/dist/esm/src/utils/NetworkUtil.js\");\n/* harmony import */ var _reown_appkit_wallet__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @reown/appkit-wallet */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-wallet@1.8.11_bufferutil@4.0.9_typescript@5.9.3_utf-8-validate@5.0.10/node_modules/@reown/appkit-wallet/dist/esm/src/W3mFrameStorage.js\");\n/* harmony import */ var _reown_appkit_wallet__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @reown/appkit-wallet */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-wallet@1.8.11_bufferutil@4.0.9_typescript@5.9.3_utf-8-validate@5.0.10/node_modules/@reown/appkit-wallet/dist/esm/src/W3mFrameConstants.js\");\n/* harmony import */ var _utils_BalanceUtil_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../utils/BalanceUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/BalanceUtil.js\");\n/* harmony import */ var _utils_ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../utils/ConstantsUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ConstantsUtil.js\");\n/* harmony import */ var _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../utils/CoreHelperUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/CoreHelperUtil.js\");\n/* harmony import */ var _utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/StorageUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/StorageUtil.js\");\n/* harmony import */ var _utils_withErrorBoundary_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../utils/withErrorBoundary.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/withErrorBoundary.js\");\n/* harmony import */ var _AdapterController_index_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./AdapterController/index.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/AdapterController/index.js\");\n/* harmony import */ var _ConnectionController_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./ConnectionController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectionController.js\");\n/* harmony import */ var _ConnectorController_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ConnectorController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectorController.js\");\n/* harmony import */ var _EventsController_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./EventsController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/EventsController.js\");\n/* harmony import */ var _ModalController_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./ModalController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ModalController.js\");\n/* harmony import */ var _OptionsController_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./OptionsController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/OptionsController.js\");\n/* harmony import */ var _ProviderController_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./ProviderController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ProviderController.js\");\n/* harmony import */ var _PublicStateController_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./PublicStateController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/PublicStateController.js\");\n/* harmony import */ var _SendController_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./SendController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/SendController.js\");\n/* harmony import */ var _SnackController_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./SnackController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/SnackController.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// -- Constants ----------------------------------------- //\nconst defaultAccountState = {\n    currentTab: 0,\n    tokenBalance: [],\n    smartAccountDeployed: false,\n    addressLabels: new Map(),\n    user: undefined,\n    preferredAccountType: undefined\n};\nconst networkState = {\n    caipNetwork: undefined,\n    supportsAllNetworks: true,\n    smartAccountEnabledNetworks: []\n};\n// -- State --------------------------------------------- //\nconst state = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.proxy)({\n    chains: (0,valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_1__.proxyMap)(),\n    activeCaipAddress: undefined,\n    activeChain: undefined,\n    activeCaipNetwork: undefined,\n    noAdapters: false,\n    universalAdapter: {\n        connectionControllerClient: undefined\n    },\n    isSwitchingNamespace: false\n});\n// -- Controller ---------------------------------------- //\nconst controller = {\n    state,\n    subscribe(callback) {\n        return (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.subscribe)(state, () => {\n            callback(state);\n        });\n    },\n    subscribeKey(key, callback) {\n        return (0,valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_1__.subscribeKey)(state, key, callback);\n    },\n    subscribeAccountStateProp(property, callback, chain) {\n        const activeChain = chain || state.activeChain;\n        if (!activeChain) {\n            return () => undefined;\n        }\n        return (0,valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_1__.subscribeKey)(state.chains.get(activeChain)?.accountState || {}, property, callback);\n    },\n    subscribeChainProp(property, callback, chain) {\n        let prev = undefined;\n        return (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.subscribe)(state.chains, () => {\n            const activeChain = chain || state.activeChain;\n            if (activeChain) {\n                const nextValue = state.chains.get(activeChain)?.[property];\n                if (prev !== nextValue) {\n                    prev = nextValue;\n                    callback(nextValue);\n                }\n            }\n        });\n    },\n    initialize(adapters, caipNetworks, clients) {\n        const { chainId: activeChainId, namespace: activeNamespace } = _utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_2__.StorageUtil.getActiveNetworkProps();\n        const activeCaipNetwork = caipNetworks?.find(network => network.id.toString() === activeChainId?.toString());\n        const defaultAdapter = adapters.find(adapter => adapter?.namespace === activeNamespace);\n        const adapterToActivate = defaultAdapter || adapters?.[0];\n        const namespacesFromAdapters = adapters.map(a => a.namespace).filter(n => n !== undefined);\n        /**\n         * If the AppKit is in embedded mode (for Demo app), we should get the available namespaces from the adapters.\n         */\n        const namespaces = _OptionsController_js__WEBPACK_IMPORTED_MODULE_3__.OptionsController.state.enableEmbedded\n            ? new Set([...namespacesFromAdapters])\n            : new Set([...(caipNetworks?.map(network => network.chainNamespace) ?? [])]);\n        if (adapters?.length === 0 || !adapterToActivate) {\n            state.noAdapters = true;\n        }\n        if (!state.noAdapters) {\n            state.activeChain = adapterToActivate?.namespace;\n            state.activeCaipNetwork = activeCaipNetwork;\n            ChainController.setChainNetworkData(adapterToActivate?.namespace, {\n                caipNetwork: activeCaipNetwork\n            });\n            if (state.activeChain) {\n                _PublicStateController_js__WEBPACK_IMPORTED_MODULE_4__.PublicStateController.set({ activeChain: adapterToActivate?.namespace });\n            }\n        }\n        namespaces.forEach(namespace => {\n            const namespaceNetworks = caipNetworks?.filter(network => network.chainNamespace === namespace);\n            const storedAccountTypes = _utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_2__.StorageUtil.getPreferredAccountTypes() || {};\n            const defaultTypes = { ..._OptionsController_js__WEBPACK_IMPORTED_MODULE_3__.OptionsController.state.defaultAccountTypes, ...storedAccountTypes };\n            ChainController.state.chains.set(namespace, {\n                namespace,\n                networkState: (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.proxy)({ ...networkState, caipNetwork: namespaceNetworks?.[0] }),\n                accountState: (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.proxy)({\n                    ...defaultAccountState,\n                    preferredAccountType: defaultTypes[namespace]\n                }),\n                caipNetworks: namespaceNetworks ?? [],\n                ...clients\n            });\n            ChainController.setRequestedCaipNetworks(namespaceNetworks ?? [], namespace);\n        });\n    },\n    removeAdapter(namespace) {\n        if (state.activeChain === namespace) {\n            const nextAdapter = Array.from(state.chains.entries()).find(([chainNamespace]) => chainNamespace !== namespace);\n            if (nextAdapter) {\n                const caipNetwork = nextAdapter[1]?.caipNetworks?.[0];\n                if (caipNetwork) {\n                    ChainController.setActiveCaipNetwork(caipNetwork);\n                }\n            }\n        }\n        state.chains.delete(namespace);\n    },\n    addAdapter(adapter, { connectionControllerClient }, caipNetworks) {\n        if (!adapter.namespace) {\n            throw new Error('ChainController:addAdapter - adapter must have a namespace');\n        }\n        state.chains.set(adapter.namespace, {\n            namespace: adapter.namespace,\n            networkState: { ...networkState, caipNetwork: caipNetworks[0] },\n            accountState: { ...defaultAccountState },\n            caipNetworks,\n            connectionControllerClient\n        });\n        ChainController.setRequestedCaipNetworks(caipNetworks?.filter(caipNetwork => caipNetwork.chainNamespace === adapter.namespace) ?? [], adapter.namespace);\n    },\n    addNetwork(network) {\n        const chainAdapter = state.chains.get(network.chainNamespace);\n        if (chainAdapter) {\n            const newNetworks = [...(chainAdapter.caipNetworks || [])];\n            if (!chainAdapter.caipNetworks?.find(caipNetwork => caipNetwork.id === network.id)) {\n                newNetworks.push(network);\n            }\n            state.chains.set(network.chainNamespace, { ...chainAdapter, caipNetworks: newNetworks });\n            ChainController.setRequestedCaipNetworks(newNetworks, network.chainNamespace);\n            _ConnectorController_js__WEBPACK_IMPORTED_MODULE_5__.ConnectorController.filterByNamespace(network.chainNamespace, true);\n        }\n    },\n    removeNetwork(namespace, networkId) {\n        const chainAdapter = state.chains.get(namespace);\n        if (chainAdapter) {\n            // Check if network being removed is active network\n            const isActiveNetwork = state.activeCaipNetwork?.id === networkId;\n            // Filter out the network being removed\n            const newCaipNetworksOfAdapter = [\n                ...(chainAdapter.caipNetworks?.filter(network => network.id !== networkId) || [])\n            ];\n            // If active network was removed and there are other networks available, switch to first one\n            if (isActiveNetwork && chainAdapter?.caipNetworks?.[0]) {\n                ChainController.setActiveCaipNetwork(chainAdapter.caipNetworks[0]);\n            }\n            state.chains.set(namespace, { ...chainAdapter, caipNetworks: newCaipNetworksOfAdapter });\n            ChainController.setRequestedCaipNetworks(newCaipNetworksOfAdapter || [], namespace);\n            if (newCaipNetworksOfAdapter.length === 0) {\n                _ConnectorController_js__WEBPACK_IMPORTED_MODULE_5__.ConnectorController.filterByNamespace(namespace, false);\n            }\n        }\n    },\n    setAdapterNetworkState(chain, props) {\n        const chainAdapter = state.chains.get(chain);\n        if (chainAdapter) {\n            chainAdapter.networkState = {\n                ...(chainAdapter.networkState || networkState),\n                ...props\n            };\n            state.chains.set(chain, chainAdapter);\n        }\n    },\n    setChainAccountData(chain, accountProps, _unknown = true) {\n        if (!chain) {\n            throw new Error('Chain is required to update chain account data');\n        }\n        const chainAdapter = state.chains.get(chain);\n        if (chainAdapter) {\n            const newAccountState = {\n                ...(chainAdapter.accountState || defaultAccountState),\n                ...accountProps\n            };\n            state.chains.set(chain, { ...chainAdapter, accountState: newAccountState });\n            if (state.chains.size === 1 || state.activeChain === chain) {\n                if (accountProps.caipAddress) {\n                    state.activeCaipAddress = accountProps.caipAddress;\n                }\n            }\n        }\n    },\n    setChainNetworkData(chain, networkProps) {\n        if (!chain) {\n            return;\n        }\n        const chainAdapter = state.chains.get(chain);\n        if (chainAdapter) {\n            const newNetworkState = { ...(chainAdapter.networkState || networkState), ...networkProps };\n            state.chains.set(chain, { ...chainAdapter, networkState: newNetworkState });\n        }\n    },\n    // eslint-disable-next-line max-params\n    setAccountProp(prop, value, chain, replaceState = true) {\n        ChainController.setChainAccountData(chain, { [prop]: value }, replaceState);\n    },\n    setActiveNamespace(chain) {\n        state.activeChain = chain;\n        const newAdapter = chain ? state.chains.get(chain) : undefined;\n        const caipNetwork = newAdapter?.networkState?.caipNetwork;\n        if (caipNetwork?.id && chain) {\n            state.activeCaipAddress = newAdapter?.accountState?.caipAddress;\n            state.activeCaipNetwork = caipNetwork;\n            ChainController.setChainNetworkData(chain, { caipNetwork });\n            _utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_2__.StorageUtil.setActiveCaipNetworkId(caipNetwork?.caipNetworkId);\n            _PublicStateController_js__WEBPACK_IMPORTED_MODULE_4__.PublicStateController.set({\n                activeChain: chain,\n                selectedNetworkId: caipNetwork?.caipNetworkId\n            });\n        }\n    },\n    setActiveCaipNetwork(caipNetwork) {\n        if (!caipNetwork) {\n            return;\n        }\n        const isSameNamespace = state.activeChain === caipNetwork.chainNamespace;\n        if (!isSameNamespace) {\n            ChainController.setIsSwitchingNamespace(true);\n        }\n        const newAdapter = state.chains.get(caipNetwork.chainNamespace);\n        state.activeChain = caipNetwork.chainNamespace;\n        state.activeCaipNetwork = caipNetwork;\n        ChainController.setChainNetworkData(caipNetwork.chainNamespace, { caipNetwork });\n        let address = newAdapter?.accountState?.address;\n        if (address) {\n            state.activeCaipAddress = `${caipNetwork.chainNamespace}:${caipNetwork.id}:${address}`;\n        }\n        else if (isSameNamespace && state.activeCaipAddress) {\n            const { address: parsedAddress } = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_6__.ParseUtil.parseCaipAddress(state.activeCaipAddress);\n            address = parsedAddress;\n            state.activeCaipAddress = `${caipNetwork.caipNetworkId}:${address}`;\n        }\n        else {\n            state.activeCaipAddress = undefined;\n        }\n        ChainController.setChainAccountData(caipNetwork.chainNamespace, {\n            address,\n            caipAddress: state.activeCaipAddress\n        });\n        // Reset send state when switching networks\n        _SendController_js__WEBPACK_IMPORTED_MODULE_7__.SendController.resetSend();\n        _PublicStateController_js__WEBPACK_IMPORTED_MODULE_4__.PublicStateController.set({\n            activeChain: state.activeChain,\n            selectedNetworkId: state.activeCaipNetwork?.caipNetworkId\n        });\n        _utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_2__.StorageUtil.setActiveCaipNetworkId(caipNetwork.caipNetworkId);\n        const isSupported = ChainController.checkIfSupportedNetwork(caipNetwork.chainNamespace);\n        if (!isSupported &&\n            _OptionsController_js__WEBPACK_IMPORTED_MODULE_3__.OptionsController.state.enableNetworkSwitch &&\n            !_OptionsController_js__WEBPACK_IMPORTED_MODULE_3__.OptionsController.state.allowUnsupportedChain &&\n            !_ConnectionController_js__WEBPACK_IMPORTED_MODULE_8__.ConnectionController.state.wcBasic) {\n            ChainController.showUnsupportedChainUI();\n        }\n    },\n    addCaipNetwork(caipNetwork) {\n        if (!caipNetwork) {\n            return;\n        }\n        const chain = state.chains.get(caipNetwork.chainNamespace);\n        if (chain) {\n            chain?.caipNetworks?.push(caipNetwork);\n        }\n    },\n    async switchActiveNamespace(namespace) {\n        if (!namespace) {\n            return;\n        }\n        const isDifferentChain = namespace !== ChainController.state.activeChain;\n        const caipNetworkOfNamespace = ChainController.getNetworkData(namespace)?.caipNetwork;\n        const firstNetworkWithChain = ChainController.getCaipNetworkByNamespace(namespace, caipNetworkOfNamespace?.id);\n        if (isDifferentChain && firstNetworkWithChain) {\n            await ChainController.switchActiveNetwork(firstNetworkWithChain);\n        }\n    },\n    async switchActiveNetwork(network, { throwOnFailure = false } = {}) {\n        const namespace = ChainController.state.activeChain;\n        if (!namespace) {\n            throw new Error('ChainController:switchActiveNetwork - namespace is required');\n        }\n        const isAuthProvider = _ProviderController_js__WEBPACK_IMPORTED_MODULE_9__.ProviderController.getProviderId(state.activeChain) === 'AUTH';\n        const namespaceAddress = ChainController.getAccountData(namespace)?.address;\n        const isAuthSupported = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_10__.ConstantsUtil.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(network.chainNamespace);\n        try {\n            // If connected to the namespace and switching on same namespace, we should notify the wallet\n            if ((namespaceAddress && network.chainNamespace === namespace) ||\n                (isAuthProvider && isAuthSupported)) {\n                const adapter = _AdapterController_index_js__WEBPACK_IMPORTED_MODULE_11__.AdapterController.get(network.chainNamespace);\n                if (!adapter) {\n                    throw new Error('Adapter not found');\n                }\n                await adapter.switchNetwork({ caipNetwork: network });\n            }\n            ChainController.setActiveCaipNetwork(network);\n        }\n        catch (error) {\n            if (throwOnFailure) {\n                throw error;\n            }\n        }\n        _EventsController_js__WEBPACK_IMPORTED_MODULE_12__.EventsController.sendEvent({\n            type: 'track',\n            event: 'SWITCH_NETWORK',\n            properties: { network: network.caipNetworkId }\n        });\n    },\n    getConnectionControllerClient(_chain) {\n        const chain = _chain || state.activeChain;\n        if (!chain) {\n            throw new Error('Chain is required to get connection controller client');\n        }\n        const chainAdapter = state.chains.get(chain);\n        if (!chainAdapter?.connectionControllerClient) {\n            throw new Error('ConnectionController client not set');\n        }\n        return chainAdapter.connectionControllerClient;\n    },\n    getNetworkProp(key, namespace) {\n        const chainNetworkState = state.chains.get(namespace)?.networkState;\n        if (!chainNetworkState) {\n            return undefined;\n        }\n        return chainNetworkState[key];\n    },\n    getRequestedCaipNetworks(chainToFilter) {\n        const adapter = state.chains.get(chainToFilter);\n        const { approvedCaipNetworkIds = [], requestedCaipNetworks = [] } = adapter?.networkState || {};\n        const sortedNetworks = _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_13__.CoreHelperUtil.sortRequestedNetworks(approvedCaipNetworkIds, requestedCaipNetworks);\n        const filteredNetworks = sortedNetworks.filter(network => network?.id);\n        return filteredNetworks;\n    },\n    getAllRequestedCaipNetworks() {\n        const requestedCaipNetworks = [];\n        state.chains.forEach(chainAdapter => {\n            if (!chainAdapter.namespace) {\n                throw new Error('ChainController:getAllRequestedCaipNetworks - chainAdapter must have a namespace');\n            }\n            const caipNetworks = ChainController.getRequestedCaipNetworks(chainAdapter.namespace);\n            requestedCaipNetworks.push(...caipNetworks);\n        });\n        return requestedCaipNetworks;\n    },\n    setRequestedCaipNetworks(caipNetworks, chain) {\n        ChainController.setAdapterNetworkState(chain, { requestedCaipNetworks: caipNetworks });\n        const allRequestedCaipNetworks = ChainController.getAllRequestedCaipNetworks();\n        const namespaces = allRequestedCaipNetworks.map(network => network.chainNamespace);\n        const uniqueNamespaces = Array.from(new Set(namespaces));\n        _ConnectorController_js__WEBPACK_IMPORTED_MODULE_5__.ConnectorController.filterByNamespaces(uniqueNamespaces);\n    },\n    getAllApprovedCaipNetworkIds() {\n        const approvedCaipNetworkIds = [];\n        state.chains.forEach(chainAdapter => {\n            if (!chainAdapter.namespace) {\n                throw new Error('ChainController:getAllApprovedCaipNetworkIds - chainAdapter must have a namespace');\n            }\n            const approvedIds = ChainController.getApprovedCaipNetworkIds(chainAdapter.namespace);\n            approvedCaipNetworkIds.push(...approvedIds);\n        });\n        return approvedCaipNetworkIds;\n    },\n    getActiveCaipNetwork(chainNamespace) {\n        if (chainNamespace) {\n            return state.chains.get(chainNamespace)?.networkState?.caipNetwork;\n        }\n        return state.activeCaipNetwork;\n    },\n    getActiveCaipAddress() {\n        return state.activeCaipAddress;\n    },\n    getApprovedCaipNetworkIds(namespace) {\n        const adapter = state.chains.get(namespace);\n        const approvedCaipNetworkIds = adapter?.networkState?.approvedCaipNetworkIds || [];\n        return approvedCaipNetworkIds;\n    },\n    setApprovedCaipNetworksData(namespace, params) {\n        ChainController.setAdapterNetworkState(namespace, params);\n    },\n    checkIfSupportedNetwork(namespace, caipNetworkId) {\n        const activeCaipNetworkId = caipNetworkId || state.activeCaipNetwork?.caipNetworkId;\n        const requestedCaipNetworks = ChainController.getRequestedCaipNetworks(namespace);\n        if (!requestedCaipNetworks.length) {\n            return true;\n        }\n        return requestedCaipNetworks?.some(network => network.caipNetworkId === activeCaipNetworkId);\n    },\n    checkIfSupportedChainId(chainId) {\n        if (!state.activeChain) {\n            return true;\n        }\n        const requestedCaipNetworks = ChainController.getRequestedCaipNetworks(state.activeChain);\n        return requestedCaipNetworks?.some(network => network.id === chainId);\n    },\n    checkIfSmartAccountEnabled() {\n        const networkId = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_14__.NetworkUtil.caipNetworkIdToNumber(state.activeCaipNetwork?.caipNetworkId);\n        const activeChain = state.activeChain;\n        if (!activeChain || !networkId) {\n            return false;\n        }\n        const smartAccountEnabledNetworks = _reown_appkit_wallet__WEBPACK_IMPORTED_MODULE_15__.W3mFrameStorage.get(_reown_appkit_wallet__WEBPACK_IMPORTED_MODULE_16__.W3mFrameConstants.SMART_ACCOUNT_ENABLED_NETWORKS)?.split(',') || [];\n        return Boolean(smartAccountEnabledNetworks?.includes(networkId.toString()));\n    },\n    showUnsupportedChainUI() {\n        _ModalController_js__WEBPACK_IMPORTED_MODULE_17__.ModalController.open({ view: 'UnsupportedChain' });\n    },\n    checkIfNamesSupported() {\n        const activeCaipNetwork = state.activeCaipNetwork;\n        return Boolean(activeCaipNetwork?.chainNamespace &&\n            _utils_ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_18__.ConstantsUtil.NAMES_SUPPORTED_CHAIN_NAMESPACES.includes(activeCaipNetwork.chainNamespace));\n    },\n    resetNetwork(namespace) {\n        ChainController.setAdapterNetworkState(namespace, {\n            approvedCaipNetworkIds: undefined,\n            supportsAllNetworks: true\n        });\n    },\n    resetAccount(chain) {\n        const chainToWrite = chain;\n        if (!chainToWrite) {\n            throw new Error('Chain is required to set account prop');\n        }\n        const currentAccountType = ChainController.state.chains.get(chainToWrite)?.accountState?.preferredAccountType;\n        const optionsAccountType = _OptionsController_js__WEBPACK_IMPORTED_MODULE_3__.OptionsController.state.defaultAccountTypes[chainToWrite];\n        state.activeCaipAddress = undefined;\n        ChainController.setChainAccountData(chainToWrite, {\n            smartAccountDeployed: false,\n            currentTab: 0,\n            caipAddress: undefined,\n            address: undefined,\n            balance: undefined,\n            balanceSymbol: undefined,\n            profileName: undefined,\n            profileImage: undefined,\n            addressExplorerUrl: undefined,\n            tokenBalance: [],\n            connectedWalletInfo: undefined,\n            preferredAccountType: optionsAccountType || currentAccountType,\n            socialProvider: undefined,\n            socialWindow: undefined,\n            farcasterUrl: undefined,\n            user: undefined,\n            status: 'disconnected'\n        });\n        _ConnectorController_js__WEBPACK_IMPORTED_MODULE_5__.ConnectorController.removeConnectorId(chainToWrite);\n    },\n    setIsSwitchingNamespace(isSwitchingNamespace) {\n        state.isSwitchingNamespace = isSwitchingNamespace;\n    },\n    getFirstCaipNetworkSupportsAuthConnector() {\n        const availableChains = [];\n        let firstCaipNetwork = undefined;\n        state.chains.forEach(chain => {\n            if (_reown_appkit_common__WEBPACK_IMPORTED_MODULE_10__.ConstantsUtil.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(ns => ns === chain.namespace)) {\n                if (chain.namespace) {\n                    availableChains.push(chain.namespace);\n                }\n            }\n        });\n        if (availableChains.length > 0) {\n            const firstAvailableChain = availableChains[0];\n            firstCaipNetwork = firstAvailableChain\n                ? state.chains.get(firstAvailableChain)?.caipNetworks?.[0]\n                : undefined;\n            return firstCaipNetwork;\n        }\n        return undefined;\n    },\n    getAccountData(chainNamespace) {\n        const namespace = chainNamespace || state.activeChain;\n        if (!namespace) {\n            return undefined;\n        }\n        return ChainController.state.chains.get(namespace)?.accountState;\n    },\n    getNetworkData(chainNamespace) {\n        const namespace = chainNamespace || state.activeChain;\n        if (!namespace) {\n            return undefined;\n        }\n        return ChainController.state.chains.get(namespace)?.networkState;\n    },\n    getCaipNetworkByNamespace(chainNamespace, chainId) {\n        if (!chainNamespace) {\n            return undefined;\n        }\n        const chain = ChainController.state.chains.get(chainNamespace);\n        const byChainId = chain?.caipNetworks?.find(network => network.id.toString() === chainId?.toString());\n        if (byChainId) {\n            return byChainId;\n        }\n        return chain?.networkState?.caipNetwork || chain?.caipNetworks?.[0];\n    },\n    /**\n     * Get the requested CaipNetwork IDs for a given namespace. If namespace is not provided, all requested CaipNetwork IDs will be returned\n     * @param namespace - The namespace to get the requested CaipNetwork IDs for\n     * @returns The requested CaipNetwork IDs\n     */\n    getRequestedCaipNetworkIds() {\n        const namespace = _ConnectorController_js__WEBPACK_IMPORTED_MODULE_5__.ConnectorController.state.filterByNamespace;\n        const chains = namespace ? [state.chains.get(namespace)] : Array.from(state.chains.values());\n        return chains\n            .flatMap(chain => chain?.caipNetworks || [])\n            .map(caipNetwork => caipNetwork.caipNetworkId);\n    },\n    getCaipNetworks(namespace) {\n        if (namespace) {\n            return ChainController.getRequestedCaipNetworks(namespace);\n        }\n        return ChainController.getAllRequestedCaipNetworks();\n    },\n    getCaipNetworkById(id, namespace) {\n        return controller\n            .getCaipNetworks(namespace)\n            .find(n => n.id.toString() === id.toString() || n.caipNetworkId.toString() === id.toString());\n    },\n    setLastConnectedSIWECaipNetwork(network) {\n        state.lastConnectedSIWECaipNetwork = network;\n    },\n    getLastConnectedSIWECaipNetwork() {\n        return state.lastConnectedSIWECaipNetwork;\n    },\n    async fetchTokenBalance(onError) {\n        const accountState = ChainController.getAccountData();\n        if (!accountState) {\n            return [];\n        }\n        const chainId = ChainController.state.activeCaipNetwork?.caipNetworkId;\n        const chain = ChainController.state.activeCaipNetwork?.chainNamespace;\n        const caipAddress = ChainController.state.activeCaipAddress;\n        const address = caipAddress ? _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_13__.CoreHelperUtil.getPlainAddress(caipAddress) : undefined;\n        ChainController.setAccountProp('balanceLoading', true, chain);\n        if (accountState.lastRetry &&\n            !_utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_13__.CoreHelperUtil.isAllowedRetry(accountState.lastRetry, 30 * _utils_ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_18__.ConstantsUtil.ONE_SEC_MS)) {\n            ChainController.setAccountProp('balanceLoading', false, chain);\n            return [];\n        }\n        try {\n            if (address && chainId && chain) {\n                const balance = await _utils_BalanceUtil_js__WEBPACK_IMPORTED_MODULE_19__.BalanceUtil.getMyTokensWithBalance();\n                ChainController.setAccountProp('tokenBalance', balance, chain);\n                ChainController.setAccountProp('lastRetry', undefined, chain);\n                ChainController.setAccountProp('balanceLoading', false, chain);\n                return balance;\n            }\n        }\n        catch (error) {\n            ChainController.setAccountProp('lastRetry', Date.now(), chain);\n            onError?.(error);\n            _SnackController_js__WEBPACK_IMPORTED_MODULE_20__.SnackController.showError('Token Balance Unavailable');\n        }\n        finally {\n            ChainController.setAccountProp('balanceLoading', false, chain);\n        }\n        return [];\n    },\n    isCaipNetworkDisabled(network) {\n        const networkNamespace = network.chainNamespace;\n        const isNextNamespaceConnected = Boolean(ChainController.getAccountData(networkNamespace)?.caipAddress);\n        const approvedCaipNetworkIds = ChainController.getAllApprovedCaipNetworkIds();\n        const shouldSupportAllNetworks = ChainController.getNetworkProp('supportsAllNetworks', networkNamespace) !== false;\n        const connectorId = _ConnectorController_js__WEBPACK_IMPORTED_MODULE_5__.ConnectorController.getConnectorId(networkNamespace);\n        const authConnector = _ConnectorController_js__WEBPACK_IMPORTED_MODULE_5__.ConnectorController.getAuthConnector();\n        const isConnectedWithAuth = connectorId === _reown_appkit_common__WEBPACK_IMPORTED_MODULE_10__.ConstantsUtil.CONNECTOR_ID.AUTH && authConnector;\n        if (!isNextNamespaceConnected || shouldSupportAllNetworks || isConnectedWithAuth) {\n            return false;\n        }\n        return !approvedCaipNetworkIds?.includes(network.caipNetworkId);\n    }\n};\n// Export the controller wrapped with our error boundary\nconst ChainController = (0,_utils_withErrorBoundary_js__WEBPACK_IMPORTED_MODULE_21__.withErrorBoundary)(controller);\n//# sourceMappingURL=ChainController.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTFfQHJlYWN0LW5hdGl2ZS1hc3luYy1zdG9yYWdlK2FzeW5jLXN0b3JhZ2VAMi4yLjBfcmVhY3QtX2E4MDMyMTIzODk3ZTA3OTMxMzc0MjMyYzNjYzRlNTM1L25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9DaGFpbkNvbnRyb2xsZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBeUQ7QUFDZTtBQUM0QjtBQUMxQjtBQUNwQjtBQUNJO0FBQ0U7QUFDTjtBQUNZO0FBQ0Q7QUFDQTtBQUNGO0FBQ047QUFDRjtBQUNJO0FBQ0U7QUFDTTtBQUNkO0FBQ0U7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxxREFBSztBQUNuQixZQUFZLDhEQUFRO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUseURBQUc7QUFDbEI7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0EsZUFBZSxrRUFBTTtBQUNyQixLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsa0VBQU0sa0RBQWtEO0FBQ3ZFLEtBQUs7QUFDTDtBQUNBO0FBQ0EsZUFBZSx5REFBRztBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBLGdCQUFnQixxREFBcUQsRUFBRSw4REFBVztBQUNsRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixvRUFBaUI7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxnQkFBZ0IsNEVBQXFCLE9BQU8sMkNBQTJDO0FBQ3ZGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLDhEQUFXO0FBQ2xELG1DQUFtQyxHQUFHLG9FQUFpQjtBQUN2RDtBQUNBO0FBQ0EsOEJBQThCLHFEQUFLLEdBQUcsc0RBQXNEO0FBQzVGLDhCQUE4QixxREFBSztBQUNuQztBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsMEJBQTBCLDRCQUE0QjtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLCtDQUErQztBQUMzRSw0QkFBNEIsd0JBQXdCO0FBQ3BEO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1REFBdUQsNENBQTRDO0FBQ25HO0FBQ0EsWUFBWSx3RUFBbUI7QUFDL0I7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMseURBQXlEO0FBQ25HO0FBQ0E7QUFDQSxnQkFBZ0Isd0VBQW1CO0FBQ25DO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLGdEQUFnRDtBQUN0RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDO0FBQ3RDLHNDQUFzQyxnREFBZ0Q7QUFDdEY7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLHFEQUFxRCxlQUFlO0FBQ3BFLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlEQUF5RCxhQUFhO0FBQ3RFLFlBQVksOERBQVc7QUFDdkIsWUFBWSw0RUFBcUI7QUFDakM7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEVBQTBFLGFBQWE7QUFDdkY7QUFDQTtBQUNBLHlDQUF5QywyQkFBMkIsR0FBRyxlQUFlLEdBQUcsUUFBUTtBQUNqRztBQUNBO0FBQ0Esb0JBQW9CLHlCQUF5QixFQUFFLDJEQUFTO0FBQ3hEO0FBQ0EseUNBQXlDLDBCQUEwQixHQUFHLFFBQVE7QUFDOUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxRQUFRLDhEQUFjO0FBQ3RCLFFBQVEsNEVBQXFCO0FBQzdCO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsUUFBUSw4REFBVztBQUNuQjtBQUNBO0FBQ0EsWUFBWSxvRUFBaUI7QUFDN0IsYUFBYSxvRUFBaUI7QUFDOUIsYUFBYSwwRUFBb0I7QUFDakM7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLHlDQUF5Qyx5QkFBeUIsSUFBSTtBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixzRUFBa0I7QUFDakQ7QUFDQSxnQ0FBZ0MsZ0VBQW1CO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLDJFQUFpQjtBQUNqRDtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEMsc0JBQXNCO0FBQ3BFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLG1FQUFnQjtBQUN4QjtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxnQkFBZ0IsMERBQTBEO0FBQzFFLCtCQUErQixxRUFBYztBQUM3QztBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0w7QUFDQSx3REFBd0QscUNBQXFDO0FBQzdGO0FBQ0E7QUFDQTtBQUNBLFFBQVEsd0VBQW1CO0FBQzNCLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLDBCQUEwQiw4REFBVztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QyxrRUFBZSxLQUFLLG9FQUFpQjtBQUNqRjtBQUNBLEtBQUs7QUFDTDtBQUNBLFFBQVEsaUVBQWUsUUFBUSwwQkFBMEI7QUFDekQsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFlBQVksbUVBQWE7QUFDekIsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsb0VBQWlCO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULFFBQVEsd0VBQW1CO0FBQzNCLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGdFQUFtQjtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLHdFQUFtQjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLHFFQUFjO0FBQ3BEO0FBQ0E7QUFDQSxhQUFhLHFFQUFjLDZDQUE2QyxtRUFBYTtBQUNyRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLCtEQUFXO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksaUVBQWU7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLHdFQUFtQjtBQUMvQyw4QkFBOEIsd0VBQW1CO0FBQ2pELG9EQUFvRCxnRUFBbUI7QUFDdkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyx3QkFBd0IsK0VBQWlCO0FBQ2hEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm9nZ2xyLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0ByZW93bithcHBraXQtY29udHJvbGxlcnNAMS44LjExX0ByZWFjdC1uYXRpdmUtYXN5bmMtc3RvcmFnZSthc3luYy1zdG9yYWdlQDIuMi4wX3JlYWN0LV9hODAzMjEyMzg5N2UwNzkzMTM3NDIzMmMzY2M0ZTUzNS9ub2RlX21vZHVsZXMvQHJlb3duL2FwcGtpdC1jb250cm9sbGVycy9kaXN0L2VzbS9zcmMvY29udHJvbGxlcnMvQ2hhaW5Db250cm9sbGVyLmpzPzQ5MzkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcHJveHksIHN1YnNjcmliZSBhcyBzdWIgfSBmcm9tICd2YWx0aW8vdmFuaWxsYSc7XG5pbXBvcnQgeyBwcm94eU1hcCwgc3Vic2NyaWJlS2V5IGFzIHN1YktleSB9IGZyb20gJ3ZhbHRpby92YW5pbGxhL3V0aWxzJztcbmltcG9ydCB7IENvbnN0YW50c1V0aWwgYXMgQ29tbW9uQ29uc3RhbnRzVXRpbCwgTmV0d29ya1V0aWwsIFBhcnNlVXRpbCB9IGZyb20gJ0ByZW93bi9hcHBraXQtY29tbW9uJztcbmltcG9ydCB7IFczbUZyYW1lQ29uc3RhbnRzLCBXM21GcmFtZVN0b3JhZ2UgfSBmcm9tICdAcmVvd24vYXBwa2l0LXdhbGxldCc7XG5pbXBvcnQgeyBCYWxhbmNlVXRpbCB9IGZyb20gJy4uL3V0aWxzL0JhbGFuY2VVdGlsLmpzJztcbmltcG9ydCB7IENvbnN0YW50c1V0aWwgfSBmcm9tICcuLi91dGlscy9Db25zdGFudHNVdGlsLmpzJztcbmltcG9ydCB7IENvcmVIZWxwZXJVdGlsIH0gZnJvbSAnLi4vdXRpbHMvQ29yZUhlbHBlclV0aWwuanMnO1xuaW1wb3J0IHsgU3RvcmFnZVV0aWwgfSBmcm9tICcuLi91dGlscy9TdG9yYWdlVXRpbC5qcyc7XG5pbXBvcnQgeyB3aXRoRXJyb3JCb3VuZGFyeSB9IGZyb20gJy4uL3V0aWxzL3dpdGhFcnJvckJvdW5kYXJ5LmpzJztcbmltcG9ydCB7IEFkYXB0ZXJDb250cm9sbGVyIH0gZnJvbSAnLi9BZGFwdGVyQ29udHJvbGxlci9pbmRleC5qcyc7XG5pbXBvcnQgeyBDb25uZWN0aW9uQ29udHJvbGxlciB9IGZyb20gJy4vQ29ubmVjdGlvbkNvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgQ29ubmVjdG9yQ29udHJvbGxlciB9IGZyb20gJy4vQ29ubmVjdG9yQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBFdmVudHNDb250cm9sbGVyIH0gZnJvbSAnLi9FdmVudHNDb250cm9sbGVyLmpzJztcbmltcG9ydCB7IE1vZGFsQ29udHJvbGxlciB9IGZyb20gJy4vTW9kYWxDb250cm9sbGVyLmpzJztcbmltcG9ydCB7IE9wdGlvbnNDb250cm9sbGVyIH0gZnJvbSAnLi9PcHRpb25zQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBQcm92aWRlckNvbnRyb2xsZXIgfSBmcm9tICcuL1Byb3ZpZGVyQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBQdWJsaWNTdGF0ZUNvbnRyb2xsZXIgfSBmcm9tICcuL1B1YmxpY1N0YXRlQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBTZW5kQ29udHJvbGxlciB9IGZyb20gJy4vU2VuZENvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgU25hY2tDb250cm9sbGVyIH0gZnJvbSAnLi9TbmFja0NvbnRyb2xsZXIuanMnO1xuLy8gLS0gQ29uc3RhbnRzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5jb25zdCBkZWZhdWx0QWNjb3VudFN0YXRlID0ge1xuICAgIGN1cnJlbnRUYWI6IDAsXG4gICAgdG9rZW5CYWxhbmNlOiBbXSxcbiAgICBzbWFydEFjY291bnREZXBsb3llZDogZmFsc2UsXG4gICAgYWRkcmVzc0xhYmVsczogbmV3IE1hcCgpLFxuICAgIHVzZXI6IHVuZGVmaW5lZCxcbiAgICBwcmVmZXJyZWRBY2NvdW50VHlwZTogdW5kZWZpbmVkXG59O1xuY29uc3QgbmV0d29ya1N0YXRlID0ge1xuICAgIGNhaXBOZXR3b3JrOiB1bmRlZmluZWQsXG4gICAgc3VwcG9ydHNBbGxOZXR3b3JrczogdHJ1ZSxcbiAgICBzbWFydEFjY291bnRFbmFibGVkTmV0d29ya3M6IFtdXG59O1xuLy8gLS0gU3RhdGUgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5jb25zdCBzdGF0ZSA9IHByb3h5KHtcbiAgICBjaGFpbnM6IHByb3h5TWFwKCksXG4gICAgYWN0aXZlQ2FpcEFkZHJlc3M6IHVuZGVmaW5lZCxcbiAgICBhY3RpdmVDaGFpbjogdW5kZWZpbmVkLFxuICAgIGFjdGl2ZUNhaXBOZXR3b3JrOiB1bmRlZmluZWQsXG4gICAgbm9BZGFwdGVyczogZmFsc2UsXG4gICAgdW5pdmVyc2FsQWRhcHRlcjoge1xuICAgICAgICBjb25uZWN0aW9uQ29udHJvbGxlckNsaWVudDogdW5kZWZpbmVkXG4gICAgfSxcbiAgICBpc1N3aXRjaGluZ05hbWVzcGFjZTogZmFsc2Vcbn0pO1xuLy8gLS0gQ29udHJvbGxlciAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5jb25zdCBjb250cm9sbGVyID0ge1xuICAgIHN0YXRlLFxuICAgIHN1YnNjcmliZShjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gc3ViKHN0YXRlLCAoKSA9PiB7XG4gICAgICAgICAgICBjYWxsYmFjayhzdGF0ZSk7XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgc3Vic2NyaWJlS2V5KGtleSwgY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIHN1YktleShzdGF0ZSwga2V5LCBjYWxsYmFjayk7XG4gICAgfSxcbiAgICBzdWJzY3JpYmVBY2NvdW50U3RhdGVQcm9wKHByb3BlcnR5LCBjYWxsYmFjaywgY2hhaW4pIHtcbiAgICAgICAgY29uc3QgYWN0aXZlQ2hhaW4gPSBjaGFpbiB8fCBzdGF0ZS5hY3RpdmVDaGFpbjtcbiAgICAgICAgaWYgKCFhY3RpdmVDaGFpbikge1xuICAgICAgICAgICAgcmV0dXJuICgpID0+IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3ViS2V5KHN0YXRlLmNoYWlucy5nZXQoYWN0aXZlQ2hhaW4pPy5hY2NvdW50U3RhdGUgfHwge30sIHByb3BlcnR5LCBjYWxsYmFjayk7XG4gICAgfSxcbiAgICBzdWJzY3JpYmVDaGFpblByb3AocHJvcGVydHksIGNhbGxiYWNrLCBjaGFpbikge1xuICAgICAgICBsZXQgcHJldiA9IHVuZGVmaW5lZDtcbiAgICAgICAgcmV0dXJuIHN1YihzdGF0ZS5jaGFpbnMsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGFjdGl2ZUNoYWluID0gY2hhaW4gfHwgc3RhdGUuYWN0aXZlQ2hhaW47XG4gICAgICAgICAgICBpZiAoYWN0aXZlQ2hhaW4pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0VmFsdWUgPSBzdGF0ZS5jaGFpbnMuZ2V0KGFjdGl2ZUNoYWluKT8uW3Byb3BlcnR5XTtcbiAgICAgICAgICAgICAgICBpZiAocHJldiAhPT0gbmV4dFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHByZXYgPSBuZXh0VmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKG5leHRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9LFxuICAgIGluaXRpYWxpemUoYWRhcHRlcnMsIGNhaXBOZXR3b3JrcywgY2xpZW50cykge1xuICAgICAgICBjb25zdCB7IGNoYWluSWQ6IGFjdGl2ZUNoYWluSWQsIG5hbWVzcGFjZTogYWN0aXZlTmFtZXNwYWNlIH0gPSBTdG9yYWdlVXRpbC5nZXRBY3RpdmVOZXR3b3JrUHJvcHMoKTtcbiAgICAgICAgY29uc3QgYWN0aXZlQ2FpcE5ldHdvcmsgPSBjYWlwTmV0d29ya3M/LmZpbmQobmV0d29yayA9PiBuZXR3b3JrLmlkLnRvU3RyaW5nKCkgPT09IGFjdGl2ZUNoYWluSWQ/LnRvU3RyaW5nKCkpO1xuICAgICAgICBjb25zdCBkZWZhdWx0QWRhcHRlciA9IGFkYXB0ZXJzLmZpbmQoYWRhcHRlciA9PiBhZGFwdGVyPy5uYW1lc3BhY2UgPT09IGFjdGl2ZU5hbWVzcGFjZSk7XG4gICAgICAgIGNvbnN0IGFkYXB0ZXJUb0FjdGl2YXRlID0gZGVmYXVsdEFkYXB0ZXIgfHwgYWRhcHRlcnM/LlswXTtcbiAgICAgICAgY29uc3QgbmFtZXNwYWNlc0Zyb21BZGFwdGVycyA9IGFkYXB0ZXJzLm1hcChhID0+IGEubmFtZXNwYWNlKS5maWx0ZXIobiA9PiBuICE9PSB1bmRlZmluZWQpO1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdGhlIEFwcEtpdCBpcyBpbiBlbWJlZGRlZCBtb2RlIChmb3IgRGVtbyBhcHApLCB3ZSBzaG91bGQgZ2V0IHRoZSBhdmFpbGFibGUgbmFtZXNwYWNlcyBmcm9tIHRoZSBhZGFwdGVycy5cbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0IG5hbWVzcGFjZXMgPSBPcHRpb25zQ29udHJvbGxlci5zdGF0ZS5lbmFibGVFbWJlZGRlZFxuICAgICAgICAgICAgPyBuZXcgU2V0KFsuLi5uYW1lc3BhY2VzRnJvbUFkYXB0ZXJzXSlcbiAgICAgICAgICAgIDogbmV3IFNldChbLi4uKGNhaXBOZXR3b3Jrcz8ubWFwKG5ldHdvcmsgPT4gbmV0d29yay5jaGFpbk5hbWVzcGFjZSkgPz8gW10pXSk7XG4gICAgICAgIGlmIChhZGFwdGVycz8ubGVuZ3RoID09PSAwIHx8ICFhZGFwdGVyVG9BY3RpdmF0ZSkge1xuICAgICAgICAgICAgc3RhdGUubm9BZGFwdGVycyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFzdGF0ZS5ub0FkYXB0ZXJzKSB7XG4gICAgICAgICAgICBzdGF0ZS5hY3RpdmVDaGFpbiA9IGFkYXB0ZXJUb0FjdGl2YXRlPy5uYW1lc3BhY2U7XG4gICAgICAgICAgICBzdGF0ZS5hY3RpdmVDYWlwTmV0d29yayA9IGFjdGl2ZUNhaXBOZXR3b3JrO1xuICAgICAgICAgICAgQ2hhaW5Db250cm9sbGVyLnNldENoYWluTmV0d29ya0RhdGEoYWRhcHRlclRvQWN0aXZhdGU/Lm5hbWVzcGFjZSwge1xuICAgICAgICAgICAgICAgIGNhaXBOZXR3b3JrOiBhY3RpdmVDYWlwTmV0d29ya1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoc3RhdGUuYWN0aXZlQ2hhaW4pIHtcbiAgICAgICAgICAgICAgICBQdWJsaWNTdGF0ZUNvbnRyb2xsZXIuc2V0KHsgYWN0aXZlQ2hhaW46IGFkYXB0ZXJUb0FjdGl2YXRlPy5uYW1lc3BhY2UgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbmFtZXNwYWNlcy5mb3JFYWNoKG5hbWVzcGFjZSA9PiB7XG4gICAgICAgICAgICBjb25zdCBuYW1lc3BhY2VOZXR3b3JrcyA9IGNhaXBOZXR3b3Jrcz8uZmlsdGVyKG5ldHdvcmsgPT4gbmV0d29yay5jaGFpbk5hbWVzcGFjZSA9PT0gbmFtZXNwYWNlKTtcbiAgICAgICAgICAgIGNvbnN0IHN0b3JlZEFjY291bnRUeXBlcyA9IFN0b3JhZ2VVdGlsLmdldFByZWZlcnJlZEFjY291bnRUeXBlcygpIHx8IHt9O1xuICAgICAgICAgICAgY29uc3QgZGVmYXVsdFR5cGVzID0geyAuLi5PcHRpb25zQ29udHJvbGxlci5zdGF0ZS5kZWZhdWx0QWNjb3VudFR5cGVzLCAuLi5zdG9yZWRBY2NvdW50VHlwZXMgfTtcbiAgICAgICAgICAgIENoYWluQ29udHJvbGxlci5zdGF0ZS5jaGFpbnMuc2V0KG5hbWVzcGFjZSwge1xuICAgICAgICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICAgICAgICBuZXR3b3JrU3RhdGU6IHByb3h5KHsgLi4ubmV0d29ya1N0YXRlLCBjYWlwTmV0d29yazogbmFtZXNwYWNlTmV0d29ya3M/LlswXSB9KSxcbiAgICAgICAgICAgICAgICBhY2NvdW50U3RhdGU6IHByb3h5KHtcbiAgICAgICAgICAgICAgICAgICAgLi4uZGVmYXVsdEFjY291bnRTdGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgcHJlZmVycmVkQWNjb3VudFR5cGU6IGRlZmF1bHRUeXBlc1tuYW1lc3BhY2VdXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgY2FpcE5ldHdvcmtzOiBuYW1lc3BhY2VOZXR3b3JrcyA/PyBbXSxcbiAgICAgICAgICAgICAgICAuLi5jbGllbnRzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIENoYWluQ29udHJvbGxlci5zZXRSZXF1ZXN0ZWRDYWlwTmV0d29ya3MobmFtZXNwYWNlTmV0d29ya3MgPz8gW10sIG5hbWVzcGFjZSk7XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgcmVtb3ZlQWRhcHRlcihuYW1lc3BhY2UpIHtcbiAgICAgICAgaWYgKHN0YXRlLmFjdGl2ZUNoYWluID09PSBuYW1lc3BhY2UpIHtcbiAgICAgICAgICAgIGNvbnN0IG5leHRBZGFwdGVyID0gQXJyYXkuZnJvbShzdGF0ZS5jaGFpbnMuZW50cmllcygpKS5maW5kKChbY2hhaW5OYW1lc3BhY2VdKSA9PiBjaGFpbk5hbWVzcGFjZSAhPT0gbmFtZXNwYWNlKTtcbiAgICAgICAgICAgIGlmIChuZXh0QWRhcHRlcikge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNhaXBOZXR3b3JrID0gbmV4dEFkYXB0ZXJbMV0/LmNhaXBOZXR3b3Jrcz8uWzBdO1xuICAgICAgICAgICAgICAgIGlmIChjYWlwTmV0d29yaykge1xuICAgICAgICAgICAgICAgICAgICBDaGFpbkNvbnRyb2xsZXIuc2V0QWN0aXZlQ2FpcE5ldHdvcmsoY2FpcE5ldHdvcmspO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzdGF0ZS5jaGFpbnMuZGVsZXRlKG5hbWVzcGFjZSk7XG4gICAgfSxcbiAgICBhZGRBZGFwdGVyKGFkYXB0ZXIsIHsgY29ubmVjdGlvbkNvbnRyb2xsZXJDbGllbnQgfSwgY2FpcE5ldHdvcmtzKSB7XG4gICAgICAgIGlmICghYWRhcHRlci5uYW1lc3BhY2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2hhaW5Db250cm9sbGVyOmFkZEFkYXB0ZXIgLSBhZGFwdGVyIG11c3QgaGF2ZSBhIG5hbWVzcGFjZScpO1xuICAgICAgICB9XG4gICAgICAgIHN0YXRlLmNoYWlucy5zZXQoYWRhcHRlci5uYW1lc3BhY2UsIHtcbiAgICAgICAgICAgIG5hbWVzcGFjZTogYWRhcHRlci5uYW1lc3BhY2UsXG4gICAgICAgICAgICBuZXR3b3JrU3RhdGU6IHsgLi4ubmV0d29ya1N0YXRlLCBjYWlwTmV0d29yazogY2FpcE5ldHdvcmtzWzBdIH0sXG4gICAgICAgICAgICBhY2NvdW50U3RhdGU6IHsgLi4uZGVmYXVsdEFjY291bnRTdGF0ZSB9LFxuICAgICAgICAgICAgY2FpcE5ldHdvcmtzLFxuICAgICAgICAgICAgY29ubmVjdGlvbkNvbnRyb2xsZXJDbGllbnRcbiAgICAgICAgfSk7XG4gICAgICAgIENoYWluQ29udHJvbGxlci5zZXRSZXF1ZXN0ZWRDYWlwTmV0d29ya3MoY2FpcE5ldHdvcmtzPy5maWx0ZXIoY2FpcE5ldHdvcmsgPT4gY2FpcE5ldHdvcmsuY2hhaW5OYW1lc3BhY2UgPT09IGFkYXB0ZXIubmFtZXNwYWNlKSA/PyBbXSwgYWRhcHRlci5uYW1lc3BhY2UpO1xuICAgIH0sXG4gICAgYWRkTmV0d29yayhuZXR3b3JrKSB7XG4gICAgICAgIGNvbnN0IGNoYWluQWRhcHRlciA9IHN0YXRlLmNoYWlucy5nZXQobmV0d29yay5jaGFpbk5hbWVzcGFjZSk7XG4gICAgICAgIGlmIChjaGFpbkFkYXB0ZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IG5ld05ldHdvcmtzID0gWy4uLihjaGFpbkFkYXB0ZXIuY2FpcE5ldHdvcmtzIHx8IFtdKV07XG4gICAgICAgICAgICBpZiAoIWNoYWluQWRhcHRlci5jYWlwTmV0d29ya3M/LmZpbmQoY2FpcE5ldHdvcmsgPT4gY2FpcE5ldHdvcmsuaWQgPT09IG5ldHdvcmsuaWQpKSB7XG4gICAgICAgICAgICAgICAgbmV3TmV0d29ya3MucHVzaChuZXR3b3JrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0YXRlLmNoYWlucy5zZXQobmV0d29yay5jaGFpbk5hbWVzcGFjZSwgeyAuLi5jaGFpbkFkYXB0ZXIsIGNhaXBOZXR3b3JrczogbmV3TmV0d29ya3MgfSk7XG4gICAgICAgICAgICBDaGFpbkNvbnRyb2xsZXIuc2V0UmVxdWVzdGVkQ2FpcE5ldHdvcmtzKG5ld05ldHdvcmtzLCBuZXR3b3JrLmNoYWluTmFtZXNwYWNlKTtcbiAgICAgICAgICAgIENvbm5lY3RvckNvbnRyb2xsZXIuZmlsdGVyQnlOYW1lc3BhY2UobmV0d29yay5jaGFpbk5hbWVzcGFjZSwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHJlbW92ZU5ldHdvcmsobmFtZXNwYWNlLCBuZXR3b3JrSWQpIHtcbiAgICAgICAgY29uc3QgY2hhaW5BZGFwdGVyID0gc3RhdGUuY2hhaW5zLmdldChuYW1lc3BhY2UpO1xuICAgICAgICBpZiAoY2hhaW5BZGFwdGVyKSB7XG4gICAgICAgICAgICAvLyBDaGVjayBpZiBuZXR3b3JrIGJlaW5nIHJlbW92ZWQgaXMgYWN0aXZlIG5ldHdvcmtcbiAgICAgICAgICAgIGNvbnN0IGlzQWN0aXZlTmV0d29yayA9IHN0YXRlLmFjdGl2ZUNhaXBOZXR3b3JrPy5pZCA9PT0gbmV0d29ya0lkO1xuICAgICAgICAgICAgLy8gRmlsdGVyIG91dCB0aGUgbmV0d29yayBiZWluZyByZW1vdmVkXG4gICAgICAgICAgICBjb25zdCBuZXdDYWlwTmV0d29ya3NPZkFkYXB0ZXIgPSBbXG4gICAgICAgICAgICAgICAgLi4uKGNoYWluQWRhcHRlci5jYWlwTmV0d29ya3M/LmZpbHRlcihuZXR3b3JrID0+IG5ldHdvcmsuaWQgIT09IG5ldHdvcmtJZCkgfHwgW10pXG4gICAgICAgICAgICBdO1xuICAgICAgICAgICAgLy8gSWYgYWN0aXZlIG5ldHdvcmsgd2FzIHJlbW92ZWQgYW5kIHRoZXJlIGFyZSBvdGhlciBuZXR3b3JrcyBhdmFpbGFibGUsIHN3aXRjaCB0byBmaXJzdCBvbmVcbiAgICAgICAgICAgIGlmIChpc0FjdGl2ZU5ldHdvcmsgJiYgY2hhaW5BZGFwdGVyPy5jYWlwTmV0d29ya3M/LlswXSkge1xuICAgICAgICAgICAgICAgIENoYWluQ29udHJvbGxlci5zZXRBY3RpdmVDYWlwTmV0d29yayhjaGFpbkFkYXB0ZXIuY2FpcE5ldHdvcmtzWzBdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0YXRlLmNoYWlucy5zZXQobmFtZXNwYWNlLCB7IC4uLmNoYWluQWRhcHRlciwgY2FpcE5ldHdvcmtzOiBuZXdDYWlwTmV0d29ya3NPZkFkYXB0ZXIgfSk7XG4gICAgICAgICAgICBDaGFpbkNvbnRyb2xsZXIuc2V0UmVxdWVzdGVkQ2FpcE5ldHdvcmtzKG5ld0NhaXBOZXR3b3Jrc09mQWRhcHRlciB8fCBbXSwgbmFtZXNwYWNlKTtcbiAgICAgICAgICAgIGlmIChuZXdDYWlwTmV0d29ya3NPZkFkYXB0ZXIubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgQ29ubmVjdG9yQ29udHJvbGxlci5maWx0ZXJCeU5hbWVzcGFjZShuYW1lc3BhY2UsIGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG4gICAgc2V0QWRhcHRlck5ldHdvcmtTdGF0ZShjaGFpbiwgcHJvcHMpIHtcbiAgICAgICAgY29uc3QgY2hhaW5BZGFwdGVyID0gc3RhdGUuY2hhaW5zLmdldChjaGFpbik7XG4gICAgICAgIGlmIChjaGFpbkFkYXB0ZXIpIHtcbiAgICAgICAgICAgIGNoYWluQWRhcHRlci5uZXR3b3JrU3RhdGUgPSB7XG4gICAgICAgICAgICAgICAgLi4uKGNoYWluQWRhcHRlci5uZXR3b3JrU3RhdGUgfHwgbmV0d29ya1N0YXRlKSxcbiAgICAgICAgICAgICAgICAuLi5wcm9wc1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHN0YXRlLmNoYWlucy5zZXQoY2hhaW4sIGNoYWluQWRhcHRlcik7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHNldENoYWluQWNjb3VudERhdGEoY2hhaW4sIGFjY291bnRQcm9wcywgX3Vua25vd24gPSB0cnVlKSB7XG4gICAgICAgIGlmICghY2hhaW4pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2hhaW4gaXMgcmVxdWlyZWQgdG8gdXBkYXRlIGNoYWluIGFjY291bnQgZGF0YScpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNoYWluQWRhcHRlciA9IHN0YXRlLmNoYWlucy5nZXQoY2hhaW4pO1xuICAgICAgICBpZiAoY2hhaW5BZGFwdGVyKSB7XG4gICAgICAgICAgICBjb25zdCBuZXdBY2NvdW50U3RhdGUgPSB7XG4gICAgICAgICAgICAgICAgLi4uKGNoYWluQWRhcHRlci5hY2NvdW50U3RhdGUgfHwgZGVmYXVsdEFjY291bnRTdGF0ZSksXG4gICAgICAgICAgICAgICAgLi4uYWNjb3VudFByb3BzXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgc3RhdGUuY2hhaW5zLnNldChjaGFpbiwgeyAuLi5jaGFpbkFkYXB0ZXIsIGFjY291bnRTdGF0ZTogbmV3QWNjb3VudFN0YXRlIH0pO1xuICAgICAgICAgICAgaWYgKHN0YXRlLmNoYWlucy5zaXplID09PSAxIHx8IHN0YXRlLmFjdGl2ZUNoYWluID09PSBjaGFpbikge1xuICAgICAgICAgICAgICAgIGlmIChhY2NvdW50UHJvcHMuY2FpcEFkZHJlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuYWN0aXZlQ2FpcEFkZHJlc3MgPSBhY2NvdW50UHJvcHMuY2FpcEFkZHJlc3M7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcbiAgICBzZXRDaGFpbk5ldHdvcmtEYXRhKGNoYWluLCBuZXR3b3JrUHJvcHMpIHtcbiAgICAgICAgaWYgKCFjaGFpbikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNoYWluQWRhcHRlciA9IHN0YXRlLmNoYWlucy5nZXQoY2hhaW4pO1xuICAgICAgICBpZiAoY2hhaW5BZGFwdGVyKSB7XG4gICAgICAgICAgICBjb25zdCBuZXdOZXR3b3JrU3RhdGUgPSB7IC4uLihjaGFpbkFkYXB0ZXIubmV0d29ya1N0YXRlIHx8IG5ldHdvcmtTdGF0ZSksIC4uLm5ldHdvcmtQcm9wcyB9O1xuICAgICAgICAgICAgc3RhdGUuY2hhaW5zLnNldChjaGFpbiwgeyAuLi5jaGFpbkFkYXB0ZXIsIG5ldHdvcmtTdGF0ZTogbmV3TmV0d29ya1N0YXRlIH0pO1xuICAgICAgICB9XG4gICAgfSxcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbWF4LXBhcmFtc1xuICAgIHNldEFjY291bnRQcm9wKHByb3AsIHZhbHVlLCBjaGFpbiwgcmVwbGFjZVN0YXRlID0gdHJ1ZSkge1xuICAgICAgICBDaGFpbkNvbnRyb2xsZXIuc2V0Q2hhaW5BY2NvdW50RGF0YShjaGFpbiwgeyBbcHJvcF06IHZhbHVlIH0sIHJlcGxhY2VTdGF0ZSk7XG4gICAgfSxcbiAgICBzZXRBY3RpdmVOYW1lc3BhY2UoY2hhaW4pIHtcbiAgICAgICAgc3RhdGUuYWN0aXZlQ2hhaW4gPSBjaGFpbjtcbiAgICAgICAgY29uc3QgbmV3QWRhcHRlciA9IGNoYWluID8gc3RhdGUuY2hhaW5zLmdldChjaGFpbikgOiB1bmRlZmluZWQ7XG4gICAgICAgIGNvbnN0IGNhaXBOZXR3b3JrID0gbmV3QWRhcHRlcj8ubmV0d29ya1N0YXRlPy5jYWlwTmV0d29yaztcbiAgICAgICAgaWYgKGNhaXBOZXR3b3JrPy5pZCAmJiBjaGFpbikge1xuICAgICAgICAgICAgc3RhdGUuYWN0aXZlQ2FpcEFkZHJlc3MgPSBuZXdBZGFwdGVyPy5hY2NvdW50U3RhdGU/LmNhaXBBZGRyZXNzO1xuICAgICAgICAgICAgc3RhdGUuYWN0aXZlQ2FpcE5ldHdvcmsgPSBjYWlwTmV0d29yaztcbiAgICAgICAgICAgIENoYWluQ29udHJvbGxlci5zZXRDaGFpbk5ldHdvcmtEYXRhKGNoYWluLCB7IGNhaXBOZXR3b3JrIH0pO1xuICAgICAgICAgICAgU3RvcmFnZVV0aWwuc2V0QWN0aXZlQ2FpcE5ldHdvcmtJZChjYWlwTmV0d29yaz8uY2FpcE5ldHdvcmtJZCk7XG4gICAgICAgICAgICBQdWJsaWNTdGF0ZUNvbnRyb2xsZXIuc2V0KHtcbiAgICAgICAgICAgICAgICBhY3RpdmVDaGFpbjogY2hhaW4sXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWROZXR3b3JrSWQ6IGNhaXBOZXR3b3JrPy5jYWlwTmV0d29ya0lkXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgc2V0QWN0aXZlQ2FpcE5ldHdvcmsoY2FpcE5ldHdvcmspIHtcbiAgICAgICAgaWYgKCFjYWlwTmV0d29yaykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGlzU2FtZU5hbWVzcGFjZSA9IHN0YXRlLmFjdGl2ZUNoYWluID09PSBjYWlwTmV0d29yay5jaGFpbk5hbWVzcGFjZTtcbiAgICAgICAgaWYgKCFpc1NhbWVOYW1lc3BhY2UpIHtcbiAgICAgICAgICAgIENoYWluQ29udHJvbGxlci5zZXRJc1N3aXRjaGluZ05hbWVzcGFjZSh0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBuZXdBZGFwdGVyID0gc3RhdGUuY2hhaW5zLmdldChjYWlwTmV0d29yay5jaGFpbk5hbWVzcGFjZSk7XG4gICAgICAgIHN0YXRlLmFjdGl2ZUNoYWluID0gY2FpcE5ldHdvcmsuY2hhaW5OYW1lc3BhY2U7XG4gICAgICAgIHN0YXRlLmFjdGl2ZUNhaXBOZXR3b3JrID0gY2FpcE5ldHdvcms7XG4gICAgICAgIENoYWluQ29udHJvbGxlci5zZXRDaGFpbk5ldHdvcmtEYXRhKGNhaXBOZXR3b3JrLmNoYWluTmFtZXNwYWNlLCB7IGNhaXBOZXR3b3JrIH0pO1xuICAgICAgICBsZXQgYWRkcmVzcyA9IG5ld0FkYXB0ZXI/LmFjY291bnRTdGF0ZT8uYWRkcmVzcztcbiAgICAgICAgaWYgKGFkZHJlc3MpIHtcbiAgICAgICAgICAgIHN0YXRlLmFjdGl2ZUNhaXBBZGRyZXNzID0gYCR7Y2FpcE5ldHdvcmsuY2hhaW5OYW1lc3BhY2V9OiR7Y2FpcE5ldHdvcmsuaWR9OiR7YWRkcmVzc31gO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzU2FtZU5hbWVzcGFjZSAmJiBzdGF0ZS5hY3RpdmVDYWlwQWRkcmVzcykge1xuICAgICAgICAgICAgY29uc3QgeyBhZGRyZXNzOiBwYXJzZWRBZGRyZXNzIH0gPSBQYXJzZVV0aWwucGFyc2VDYWlwQWRkcmVzcyhzdGF0ZS5hY3RpdmVDYWlwQWRkcmVzcyk7XG4gICAgICAgICAgICBhZGRyZXNzID0gcGFyc2VkQWRkcmVzcztcbiAgICAgICAgICAgIHN0YXRlLmFjdGl2ZUNhaXBBZGRyZXNzID0gYCR7Y2FpcE5ldHdvcmsuY2FpcE5ldHdvcmtJZH06JHthZGRyZXNzfWA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzdGF0ZS5hY3RpdmVDYWlwQWRkcmVzcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBDaGFpbkNvbnRyb2xsZXIuc2V0Q2hhaW5BY2NvdW50RGF0YShjYWlwTmV0d29yay5jaGFpbk5hbWVzcGFjZSwge1xuICAgICAgICAgICAgYWRkcmVzcyxcbiAgICAgICAgICAgIGNhaXBBZGRyZXNzOiBzdGF0ZS5hY3RpdmVDYWlwQWRkcmVzc1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gUmVzZXQgc2VuZCBzdGF0ZSB3aGVuIHN3aXRjaGluZyBuZXR3b3Jrc1xuICAgICAgICBTZW5kQ29udHJvbGxlci5yZXNldFNlbmQoKTtcbiAgICAgICAgUHVibGljU3RhdGVDb250cm9sbGVyLnNldCh7XG4gICAgICAgICAgICBhY3RpdmVDaGFpbjogc3RhdGUuYWN0aXZlQ2hhaW4sXG4gICAgICAgICAgICBzZWxlY3RlZE5ldHdvcmtJZDogc3RhdGUuYWN0aXZlQ2FpcE5ldHdvcms/LmNhaXBOZXR3b3JrSWRcbiAgICAgICAgfSk7XG4gICAgICAgIFN0b3JhZ2VVdGlsLnNldEFjdGl2ZUNhaXBOZXR3b3JrSWQoY2FpcE5ldHdvcmsuY2FpcE5ldHdvcmtJZCk7XG4gICAgICAgIGNvbnN0IGlzU3VwcG9ydGVkID0gQ2hhaW5Db250cm9sbGVyLmNoZWNrSWZTdXBwb3J0ZWROZXR3b3JrKGNhaXBOZXR3b3JrLmNoYWluTmFtZXNwYWNlKTtcbiAgICAgICAgaWYgKCFpc1N1cHBvcnRlZCAmJlxuICAgICAgICAgICAgT3B0aW9uc0NvbnRyb2xsZXIuc3RhdGUuZW5hYmxlTmV0d29ya1N3aXRjaCAmJlxuICAgICAgICAgICAgIU9wdGlvbnNDb250cm9sbGVyLnN0YXRlLmFsbG93VW5zdXBwb3J0ZWRDaGFpbiAmJlxuICAgICAgICAgICAgIUNvbm5lY3Rpb25Db250cm9sbGVyLnN0YXRlLndjQmFzaWMpIHtcbiAgICAgICAgICAgIENoYWluQ29udHJvbGxlci5zaG93VW5zdXBwb3J0ZWRDaGFpblVJKCk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGFkZENhaXBOZXR3b3JrKGNhaXBOZXR3b3JrKSB7XG4gICAgICAgIGlmICghY2FpcE5ldHdvcmspIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjaGFpbiA9IHN0YXRlLmNoYWlucy5nZXQoY2FpcE5ldHdvcmsuY2hhaW5OYW1lc3BhY2UpO1xuICAgICAgICBpZiAoY2hhaW4pIHtcbiAgICAgICAgICAgIGNoYWluPy5jYWlwTmV0d29ya3M/LnB1c2goY2FpcE5ldHdvcmspO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBhc3luYyBzd2l0Y2hBY3RpdmVOYW1lc3BhY2UobmFtZXNwYWNlKSB7XG4gICAgICAgIGlmICghbmFtZXNwYWNlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaXNEaWZmZXJlbnRDaGFpbiA9IG5hbWVzcGFjZSAhPT0gQ2hhaW5Db250cm9sbGVyLnN0YXRlLmFjdGl2ZUNoYWluO1xuICAgICAgICBjb25zdCBjYWlwTmV0d29ya09mTmFtZXNwYWNlID0gQ2hhaW5Db250cm9sbGVyLmdldE5ldHdvcmtEYXRhKG5hbWVzcGFjZSk/LmNhaXBOZXR3b3JrO1xuICAgICAgICBjb25zdCBmaXJzdE5ldHdvcmtXaXRoQ2hhaW4gPSBDaGFpbkNvbnRyb2xsZXIuZ2V0Q2FpcE5ldHdvcmtCeU5hbWVzcGFjZShuYW1lc3BhY2UsIGNhaXBOZXR3b3JrT2ZOYW1lc3BhY2U/LmlkKTtcbiAgICAgICAgaWYgKGlzRGlmZmVyZW50Q2hhaW4gJiYgZmlyc3ROZXR3b3JrV2l0aENoYWluKSB7XG4gICAgICAgICAgICBhd2FpdCBDaGFpbkNvbnRyb2xsZXIuc3dpdGNoQWN0aXZlTmV0d29yayhmaXJzdE5ldHdvcmtXaXRoQ2hhaW4pO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBhc3luYyBzd2l0Y2hBY3RpdmVOZXR3b3JrKG5ldHdvcmssIHsgdGhyb3dPbkZhaWx1cmUgPSBmYWxzZSB9ID0ge30pIHtcbiAgICAgICAgY29uc3QgbmFtZXNwYWNlID0gQ2hhaW5Db250cm9sbGVyLnN0YXRlLmFjdGl2ZUNoYWluO1xuICAgICAgICBpZiAoIW5hbWVzcGFjZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDaGFpbkNvbnRyb2xsZXI6c3dpdGNoQWN0aXZlTmV0d29yayAtIG5hbWVzcGFjZSBpcyByZXF1aXJlZCcpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGlzQXV0aFByb3ZpZGVyID0gUHJvdmlkZXJDb250cm9sbGVyLmdldFByb3ZpZGVySWQoc3RhdGUuYWN0aXZlQ2hhaW4pID09PSAnQVVUSCc7XG4gICAgICAgIGNvbnN0IG5hbWVzcGFjZUFkZHJlc3MgPSBDaGFpbkNvbnRyb2xsZXIuZ2V0QWNjb3VudERhdGEobmFtZXNwYWNlKT8uYWRkcmVzcztcbiAgICAgICAgY29uc3QgaXNBdXRoU3VwcG9ydGVkID0gQ29tbW9uQ29uc3RhbnRzVXRpbC5BVVRIX0NPTk5FQ1RPUl9TVVBQT1JURURfQ0hBSU5TLmluY2x1ZGVzKG5ldHdvcmsuY2hhaW5OYW1lc3BhY2UpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gSWYgY29ubmVjdGVkIHRvIHRoZSBuYW1lc3BhY2UgYW5kIHN3aXRjaGluZyBvbiBzYW1lIG5hbWVzcGFjZSwgd2Ugc2hvdWxkIG5vdGlmeSB0aGUgd2FsbGV0XG4gICAgICAgICAgICBpZiAoKG5hbWVzcGFjZUFkZHJlc3MgJiYgbmV0d29yay5jaGFpbk5hbWVzcGFjZSA9PT0gbmFtZXNwYWNlKSB8fFxuICAgICAgICAgICAgICAgIChpc0F1dGhQcm92aWRlciAmJiBpc0F1dGhTdXBwb3J0ZWQpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRhcHRlciA9IEFkYXB0ZXJDb250cm9sbGVyLmdldChuZXR3b3JrLmNoYWluTmFtZXNwYWNlKTtcbiAgICAgICAgICAgICAgICBpZiAoIWFkYXB0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBZGFwdGVyIG5vdCBmb3VuZCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBhd2FpdCBhZGFwdGVyLnN3aXRjaE5ldHdvcmsoeyBjYWlwTmV0d29yazogbmV0d29yayB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIENoYWluQ29udHJvbGxlci5zZXRBY3RpdmVDYWlwTmV0d29yayhuZXR3b3JrKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGlmICh0aHJvd09uRmFpbHVyZSkge1xuICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIEV2ZW50c0NvbnRyb2xsZXIuc2VuZEV2ZW50KHtcbiAgICAgICAgICAgIHR5cGU6ICd0cmFjaycsXG4gICAgICAgICAgICBldmVudDogJ1NXSVRDSF9ORVRXT1JLJyxcbiAgICAgICAgICAgIHByb3BlcnRpZXM6IHsgbmV0d29yazogbmV0d29yay5jYWlwTmV0d29ya0lkIH1cbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBnZXRDb25uZWN0aW9uQ29udHJvbGxlckNsaWVudChfY2hhaW4pIHtcbiAgICAgICAgY29uc3QgY2hhaW4gPSBfY2hhaW4gfHwgc3RhdGUuYWN0aXZlQ2hhaW47XG4gICAgICAgIGlmICghY2hhaW4pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2hhaW4gaXMgcmVxdWlyZWQgdG8gZ2V0IGNvbm5lY3Rpb24gY29udHJvbGxlciBjbGllbnQnKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjaGFpbkFkYXB0ZXIgPSBzdGF0ZS5jaGFpbnMuZ2V0KGNoYWluKTtcbiAgICAgICAgaWYgKCFjaGFpbkFkYXB0ZXI/LmNvbm5lY3Rpb25Db250cm9sbGVyQ2xpZW50KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nvbm5lY3Rpb25Db250cm9sbGVyIGNsaWVudCBub3Qgc2V0Jyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNoYWluQWRhcHRlci5jb25uZWN0aW9uQ29udHJvbGxlckNsaWVudDtcbiAgICB9LFxuICAgIGdldE5ldHdvcmtQcm9wKGtleSwgbmFtZXNwYWNlKSB7XG4gICAgICAgIGNvbnN0IGNoYWluTmV0d29ya1N0YXRlID0gc3RhdGUuY2hhaW5zLmdldChuYW1lc3BhY2UpPy5uZXR3b3JrU3RhdGU7XG4gICAgICAgIGlmICghY2hhaW5OZXR3b3JrU3RhdGUpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNoYWluTmV0d29ya1N0YXRlW2tleV07XG4gICAgfSxcbiAgICBnZXRSZXF1ZXN0ZWRDYWlwTmV0d29ya3MoY2hhaW5Ub0ZpbHRlcikge1xuICAgICAgICBjb25zdCBhZGFwdGVyID0gc3RhdGUuY2hhaW5zLmdldChjaGFpblRvRmlsdGVyKTtcbiAgICAgICAgY29uc3QgeyBhcHByb3ZlZENhaXBOZXR3b3JrSWRzID0gW10sIHJlcXVlc3RlZENhaXBOZXR3b3JrcyA9IFtdIH0gPSBhZGFwdGVyPy5uZXR3b3JrU3RhdGUgfHwge307XG4gICAgICAgIGNvbnN0IHNvcnRlZE5ldHdvcmtzID0gQ29yZUhlbHBlclV0aWwuc29ydFJlcXVlc3RlZE5ldHdvcmtzKGFwcHJvdmVkQ2FpcE5ldHdvcmtJZHMsIHJlcXVlc3RlZENhaXBOZXR3b3Jrcyk7XG4gICAgICAgIGNvbnN0IGZpbHRlcmVkTmV0d29ya3MgPSBzb3J0ZWROZXR3b3Jrcy5maWx0ZXIobmV0d29yayA9PiBuZXR3b3JrPy5pZCk7XG4gICAgICAgIHJldHVybiBmaWx0ZXJlZE5ldHdvcmtzO1xuICAgIH0sXG4gICAgZ2V0QWxsUmVxdWVzdGVkQ2FpcE5ldHdvcmtzKCkge1xuICAgICAgICBjb25zdCByZXF1ZXN0ZWRDYWlwTmV0d29ya3MgPSBbXTtcbiAgICAgICAgc3RhdGUuY2hhaW5zLmZvckVhY2goY2hhaW5BZGFwdGVyID0+IHtcbiAgICAgICAgICAgIGlmICghY2hhaW5BZGFwdGVyLm5hbWVzcGFjZSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2hhaW5Db250cm9sbGVyOmdldEFsbFJlcXVlc3RlZENhaXBOZXR3b3JrcyAtIGNoYWluQWRhcHRlciBtdXN0IGhhdmUgYSBuYW1lc3BhY2UnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGNhaXBOZXR3b3JrcyA9IENoYWluQ29udHJvbGxlci5nZXRSZXF1ZXN0ZWRDYWlwTmV0d29ya3MoY2hhaW5BZGFwdGVyLm5hbWVzcGFjZSk7XG4gICAgICAgICAgICByZXF1ZXN0ZWRDYWlwTmV0d29ya3MucHVzaCguLi5jYWlwTmV0d29ya3MpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHJlcXVlc3RlZENhaXBOZXR3b3JrcztcbiAgICB9LFxuICAgIHNldFJlcXVlc3RlZENhaXBOZXR3b3JrcyhjYWlwTmV0d29ya3MsIGNoYWluKSB7XG4gICAgICAgIENoYWluQ29udHJvbGxlci5zZXRBZGFwdGVyTmV0d29ya1N0YXRlKGNoYWluLCB7IHJlcXVlc3RlZENhaXBOZXR3b3JrczogY2FpcE5ldHdvcmtzIH0pO1xuICAgICAgICBjb25zdCBhbGxSZXF1ZXN0ZWRDYWlwTmV0d29ya3MgPSBDaGFpbkNvbnRyb2xsZXIuZ2V0QWxsUmVxdWVzdGVkQ2FpcE5ldHdvcmtzKCk7XG4gICAgICAgIGNvbnN0IG5hbWVzcGFjZXMgPSBhbGxSZXF1ZXN0ZWRDYWlwTmV0d29ya3MubWFwKG5ldHdvcmsgPT4gbmV0d29yay5jaGFpbk5hbWVzcGFjZSk7XG4gICAgICAgIGNvbnN0IHVuaXF1ZU5hbWVzcGFjZXMgPSBBcnJheS5mcm9tKG5ldyBTZXQobmFtZXNwYWNlcykpO1xuICAgICAgICBDb25uZWN0b3JDb250cm9sbGVyLmZpbHRlckJ5TmFtZXNwYWNlcyh1bmlxdWVOYW1lc3BhY2VzKTtcbiAgICB9LFxuICAgIGdldEFsbEFwcHJvdmVkQ2FpcE5ldHdvcmtJZHMoKSB7XG4gICAgICAgIGNvbnN0IGFwcHJvdmVkQ2FpcE5ldHdvcmtJZHMgPSBbXTtcbiAgICAgICAgc3RhdGUuY2hhaW5zLmZvckVhY2goY2hhaW5BZGFwdGVyID0+IHtcbiAgICAgICAgICAgIGlmICghY2hhaW5BZGFwdGVyLm5hbWVzcGFjZSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2hhaW5Db250cm9sbGVyOmdldEFsbEFwcHJvdmVkQ2FpcE5ldHdvcmtJZHMgLSBjaGFpbkFkYXB0ZXIgbXVzdCBoYXZlIGEgbmFtZXNwYWNlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBhcHByb3ZlZElkcyA9IENoYWluQ29udHJvbGxlci5nZXRBcHByb3ZlZENhaXBOZXR3b3JrSWRzKGNoYWluQWRhcHRlci5uYW1lc3BhY2UpO1xuICAgICAgICAgICAgYXBwcm92ZWRDYWlwTmV0d29ya0lkcy5wdXNoKC4uLmFwcHJvdmVkSWRzKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBhcHByb3ZlZENhaXBOZXR3b3JrSWRzO1xuICAgIH0sXG4gICAgZ2V0QWN0aXZlQ2FpcE5ldHdvcmsoY2hhaW5OYW1lc3BhY2UpIHtcbiAgICAgICAgaWYgKGNoYWluTmFtZXNwYWNlKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RhdGUuY2hhaW5zLmdldChjaGFpbk5hbWVzcGFjZSk/Lm5ldHdvcmtTdGF0ZT8uY2FpcE5ldHdvcms7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0YXRlLmFjdGl2ZUNhaXBOZXR3b3JrO1xuICAgIH0sXG4gICAgZ2V0QWN0aXZlQ2FpcEFkZHJlc3MoKSB7XG4gICAgICAgIHJldHVybiBzdGF0ZS5hY3RpdmVDYWlwQWRkcmVzcztcbiAgICB9LFxuICAgIGdldEFwcHJvdmVkQ2FpcE5ldHdvcmtJZHMobmFtZXNwYWNlKSB7XG4gICAgICAgIGNvbnN0IGFkYXB0ZXIgPSBzdGF0ZS5jaGFpbnMuZ2V0KG5hbWVzcGFjZSk7XG4gICAgICAgIGNvbnN0IGFwcHJvdmVkQ2FpcE5ldHdvcmtJZHMgPSBhZGFwdGVyPy5uZXR3b3JrU3RhdGU/LmFwcHJvdmVkQ2FpcE5ldHdvcmtJZHMgfHwgW107XG4gICAgICAgIHJldHVybiBhcHByb3ZlZENhaXBOZXR3b3JrSWRzO1xuICAgIH0sXG4gICAgc2V0QXBwcm92ZWRDYWlwTmV0d29ya3NEYXRhKG5hbWVzcGFjZSwgcGFyYW1zKSB7XG4gICAgICAgIENoYWluQ29udHJvbGxlci5zZXRBZGFwdGVyTmV0d29ya1N0YXRlKG5hbWVzcGFjZSwgcGFyYW1zKTtcbiAgICB9LFxuICAgIGNoZWNrSWZTdXBwb3J0ZWROZXR3b3JrKG5hbWVzcGFjZSwgY2FpcE5ldHdvcmtJZCkge1xuICAgICAgICBjb25zdCBhY3RpdmVDYWlwTmV0d29ya0lkID0gY2FpcE5ldHdvcmtJZCB8fCBzdGF0ZS5hY3RpdmVDYWlwTmV0d29yaz8uY2FpcE5ldHdvcmtJZDtcbiAgICAgICAgY29uc3QgcmVxdWVzdGVkQ2FpcE5ldHdvcmtzID0gQ2hhaW5Db250cm9sbGVyLmdldFJlcXVlc3RlZENhaXBOZXR3b3JrcyhuYW1lc3BhY2UpO1xuICAgICAgICBpZiAoIXJlcXVlc3RlZENhaXBOZXR3b3Jrcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXF1ZXN0ZWRDYWlwTmV0d29ya3M/LnNvbWUobmV0d29yayA9PiBuZXR3b3JrLmNhaXBOZXR3b3JrSWQgPT09IGFjdGl2ZUNhaXBOZXR3b3JrSWQpO1xuICAgIH0sXG4gICAgY2hlY2tJZlN1cHBvcnRlZENoYWluSWQoY2hhaW5JZCkge1xuICAgICAgICBpZiAoIXN0YXRlLmFjdGl2ZUNoYWluKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXF1ZXN0ZWRDYWlwTmV0d29ya3MgPSBDaGFpbkNvbnRyb2xsZXIuZ2V0UmVxdWVzdGVkQ2FpcE5ldHdvcmtzKHN0YXRlLmFjdGl2ZUNoYWluKTtcbiAgICAgICAgcmV0dXJuIHJlcXVlc3RlZENhaXBOZXR3b3Jrcz8uc29tZShuZXR3b3JrID0+IG5ldHdvcmsuaWQgPT09IGNoYWluSWQpO1xuICAgIH0sXG4gICAgY2hlY2tJZlNtYXJ0QWNjb3VudEVuYWJsZWQoKSB7XG4gICAgICAgIGNvbnN0IG5ldHdvcmtJZCA9IE5ldHdvcmtVdGlsLmNhaXBOZXR3b3JrSWRUb051bWJlcihzdGF0ZS5hY3RpdmVDYWlwTmV0d29yaz8uY2FpcE5ldHdvcmtJZCk7XG4gICAgICAgIGNvbnN0IGFjdGl2ZUNoYWluID0gc3RhdGUuYWN0aXZlQ2hhaW47XG4gICAgICAgIGlmICghYWN0aXZlQ2hhaW4gfHwgIW5ldHdvcmtJZCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNtYXJ0QWNjb3VudEVuYWJsZWROZXR3b3JrcyA9IFczbUZyYW1lU3RvcmFnZS5nZXQoVzNtRnJhbWVDb25zdGFudHMuU01BUlRfQUNDT1VOVF9FTkFCTEVEX05FVFdPUktTKT8uc3BsaXQoJywnKSB8fCBbXTtcbiAgICAgICAgcmV0dXJuIEJvb2xlYW4oc21hcnRBY2NvdW50RW5hYmxlZE5ldHdvcmtzPy5pbmNsdWRlcyhuZXR3b3JrSWQudG9TdHJpbmcoKSkpO1xuICAgIH0sXG4gICAgc2hvd1Vuc3VwcG9ydGVkQ2hhaW5VSSgpIHtcbiAgICAgICAgTW9kYWxDb250cm9sbGVyLm9wZW4oeyB2aWV3OiAnVW5zdXBwb3J0ZWRDaGFpbicgfSk7XG4gICAgfSxcbiAgICBjaGVja0lmTmFtZXNTdXBwb3J0ZWQoKSB7XG4gICAgICAgIGNvbnN0IGFjdGl2ZUNhaXBOZXR3b3JrID0gc3RhdGUuYWN0aXZlQ2FpcE5ldHdvcms7XG4gICAgICAgIHJldHVybiBCb29sZWFuKGFjdGl2ZUNhaXBOZXR3b3JrPy5jaGFpbk5hbWVzcGFjZSAmJlxuICAgICAgICAgICAgQ29uc3RhbnRzVXRpbC5OQU1FU19TVVBQT1JURURfQ0hBSU5fTkFNRVNQQUNFUy5pbmNsdWRlcyhhY3RpdmVDYWlwTmV0d29yay5jaGFpbk5hbWVzcGFjZSkpO1xuICAgIH0sXG4gICAgcmVzZXROZXR3b3JrKG5hbWVzcGFjZSkge1xuICAgICAgICBDaGFpbkNvbnRyb2xsZXIuc2V0QWRhcHRlck5ldHdvcmtTdGF0ZShuYW1lc3BhY2UsIHtcbiAgICAgICAgICAgIGFwcHJvdmVkQ2FpcE5ldHdvcmtJZHM6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHN1cHBvcnRzQWxsTmV0d29ya3M6IHRydWVcbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICByZXNldEFjY291bnQoY2hhaW4pIHtcbiAgICAgICAgY29uc3QgY2hhaW5Ub1dyaXRlID0gY2hhaW47XG4gICAgICAgIGlmICghY2hhaW5Ub1dyaXRlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NoYWluIGlzIHJlcXVpcmVkIHRvIHNldCBhY2NvdW50IHByb3AnKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjdXJyZW50QWNjb3VudFR5cGUgPSBDaGFpbkNvbnRyb2xsZXIuc3RhdGUuY2hhaW5zLmdldChjaGFpblRvV3JpdGUpPy5hY2NvdW50U3RhdGU/LnByZWZlcnJlZEFjY291bnRUeXBlO1xuICAgICAgICBjb25zdCBvcHRpb25zQWNjb3VudFR5cGUgPSBPcHRpb25zQ29udHJvbGxlci5zdGF0ZS5kZWZhdWx0QWNjb3VudFR5cGVzW2NoYWluVG9Xcml0ZV07XG4gICAgICAgIHN0YXRlLmFjdGl2ZUNhaXBBZGRyZXNzID0gdW5kZWZpbmVkO1xuICAgICAgICBDaGFpbkNvbnRyb2xsZXIuc2V0Q2hhaW5BY2NvdW50RGF0YShjaGFpblRvV3JpdGUsIHtcbiAgICAgICAgICAgIHNtYXJ0QWNjb3VudERlcGxveWVkOiBmYWxzZSxcbiAgICAgICAgICAgIGN1cnJlbnRUYWI6IDAsXG4gICAgICAgICAgICBjYWlwQWRkcmVzczogdW5kZWZpbmVkLFxuICAgICAgICAgICAgYWRkcmVzczogdW5kZWZpbmVkLFxuICAgICAgICAgICAgYmFsYW5jZTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgYmFsYW5jZVN5bWJvbDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgcHJvZmlsZU5hbWU6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHByb2ZpbGVJbWFnZTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgYWRkcmVzc0V4cGxvcmVyVXJsOiB1bmRlZmluZWQsXG4gICAgICAgICAgICB0b2tlbkJhbGFuY2U6IFtdLFxuICAgICAgICAgICAgY29ubmVjdGVkV2FsbGV0SW5mbzogdW5kZWZpbmVkLFxuICAgICAgICAgICAgcHJlZmVycmVkQWNjb3VudFR5cGU6IG9wdGlvbnNBY2NvdW50VHlwZSB8fCBjdXJyZW50QWNjb3VudFR5cGUsXG4gICAgICAgICAgICBzb2NpYWxQcm92aWRlcjogdW5kZWZpbmVkLFxuICAgICAgICAgICAgc29jaWFsV2luZG93OiB1bmRlZmluZWQsXG4gICAgICAgICAgICBmYXJjYXN0ZXJVcmw6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHVzZXI6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHN0YXR1czogJ2Rpc2Nvbm5lY3RlZCdcbiAgICAgICAgfSk7XG4gICAgICAgIENvbm5lY3RvckNvbnRyb2xsZXIucmVtb3ZlQ29ubmVjdG9ySWQoY2hhaW5Ub1dyaXRlKTtcbiAgICB9LFxuICAgIHNldElzU3dpdGNoaW5nTmFtZXNwYWNlKGlzU3dpdGNoaW5nTmFtZXNwYWNlKSB7XG4gICAgICAgIHN0YXRlLmlzU3dpdGNoaW5nTmFtZXNwYWNlID0gaXNTd2l0Y2hpbmdOYW1lc3BhY2U7XG4gICAgfSxcbiAgICBnZXRGaXJzdENhaXBOZXR3b3JrU3VwcG9ydHNBdXRoQ29ubmVjdG9yKCkge1xuICAgICAgICBjb25zdCBhdmFpbGFibGVDaGFpbnMgPSBbXTtcbiAgICAgICAgbGV0IGZpcnN0Q2FpcE5ldHdvcmsgPSB1bmRlZmluZWQ7XG4gICAgICAgIHN0YXRlLmNoYWlucy5mb3JFYWNoKGNoYWluID0+IHtcbiAgICAgICAgICAgIGlmIChDb21tb25Db25zdGFudHNVdGlsLkFVVEhfQ09OTkVDVE9SX1NVUFBPUlRFRF9DSEFJTlMuZmluZChucyA9PiBucyA9PT0gY2hhaW4ubmFtZXNwYWNlKSkge1xuICAgICAgICAgICAgICAgIGlmIChjaGFpbi5uYW1lc3BhY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgYXZhaWxhYmxlQ2hhaW5zLnB1c2goY2hhaW4ubmFtZXNwYWNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoYXZhaWxhYmxlQ2hhaW5zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IGZpcnN0QXZhaWxhYmxlQ2hhaW4gPSBhdmFpbGFibGVDaGFpbnNbMF07XG4gICAgICAgICAgICBmaXJzdENhaXBOZXR3b3JrID0gZmlyc3RBdmFpbGFibGVDaGFpblxuICAgICAgICAgICAgICAgID8gc3RhdGUuY2hhaW5zLmdldChmaXJzdEF2YWlsYWJsZUNoYWluKT8uY2FpcE5ldHdvcmtzPy5bMF1cbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHJldHVybiBmaXJzdENhaXBOZXR3b3JrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfSxcbiAgICBnZXRBY2NvdW50RGF0YShjaGFpbk5hbWVzcGFjZSkge1xuICAgICAgICBjb25zdCBuYW1lc3BhY2UgPSBjaGFpbk5hbWVzcGFjZSB8fCBzdGF0ZS5hY3RpdmVDaGFpbjtcbiAgICAgICAgaWYgKCFuYW1lc3BhY2UpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIENoYWluQ29udHJvbGxlci5zdGF0ZS5jaGFpbnMuZ2V0KG5hbWVzcGFjZSk/LmFjY291bnRTdGF0ZTtcbiAgICB9LFxuICAgIGdldE5ldHdvcmtEYXRhKGNoYWluTmFtZXNwYWNlKSB7XG4gICAgICAgIGNvbnN0IG5hbWVzcGFjZSA9IGNoYWluTmFtZXNwYWNlIHx8IHN0YXRlLmFjdGl2ZUNoYWluO1xuICAgICAgICBpZiAoIW5hbWVzcGFjZSkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gQ2hhaW5Db250cm9sbGVyLnN0YXRlLmNoYWlucy5nZXQobmFtZXNwYWNlKT8ubmV0d29ya1N0YXRlO1xuICAgIH0sXG4gICAgZ2V0Q2FpcE5ldHdvcmtCeU5hbWVzcGFjZShjaGFpbk5hbWVzcGFjZSwgY2hhaW5JZCkge1xuICAgICAgICBpZiAoIWNoYWluTmFtZXNwYWNlKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNoYWluID0gQ2hhaW5Db250cm9sbGVyLnN0YXRlLmNoYWlucy5nZXQoY2hhaW5OYW1lc3BhY2UpO1xuICAgICAgICBjb25zdCBieUNoYWluSWQgPSBjaGFpbj8uY2FpcE5ldHdvcmtzPy5maW5kKG5ldHdvcmsgPT4gbmV0d29yay5pZC50b1N0cmluZygpID09PSBjaGFpbklkPy50b1N0cmluZygpKTtcbiAgICAgICAgaWYgKGJ5Q2hhaW5JZCkge1xuICAgICAgICAgICAgcmV0dXJuIGJ5Q2hhaW5JZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2hhaW4/Lm5ldHdvcmtTdGF0ZT8uY2FpcE5ldHdvcmsgfHwgY2hhaW4/LmNhaXBOZXR3b3Jrcz8uWzBdO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSByZXF1ZXN0ZWQgQ2FpcE5ldHdvcmsgSURzIGZvciBhIGdpdmVuIG5hbWVzcGFjZS4gSWYgbmFtZXNwYWNlIGlzIG5vdCBwcm92aWRlZCwgYWxsIHJlcXVlc3RlZCBDYWlwTmV0d29yayBJRHMgd2lsbCBiZSByZXR1cm5lZFxuICAgICAqIEBwYXJhbSBuYW1lc3BhY2UgLSBUaGUgbmFtZXNwYWNlIHRvIGdldCB0aGUgcmVxdWVzdGVkIENhaXBOZXR3b3JrIElEcyBmb3JcbiAgICAgKiBAcmV0dXJucyBUaGUgcmVxdWVzdGVkIENhaXBOZXR3b3JrIElEc1xuICAgICAqL1xuICAgIGdldFJlcXVlc3RlZENhaXBOZXR3b3JrSWRzKCkge1xuICAgICAgICBjb25zdCBuYW1lc3BhY2UgPSBDb25uZWN0b3JDb250cm9sbGVyLnN0YXRlLmZpbHRlckJ5TmFtZXNwYWNlO1xuICAgICAgICBjb25zdCBjaGFpbnMgPSBuYW1lc3BhY2UgPyBbc3RhdGUuY2hhaW5zLmdldChuYW1lc3BhY2UpXSA6IEFycmF5LmZyb20oc3RhdGUuY2hhaW5zLnZhbHVlcygpKTtcbiAgICAgICAgcmV0dXJuIGNoYWluc1xuICAgICAgICAgICAgLmZsYXRNYXAoY2hhaW4gPT4gY2hhaW4/LmNhaXBOZXR3b3JrcyB8fCBbXSlcbiAgICAgICAgICAgIC5tYXAoY2FpcE5ldHdvcmsgPT4gY2FpcE5ldHdvcmsuY2FpcE5ldHdvcmtJZCk7XG4gICAgfSxcbiAgICBnZXRDYWlwTmV0d29ya3MobmFtZXNwYWNlKSB7XG4gICAgICAgIGlmIChuYW1lc3BhY2UpIHtcbiAgICAgICAgICAgIHJldHVybiBDaGFpbkNvbnRyb2xsZXIuZ2V0UmVxdWVzdGVkQ2FpcE5ldHdvcmtzKG5hbWVzcGFjZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIENoYWluQ29udHJvbGxlci5nZXRBbGxSZXF1ZXN0ZWRDYWlwTmV0d29ya3MoKTtcbiAgICB9LFxuICAgIGdldENhaXBOZXR3b3JrQnlJZChpZCwgbmFtZXNwYWNlKSB7XG4gICAgICAgIHJldHVybiBjb250cm9sbGVyXG4gICAgICAgICAgICAuZ2V0Q2FpcE5ldHdvcmtzKG5hbWVzcGFjZSlcbiAgICAgICAgICAgIC5maW5kKG4gPT4gbi5pZC50b1N0cmluZygpID09PSBpZC50b1N0cmluZygpIHx8IG4uY2FpcE5ldHdvcmtJZC50b1N0cmluZygpID09PSBpZC50b1N0cmluZygpKTtcbiAgICB9LFxuICAgIHNldExhc3RDb25uZWN0ZWRTSVdFQ2FpcE5ldHdvcmsobmV0d29yaykge1xuICAgICAgICBzdGF0ZS5sYXN0Q29ubmVjdGVkU0lXRUNhaXBOZXR3b3JrID0gbmV0d29yaztcbiAgICB9LFxuICAgIGdldExhc3RDb25uZWN0ZWRTSVdFQ2FpcE5ldHdvcmsoKSB7XG4gICAgICAgIHJldHVybiBzdGF0ZS5sYXN0Q29ubmVjdGVkU0lXRUNhaXBOZXR3b3JrO1xuICAgIH0sXG4gICAgYXN5bmMgZmV0Y2hUb2tlbkJhbGFuY2Uob25FcnJvcikge1xuICAgICAgICBjb25zdCBhY2NvdW50U3RhdGUgPSBDaGFpbkNvbnRyb2xsZXIuZ2V0QWNjb3VudERhdGEoKTtcbiAgICAgICAgaWYgKCFhY2NvdW50U3RhdGUpIHtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjaGFpbklkID0gQ2hhaW5Db250cm9sbGVyLnN0YXRlLmFjdGl2ZUNhaXBOZXR3b3JrPy5jYWlwTmV0d29ya0lkO1xuICAgICAgICBjb25zdCBjaGFpbiA9IENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDYWlwTmV0d29yaz8uY2hhaW5OYW1lc3BhY2U7XG4gICAgICAgIGNvbnN0IGNhaXBBZGRyZXNzID0gQ2hhaW5Db250cm9sbGVyLnN0YXRlLmFjdGl2ZUNhaXBBZGRyZXNzO1xuICAgICAgICBjb25zdCBhZGRyZXNzID0gY2FpcEFkZHJlc3MgPyBDb3JlSGVscGVyVXRpbC5nZXRQbGFpbkFkZHJlc3MoY2FpcEFkZHJlc3MpIDogdW5kZWZpbmVkO1xuICAgICAgICBDaGFpbkNvbnRyb2xsZXIuc2V0QWNjb3VudFByb3AoJ2JhbGFuY2VMb2FkaW5nJywgdHJ1ZSwgY2hhaW4pO1xuICAgICAgICBpZiAoYWNjb3VudFN0YXRlLmxhc3RSZXRyeSAmJlxuICAgICAgICAgICAgIUNvcmVIZWxwZXJVdGlsLmlzQWxsb3dlZFJldHJ5KGFjY291bnRTdGF0ZS5sYXN0UmV0cnksIDMwICogQ29uc3RhbnRzVXRpbC5PTkVfU0VDX01TKSkge1xuICAgICAgICAgICAgQ2hhaW5Db250cm9sbGVyLnNldEFjY291bnRQcm9wKCdiYWxhbmNlTG9hZGluZycsIGZhbHNlLCBjaGFpbik7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChhZGRyZXNzICYmIGNoYWluSWQgJiYgY2hhaW4pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBiYWxhbmNlID0gYXdhaXQgQmFsYW5jZVV0aWwuZ2V0TXlUb2tlbnNXaXRoQmFsYW5jZSgpO1xuICAgICAgICAgICAgICAgIENoYWluQ29udHJvbGxlci5zZXRBY2NvdW50UHJvcCgndG9rZW5CYWxhbmNlJywgYmFsYW5jZSwgY2hhaW4pO1xuICAgICAgICAgICAgICAgIENoYWluQ29udHJvbGxlci5zZXRBY2NvdW50UHJvcCgnbGFzdFJldHJ5JywgdW5kZWZpbmVkLCBjaGFpbik7XG4gICAgICAgICAgICAgICAgQ2hhaW5Db250cm9sbGVyLnNldEFjY291bnRQcm9wKCdiYWxhbmNlTG9hZGluZycsIGZhbHNlLCBjaGFpbik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGJhbGFuY2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBDaGFpbkNvbnRyb2xsZXIuc2V0QWNjb3VudFByb3AoJ2xhc3RSZXRyeScsIERhdGUubm93KCksIGNoYWluKTtcbiAgICAgICAgICAgIG9uRXJyb3I/LihlcnJvcik7XG4gICAgICAgICAgICBTbmFja0NvbnRyb2xsZXIuc2hvd0Vycm9yKCdUb2tlbiBCYWxhbmNlIFVuYXZhaWxhYmxlJyk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICBDaGFpbkNvbnRyb2xsZXIuc2V0QWNjb3VudFByb3AoJ2JhbGFuY2VMb2FkaW5nJywgZmFsc2UsIGNoYWluKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW107XG4gICAgfSxcbiAgICBpc0NhaXBOZXR3b3JrRGlzYWJsZWQobmV0d29yaykge1xuICAgICAgICBjb25zdCBuZXR3b3JrTmFtZXNwYWNlID0gbmV0d29yay5jaGFpbk5hbWVzcGFjZTtcbiAgICAgICAgY29uc3QgaXNOZXh0TmFtZXNwYWNlQ29ubmVjdGVkID0gQm9vbGVhbihDaGFpbkNvbnRyb2xsZXIuZ2V0QWNjb3VudERhdGEobmV0d29ya05hbWVzcGFjZSk/LmNhaXBBZGRyZXNzKTtcbiAgICAgICAgY29uc3QgYXBwcm92ZWRDYWlwTmV0d29ya0lkcyA9IENoYWluQ29udHJvbGxlci5nZXRBbGxBcHByb3ZlZENhaXBOZXR3b3JrSWRzKCk7XG4gICAgICAgIGNvbnN0IHNob3VsZFN1cHBvcnRBbGxOZXR3b3JrcyA9IENoYWluQ29udHJvbGxlci5nZXROZXR3b3JrUHJvcCgnc3VwcG9ydHNBbGxOZXR3b3JrcycsIG5ldHdvcmtOYW1lc3BhY2UpICE9PSBmYWxzZTtcbiAgICAgICAgY29uc3QgY29ubmVjdG9ySWQgPSBDb25uZWN0b3JDb250cm9sbGVyLmdldENvbm5lY3RvcklkKG5ldHdvcmtOYW1lc3BhY2UpO1xuICAgICAgICBjb25zdCBhdXRoQ29ubmVjdG9yID0gQ29ubmVjdG9yQ29udHJvbGxlci5nZXRBdXRoQ29ubmVjdG9yKCk7XG4gICAgICAgIGNvbnN0IGlzQ29ubmVjdGVkV2l0aEF1dGggPSBjb25uZWN0b3JJZCA9PT0gQ29tbW9uQ29uc3RhbnRzVXRpbC5DT05ORUNUT1JfSUQuQVVUSCAmJiBhdXRoQ29ubmVjdG9yO1xuICAgICAgICBpZiAoIWlzTmV4dE5hbWVzcGFjZUNvbm5lY3RlZCB8fCBzaG91bGRTdXBwb3J0QWxsTmV0d29ya3MgfHwgaXNDb25uZWN0ZWRXaXRoQXV0aCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAhYXBwcm92ZWRDYWlwTmV0d29ya0lkcz8uaW5jbHVkZXMobmV0d29yay5jYWlwTmV0d29ya0lkKTtcbiAgICB9XG59O1xuLy8gRXhwb3J0IHRoZSBjb250cm9sbGVyIHdyYXBwZWQgd2l0aCBvdXIgZXJyb3IgYm91bmRhcnlcbmV4cG9ydCBjb25zdCBDaGFpbkNvbnRyb2xsZXIgPSB3aXRoRXJyb3JCb3VuZGFyeShjb250cm9sbGVyKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNoYWluQ29udHJvbGxlci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ChainController.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectionController.js":
/*!*********************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectionController.js ***!
  \*********************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ConnectionController: () => (/* binding */ ConnectionController)\n/* harmony export */ });\n/* harmony import */ var valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! valtio/vanilla */ \"(ssr)/./node_modules/.pnpm/valtio@2.1.7_@types+react@18.3.26_react@18.3.1/node_modules/valtio/esm/vanilla.mjs\");\n/* harmony import */ var valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! valtio/vanilla/utils */ \"(ssr)/./node_modules/.pnpm/valtio@2.1.7_@types+react@18.3.26_react@18.3.1/node_modules/valtio/esm/vanilla/utils.mjs\");\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @reown/appkit-common */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-common@1.8.11_bufferutil@4.0.9_typescript@5.9.3_utf-8-validate@5.0.10_zod@4.1.12/node_modules/@reown/appkit-common/dist/esm/src/utils/ConstantsUtil.js\");\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @reown/appkit-common */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-common@1.8.11_bufferutil@4.0.9_typescript@5.9.3_utf-8-validate@5.0.10_zod@4.1.12/node_modules/@reown/appkit-common/dist/esm/src/utils/ParseUtil.js\");\n/* harmony import */ var _utils_ChainControllerUtil_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../utils/ChainControllerUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ChainControllerUtil.js\");\n/* harmony import */ var _utils_ConnectionControllerUtil_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../utils/ConnectionControllerUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ConnectionControllerUtil.js\");\n/* harmony import */ var _utils_ConnectorControllerUtil_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../utils/ConnectorControllerUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ConnectorControllerUtil.js\");\n/* harmony import */ var _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/CoreHelperUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/CoreHelperUtil.js\");\n/* harmony import */ var _utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/StorageUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/StorageUtil.js\");\n/* harmony import */ var _utils_withErrorBoundary_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../utils/withErrorBoundary.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/withErrorBoundary.js\");\n/* harmony import */ var _ChainController_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ChainController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ChainController.js\");\n/* harmony import */ var _ConnectorController_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ConnectorController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectorController.js\");\n/* harmony import */ var _EventsController_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./EventsController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/EventsController.js\");\n/* harmony import */ var _ModalController_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./ModalController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ModalController.js\");\n/* harmony import */ var _RouterController_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./RouterController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/RouterController.js\");\n/* harmony import */ var _TransactionsController_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./TransactionsController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/TransactionsController.js\");\n/* eslint-disable no-console */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// -- State --------------------------------------------- //\nconst state = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.proxy)({\n    connections: new Map(),\n    recentConnections: new Map(),\n    isSwitchingConnection: false,\n    wcError: false,\n    buffering: false,\n    status: 'disconnected'\n});\n// eslint-disable-next-line init-declarations\nlet wcConnectionPromise;\n// -- Controller ---------------------------------------- //\nconst controller = {\n    state,\n    subscribe(callback) {\n        return (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.subscribe)(state, () => callback(state));\n    },\n    subscribeKey(key, callback) {\n        return (0,valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_1__.subscribeKey)(state, key, callback);\n    },\n    _getClient() {\n        return state._client;\n    },\n    setClient(client) {\n        state._client = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.ref)(client);\n    },\n    initialize(adapters) {\n        const namespaces = adapters\n            .filter((a) => Boolean(a.namespace))\n            .map(a => a.namespace);\n        ConnectionController.syncStorageConnections(namespaces);\n    },\n    syncStorageConnections(namespaces) {\n        const storageConnections = _utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_2__.StorageUtil.getConnections();\n        const namespacesToSync = namespaces ?? Array.from(_ChainController_js__WEBPACK_IMPORTED_MODULE_3__.ChainController.state.chains.keys());\n        for (const namespace of namespacesToSync) {\n            const storageConnectionsByNamespace = storageConnections[namespace] ?? [];\n            const recentConnectionsMap = new Map(state.recentConnections);\n            recentConnectionsMap.set(namespace, storageConnectionsByNamespace);\n            state.recentConnections = recentConnectionsMap;\n        }\n    },\n    getConnections(namespace) {\n        return namespace ? (state.connections.get(namespace) ?? []) : [];\n    },\n    hasAnyConnection(connectorId) {\n        const connections = ConnectionController.state.connections;\n        return Array.from(connections.values())\n            .flatMap(_connections => _connections)\n            .some(({ connectorId: _connectorId }) => _connectorId === connectorId);\n    },\n    async connectWalletConnect({ cache = 'auto' } = {}) {\n        const isInTelegramOrSafariIos = _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_4__.CoreHelperUtil.isTelegram() || (_utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_4__.CoreHelperUtil.isSafari() && _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_4__.CoreHelperUtil.isIos());\n        if (cache === 'always' || (cache === 'auto' && isInTelegramOrSafariIos)) {\n            if (wcConnectionPromise) {\n                await wcConnectionPromise;\n                wcConnectionPromise = undefined;\n                return;\n            }\n            if (!_utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_4__.CoreHelperUtil.isPairingExpired(state?.wcPairingExpiry)) {\n                const link = state.wcUri;\n                state.wcUri = link;\n                return;\n            }\n            wcConnectionPromise = ConnectionController._getClient()\n                ?.connectWalletConnect?.()\n                .catch(() => undefined);\n            ConnectionController.state.status = 'connecting';\n            await wcConnectionPromise;\n            wcConnectionPromise = undefined;\n            state.wcPairingExpiry = undefined;\n            ConnectionController.state.status = 'connected';\n        }\n        else {\n            await ConnectionController._getClient()?.connectWalletConnect?.();\n        }\n    },\n    async connectExternal(options, chain, setChain = true) {\n        const connectData = await ConnectionController._getClient()?.connectExternal?.(options);\n        if (setChain) {\n            _ChainController_js__WEBPACK_IMPORTED_MODULE_3__.ChainController.setActiveNamespace(chain);\n        }\n        return connectData;\n    },\n    async reconnectExternal(options) {\n        await ConnectionController._getClient()?.reconnectExternal?.(options);\n        const namespace = options.chain || _ChainController_js__WEBPACK_IMPORTED_MODULE_3__.ChainController.state.activeChain;\n        if (namespace) {\n            _ConnectorController_js__WEBPACK_IMPORTED_MODULE_5__.ConnectorController.setConnectorId(options.id, namespace);\n        }\n    },\n    async setPreferredAccountType(accountType, namespace) {\n        if (!namespace) {\n            return;\n        }\n        _ModalController_js__WEBPACK_IMPORTED_MODULE_6__.ModalController.setLoading(true, _ChainController_js__WEBPACK_IMPORTED_MODULE_3__.ChainController.state.activeChain);\n        const authConnector = _ConnectorController_js__WEBPACK_IMPORTED_MODULE_5__.ConnectorController.getAuthConnector();\n        if (!authConnector) {\n            return;\n        }\n        _ChainController_js__WEBPACK_IMPORTED_MODULE_3__.ChainController.setAccountProp('preferredAccountType', accountType, namespace);\n        await authConnector.provider.setPreferredAccount(accountType);\n        _utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_2__.StorageUtil.setPreferredAccountTypes(Object.entries(_ChainController_js__WEBPACK_IMPORTED_MODULE_3__.ChainController.state.chains).reduce((acc, [key, _]) => {\n            const namespace = key;\n            const accountType = (0,_utils_ChainControllerUtil_js__WEBPACK_IMPORTED_MODULE_7__.getPreferredAccountType)(namespace);\n            if (accountType !== undefined) {\n                ;\n                acc[namespace] = accountType;\n            }\n            return acc;\n        }, {}));\n        await ConnectionController.reconnectExternal(authConnector);\n        _ModalController_js__WEBPACK_IMPORTED_MODULE_6__.ModalController.setLoading(false, _ChainController_js__WEBPACK_IMPORTED_MODULE_3__.ChainController.state.activeChain);\n        _EventsController_js__WEBPACK_IMPORTED_MODULE_8__.EventsController.sendEvent({\n            type: 'track',\n            event: 'SET_PREFERRED_ACCOUNT_TYPE',\n            properties: {\n                accountType,\n                network: _ChainController_js__WEBPACK_IMPORTED_MODULE_3__.ChainController.state.activeCaipNetwork?.caipNetworkId || ''\n            }\n        });\n    },\n    async signMessage(message) {\n        return ConnectionController._getClient()?.signMessage(message);\n    },\n    parseUnits(value, decimals) {\n        return ConnectionController._getClient()?.parseUnits(value, decimals);\n    },\n    formatUnits(value, decimals) {\n        return ConnectionController._getClient()?.formatUnits(value, decimals);\n    },\n    updateBalance(namespace) {\n        return ConnectionController._getClient()?.updateBalance(namespace);\n    },\n    async sendTransaction(args) {\n        return ConnectionController._getClient()?.sendTransaction(args);\n    },\n    async getCapabilities(params) {\n        return ConnectionController._getClient()?.getCapabilities(params);\n    },\n    async grantPermissions(params) {\n        return ConnectionController._getClient()?.grantPermissions(params);\n    },\n    async walletGetAssets(params) {\n        return ConnectionController._getClient()?.walletGetAssets(params) ?? {};\n    },\n    async estimateGas(args) {\n        return ConnectionController._getClient()?.estimateGas(args);\n    },\n    async writeContract(args) {\n        return ConnectionController._getClient()?.writeContract(args);\n    },\n    async getEnsAddress(value) {\n        return ConnectionController._getClient()?.getEnsAddress(value);\n    },\n    async getEnsAvatar(value) {\n        return ConnectionController._getClient()?.getEnsAvatar(value);\n    },\n    checkInstalled(ids) {\n        return ConnectionController._getClient()?.checkInstalled?.(ids) || false;\n    },\n    resetWcConnection() {\n        state.wcUri = undefined;\n        state.wcPairingExpiry = undefined;\n        state.wcLinking = undefined;\n        state.recentWallet = undefined;\n        state.status = 'disconnected';\n        _TransactionsController_js__WEBPACK_IMPORTED_MODULE_9__.TransactionsController.resetTransactions();\n        _utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_2__.StorageUtil.deleteWalletConnectDeepLink();\n        _utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_2__.StorageUtil.deleteRecentWallet();\n    },\n    resetUri() {\n        state.wcUri = undefined;\n        state.wcPairingExpiry = undefined;\n        wcConnectionPromise = undefined;\n    },\n    finalizeWcConnection(address) {\n        const { wcLinking, recentWallet } = ConnectionController.state;\n        if (wcLinking) {\n            _utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_2__.StorageUtil.setWalletConnectDeepLink(wcLinking);\n        }\n        if (recentWallet) {\n            _utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_2__.StorageUtil.setAppKitRecent(recentWallet);\n        }\n        if (address) {\n            _EventsController_js__WEBPACK_IMPORTED_MODULE_8__.EventsController.sendEvent({\n                type: 'track',\n                event: 'CONNECT_SUCCESS',\n                address,\n                properties: {\n                    method: wcLinking ? 'mobile' : 'qrcode',\n                    name: _RouterController_js__WEBPACK_IMPORTED_MODULE_10__.RouterController.state.data?.wallet?.name || 'Unknown',\n                    view: _RouterController_js__WEBPACK_IMPORTED_MODULE_10__.RouterController.state.view,\n                    walletRank: recentWallet?.order\n                }\n            });\n        }\n    },\n    setWcBasic(wcBasic) {\n        state.wcBasic = wcBasic;\n    },\n    setUri(uri) {\n        state.wcUri = uri;\n        state.wcPairingExpiry = _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_4__.CoreHelperUtil.getPairingExpiry();\n    },\n    setWcLinking(wcLinking) {\n        state.wcLinking = wcLinking;\n    },\n    setWcError(wcError) {\n        state.wcError = wcError;\n        state.buffering = false;\n    },\n    setRecentWallet(wallet) {\n        state.recentWallet = wallet;\n    },\n    setBuffering(buffering) {\n        state.buffering = buffering;\n    },\n    setStatus(status) {\n        state.status = status;\n    },\n    setIsSwitchingConnection(isSwitchingConnection) {\n        state.isSwitchingConnection = isSwitchingConnection;\n    },\n    async disconnect({ id, namespace, initialDisconnect } = {}) {\n        try {\n            await ConnectionController._getClient()?.disconnect({\n                id,\n                chainNamespace: namespace,\n                initialDisconnect\n            });\n        }\n        catch (error) {\n            throw new _utils_withErrorBoundary_js__WEBPACK_IMPORTED_MODULE_11__.AppKitError('Failed to disconnect', 'INTERNAL_SDK_ERROR', error);\n        }\n    },\n    async disconnectConnector({ id, namespace }) {\n        try {\n            await ConnectionController._getClient()?.disconnectConnector({ id, namespace });\n        }\n        catch (error) {\n            throw new _utils_withErrorBoundary_js__WEBPACK_IMPORTED_MODULE_11__.AppKitError('Failed to disconnect connector', 'INTERNAL_SDK_ERROR', error);\n        }\n    },\n    setConnections(connections, chainNamespace) {\n        const connectionsMap = new Map(state.connections);\n        connectionsMap.set(chainNamespace, connections);\n        state.connections = connectionsMap;\n    },\n    async handleAuthAccountSwitch({ address, namespace }) {\n        const accountData = _ChainController_js__WEBPACK_IMPORTED_MODULE_3__.ChainController.getAccountData(namespace);\n        const smartAccount = accountData?.user?.accounts?.find(c => c.type === 'smartAccount');\n        const accountType = smartAccount &&\n            smartAccount.address.toLowerCase() === address.toLowerCase() &&\n            _utils_ConnectorControllerUtil_js__WEBPACK_IMPORTED_MODULE_12__.ConnectorControllerUtil.canSwitchToSmartAccount(namespace)\n            ? 'smartAccount'\n            : 'eoa';\n        await ConnectionController.setPreferredAccountType(accountType, namespace);\n    },\n    async handleActiveConnection({ connection, namespace, address }) {\n        const connector = _ConnectorController_js__WEBPACK_IMPORTED_MODULE_5__.ConnectorController.getConnectorById(connection.connectorId);\n        const isAuthConnector = connection.connectorId === _reown_appkit_common__WEBPACK_IMPORTED_MODULE_13__.ConstantsUtil.CONNECTOR_ID.AUTH;\n        if (!connector) {\n            throw new Error(`No connector found for connection: ${connection.connectorId}`);\n        }\n        if (!isAuthConnector) {\n            const connectData = await ConnectionController.connectExternal({\n                id: connector.id,\n                type: connector.type,\n                provider: connector.provider,\n                address,\n                chain: namespace\n            }, namespace);\n            return connectData?.address;\n        }\n        else if (address) {\n            await ConnectionController.handleAuthAccountSwitch({ address, namespace });\n        }\n        return address;\n    },\n    async handleDisconnectedConnection({ connection, namespace, address, closeModalOnConnect }) {\n        const connector = _ConnectorController_js__WEBPACK_IMPORTED_MODULE_5__.ConnectorController.getConnectorById(connection.connectorId);\n        const authName = connection.auth?.name?.toLowerCase();\n        const isAuthConnector = connection.connectorId === _reown_appkit_common__WEBPACK_IMPORTED_MODULE_13__.ConstantsUtil.CONNECTOR_ID.AUTH;\n        const isWCConnector = connection.connectorId === _reown_appkit_common__WEBPACK_IMPORTED_MODULE_13__.ConstantsUtil.CONNECTOR_ID.WALLET_CONNECT;\n        if (!connector) {\n            throw new Error(`No connector found for connection: ${connection.connectorId}`);\n        }\n        let newAddress = undefined;\n        if (isAuthConnector) {\n            if (authName && _utils_ConnectorControllerUtil_js__WEBPACK_IMPORTED_MODULE_12__.ConnectorControllerUtil.isSocialProvider(authName)) {\n                const { address: socialAddress } = await _utils_ConnectorControllerUtil_js__WEBPACK_IMPORTED_MODULE_12__.ConnectorControllerUtil.connectSocial({\n                    social: authName,\n                    closeModalOnConnect,\n                    onOpenFarcaster() {\n                        _ModalController_js__WEBPACK_IMPORTED_MODULE_6__.ModalController.open({ view: 'ConnectingFarcaster' });\n                    },\n                    onConnect() {\n                        _RouterController_js__WEBPACK_IMPORTED_MODULE_10__.RouterController.replace('ProfileWallets');\n                    }\n                });\n                newAddress = socialAddress;\n            }\n            else {\n                const { address: emailAddress } = await _utils_ConnectorControllerUtil_js__WEBPACK_IMPORTED_MODULE_12__.ConnectorControllerUtil.connectEmail({\n                    closeModalOnConnect,\n                    onOpen() {\n                        _ModalController_js__WEBPACK_IMPORTED_MODULE_6__.ModalController.open({ view: 'EmailLogin' });\n                    },\n                    onConnect() {\n                        _RouterController_js__WEBPACK_IMPORTED_MODULE_10__.RouterController.replace('ProfileWallets');\n                    }\n                });\n                newAddress = emailAddress;\n            }\n        }\n        else if (isWCConnector) {\n            const { address: wcAddress } = await _utils_ConnectorControllerUtil_js__WEBPACK_IMPORTED_MODULE_12__.ConnectorControllerUtil.connectWalletConnect({\n                walletConnect: true,\n                connector,\n                closeModalOnConnect,\n                onOpen(isMobile) {\n                    const view = isMobile ? 'AllWallets' : 'ConnectingWalletConnect';\n                    if (_ModalController_js__WEBPACK_IMPORTED_MODULE_6__.ModalController.state.open) {\n                        _RouterController_js__WEBPACK_IMPORTED_MODULE_10__.RouterController.push(view);\n                    }\n                    else {\n                        _ModalController_js__WEBPACK_IMPORTED_MODULE_6__.ModalController.open({ view });\n                    }\n                },\n                onConnect() {\n                    _RouterController_js__WEBPACK_IMPORTED_MODULE_10__.RouterController.replace('ProfileWallets');\n                }\n            });\n            newAddress = wcAddress;\n        }\n        else {\n            const connectData = await ConnectionController.connectExternal({\n                id: connector.id,\n                type: connector.type,\n                provider: connector.provider,\n                chain: namespace\n            }, namespace);\n            if (connectData) {\n                newAddress = connectData.address;\n            }\n        }\n        if (isAuthConnector && address) {\n            await ConnectionController.handleAuthAccountSwitch({ address, namespace });\n        }\n        return newAddress;\n    },\n    async switchConnection({ connection, address, namespace, closeModalOnConnect, onChange }) {\n        let currentAddress = undefined;\n        const caipAddress = _ChainController_js__WEBPACK_IMPORTED_MODULE_3__.ChainController.getAccountData(namespace)?.caipAddress;\n        if (caipAddress) {\n            const { address: currentAddressParsed } = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_14__.ParseUtil.parseCaipAddress(caipAddress);\n            currentAddress = currentAddressParsed;\n        }\n        const status = _utils_ConnectionControllerUtil_js__WEBPACK_IMPORTED_MODULE_15__.ConnectionControllerUtil.getConnectionStatus(connection, namespace);\n        switch (status) {\n            case 'connected':\n            case 'active': {\n                const newAddress = await ConnectionController.handleActiveConnection({\n                    connection,\n                    namespace,\n                    address\n                });\n                if (currentAddress && newAddress) {\n                    const hasSwitchedAccount = newAddress.toLowerCase() !== currentAddress.toLowerCase();\n                    onChange?.({\n                        address: newAddress,\n                        namespace,\n                        hasSwitchedAccount,\n                        hasSwitchedWallet: status === 'active'\n                    });\n                }\n                break;\n            }\n            case 'disconnected': {\n                const newAddress = await ConnectionController.handleDisconnectedConnection({\n                    connection,\n                    namespace,\n                    address,\n                    closeModalOnConnect\n                });\n                if (newAddress) {\n                    onChange?.({\n                        address: newAddress,\n                        namespace,\n                        hasSwitchedAccount: true,\n                        hasSwitchedWallet: true\n                    });\n                }\n                break;\n            }\n            default:\n                throw new Error(`Invalid connection status: ${status}`);\n        }\n    }\n};\n// Export the controller wrapped with our error boundary\nconst ConnectionController = (0,_utils_withErrorBoundary_js__WEBPACK_IMPORTED_MODULE_11__.withErrorBoundary)(controller);\n//# sourceMappingURL=ConnectionController.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTFfQHJlYWN0LW5hdGl2ZS1hc3luYy1zdG9yYWdlK2FzeW5jLXN0b3JhZ2VAMi4yLjBfcmVhY3QtX2E4MDMyMTIzODk3ZTA3OTMxMzc0MjMyYzNjYzRlNTM1L25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9Db25uZWN0aW9uQ29udHJvbGxlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQzhEO0FBQ0E7QUFDeUI7QUFDYjtBQUNNO0FBQ0Y7QUFDbEI7QUFDTjtBQUN5QjtBQUN4QjtBQUNRO0FBQ047QUFDRjtBQUNFO0FBQ1k7QUFDckU7QUFDQSxjQUFjLHFEQUFLO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLHlEQUFHO0FBQ2xCLEtBQUs7QUFDTDtBQUNBLGVBQWUsa0VBQU07QUFDckIsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSx3QkFBd0IsbURBQUc7QUFDM0IsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxtQ0FBbUMsOERBQVc7QUFDOUMsMERBQTBELGdFQUFlO0FBQ3pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLDJCQUEyQjtBQUNoRCxLQUFLO0FBQ0wsaUNBQWlDLGlCQUFpQixJQUFJO0FBQ3RELHdDQUF3QyxvRUFBYyxrQkFBa0Isb0VBQWMsZUFBZSxvRUFBYztBQUNuSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsb0VBQWM7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsWUFBWSxnRUFBZTtBQUMzQjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSwyQ0FBMkMsZ0VBQWU7QUFDMUQ7QUFDQSxZQUFZLHdFQUFtQjtBQUMvQjtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsZ0VBQWUsa0JBQWtCLGdFQUFlO0FBQ3hELDhCQUE4Qix3RUFBbUI7QUFDakQ7QUFDQTtBQUNBO0FBQ0EsUUFBUSxnRUFBZTtBQUN2QjtBQUNBLFFBQVEsOERBQVcseUNBQXlDLGdFQUFlO0FBQzNFO0FBQ0EsZ0NBQWdDLHNGQUF1QjtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxJQUFJO0FBQ2I7QUFDQSxRQUFRLGdFQUFlLG1CQUFtQixnRUFBZTtBQUN6RCxRQUFRLGtFQUFnQjtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixnRUFBZTtBQUN4QztBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLDhFQUFzQjtBQUM5QixRQUFRLDhEQUFXO0FBQ25CLFFBQVEsOERBQVc7QUFDbkIsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsZ0JBQWdCLDBCQUEwQjtBQUMxQztBQUNBLFlBQVksOERBQVc7QUFDdkI7QUFDQTtBQUNBLFlBQVksOERBQVc7QUFDdkI7QUFDQTtBQUNBLFlBQVksa0VBQWdCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsbUVBQWdCO0FBQzFDLDBCQUEwQixtRUFBZ0I7QUFDMUM7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxnQ0FBZ0Msb0VBQWM7QUFDOUMsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsdUJBQXVCLG1DQUFtQyxJQUFJO0FBQzlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLHNCQUFzQixxRUFBVztBQUNqQztBQUNBLEtBQUs7QUFDTCxnQ0FBZ0MsZUFBZTtBQUMvQztBQUNBLDJFQUEyRSxlQUFlO0FBQzFGO0FBQ0E7QUFDQSxzQkFBc0IscUVBQVc7QUFDakM7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsb0NBQW9DLG9CQUFvQjtBQUN4RCw0QkFBNEIsZ0VBQWU7QUFDM0M7QUFDQTtBQUNBO0FBQ0EsWUFBWSx1RkFBdUI7QUFDbkM7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLG1DQUFtQyxnQ0FBZ0M7QUFDbkUsMEJBQTBCLHdFQUFtQjtBQUM3QywyREFBMkQsZ0VBQW1CO0FBQzlFO0FBQ0Esa0VBQWtFLHVCQUF1QjtBQUN6RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGlFQUFpRSxvQkFBb0I7QUFDckY7QUFDQTtBQUNBLEtBQUs7QUFDTCx5Q0FBeUMscURBQXFEO0FBQzlGLDBCQUEwQix3RUFBbUI7QUFDN0M7QUFDQSwyREFBMkQsZ0VBQW1CO0FBQzlFLHlEQUF5RCxnRUFBbUI7QUFDNUU7QUFDQSxrRUFBa0UsdUJBQXVCO0FBQ3pGO0FBQ0E7QUFDQTtBQUNBLDRCQUE0Qix1RkFBdUI7QUFDbkQsd0JBQXdCLHlCQUF5QixRQUFRLHVGQUF1QjtBQUNoRjtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0VBQWUsUUFBUSw2QkFBNkI7QUFDNUUscUJBQXFCO0FBQ3JCO0FBQ0Esd0JBQXdCLG1FQUFnQjtBQUN4QztBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSx3QkFBd0Isd0JBQXdCLFFBQVEsdUZBQXVCO0FBQy9FO0FBQ0E7QUFDQSx3QkFBd0IsZ0VBQWUsUUFBUSxvQkFBb0I7QUFDbkUscUJBQXFCO0FBQ3JCO0FBQ0Esd0JBQXdCLG1FQUFnQjtBQUN4QztBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixxQkFBcUIsUUFBUSx1RkFBdUI7QUFDeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnRUFBZTtBQUN2Qyx3QkFBd0IsbUVBQWdCO0FBQ3hDO0FBQ0E7QUFDQSx3QkFBd0IsZ0VBQWUsUUFBUSxNQUFNO0FBQ3JEO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0Esb0JBQW9CLG1FQUFnQjtBQUNwQztBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpRUFBaUUsb0JBQW9CO0FBQ3JGO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsNkJBQTZCLCtEQUErRDtBQUM1RjtBQUNBLDRCQUE0QixnRUFBZTtBQUMzQztBQUNBLG9CQUFvQixnQ0FBZ0MsRUFBRSw0REFBUztBQUMvRDtBQUNBO0FBQ0EsdUJBQXVCLHlGQUF3QjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOERBQThELE9BQU87QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDTyw2QkFBNkIsK0VBQWlCO0FBQ3JEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm9nZ2xyLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0ByZW93bithcHBraXQtY29udHJvbGxlcnNAMS44LjExX0ByZWFjdC1uYXRpdmUtYXN5bmMtc3RvcmFnZSthc3luYy1zdG9yYWdlQDIuMi4wX3JlYWN0LV9hODAzMjEyMzg5N2UwNzkzMTM3NDIzMmMzY2M0ZTUzNS9ub2RlX21vZHVsZXMvQHJlb3duL2FwcGtpdC1jb250cm9sbGVycy9kaXN0L2VzbS9zcmMvY29udHJvbGxlcnMvQ29ubmVjdGlvbkNvbnRyb2xsZXIuanM/YWY0NSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZGlzYWJsZSBuby1jb25zb2xlICovXG5pbXBvcnQgeyBwcm94eSwgcmVmLCBzdWJzY3JpYmUgYXMgc3ViIH0gZnJvbSAndmFsdGlvL3ZhbmlsbGEnO1xuaW1wb3J0IHsgc3Vic2NyaWJlS2V5IGFzIHN1YktleSB9IGZyb20gJ3ZhbHRpby92YW5pbGxhL3V0aWxzJztcbmltcG9ydCB7IENvbnN0YW50c1V0aWwgYXMgQ29tbW9uQ29uc3RhbnRzVXRpbCwgUGFyc2VVdGlsIH0gZnJvbSAnQHJlb3duL2FwcGtpdC1jb21tb24nO1xuaW1wb3J0IHsgZ2V0UHJlZmVycmVkQWNjb3VudFR5cGUgfSBmcm9tICcuLi91dGlscy9DaGFpbkNvbnRyb2xsZXJVdGlsLmpzJztcbmltcG9ydCB7IENvbm5lY3Rpb25Db250cm9sbGVyVXRpbCB9IGZyb20gJy4uL3V0aWxzL0Nvbm5lY3Rpb25Db250cm9sbGVyVXRpbC5qcyc7XG5pbXBvcnQgeyBDb25uZWN0b3JDb250cm9sbGVyVXRpbCB9IGZyb20gJy4uL3V0aWxzL0Nvbm5lY3RvckNvbnRyb2xsZXJVdGlsLmpzJztcbmltcG9ydCB7IENvcmVIZWxwZXJVdGlsIH0gZnJvbSAnLi4vdXRpbHMvQ29yZUhlbHBlclV0aWwuanMnO1xuaW1wb3J0IHsgU3RvcmFnZVV0aWwgfSBmcm9tICcuLi91dGlscy9TdG9yYWdlVXRpbC5qcyc7XG5pbXBvcnQgeyBBcHBLaXRFcnJvciwgd2l0aEVycm9yQm91bmRhcnkgfSBmcm9tICcuLi91dGlscy93aXRoRXJyb3JCb3VuZGFyeS5qcyc7XG5pbXBvcnQgeyBDaGFpbkNvbnRyb2xsZXIgfSBmcm9tICcuL0NoYWluQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBDb25uZWN0b3JDb250cm9sbGVyIH0gZnJvbSAnLi9Db25uZWN0b3JDb250cm9sbGVyLmpzJztcbmltcG9ydCB7IEV2ZW50c0NvbnRyb2xsZXIgfSBmcm9tICcuL0V2ZW50c0NvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgTW9kYWxDb250cm9sbGVyIH0gZnJvbSAnLi9Nb2RhbENvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgUm91dGVyQ29udHJvbGxlciB9IGZyb20gJy4vUm91dGVyQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBUcmFuc2FjdGlvbnNDb250cm9sbGVyIH0gZnJvbSAnLi9UcmFuc2FjdGlvbnNDb250cm9sbGVyLmpzJztcbi8vIC0tIFN0YXRlIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuY29uc3Qgc3RhdGUgPSBwcm94eSh7XG4gICAgY29ubmVjdGlvbnM6IG5ldyBNYXAoKSxcbiAgICByZWNlbnRDb25uZWN0aW9uczogbmV3IE1hcCgpLFxuICAgIGlzU3dpdGNoaW5nQ29ubmVjdGlvbjogZmFsc2UsXG4gICAgd2NFcnJvcjogZmFsc2UsXG4gICAgYnVmZmVyaW5nOiBmYWxzZSxcbiAgICBzdGF0dXM6ICdkaXNjb25uZWN0ZWQnXG59KTtcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbml0LWRlY2xhcmF0aW9uc1xubGV0IHdjQ29ubmVjdGlvblByb21pc2U7XG4vLyAtLSBDb250cm9sbGVyIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbmNvbnN0IGNvbnRyb2xsZXIgPSB7XG4gICAgc3RhdGUsXG4gICAgc3Vic2NyaWJlKGNhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybiBzdWIoc3RhdGUsICgpID0+IGNhbGxiYWNrKHN0YXRlKSk7XG4gICAgfSxcbiAgICBzdWJzY3JpYmVLZXkoa2V5LCBjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gc3ViS2V5KHN0YXRlLCBrZXksIGNhbGxiYWNrKTtcbiAgICB9LFxuICAgIF9nZXRDbGllbnQoKSB7XG4gICAgICAgIHJldHVybiBzdGF0ZS5fY2xpZW50O1xuICAgIH0sXG4gICAgc2V0Q2xpZW50KGNsaWVudCkge1xuICAgICAgICBzdGF0ZS5fY2xpZW50ID0gcmVmKGNsaWVudCk7XG4gICAgfSxcbiAgICBpbml0aWFsaXplKGFkYXB0ZXJzKSB7XG4gICAgICAgIGNvbnN0IG5hbWVzcGFjZXMgPSBhZGFwdGVyc1xuICAgICAgICAgICAgLmZpbHRlcigoYSkgPT4gQm9vbGVhbihhLm5hbWVzcGFjZSkpXG4gICAgICAgICAgICAubWFwKGEgPT4gYS5uYW1lc3BhY2UpO1xuICAgICAgICBDb25uZWN0aW9uQ29udHJvbGxlci5zeW5jU3RvcmFnZUNvbm5lY3Rpb25zKG5hbWVzcGFjZXMpO1xuICAgIH0sXG4gICAgc3luY1N0b3JhZ2VDb25uZWN0aW9ucyhuYW1lc3BhY2VzKSB7XG4gICAgICAgIGNvbnN0IHN0b3JhZ2VDb25uZWN0aW9ucyA9IFN0b3JhZ2VVdGlsLmdldENvbm5lY3Rpb25zKCk7XG4gICAgICAgIGNvbnN0IG5hbWVzcGFjZXNUb1N5bmMgPSBuYW1lc3BhY2VzID8/IEFycmF5LmZyb20oQ2hhaW5Db250cm9sbGVyLnN0YXRlLmNoYWlucy5rZXlzKCkpO1xuICAgICAgICBmb3IgKGNvbnN0IG5hbWVzcGFjZSBvZiBuYW1lc3BhY2VzVG9TeW5jKSB7XG4gICAgICAgICAgICBjb25zdCBzdG9yYWdlQ29ubmVjdGlvbnNCeU5hbWVzcGFjZSA9IHN0b3JhZ2VDb25uZWN0aW9uc1tuYW1lc3BhY2VdID8/IFtdO1xuICAgICAgICAgICAgY29uc3QgcmVjZW50Q29ubmVjdGlvbnNNYXAgPSBuZXcgTWFwKHN0YXRlLnJlY2VudENvbm5lY3Rpb25zKTtcbiAgICAgICAgICAgIHJlY2VudENvbm5lY3Rpb25zTWFwLnNldChuYW1lc3BhY2UsIHN0b3JhZ2VDb25uZWN0aW9uc0J5TmFtZXNwYWNlKTtcbiAgICAgICAgICAgIHN0YXRlLnJlY2VudENvbm5lY3Rpb25zID0gcmVjZW50Q29ubmVjdGlvbnNNYXA7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGdldENvbm5lY3Rpb25zKG5hbWVzcGFjZSkge1xuICAgICAgICByZXR1cm4gbmFtZXNwYWNlID8gKHN0YXRlLmNvbm5lY3Rpb25zLmdldChuYW1lc3BhY2UpID8/IFtdKSA6IFtdO1xuICAgIH0sXG4gICAgaGFzQW55Q29ubmVjdGlvbihjb25uZWN0b3JJZCkge1xuICAgICAgICBjb25zdCBjb25uZWN0aW9ucyA9IENvbm5lY3Rpb25Db250cm9sbGVyLnN0YXRlLmNvbm5lY3Rpb25zO1xuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbShjb25uZWN0aW9ucy52YWx1ZXMoKSlcbiAgICAgICAgICAgIC5mbGF0TWFwKF9jb25uZWN0aW9ucyA9PiBfY29ubmVjdGlvbnMpXG4gICAgICAgICAgICAuc29tZSgoeyBjb25uZWN0b3JJZDogX2Nvbm5lY3RvcklkIH0pID0+IF9jb25uZWN0b3JJZCA9PT0gY29ubmVjdG9ySWQpO1xuICAgIH0sXG4gICAgYXN5bmMgY29ubmVjdFdhbGxldENvbm5lY3QoeyBjYWNoZSA9ICdhdXRvJyB9ID0ge30pIHtcbiAgICAgICAgY29uc3QgaXNJblRlbGVncmFtT3JTYWZhcmlJb3MgPSBDb3JlSGVscGVyVXRpbC5pc1RlbGVncmFtKCkgfHwgKENvcmVIZWxwZXJVdGlsLmlzU2FmYXJpKCkgJiYgQ29yZUhlbHBlclV0aWwuaXNJb3MoKSk7XG4gICAgICAgIGlmIChjYWNoZSA9PT0gJ2Fsd2F5cycgfHwgKGNhY2hlID09PSAnYXV0bycgJiYgaXNJblRlbGVncmFtT3JTYWZhcmlJb3MpKSB7XG4gICAgICAgICAgICBpZiAod2NDb25uZWN0aW9uUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgIGF3YWl0IHdjQ29ubmVjdGlvblByb21pc2U7XG4gICAgICAgICAgICAgICAgd2NDb25uZWN0aW9uUHJvbWlzZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIUNvcmVIZWxwZXJVdGlsLmlzUGFpcmluZ0V4cGlyZWQoc3RhdGU/LndjUGFpcmluZ0V4cGlyeSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsaW5rID0gc3RhdGUud2NVcmk7XG4gICAgICAgICAgICAgICAgc3RhdGUud2NVcmkgPSBsaW5rO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHdjQ29ubmVjdGlvblByb21pc2UgPSBDb25uZWN0aW9uQ29udHJvbGxlci5fZ2V0Q2xpZW50KClcbiAgICAgICAgICAgICAgICA/LmNvbm5lY3RXYWxsZXRDb25uZWN0Py4oKVxuICAgICAgICAgICAgICAgIC5jYXRjaCgoKSA9PiB1bmRlZmluZWQpO1xuICAgICAgICAgICAgQ29ubmVjdGlvbkNvbnRyb2xsZXIuc3RhdGUuc3RhdHVzID0gJ2Nvbm5lY3RpbmcnO1xuICAgICAgICAgICAgYXdhaXQgd2NDb25uZWN0aW9uUHJvbWlzZTtcbiAgICAgICAgICAgIHdjQ29ubmVjdGlvblByb21pc2UgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBzdGF0ZS53Y1BhaXJpbmdFeHBpcnkgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBDb25uZWN0aW9uQ29udHJvbGxlci5zdGF0ZS5zdGF0dXMgPSAnY29ubmVjdGVkJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGF3YWl0IENvbm5lY3Rpb25Db250cm9sbGVyLl9nZXRDbGllbnQoKT8uY29ubmVjdFdhbGxldENvbm5lY3Q/LigpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBhc3luYyBjb25uZWN0RXh0ZXJuYWwob3B0aW9ucywgY2hhaW4sIHNldENoYWluID0gdHJ1ZSkge1xuICAgICAgICBjb25zdCBjb25uZWN0RGF0YSA9IGF3YWl0IENvbm5lY3Rpb25Db250cm9sbGVyLl9nZXRDbGllbnQoKT8uY29ubmVjdEV4dGVybmFsPy4ob3B0aW9ucyk7XG4gICAgICAgIGlmIChzZXRDaGFpbikge1xuICAgICAgICAgICAgQ2hhaW5Db250cm9sbGVyLnNldEFjdGl2ZU5hbWVzcGFjZShjaGFpbik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbm5lY3REYXRhO1xuICAgIH0sXG4gICAgYXN5bmMgcmVjb25uZWN0RXh0ZXJuYWwob3B0aW9ucykge1xuICAgICAgICBhd2FpdCBDb25uZWN0aW9uQ29udHJvbGxlci5fZ2V0Q2xpZW50KCk/LnJlY29ubmVjdEV4dGVybmFsPy4ob3B0aW9ucyk7XG4gICAgICAgIGNvbnN0IG5hbWVzcGFjZSA9IG9wdGlvbnMuY2hhaW4gfHwgQ2hhaW5Db250cm9sbGVyLnN0YXRlLmFjdGl2ZUNoYWluO1xuICAgICAgICBpZiAobmFtZXNwYWNlKSB7XG4gICAgICAgICAgICBDb25uZWN0b3JDb250cm9sbGVyLnNldENvbm5lY3RvcklkKG9wdGlvbnMuaWQsIG5hbWVzcGFjZSk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGFzeW5jIHNldFByZWZlcnJlZEFjY291bnRUeXBlKGFjY291bnRUeXBlLCBuYW1lc3BhY2UpIHtcbiAgICAgICAgaWYgKCFuYW1lc3BhY2UpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBNb2RhbENvbnRyb2xsZXIuc2V0TG9hZGluZyh0cnVlLCBDaGFpbkNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ2hhaW4pO1xuICAgICAgICBjb25zdCBhdXRoQ29ubmVjdG9yID0gQ29ubmVjdG9yQ29udHJvbGxlci5nZXRBdXRoQ29ubmVjdG9yKCk7XG4gICAgICAgIGlmICghYXV0aENvbm5lY3Rvcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIENoYWluQ29udHJvbGxlci5zZXRBY2NvdW50UHJvcCgncHJlZmVycmVkQWNjb3VudFR5cGUnLCBhY2NvdW50VHlwZSwgbmFtZXNwYWNlKTtcbiAgICAgICAgYXdhaXQgYXV0aENvbm5lY3Rvci5wcm92aWRlci5zZXRQcmVmZXJyZWRBY2NvdW50KGFjY291bnRUeXBlKTtcbiAgICAgICAgU3RvcmFnZVV0aWwuc2V0UHJlZmVycmVkQWNjb3VudFR5cGVzKE9iamVjdC5lbnRyaWVzKENoYWluQ29udHJvbGxlci5zdGF0ZS5jaGFpbnMpLnJlZHVjZSgoYWNjLCBba2V5LCBfXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbmFtZXNwYWNlID0ga2V5O1xuICAgICAgICAgICAgY29uc3QgYWNjb3VudFR5cGUgPSBnZXRQcmVmZXJyZWRBY2NvdW50VHlwZShuYW1lc3BhY2UpO1xuICAgICAgICAgICAgaWYgKGFjY291bnRUeXBlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICA7XG4gICAgICAgICAgICAgICAgYWNjW25hbWVzcGFjZV0gPSBhY2NvdW50VHlwZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgIH0sIHt9KSk7XG4gICAgICAgIGF3YWl0IENvbm5lY3Rpb25Db250cm9sbGVyLnJlY29ubmVjdEV4dGVybmFsKGF1dGhDb25uZWN0b3IpO1xuICAgICAgICBNb2RhbENvbnRyb2xsZXIuc2V0TG9hZGluZyhmYWxzZSwgQ2hhaW5Db250cm9sbGVyLnN0YXRlLmFjdGl2ZUNoYWluKTtcbiAgICAgICAgRXZlbnRzQ29udHJvbGxlci5zZW5kRXZlbnQoe1xuICAgICAgICAgICAgdHlwZTogJ3RyYWNrJyxcbiAgICAgICAgICAgIGV2ZW50OiAnU0VUX1BSRUZFUlJFRF9BQ0NPVU5UX1RZUEUnLFxuICAgICAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgICAgICAgIGFjY291bnRUeXBlLFxuICAgICAgICAgICAgICAgIG5ldHdvcms6IENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDYWlwTmV0d29yaz8uY2FpcE5ldHdvcmtJZCB8fCAnJ1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9LFxuICAgIGFzeW5jIHNpZ25NZXNzYWdlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIENvbm5lY3Rpb25Db250cm9sbGVyLl9nZXRDbGllbnQoKT8uc2lnbk1lc3NhZ2UobWVzc2FnZSk7XG4gICAgfSxcbiAgICBwYXJzZVVuaXRzKHZhbHVlLCBkZWNpbWFscykge1xuICAgICAgICByZXR1cm4gQ29ubmVjdGlvbkNvbnRyb2xsZXIuX2dldENsaWVudCgpPy5wYXJzZVVuaXRzKHZhbHVlLCBkZWNpbWFscyk7XG4gICAgfSxcbiAgICBmb3JtYXRVbml0cyh2YWx1ZSwgZGVjaW1hbHMpIHtcbiAgICAgICAgcmV0dXJuIENvbm5lY3Rpb25Db250cm9sbGVyLl9nZXRDbGllbnQoKT8uZm9ybWF0VW5pdHModmFsdWUsIGRlY2ltYWxzKTtcbiAgICB9LFxuICAgIHVwZGF0ZUJhbGFuY2UobmFtZXNwYWNlKSB7XG4gICAgICAgIHJldHVybiBDb25uZWN0aW9uQ29udHJvbGxlci5fZ2V0Q2xpZW50KCk/LnVwZGF0ZUJhbGFuY2UobmFtZXNwYWNlKTtcbiAgICB9LFxuICAgIGFzeW5jIHNlbmRUcmFuc2FjdGlvbihhcmdzKSB7XG4gICAgICAgIHJldHVybiBDb25uZWN0aW9uQ29udHJvbGxlci5fZ2V0Q2xpZW50KCk/LnNlbmRUcmFuc2FjdGlvbihhcmdzKTtcbiAgICB9LFxuICAgIGFzeW5jIGdldENhcGFiaWxpdGllcyhwYXJhbXMpIHtcbiAgICAgICAgcmV0dXJuIENvbm5lY3Rpb25Db250cm9sbGVyLl9nZXRDbGllbnQoKT8uZ2V0Q2FwYWJpbGl0aWVzKHBhcmFtcyk7XG4gICAgfSxcbiAgICBhc3luYyBncmFudFBlcm1pc3Npb25zKHBhcmFtcykge1xuICAgICAgICByZXR1cm4gQ29ubmVjdGlvbkNvbnRyb2xsZXIuX2dldENsaWVudCgpPy5ncmFudFBlcm1pc3Npb25zKHBhcmFtcyk7XG4gICAgfSxcbiAgICBhc3luYyB3YWxsZXRHZXRBc3NldHMocGFyYW1zKSB7XG4gICAgICAgIHJldHVybiBDb25uZWN0aW9uQ29udHJvbGxlci5fZ2V0Q2xpZW50KCk/LndhbGxldEdldEFzc2V0cyhwYXJhbXMpID8/IHt9O1xuICAgIH0sXG4gICAgYXN5bmMgZXN0aW1hdGVHYXMoYXJncykge1xuICAgICAgICByZXR1cm4gQ29ubmVjdGlvbkNvbnRyb2xsZXIuX2dldENsaWVudCgpPy5lc3RpbWF0ZUdhcyhhcmdzKTtcbiAgICB9LFxuICAgIGFzeW5jIHdyaXRlQ29udHJhY3QoYXJncykge1xuICAgICAgICByZXR1cm4gQ29ubmVjdGlvbkNvbnRyb2xsZXIuX2dldENsaWVudCgpPy53cml0ZUNvbnRyYWN0KGFyZ3MpO1xuICAgIH0sXG4gICAgYXN5bmMgZ2V0RW5zQWRkcmVzcyh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gQ29ubmVjdGlvbkNvbnRyb2xsZXIuX2dldENsaWVudCgpPy5nZXRFbnNBZGRyZXNzKHZhbHVlKTtcbiAgICB9LFxuICAgIGFzeW5jIGdldEVuc0F2YXRhcih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gQ29ubmVjdGlvbkNvbnRyb2xsZXIuX2dldENsaWVudCgpPy5nZXRFbnNBdmF0YXIodmFsdWUpO1xuICAgIH0sXG4gICAgY2hlY2tJbnN0YWxsZWQoaWRzKSB7XG4gICAgICAgIHJldHVybiBDb25uZWN0aW9uQ29udHJvbGxlci5fZ2V0Q2xpZW50KCk/LmNoZWNrSW5zdGFsbGVkPy4oaWRzKSB8fCBmYWxzZTtcbiAgICB9LFxuICAgIHJlc2V0V2NDb25uZWN0aW9uKCkge1xuICAgICAgICBzdGF0ZS53Y1VyaSA9IHVuZGVmaW5lZDtcbiAgICAgICAgc3RhdGUud2NQYWlyaW5nRXhwaXJ5ID0gdW5kZWZpbmVkO1xuICAgICAgICBzdGF0ZS53Y0xpbmtpbmcgPSB1bmRlZmluZWQ7XG4gICAgICAgIHN0YXRlLnJlY2VudFdhbGxldCA9IHVuZGVmaW5lZDtcbiAgICAgICAgc3RhdGUuc3RhdHVzID0gJ2Rpc2Nvbm5lY3RlZCc7XG4gICAgICAgIFRyYW5zYWN0aW9uc0NvbnRyb2xsZXIucmVzZXRUcmFuc2FjdGlvbnMoKTtcbiAgICAgICAgU3RvcmFnZVV0aWwuZGVsZXRlV2FsbGV0Q29ubmVjdERlZXBMaW5rKCk7XG4gICAgICAgIFN0b3JhZ2VVdGlsLmRlbGV0ZVJlY2VudFdhbGxldCgpO1xuICAgIH0sXG4gICAgcmVzZXRVcmkoKSB7XG4gICAgICAgIHN0YXRlLndjVXJpID0gdW5kZWZpbmVkO1xuICAgICAgICBzdGF0ZS53Y1BhaXJpbmdFeHBpcnkgPSB1bmRlZmluZWQ7XG4gICAgICAgIHdjQ29ubmVjdGlvblByb21pc2UgPSB1bmRlZmluZWQ7XG4gICAgfSxcbiAgICBmaW5hbGl6ZVdjQ29ubmVjdGlvbihhZGRyZXNzKSB7XG4gICAgICAgIGNvbnN0IHsgd2NMaW5raW5nLCByZWNlbnRXYWxsZXQgfSA9IENvbm5lY3Rpb25Db250cm9sbGVyLnN0YXRlO1xuICAgICAgICBpZiAod2NMaW5raW5nKSB7XG4gICAgICAgICAgICBTdG9yYWdlVXRpbC5zZXRXYWxsZXRDb25uZWN0RGVlcExpbmsod2NMaW5raW5nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVjZW50V2FsbGV0KSB7XG4gICAgICAgICAgICBTdG9yYWdlVXRpbC5zZXRBcHBLaXRSZWNlbnQocmVjZW50V2FsbGV0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYWRkcmVzcykge1xuICAgICAgICAgICAgRXZlbnRzQ29udHJvbGxlci5zZW5kRXZlbnQoe1xuICAgICAgICAgICAgICAgIHR5cGU6ICd0cmFjaycsXG4gICAgICAgICAgICAgICAgZXZlbnQ6ICdDT05ORUNUX1NVQ0NFU1MnLFxuICAgICAgICAgICAgICAgIGFkZHJlc3MsXG4gICAgICAgICAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IHdjTGlua2luZyA/ICdtb2JpbGUnIDogJ3FyY29kZScsXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IFJvdXRlckNvbnRyb2xsZXIuc3RhdGUuZGF0YT8ud2FsbGV0Py5uYW1lIHx8ICdVbmtub3duJyxcbiAgICAgICAgICAgICAgICAgICAgdmlldzogUm91dGVyQ29udHJvbGxlci5zdGF0ZS52aWV3LFxuICAgICAgICAgICAgICAgICAgICB3YWxsZXRSYW5rOiByZWNlbnRXYWxsZXQ/Lm9yZGVyXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHNldFdjQmFzaWMod2NCYXNpYykge1xuICAgICAgICBzdGF0ZS53Y0Jhc2ljID0gd2NCYXNpYztcbiAgICB9LFxuICAgIHNldFVyaSh1cmkpIHtcbiAgICAgICAgc3RhdGUud2NVcmkgPSB1cmk7XG4gICAgICAgIHN0YXRlLndjUGFpcmluZ0V4cGlyeSA9IENvcmVIZWxwZXJVdGlsLmdldFBhaXJpbmdFeHBpcnkoKTtcbiAgICB9LFxuICAgIHNldFdjTGlua2luZyh3Y0xpbmtpbmcpIHtcbiAgICAgICAgc3RhdGUud2NMaW5raW5nID0gd2NMaW5raW5nO1xuICAgIH0sXG4gICAgc2V0V2NFcnJvcih3Y0Vycm9yKSB7XG4gICAgICAgIHN0YXRlLndjRXJyb3IgPSB3Y0Vycm9yO1xuICAgICAgICBzdGF0ZS5idWZmZXJpbmcgPSBmYWxzZTtcbiAgICB9LFxuICAgIHNldFJlY2VudFdhbGxldCh3YWxsZXQpIHtcbiAgICAgICAgc3RhdGUucmVjZW50V2FsbGV0ID0gd2FsbGV0O1xuICAgIH0sXG4gICAgc2V0QnVmZmVyaW5nKGJ1ZmZlcmluZykge1xuICAgICAgICBzdGF0ZS5idWZmZXJpbmcgPSBidWZmZXJpbmc7XG4gICAgfSxcbiAgICBzZXRTdGF0dXMoc3RhdHVzKSB7XG4gICAgICAgIHN0YXRlLnN0YXR1cyA9IHN0YXR1cztcbiAgICB9LFxuICAgIHNldElzU3dpdGNoaW5nQ29ubmVjdGlvbihpc1N3aXRjaGluZ0Nvbm5lY3Rpb24pIHtcbiAgICAgICAgc3RhdGUuaXNTd2l0Y2hpbmdDb25uZWN0aW9uID0gaXNTd2l0Y2hpbmdDb25uZWN0aW9uO1xuICAgIH0sXG4gICAgYXN5bmMgZGlzY29ubmVjdCh7IGlkLCBuYW1lc3BhY2UsIGluaXRpYWxEaXNjb25uZWN0IH0gPSB7fSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgQ29ubmVjdGlvbkNvbnRyb2xsZXIuX2dldENsaWVudCgpPy5kaXNjb25uZWN0KHtcbiAgICAgICAgICAgICAgICBpZCxcbiAgICAgICAgICAgICAgICBjaGFpbk5hbWVzcGFjZTogbmFtZXNwYWNlLFxuICAgICAgICAgICAgICAgIGluaXRpYWxEaXNjb25uZWN0XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBBcHBLaXRFcnJvcignRmFpbGVkIHRvIGRpc2Nvbm5lY3QnLCAnSU5URVJOQUxfU0RLX0VSUk9SJywgZXJyb3IpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBhc3luYyBkaXNjb25uZWN0Q29ubmVjdG9yKHsgaWQsIG5hbWVzcGFjZSB9KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCBDb25uZWN0aW9uQ29udHJvbGxlci5fZ2V0Q2xpZW50KCk/LmRpc2Nvbm5lY3RDb25uZWN0b3IoeyBpZCwgbmFtZXNwYWNlIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEFwcEtpdEVycm9yKCdGYWlsZWQgdG8gZGlzY29ubmVjdCBjb25uZWN0b3InLCAnSU5URVJOQUxfU0RLX0VSUk9SJywgZXJyb3IpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBzZXRDb25uZWN0aW9ucyhjb25uZWN0aW9ucywgY2hhaW5OYW1lc3BhY2UpIHtcbiAgICAgICAgY29uc3QgY29ubmVjdGlvbnNNYXAgPSBuZXcgTWFwKHN0YXRlLmNvbm5lY3Rpb25zKTtcbiAgICAgICAgY29ubmVjdGlvbnNNYXAuc2V0KGNoYWluTmFtZXNwYWNlLCBjb25uZWN0aW9ucyk7XG4gICAgICAgIHN0YXRlLmNvbm5lY3Rpb25zID0gY29ubmVjdGlvbnNNYXA7XG4gICAgfSxcbiAgICBhc3luYyBoYW5kbGVBdXRoQWNjb3VudFN3aXRjaCh7IGFkZHJlc3MsIG5hbWVzcGFjZSB9KSB7XG4gICAgICAgIGNvbnN0IGFjY291bnREYXRhID0gQ2hhaW5Db250cm9sbGVyLmdldEFjY291bnREYXRhKG5hbWVzcGFjZSk7XG4gICAgICAgIGNvbnN0IHNtYXJ0QWNjb3VudCA9IGFjY291bnREYXRhPy51c2VyPy5hY2NvdW50cz8uZmluZChjID0+IGMudHlwZSA9PT0gJ3NtYXJ0QWNjb3VudCcpO1xuICAgICAgICBjb25zdCBhY2NvdW50VHlwZSA9IHNtYXJ0QWNjb3VudCAmJlxuICAgICAgICAgICAgc21hcnRBY2NvdW50LmFkZHJlc3MudG9Mb3dlckNhc2UoKSA9PT0gYWRkcmVzcy50b0xvd2VyQ2FzZSgpICYmXG4gICAgICAgICAgICBDb25uZWN0b3JDb250cm9sbGVyVXRpbC5jYW5Td2l0Y2hUb1NtYXJ0QWNjb3VudChuYW1lc3BhY2UpXG4gICAgICAgICAgICA/ICdzbWFydEFjY291bnQnXG4gICAgICAgICAgICA6ICdlb2EnO1xuICAgICAgICBhd2FpdCBDb25uZWN0aW9uQ29udHJvbGxlci5zZXRQcmVmZXJyZWRBY2NvdW50VHlwZShhY2NvdW50VHlwZSwgbmFtZXNwYWNlKTtcbiAgICB9LFxuICAgIGFzeW5jIGhhbmRsZUFjdGl2ZUNvbm5lY3Rpb24oeyBjb25uZWN0aW9uLCBuYW1lc3BhY2UsIGFkZHJlc3MgfSkge1xuICAgICAgICBjb25zdCBjb25uZWN0b3IgPSBDb25uZWN0b3JDb250cm9sbGVyLmdldENvbm5lY3RvckJ5SWQoY29ubmVjdGlvbi5jb25uZWN0b3JJZCk7XG4gICAgICAgIGNvbnN0IGlzQXV0aENvbm5lY3RvciA9IGNvbm5lY3Rpb24uY29ubmVjdG9ySWQgPT09IENvbW1vbkNvbnN0YW50c1V0aWwuQ09OTkVDVE9SX0lELkFVVEg7XG4gICAgICAgIGlmICghY29ubmVjdG9yKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE5vIGNvbm5lY3RvciBmb3VuZCBmb3IgY29ubmVjdGlvbjogJHtjb25uZWN0aW9uLmNvbm5lY3RvcklkfWApO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNBdXRoQ29ubmVjdG9yKSB7XG4gICAgICAgICAgICBjb25zdCBjb25uZWN0RGF0YSA9IGF3YWl0IENvbm5lY3Rpb25Db250cm9sbGVyLmNvbm5lY3RFeHRlcm5hbCh7XG4gICAgICAgICAgICAgICAgaWQ6IGNvbm5lY3Rvci5pZCxcbiAgICAgICAgICAgICAgICB0eXBlOiBjb25uZWN0b3IudHlwZSxcbiAgICAgICAgICAgICAgICBwcm92aWRlcjogY29ubmVjdG9yLnByb3ZpZGVyLFxuICAgICAgICAgICAgICAgIGFkZHJlc3MsXG4gICAgICAgICAgICAgICAgY2hhaW46IG5hbWVzcGFjZVxuICAgICAgICAgICAgfSwgbmFtZXNwYWNlKTtcbiAgICAgICAgICAgIHJldHVybiBjb25uZWN0RGF0YT8uYWRkcmVzcztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChhZGRyZXNzKSB7XG4gICAgICAgICAgICBhd2FpdCBDb25uZWN0aW9uQ29udHJvbGxlci5oYW5kbGVBdXRoQWNjb3VudFN3aXRjaCh7IGFkZHJlc3MsIG5hbWVzcGFjZSB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYWRkcmVzcztcbiAgICB9LFxuICAgIGFzeW5jIGhhbmRsZURpc2Nvbm5lY3RlZENvbm5lY3Rpb24oeyBjb25uZWN0aW9uLCBuYW1lc3BhY2UsIGFkZHJlc3MsIGNsb3NlTW9kYWxPbkNvbm5lY3QgfSkge1xuICAgICAgICBjb25zdCBjb25uZWN0b3IgPSBDb25uZWN0b3JDb250cm9sbGVyLmdldENvbm5lY3RvckJ5SWQoY29ubmVjdGlvbi5jb25uZWN0b3JJZCk7XG4gICAgICAgIGNvbnN0IGF1dGhOYW1lID0gY29ubmVjdGlvbi5hdXRoPy5uYW1lPy50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBjb25zdCBpc0F1dGhDb25uZWN0b3IgPSBjb25uZWN0aW9uLmNvbm5lY3RvcklkID09PSBDb21tb25Db25zdGFudHNVdGlsLkNPTk5FQ1RPUl9JRC5BVVRIO1xuICAgICAgICBjb25zdCBpc1dDQ29ubmVjdG9yID0gY29ubmVjdGlvbi5jb25uZWN0b3JJZCA9PT0gQ29tbW9uQ29uc3RhbnRzVXRpbC5DT05ORUNUT1JfSUQuV0FMTEVUX0NPTk5FQ1Q7XG4gICAgICAgIGlmICghY29ubmVjdG9yKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE5vIGNvbm5lY3RvciBmb3VuZCBmb3IgY29ubmVjdGlvbjogJHtjb25uZWN0aW9uLmNvbm5lY3RvcklkfWApO1xuICAgICAgICB9XG4gICAgICAgIGxldCBuZXdBZGRyZXNzID0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAoaXNBdXRoQ29ubmVjdG9yKSB7XG4gICAgICAgICAgICBpZiAoYXV0aE5hbWUgJiYgQ29ubmVjdG9yQ29udHJvbGxlclV0aWwuaXNTb2NpYWxQcm92aWRlcihhdXRoTmFtZSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGFkZHJlc3M6IHNvY2lhbEFkZHJlc3MgfSA9IGF3YWl0IENvbm5lY3RvckNvbnRyb2xsZXJVdGlsLmNvbm5lY3RTb2NpYWwoe1xuICAgICAgICAgICAgICAgICAgICBzb2NpYWw6IGF1dGhOYW1lLFxuICAgICAgICAgICAgICAgICAgICBjbG9zZU1vZGFsT25Db25uZWN0LFxuICAgICAgICAgICAgICAgICAgICBvbk9wZW5GYXJjYXN0ZXIoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBNb2RhbENvbnRyb2xsZXIub3Blbih7IHZpZXc6ICdDb25uZWN0aW5nRmFyY2FzdGVyJyB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgb25Db25uZWN0KCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgUm91dGVyQ29udHJvbGxlci5yZXBsYWNlKCdQcm9maWxlV2FsbGV0cycpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgbmV3QWRkcmVzcyA9IHNvY2lhbEFkZHJlc3M7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGFkZHJlc3M6IGVtYWlsQWRkcmVzcyB9ID0gYXdhaXQgQ29ubmVjdG9yQ29udHJvbGxlclV0aWwuY29ubmVjdEVtYWlsKHtcbiAgICAgICAgICAgICAgICAgICAgY2xvc2VNb2RhbE9uQ29ubmVjdCxcbiAgICAgICAgICAgICAgICAgICAgb25PcGVuKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgTW9kYWxDb250cm9sbGVyLm9wZW4oeyB2aWV3OiAnRW1haWxMb2dpbicgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIG9uQ29ubmVjdCgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFJvdXRlckNvbnRyb2xsZXIucmVwbGFjZSgnUHJvZmlsZVdhbGxldHMnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIG5ld0FkZHJlc3MgPSBlbWFpbEFkZHJlc3M7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNXQ0Nvbm5lY3Rvcikge1xuICAgICAgICAgICAgY29uc3QgeyBhZGRyZXNzOiB3Y0FkZHJlc3MgfSA9IGF3YWl0IENvbm5lY3RvckNvbnRyb2xsZXJVdGlsLmNvbm5lY3RXYWxsZXRDb25uZWN0KHtcbiAgICAgICAgICAgICAgICB3YWxsZXRDb25uZWN0OiB0cnVlLFxuICAgICAgICAgICAgICAgIGNvbm5lY3RvcixcbiAgICAgICAgICAgICAgICBjbG9zZU1vZGFsT25Db25uZWN0LFxuICAgICAgICAgICAgICAgIG9uT3Blbihpc01vYmlsZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2aWV3ID0gaXNNb2JpbGUgPyAnQWxsV2FsbGV0cycgOiAnQ29ubmVjdGluZ1dhbGxldENvbm5lY3QnO1xuICAgICAgICAgICAgICAgICAgICBpZiAoTW9kYWxDb250cm9sbGVyLnN0YXRlLm9wZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFJvdXRlckNvbnRyb2xsZXIucHVzaCh2aWV3KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIE1vZGFsQ29udHJvbGxlci5vcGVuKHsgdmlldyB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb25Db25uZWN0KCkge1xuICAgICAgICAgICAgICAgICAgICBSb3V0ZXJDb250cm9sbGVyLnJlcGxhY2UoJ1Byb2ZpbGVXYWxsZXRzJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBuZXdBZGRyZXNzID0gd2NBZGRyZXNzO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgY29ubmVjdERhdGEgPSBhd2FpdCBDb25uZWN0aW9uQ29udHJvbGxlci5jb25uZWN0RXh0ZXJuYWwoe1xuICAgICAgICAgICAgICAgIGlkOiBjb25uZWN0b3IuaWQsXG4gICAgICAgICAgICAgICAgdHlwZTogY29ubmVjdG9yLnR5cGUsXG4gICAgICAgICAgICAgICAgcHJvdmlkZXI6IGNvbm5lY3Rvci5wcm92aWRlcixcbiAgICAgICAgICAgICAgICBjaGFpbjogbmFtZXNwYWNlXG4gICAgICAgICAgICB9LCBuYW1lc3BhY2UpO1xuICAgICAgICAgICAgaWYgKGNvbm5lY3REYXRhKSB7XG4gICAgICAgICAgICAgICAgbmV3QWRkcmVzcyA9IGNvbm5lY3REYXRhLmFkZHJlc3M7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQXV0aENvbm5lY3RvciAmJiBhZGRyZXNzKSB7XG4gICAgICAgICAgICBhd2FpdCBDb25uZWN0aW9uQ29udHJvbGxlci5oYW5kbGVBdXRoQWNjb3VudFN3aXRjaCh7IGFkZHJlc3MsIG5hbWVzcGFjZSB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3QWRkcmVzcztcbiAgICB9LFxuICAgIGFzeW5jIHN3aXRjaENvbm5lY3Rpb24oeyBjb25uZWN0aW9uLCBhZGRyZXNzLCBuYW1lc3BhY2UsIGNsb3NlTW9kYWxPbkNvbm5lY3QsIG9uQ2hhbmdlIH0pIHtcbiAgICAgICAgbGV0IGN1cnJlbnRBZGRyZXNzID0gdW5kZWZpbmVkO1xuICAgICAgICBjb25zdCBjYWlwQWRkcmVzcyA9IENoYWluQ29udHJvbGxlci5nZXRBY2NvdW50RGF0YShuYW1lc3BhY2UpPy5jYWlwQWRkcmVzcztcbiAgICAgICAgaWYgKGNhaXBBZGRyZXNzKSB7XG4gICAgICAgICAgICBjb25zdCB7IGFkZHJlc3M6IGN1cnJlbnRBZGRyZXNzUGFyc2VkIH0gPSBQYXJzZVV0aWwucGFyc2VDYWlwQWRkcmVzcyhjYWlwQWRkcmVzcyk7XG4gICAgICAgICAgICBjdXJyZW50QWRkcmVzcyA9IGN1cnJlbnRBZGRyZXNzUGFyc2VkO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHN0YXR1cyA9IENvbm5lY3Rpb25Db250cm9sbGVyVXRpbC5nZXRDb25uZWN0aW9uU3RhdHVzKGNvbm5lY3Rpb24sIG5hbWVzcGFjZSk7XG4gICAgICAgIHN3aXRjaCAoc3RhdHVzKSB7XG4gICAgICAgICAgICBjYXNlICdjb25uZWN0ZWQnOlxuICAgICAgICAgICAgY2FzZSAnYWN0aXZlJzoge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld0FkZHJlc3MgPSBhd2FpdCBDb25uZWN0aW9uQ29udHJvbGxlci5oYW5kbGVBY3RpdmVDb25uZWN0aW9uKHtcbiAgICAgICAgICAgICAgICAgICAgY29ubmVjdGlvbixcbiAgICAgICAgICAgICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgICAgICAgICAgICBhZGRyZXNzXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRBZGRyZXNzICYmIG5ld0FkZHJlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaGFzU3dpdGNoZWRBY2NvdW50ID0gbmV3QWRkcmVzcy50b0xvd2VyQ2FzZSgpICE9PSBjdXJyZW50QWRkcmVzcy50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT8uKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZHJlc3M6IG5ld0FkZHJlc3MsXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBoYXNTd2l0Y2hlZEFjY291bnQsXG4gICAgICAgICAgICAgICAgICAgICAgICBoYXNTd2l0Y2hlZFdhbGxldDogc3RhdHVzID09PSAnYWN0aXZlJ1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICdkaXNjb25uZWN0ZWQnOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3QWRkcmVzcyA9IGF3YWl0IENvbm5lY3Rpb25Db250cm9sbGVyLmhhbmRsZURpc2Nvbm5lY3RlZENvbm5lY3Rpb24oe1xuICAgICAgICAgICAgICAgICAgICBjb25uZWN0aW9uLFxuICAgICAgICAgICAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgICAgICAgICAgIGFkZHJlc3MsXG4gICAgICAgICAgICAgICAgICAgIGNsb3NlTW9kYWxPbkNvbm5lY3RcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAobmV3QWRkcmVzcykge1xuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT8uKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZHJlc3M6IG5ld0FkZHJlc3MsXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBoYXNTd2l0Y2hlZEFjY291bnQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBoYXNTd2l0Y2hlZFdhbGxldDogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBjb25uZWN0aW9uIHN0YXR1czogJHtzdGF0dXN9YCk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuLy8gRXhwb3J0IHRoZSBjb250cm9sbGVyIHdyYXBwZWQgd2l0aCBvdXIgZXJyb3IgYm91bmRhcnlcbmV4cG9ydCBjb25zdCBDb25uZWN0aW9uQ29udHJvbGxlciA9IHdpdGhFcnJvckJvdW5kYXJ5KGNvbnRyb2xsZXIpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q29ubmVjdGlvbkNvbnRyb2xsZXIuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectionController.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectorController.js":
/*!********************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectorController.js ***!
  \********************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ConnectorController: () => (/* binding */ ConnectorController)\n/* harmony export */ });\n/* harmony import */ var valtio_vanilla__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! valtio/vanilla */ \"(ssr)/./node_modules/.pnpm/valtio@2.1.7_@types+react@18.3.26_react@18.3.1/node_modules/valtio/esm/vanilla.mjs\");\n/* harmony import */ var valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! valtio/vanilla/utils */ \"(ssr)/./node_modules/.pnpm/valtio@2.1.7_@types+react@18.3.26_react@18.3.1/node_modules/valtio/esm/vanilla/utils.mjs\");\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @reown/appkit-common */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-common@1.8.11_bufferutil@4.0.9_typescript@5.9.3_utf-8-validate@5.0.10_zod@4.1.12/node_modules/@reown/appkit-common/dist/esm/src/utils/NetworkUtil.js\");\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @reown/appkit-common */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-common@1.8.11_bufferutil@4.0.9_typescript@5.9.3_utf-8-validate@5.0.10_zod@4.1.12/node_modules/@reown/appkit-common/dist/esm/src/utils/ConstantsUtil.js\");\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @reown/appkit-common */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-common@1.8.11_bufferutil@4.0.9_typescript@5.9.3_utf-8-validate@5.0.10_zod@4.1.12/node_modules/@reown/appkit-common/dist/esm/src/utils/ThemeUtil.js\");\n/* harmony import */ var _reown_appkit_wallet_utils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @reown/appkit-wallet/utils */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-wallet@1.8.11_bufferutil@4.0.9_typescript@5.9.3_utf-8-validate@5.0.10/node_modules/@reown/appkit-wallet/dist/esm/src/W3mFrameConstants.js\");\n/* harmony import */ var _utils_ChainControllerUtil_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../utils/ChainControllerUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ChainControllerUtil.js\");\n/* harmony import */ var _utils_MobileWallet_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../utils/MobileWallet.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/MobileWallet.js\");\n/* harmony import */ var _utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/StorageUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/StorageUtil.js\");\n/* harmony import */ var _utils_withErrorBoundary_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../utils/withErrorBoundary.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/withErrorBoundary.js\");\n/* harmony import */ var _ApiController_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ApiController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ApiController.js\");\n/* harmony import */ var _ChainController_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./ChainController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ChainController.js\");\n/* harmony import */ var _OptionsController_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./OptionsController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/OptionsController.js\");\n/* harmony import */ var _RouterController_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./RouterController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/RouterController.js\");\n/* harmony import */ var _ThemeController_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./ThemeController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ThemeController.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst defaultActiveConnectors = Object.fromEntries(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.AVAILABLE_NAMESPACES.map(namespace => [namespace, undefined]));\nconst defaultFilterByNamespaceMap = Object.fromEntries(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.AVAILABLE_NAMESPACES.map(namespace => [namespace, true]));\n// -- State --------------------------------------------- //\nconst state = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_1__.proxy)({\n    allConnectors: [],\n    connectors: [],\n    activeConnector: undefined,\n    filterByNamespace: undefined,\n    activeConnectorIds: defaultActiveConnectors,\n    filterByNamespaceMap: defaultFilterByNamespaceMap\n});\n// -- Controller ---------------------------------------- //\nconst controller = {\n    state,\n    subscribe(callback) {\n        return (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_1__.subscribe)(state, () => {\n            callback(state);\n        });\n    },\n    subscribeKey(key, callback) {\n        return (0,valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_2__.subscribeKey)(state, key, callback);\n    },\n    initialize(namespaces) {\n        namespaces.forEach(namespace => {\n            const connectorId = _utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_3__.StorageUtil.getConnectedConnectorId(namespace);\n            if (connectorId) {\n                ConnectorController.setConnectorId(connectorId, namespace);\n            }\n        });\n    },\n    setActiveConnector(connector) {\n        if (connector) {\n            state.activeConnector = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_1__.ref)(connector);\n        }\n    },\n    setConnectors(connectors) {\n        const newConnectors = connectors.filter(newConnector => !state.allConnectors.some(existingConnector => existingConnector.id === newConnector.id &&\n            ConnectorController.getConnectorName(existingConnector.name) ===\n                ConnectorController.getConnectorName(newConnector.name) &&\n            existingConnector.chain === newConnector.chain));\n        /**\n         * We are reassigning the state of the proxy to a new array of new objects, ConnectorController can cause issues. So it is better to use ref in ConnectorController case.\n         * Check more about proxy on https://valtio.dev/docs/api/basic/proxy#Gotchas\n         * Check more about ref on https://valtio.dev/docs/api/basic/ref\n         */\n        newConnectors.forEach(connector => {\n            if (connector.type !== 'MULTI_CHAIN') {\n                state.allConnectors.push((0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_1__.ref)(connector));\n            }\n        });\n        const enabledNamespaces = ConnectorController.getEnabledNamespaces();\n        const connectorsFilteredByNamespaces = ConnectorController.getEnabledConnectors(enabledNamespaces);\n        state.connectors = ConnectorController.mergeMultiChainConnectors(connectorsFilteredByNamespaces);\n    },\n    filterByNamespaces(enabledNamespaces) {\n        Object.keys(state.filterByNamespaceMap).forEach(namespace => {\n            state.filterByNamespaceMap[namespace] = false;\n        });\n        enabledNamespaces.forEach(namespace => {\n            state.filterByNamespaceMap[namespace] = true;\n        });\n        ConnectorController.updateConnectorsForEnabledNamespaces();\n    },\n    filterByNamespace(namespace, enabled) {\n        state.filterByNamespaceMap[namespace] = enabled;\n        ConnectorController.updateConnectorsForEnabledNamespaces();\n    },\n    updateConnectorsForEnabledNamespaces() {\n        const enabledNamespaces = ConnectorController.getEnabledNamespaces();\n        const enabledConnectors = ConnectorController.getEnabledConnectors(enabledNamespaces);\n        const areAllNamespacesEnabled = ConnectorController.areAllNamespacesEnabled();\n        state.connectors = ConnectorController.mergeMultiChainConnectors(enabledConnectors);\n        if (areAllNamespacesEnabled) {\n            _ApiController_js__WEBPACK_IMPORTED_MODULE_4__.ApiController.clearFilterByNamespaces();\n        }\n        else {\n            _ApiController_js__WEBPACK_IMPORTED_MODULE_4__.ApiController.filterByNamespaces(enabledNamespaces);\n        }\n    },\n    getEnabledNamespaces() {\n        return Object.entries(state.filterByNamespaceMap)\n            .filter(([_, enabled]) => enabled)\n            .map(([namespace]) => namespace);\n    },\n    getEnabledConnectors(enabledNamespaces) {\n        return state.allConnectors.filter(connector => enabledNamespaces.includes(connector.chain));\n    },\n    areAllNamespacesEnabled() {\n        return Object.values(state.filterByNamespaceMap).every(enabled => enabled);\n    },\n    mergeMultiChainConnectors(connectors) {\n        const connectorsByNameMap = ConnectorController.generateConnectorMapByName(connectors);\n        const mergedConnectors = [];\n        connectorsByNameMap.forEach(keyConnectors => {\n            const firstItem = keyConnectors[0];\n            const isAuthConnector = firstItem?.id === _reown_appkit_common__WEBPACK_IMPORTED_MODULE_5__.ConstantsUtil.CONNECTOR_ID.AUTH;\n            if (keyConnectors.length > 1 && firstItem) {\n                mergedConnectors.push({\n                    name: firstItem.name,\n                    imageUrl: firstItem.imageUrl,\n                    imageId: firstItem.imageId,\n                    connectors: [...keyConnectors],\n                    type: isAuthConnector ? 'AUTH' : 'MULTI_CHAIN',\n                    // These values are just placeholders, we don't use them in multi-chain connector select screen\n                    chain: 'eip155',\n                    id: firstItem?.id || ''\n                });\n            }\n            else if (firstItem) {\n                mergedConnectors.push(firstItem);\n            }\n        });\n        return mergedConnectors;\n    },\n    generateConnectorMapByName(connectors) {\n        const connectorsByNameMap = new Map();\n        connectors.forEach(connector => {\n            const { name } = connector;\n            const connectorName = ConnectorController.getConnectorName(name);\n            if (!connectorName) {\n                return;\n            }\n            const connectorsByName = connectorsByNameMap.get(connectorName) || [];\n            const haveSameConnector = connectorsByName.find(c => c.chain === connector.chain);\n            if (!haveSameConnector) {\n                connectorsByName.push(connector);\n            }\n            connectorsByNameMap.set(connectorName, connectorsByName);\n        });\n        return connectorsByNameMap;\n    },\n    getConnectorName(name) {\n        if (!name) {\n            return name;\n        }\n        const nameOverrideMap = {\n            'Trust Wallet': 'Trust'\n        };\n        return nameOverrideMap[name] || name;\n    },\n    getUniqueConnectorsByName(connectors) {\n        const uniqueConnectors = [];\n        connectors.forEach(c => {\n            if (!uniqueConnectors.find(uc => uc.chain === c.chain)) {\n                uniqueConnectors.push(c);\n            }\n        });\n        return uniqueConnectors;\n    },\n    addConnector(connector) {\n        if (connector.id === _reown_appkit_common__WEBPACK_IMPORTED_MODULE_5__.ConstantsUtil.CONNECTOR_ID.AUTH) {\n            const authConnector = connector;\n            const optionsState = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_1__.snapshot)(_OptionsController_js__WEBPACK_IMPORTED_MODULE_6__.OptionsController.state);\n            const themeMode = _ThemeController_js__WEBPACK_IMPORTED_MODULE_7__.ThemeController.getSnapshot().themeMode;\n            const themeVariables = _ThemeController_js__WEBPACK_IMPORTED_MODULE_7__.ThemeController.getSnapshot().themeVariables;\n            authConnector?.provider?.syncDappData?.({\n                metadata: optionsState.metadata,\n                sdkVersion: optionsState.sdkVersion,\n                projectId: optionsState.projectId,\n                sdkType: optionsState.sdkType\n            });\n            authConnector?.provider?.syncTheme({\n                themeMode,\n                themeVariables,\n                w3mThemeVariables: (0,_reown_appkit_common__WEBPACK_IMPORTED_MODULE_8__.getW3mThemeVariables)(themeVariables, themeMode)\n            });\n            ConnectorController.setConnectors([connector]);\n        }\n        else {\n            ConnectorController.setConnectors([connector]);\n        }\n    },\n    getAuthConnector(chainNamespace) {\n        const activeNamespace = chainNamespace || _ChainController_js__WEBPACK_IMPORTED_MODULE_9__.ChainController.state.activeChain;\n        const authConnector = state.connectors.find(c => c.id === _reown_appkit_common__WEBPACK_IMPORTED_MODULE_5__.ConstantsUtil.CONNECTOR_ID.AUTH);\n        if (!authConnector) {\n            return undefined;\n        }\n        if (authConnector?.connectors?.length) {\n            const connector = authConnector.connectors.find(c => c.chain === activeNamespace);\n            return connector;\n        }\n        return authConnector;\n    },\n    getAnnouncedConnectorRdns() {\n        return state.connectors.filter(c => c.type === 'ANNOUNCED').map(c => c.info?.rdns);\n    },\n    getConnectorById(id) {\n        return state.allConnectors.find(c => c.id === id);\n    },\n    getConnector({ id, rdns, namespace }) {\n        const namespaceToUse = namespace || _ChainController_js__WEBPACK_IMPORTED_MODULE_9__.ChainController.state.activeChain;\n        const connectorsByNamespace = state.allConnectors.filter(c => c.chain === namespaceToUse);\n        return connectorsByNamespace.find(c => c.explorerId === id || c.info?.rdns === rdns);\n    },\n    syncIfAuthConnector(connector) {\n        if (connector.id !== 'AUTH') {\n            return;\n        }\n        const authConnector = connector;\n        const optionsState = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_1__.snapshot)(_OptionsController_js__WEBPACK_IMPORTED_MODULE_6__.OptionsController.state);\n        const themeMode = _ThemeController_js__WEBPACK_IMPORTED_MODULE_7__.ThemeController.getSnapshot().themeMode;\n        const themeVariables = _ThemeController_js__WEBPACK_IMPORTED_MODULE_7__.ThemeController.getSnapshot().themeVariables;\n        authConnector?.provider?.syncDappData?.({\n            metadata: optionsState.metadata,\n            sdkVersion: optionsState.sdkVersion,\n            sdkType: optionsState.sdkType,\n            projectId: optionsState.projectId\n        });\n        authConnector.provider.syncTheme({\n            themeMode,\n            themeVariables,\n            w3mThemeVariables: (0,_reown_appkit_common__WEBPACK_IMPORTED_MODULE_8__.getW3mThemeVariables)(themeVariables, themeMode)\n        });\n    },\n    /**\n     * Returns the connectors filtered by namespace.\n     * @param namespace - The namespace to filter the connectors by.\n     * @returns ConnectorWithProviders[].\n     */\n    getConnectorsByNamespace(namespace) {\n        const namespaceConnectors = state.allConnectors.filter(connector => connector.chain === namespace);\n        return ConnectorController.mergeMultiChainConnectors(namespaceConnectors);\n    },\n    canSwitchToSmartAccount(namespace) {\n        const isSmartAccountEnabled = _ChainController_js__WEBPACK_IMPORTED_MODULE_9__.ChainController.checkIfSmartAccountEnabled();\n        return (isSmartAccountEnabled &&\n            (0,_utils_ChainControllerUtil_js__WEBPACK_IMPORTED_MODULE_10__.getPreferredAccountType)(namespace) === _reown_appkit_wallet_utils__WEBPACK_IMPORTED_MODULE_11__.W3mFrameRpcConstants.ACCOUNT_TYPES.EOA);\n    },\n    selectWalletConnector(wallet) {\n        const redirectView = _RouterController_js__WEBPACK_IMPORTED_MODULE_12__.RouterController.state.data?.redirectView;\n        const connector = ConnectorController.getConnector({\n            id: wallet.id,\n            rdns: wallet.rdns\n        });\n        _utils_MobileWallet_js__WEBPACK_IMPORTED_MODULE_13__.MobileWalletUtil.handleMobileDeeplinkRedirect(connector?.explorerId || wallet.id, _ChainController_js__WEBPACK_IMPORTED_MODULE_9__.ChainController.state.activeChain);\n        if (connector) {\n            _RouterController_js__WEBPACK_IMPORTED_MODULE_12__.RouterController.push('ConnectingExternal', { connector, wallet, redirectView });\n        }\n        else {\n            _RouterController_js__WEBPACK_IMPORTED_MODULE_12__.RouterController.push('ConnectingWalletConnect', { wallet, redirectView });\n        }\n    },\n    /**\n     * Returns the connectors. If a namespace is provided, the connectors are filtered by namespace.\n     * @param namespace - The namespace to filter the connectors by. If not provided, all connectors are returned.\n     * @returns ConnectorWithProviders[].\n     */\n    getConnectors(namespace) {\n        if (namespace) {\n            return ConnectorController.getConnectorsByNamespace(namespace);\n        }\n        return ConnectorController.mergeMultiChainConnectors(state.allConnectors);\n    },\n    /**\n     * Sets the filter by namespace and updates the connectors.\n     * @param namespace - The namespace to filter the connectors by.\n     */\n    setFilterByNamespace(namespace) {\n        state.filterByNamespace = namespace;\n        state.connectors = ConnectorController.getConnectors(namespace);\n        _ApiController_js__WEBPACK_IMPORTED_MODULE_4__.ApiController.setFilterByNamespace(namespace);\n    },\n    setConnectorId(connectorId, namespace) {\n        if (connectorId) {\n            state.activeConnectorIds = {\n                ...state.activeConnectorIds,\n                [namespace]: connectorId\n            };\n            _utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_3__.StorageUtil.setConnectedConnectorId(namespace, connectorId);\n        }\n    },\n    removeConnectorId(namespace) {\n        state.activeConnectorIds = {\n            ...state.activeConnectorIds,\n            [namespace]: undefined\n        };\n        _utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_3__.StorageUtil.deleteConnectedConnectorId(namespace);\n    },\n    getConnectorId(namespace) {\n        if (!namespace) {\n            return undefined;\n        }\n        return state.activeConnectorIds[namespace];\n    },\n    isConnected(namespace) {\n        if (!namespace) {\n            return Object.values(state.activeConnectorIds).some(id => Boolean(id));\n        }\n        return Boolean(state.activeConnectorIds[namespace]);\n    },\n    resetConnectorIds() {\n        state.activeConnectorIds = { ...defaultActiveConnectors };\n    }\n};\n// Export the controller wrapped with our error boundary\nconst ConnectorController = (0,_utils_withErrorBoundary_js__WEBPACK_IMPORTED_MODULE_14__.withErrorBoundary)(controller);\n//# sourceMappingURL=ConnectorController.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTFfQHJlYWN0LW5hdGl2ZS1hc3luYy1zdG9yYWdlK2FzeW5jLXN0b3JhZ2VAMi4yLjBfcmVhY3QtX2E4MDMyMTIzODk3ZTA3OTMxMzc0MjMyYzNjYzRlNTM1L25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9Db25uZWN0b3JDb250cm9sbGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBd0U7QUFDVjtBQUNtQztBQUMvQjtBQUNRO0FBQ2Q7QUFDTjtBQUNZO0FBQ2Y7QUFDSTtBQUNJO0FBQ0Y7QUFDRjtBQUN2RCxtREFBbUQsc0VBQW9CO0FBQ3ZFLHVEQUF1RCxzRUFBb0I7QUFDM0U7QUFDQSxjQUFjLHFEQUFLO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUseURBQUc7QUFDbEI7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0EsZUFBZSxrRUFBTTtBQUNyQixLQUFLO0FBQ0w7QUFDQTtBQUNBLGdDQUFnQyw4REFBVztBQUMzQztBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQSxvQ0FBb0MsbURBQUc7QUFDdkM7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLG1EQUFHO0FBQzVDO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSw0REFBYTtBQUN6QjtBQUNBO0FBQ0EsWUFBWSw0REFBYTtBQUN6QjtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRCwrREFBYTtBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsT0FBTztBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTDtBQUNBLDZCQUE2QiwrREFBYTtBQUMxQztBQUNBLGlDQUFpQyx3REFBUSxDQUFDLG9FQUFpQjtBQUMzRCw4QkFBOEIsZ0VBQWU7QUFDN0MsbUNBQW1DLGdFQUFlO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLDBFQUFvQjtBQUN2RCxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLGtEQUFrRCxnRUFBZTtBQUNqRSxrRUFBa0UsK0RBQWE7QUFDL0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsbUJBQW1CLHFCQUFxQjtBQUN4Qyw0Q0FBNEMsZ0VBQWU7QUFDM0Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLHdEQUFRLENBQUMsb0VBQWlCO0FBQ3ZELDBCQUEwQixnRUFBZTtBQUN6QywrQkFBK0IsZ0VBQWU7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsMEVBQW9CO0FBQ25ELFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLHNDQUFzQyxnRUFBZTtBQUNyRDtBQUNBLFlBQVksdUZBQXVCLGdCQUFnQiw2RUFBb0I7QUFDdkUsS0FBSztBQUNMO0FBQ0EsNkJBQTZCLG1FQUFnQjtBQUM3QztBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsUUFBUSxxRUFBZ0Isa0VBQWtFLGdFQUFlO0FBQ3pHO0FBQ0EsWUFBWSxtRUFBZ0IsOEJBQThCLGlDQUFpQztBQUMzRjtBQUNBO0FBQ0EsWUFBWSxtRUFBZ0IsbUNBQW1DLHNCQUFzQjtBQUNyRjtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsNERBQWE7QUFDckIsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksOERBQVc7QUFDdkI7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsOERBQVc7QUFDbkIsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLHFDQUFxQztBQUNyQztBQUNBO0FBQ0E7QUFDTyw0QkFBNEIsK0VBQWlCO0FBQ3BEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm9nZ2xyLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0ByZW93bithcHBraXQtY29udHJvbGxlcnNAMS44LjExX0ByZWFjdC1uYXRpdmUtYXN5bmMtc3RvcmFnZSthc3luYy1zdG9yYWdlQDIuMi4wX3JlYWN0LV9hODAzMjEyMzg5N2UwNzkzMTM3NDIzMmMzY2M0ZTUzNS9ub2RlX21vZHVsZXMvQHJlb3duL2FwcGtpdC1jb250cm9sbGVycy9kaXN0L2VzbS9zcmMvY29udHJvbGxlcnMvQ29ubmVjdG9yQ29udHJvbGxlci5qcz9hZjU4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHByb3h5LCByZWYsIHNuYXBzaG90LCBzdWJzY3JpYmUgYXMgc3ViIH0gZnJvbSAndmFsdGlvL3ZhbmlsbGEnO1xuaW1wb3J0IHsgc3Vic2NyaWJlS2V5IGFzIHN1YktleSB9IGZyb20gJ3ZhbHRpby92YW5pbGxhL3V0aWxzJztcbmltcG9ydCB7IEFWQUlMQUJMRV9OQU1FU1BBQ0VTLCBDb25zdGFudHNVdGlsLCBnZXRXM21UaGVtZVZhcmlhYmxlcyB9IGZyb20gJ0ByZW93bi9hcHBraXQtY29tbW9uJztcbmltcG9ydCB7IFczbUZyYW1lUnBjQ29uc3RhbnRzIH0gZnJvbSAnQHJlb3duL2FwcGtpdC13YWxsZXQvdXRpbHMnO1xuaW1wb3J0IHsgZ2V0UHJlZmVycmVkQWNjb3VudFR5cGUgfSBmcm9tICcuLi91dGlscy9DaGFpbkNvbnRyb2xsZXJVdGlsLmpzJztcbmltcG9ydCB7IE1vYmlsZVdhbGxldFV0aWwgfSBmcm9tICcuLi91dGlscy9Nb2JpbGVXYWxsZXQuanMnO1xuaW1wb3J0IHsgU3RvcmFnZVV0aWwgfSBmcm9tICcuLi91dGlscy9TdG9yYWdlVXRpbC5qcyc7XG5pbXBvcnQgeyB3aXRoRXJyb3JCb3VuZGFyeSB9IGZyb20gJy4uL3V0aWxzL3dpdGhFcnJvckJvdW5kYXJ5LmpzJztcbmltcG9ydCB7IEFwaUNvbnRyb2xsZXIgfSBmcm9tICcuL0FwaUNvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgQ2hhaW5Db250cm9sbGVyIH0gZnJvbSAnLi9DaGFpbkNvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgT3B0aW9uc0NvbnRyb2xsZXIgfSBmcm9tICcuL09wdGlvbnNDb250cm9sbGVyLmpzJztcbmltcG9ydCB7IFJvdXRlckNvbnRyb2xsZXIgfSBmcm9tICcuL1JvdXRlckNvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgVGhlbWVDb250cm9sbGVyIH0gZnJvbSAnLi9UaGVtZUNvbnRyb2xsZXIuanMnO1xuY29uc3QgZGVmYXVsdEFjdGl2ZUNvbm5lY3RvcnMgPSBPYmplY3QuZnJvbUVudHJpZXMoQVZBSUxBQkxFX05BTUVTUEFDRVMubWFwKG5hbWVzcGFjZSA9PiBbbmFtZXNwYWNlLCB1bmRlZmluZWRdKSk7XG5jb25zdCBkZWZhdWx0RmlsdGVyQnlOYW1lc3BhY2VNYXAgPSBPYmplY3QuZnJvbUVudHJpZXMoQVZBSUxBQkxFX05BTUVTUEFDRVMubWFwKG5hbWVzcGFjZSA9PiBbbmFtZXNwYWNlLCB0cnVlXSkpO1xuLy8gLS0gU3RhdGUgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5jb25zdCBzdGF0ZSA9IHByb3h5KHtcbiAgICBhbGxDb25uZWN0b3JzOiBbXSxcbiAgICBjb25uZWN0b3JzOiBbXSxcbiAgICBhY3RpdmVDb25uZWN0b3I6IHVuZGVmaW5lZCxcbiAgICBmaWx0ZXJCeU5hbWVzcGFjZTogdW5kZWZpbmVkLFxuICAgIGFjdGl2ZUNvbm5lY3RvcklkczogZGVmYXVsdEFjdGl2ZUNvbm5lY3RvcnMsXG4gICAgZmlsdGVyQnlOYW1lc3BhY2VNYXA6IGRlZmF1bHRGaWx0ZXJCeU5hbWVzcGFjZU1hcFxufSk7XG4vLyAtLSBDb250cm9sbGVyIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbmNvbnN0IGNvbnRyb2xsZXIgPSB7XG4gICAgc3RhdGUsXG4gICAgc3Vic2NyaWJlKGNhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybiBzdWIoc3RhdGUsICgpID0+IHtcbiAgICAgICAgICAgIGNhbGxiYWNrKHN0YXRlKTtcbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBzdWJzY3JpYmVLZXkoa2V5LCBjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gc3ViS2V5KHN0YXRlLCBrZXksIGNhbGxiYWNrKTtcbiAgICB9LFxuICAgIGluaXRpYWxpemUobmFtZXNwYWNlcykge1xuICAgICAgICBuYW1lc3BhY2VzLmZvckVhY2gobmFtZXNwYWNlID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNvbm5lY3RvcklkID0gU3RvcmFnZVV0aWwuZ2V0Q29ubmVjdGVkQ29ubmVjdG9ySWQobmFtZXNwYWNlKTtcbiAgICAgICAgICAgIGlmIChjb25uZWN0b3JJZCkge1xuICAgICAgICAgICAgICAgIENvbm5lY3RvckNvbnRyb2xsZXIuc2V0Q29ubmVjdG9ySWQoY29ubmVjdG9ySWQsIG5hbWVzcGFjZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgc2V0QWN0aXZlQ29ubmVjdG9yKGNvbm5lY3Rvcikge1xuICAgICAgICBpZiAoY29ubmVjdG9yKSB7XG4gICAgICAgICAgICBzdGF0ZS5hY3RpdmVDb25uZWN0b3IgPSByZWYoY29ubmVjdG9yKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgc2V0Q29ubmVjdG9ycyhjb25uZWN0b3JzKSB7XG4gICAgICAgIGNvbnN0IG5ld0Nvbm5lY3RvcnMgPSBjb25uZWN0b3JzLmZpbHRlcihuZXdDb25uZWN0b3IgPT4gIXN0YXRlLmFsbENvbm5lY3RvcnMuc29tZShleGlzdGluZ0Nvbm5lY3RvciA9PiBleGlzdGluZ0Nvbm5lY3Rvci5pZCA9PT0gbmV3Q29ubmVjdG9yLmlkICYmXG4gICAgICAgICAgICBDb25uZWN0b3JDb250cm9sbGVyLmdldENvbm5lY3Rvck5hbWUoZXhpc3RpbmdDb25uZWN0b3IubmFtZSkgPT09XG4gICAgICAgICAgICAgICAgQ29ubmVjdG9yQ29udHJvbGxlci5nZXRDb25uZWN0b3JOYW1lKG5ld0Nvbm5lY3Rvci5uYW1lKSAmJlxuICAgICAgICAgICAgZXhpc3RpbmdDb25uZWN0b3IuY2hhaW4gPT09IG5ld0Nvbm5lY3Rvci5jaGFpbikpO1xuICAgICAgICAvKipcbiAgICAgICAgICogV2UgYXJlIHJlYXNzaWduaW5nIHRoZSBzdGF0ZSBvZiB0aGUgcHJveHkgdG8gYSBuZXcgYXJyYXkgb2YgbmV3IG9iamVjdHMsIENvbm5lY3RvckNvbnRyb2xsZXIgY2FuIGNhdXNlIGlzc3Vlcy4gU28gaXQgaXMgYmV0dGVyIHRvIHVzZSByZWYgaW4gQ29ubmVjdG9yQ29udHJvbGxlciBjYXNlLlxuICAgICAgICAgKiBDaGVjayBtb3JlIGFib3V0IHByb3h5IG9uIGh0dHBzOi8vdmFsdGlvLmRldi9kb2NzL2FwaS9iYXNpYy9wcm94eSNHb3RjaGFzXG4gICAgICAgICAqIENoZWNrIG1vcmUgYWJvdXQgcmVmIG9uIGh0dHBzOi8vdmFsdGlvLmRldi9kb2NzL2FwaS9iYXNpYy9yZWZcbiAgICAgICAgICovXG4gICAgICAgIG5ld0Nvbm5lY3RvcnMuZm9yRWFjaChjb25uZWN0b3IgPT4ge1xuICAgICAgICAgICAgaWYgKGNvbm5lY3Rvci50eXBlICE9PSAnTVVMVElfQ0hBSU4nKSB7XG4gICAgICAgICAgICAgICAgc3RhdGUuYWxsQ29ubmVjdG9ycy5wdXNoKHJlZihjb25uZWN0b3IpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGVuYWJsZWROYW1lc3BhY2VzID0gQ29ubmVjdG9yQ29udHJvbGxlci5nZXRFbmFibGVkTmFtZXNwYWNlcygpO1xuICAgICAgICBjb25zdCBjb25uZWN0b3JzRmlsdGVyZWRCeU5hbWVzcGFjZXMgPSBDb25uZWN0b3JDb250cm9sbGVyLmdldEVuYWJsZWRDb25uZWN0b3JzKGVuYWJsZWROYW1lc3BhY2VzKTtcbiAgICAgICAgc3RhdGUuY29ubmVjdG9ycyA9IENvbm5lY3RvckNvbnRyb2xsZXIubWVyZ2VNdWx0aUNoYWluQ29ubmVjdG9ycyhjb25uZWN0b3JzRmlsdGVyZWRCeU5hbWVzcGFjZXMpO1xuICAgIH0sXG4gICAgZmlsdGVyQnlOYW1lc3BhY2VzKGVuYWJsZWROYW1lc3BhY2VzKSB7XG4gICAgICAgIE9iamVjdC5rZXlzKHN0YXRlLmZpbHRlckJ5TmFtZXNwYWNlTWFwKS5mb3JFYWNoKG5hbWVzcGFjZSA9PiB7XG4gICAgICAgICAgICBzdGF0ZS5maWx0ZXJCeU5hbWVzcGFjZU1hcFtuYW1lc3BhY2VdID0gZmFsc2U7XG4gICAgICAgIH0pO1xuICAgICAgICBlbmFibGVkTmFtZXNwYWNlcy5mb3JFYWNoKG5hbWVzcGFjZSA9PiB7XG4gICAgICAgICAgICBzdGF0ZS5maWx0ZXJCeU5hbWVzcGFjZU1hcFtuYW1lc3BhY2VdID0gdHJ1ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIENvbm5lY3RvckNvbnRyb2xsZXIudXBkYXRlQ29ubmVjdG9yc0ZvckVuYWJsZWROYW1lc3BhY2VzKCk7XG4gICAgfSxcbiAgICBmaWx0ZXJCeU5hbWVzcGFjZShuYW1lc3BhY2UsIGVuYWJsZWQpIHtcbiAgICAgICAgc3RhdGUuZmlsdGVyQnlOYW1lc3BhY2VNYXBbbmFtZXNwYWNlXSA9IGVuYWJsZWQ7XG4gICAgICAgIENvbm5lY3RvckNvbnRyb2xsZXIudXBkYXRlQ29ubmVjdG9yc0ZvckVuYWJsZWROYW1lc3BhY2VzKCk7XG4gICAgfSxcbiAgICB1cGRhdGVDb25uZWN0b3JzRm9yRW5hYmxlZE5hbWVzcGFjZXMoKSB7XG4gICAgICAgIGNvbnN0IGVuYWJsZWROYW1lc3BhY2VzID0gQ29ubmVjdG9yQ29udHJvbGxlci5nZXRFbmFibGVkTmFtZXNwYWNlcygpO1xuICAgICAgICBjb25zdCBlbmFibGVkQ29ubmVjdG9ycyA9IENvbm5lY3RvckNvbnRyb2xsZXIuZ2V0RW5hYmxlZENvbm5lY3RvcnMoZW5hYmxlZE5hbWVzcGFjZXMpO1xuICAgICAgICBjb25zdCBhcmVBbGxOYW1lc3BhY2VzRW5hYmxlZCA9IENvbm5lY3RvckNvbnRyb2xsZXIuYXJlQWxsTmFtZXNwYWNlc0VuYWJsZWQoKTtcbiAgICAgICAgc3RhdGUuY29ubmVjdG9ycyA9IENvbm5lY3RvckNvbnRyb2xsZXIubWVyZ2VNdWx0aUNoYWluQ29ubmVjdG9ycyhlbmFibGVkQ29ubmVjdG9ycyk7XG4gICAgICAgIGlmIChhcmVBbGxOYW1lc3BhY2VzRW5hYmxlZCkge1xuICAgICAgICAgICAgQXBpQ29udHJvbGxlci5jbGVhckZpbHRlckJ5TmFtZXNwYWNlcygpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgQXBpQ29udHJvbGxlci5maWx0ZXJCeU5hbWVzcGFjZXMoZW5hYmxlZE5hbWVzcGFjZXMpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBnZXRFbmFibGVkTmFtZXNwYWNlcygpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5lbnRyaWVzKHN0YXRlLmZpbHRlckJ5TmFtZXNwYWNlTWFwKVxuICAgICAgICAgICAgLmZpbHRlcigoW18sIGVuYWJsZWRdKSA9PiBlbmFibGVkKVxuICAgICAgICAgICAgLm1hcCgoW25hbWVzcGFjZV0pID0+IG5hbWVzcGFjZSk7XG4gICAgfSxcbiAgICBnZXRFbmFibGVkQ29ubmVjdG9ycyhlbmFibGVkTmFtZXNwYWNlcykge1xuICAgICAgICByZXR1cm4gc3RhdGUuYWxsQ29ubmVjdG9ycy5maWx0ZXIoY29ubmVjdG9yID0+IGVuYWJsZWROYW1lc3BhY2VzLmluY2x1ZGVzKGNvbm5lY3Rvci5jaGFpbikpO1xuICAgIH0sXG4gICAgYXJlQWxsTmFtZXNwYWNlc0VuYWJsZWQoKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QudmFsdWVzKHN0YXRlLmZpbHRlckJ5TmFtZXNwYWNlTWFwKS5ldmVyeShlbmFibGVkID0+IGVuYWJsZWQpO1xuICAgIH0sXG4gICAgbWVyZ2VNdWx0aUNoYWluQ29ubmVjdG9ycyhjb25uZWN0b3JzKSB7XG4gICAgICAgIGNvbnN0IGNvbm5lY3RvcnNCeU5hbWVNYXAgPSBDb25uZWN0b3JDb250cm9sbGVyLmdlbmVyYXRlQ29ubmVjdG9yTWFwQnlOYW1lKGNvbm5lY3RvcnMpO1xuICAgICAgICBjb25zdCBtZXJnZWRDb25uZWN0b3JzID0gW107XG4gICAgICAgIGNvbm5lY3RvcnNCeU5hbWVNYXAuZm9yRWFjaChrZXlDb25uZWN0b3JzID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGZpcnN0SXRlbSA9IGtleUNvbm5lY3RvcnNbMF07XG4gICAgICAgICAgICBjb25zdCBpc0F1dGhDb25uZWN0b3IgPSBmaXJzdEl0ZW0/LmlkID09PSBDb25zdGFudHNVdGlsLkNPTk5FQ1RPUl9JRC5BVVRIO1xuICAgICAgICAgICAgaWYgKGtleUNvbm5lY3RvcnMubGVuZ3RoID4gMSAmJiBmaXJzdEl0ZW0pIHtcbiAgICAgICAgICAgICAgICBtZXJnZWRDb25uZWN0b3JzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBmaXJzdEl0ZW0ubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2VVcmw6IGZpcnN0SXRlbS5pbWFnZVVybCxcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2VJZDogZmlyc3RJdGVtLmltYWdlSWQsXG4gICAgICAgICAgICAgICAgICAgIGNvbm5lY3RvcnM6IFsuLi5rZXlDb25uZWN0b3JzXSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogaXNBdXRoQ29ubmVjdG9yID8gJ0FVVEgnIDogJ01VTFRJX0NIQUlOJyxcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlc2UgdmFsdWVzIGFyZSBqdXN0IHBsYWNlaG9sZGVycywgd2UgZG9uJ3QgdXNlIHRoZW0gaW4gbXVsdGktY2hhaW4gY29ubmVjdG9yIHNlbGVjdCBzY3JlZW5cbiAgICAgICAgICAgICAgICAgICAgY2hhaW46ICdlaXAxNTUnLFxuICAgICAgICAgICAgICAgICAgICBpZDogZmlyc3RJdGVtPy5pZCB8fCAnJ1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZmlyc3RJdGVtKSB7XG4gICAgICAgICAgICAgICAgbWVyZ2VkQ29ubmVjdG9ycy5wdXNoKGZpcnN0SXRlbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbWVyZ2VkQ29ubmVjdG9ycztcbiAgICB9LFxuICAgIGdlbmVyYXRlQ29ubmVjdG9yTWFwQnlOYW1lKGNvbm5lY3RvcnMpIHtcbiAgICAgICAgY29uc3QgY29ubmVjdG9yc0J5TmFtZU1hcCA9IG5ldyBNYXAoKTtcbiAgICAgICAgY29ubmVjdG9ycy5mb3JFYWNoKGNvbm5lY3RvciA9PiB7XG4gICAgICAgICAgICBjb25zdCB7IG5hbWUgfSA9IGNvbm5lY3RvcjtcbiAgICAgICAgICAgIGNvbnN0IGNvbm5lY3Rvck5hbWUgPSBDb25uZWN0b3JDb250cm9sbGVyLmdldENvbm5lY3Rvck5hbWUobmFtZSk7XG4gICAgICAgICAgICBpZiAoIWNvbm5lY3Rvck5hbWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBjb25uZWN0b3JzQnlOYW1lID0gY29ubmVjdG9yc0J5TmFtZU1hcC5nZXQoY29ubmVjdG9yTmFtZSkgfHwgW107XG4gICAgICAgICAgICBjb25zdCBoYXZlU2FtZUNvbm5lY3RvciA9IGNvbm5lY3RvcnNCeU5hbWUuZmluZChjID0+IGMuY2hhaW4gPT09IGNvbm5lY3Rvci5jaGFpbik7XG4gICAgICAgICAgICBpZiAoIWhhdmVTYW1lQ29ubmVjdG9yKSB7XG4gICAgICAgICAgICAgICAgY29ubmVjdG9yc0J5TmFtZS5wdXNoKGNvbm5lY3Rvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25uZWN0b3JzQnlOYW1lTWFwLnNldChjb25uZWN0b3JOYW1lLCBjb25uZWN0b3JzQnlOYW1lKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBjb25uZWN0b3JzQnlOYW1lTWFwO1xuICAgIH0sXG4gICAgZ2V0Q29ubmVjdG9yTmFtZShuYW1lKSB7XG4gICAgICAgIGlmICghbmFtZSkge1xuICAgICAgICAgICAgcmV0dXJuIG5hbWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbmFtZU92ZXJyaWRlTWFwID0ge1xuICAgICAgICAgICAgJ1RydXN0IFdhbGxldCc6ICdUcnVzdCdcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIG5hbWVPdmVycmlkZU1hcFtuYW1lXSB8fCBuYW1lO1xuICAgIH0sXG4gICAgZ2V0VW5pcXVlQ29ubmVjdG9yc0J5TmFtZShjb25uZWN0b3JzKSB7XG4gICAgICAgIGNvbnN0IHVuaXF1ZUNvbm5lY3RvcnMgPSBbXTtcbiAgICAgICAgY29ubmVjdG9ycy5mb3JFYWNoKGMgPT4ge1xuICAgICAgICAgICAgaWYgKCF1bmlxdWVDb25uZWN0b3JzLmZpbmQodWMgPT4gdWMuY2hhaW4gPT09IGMuY2hhaW4pKSB7XG4gICAgICAgICAgICAgICAgdW5pcXVlQ29ubmVjdG9ycy5wdXNoKGMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHVuaXF1ZUNvbm5lY3RvcnM7XG4gICAgfSxcbiAgICBhZGRDb25uZWN0b3IoY29ubmVjdG9yKSB7XG4gICAgICAgIGlmIChjb25uZWN0b3IuaWQgPT09IENvbnN0YW50c1V0aWwuQ09OTkVDVE9SX0lELkFVVEgpIHtcbiAgICAgICAgICAgIGNvbnN0IGF1dGhDb25uZWN0b3IgPSBjb25uZWN0b3I7XG4gICAgICAgICAgICBjb25zdCBvcHRpb25zU3RhdGUgPSBzbmFwc2hvdChPcHRpb25zQ29udHJvbGxlci5zdGF0ZSk7XG4gICAgICAgICAgICBjb25zdCB0aGVtZU1vZGUgPSBUaGVtZUNvbnRyb2xsZXIuZ2V0U25hcHNob3QoKS50aGVtZU1vZGU7XG4gICAgICAgICAgICBjb25zdCB0aGVtZVZhcmlhYmxlcyA9IFRoZW1lQ29udHJvbGxlci5nZXRTbmFwc2hvdCgpLnRoZW1lVmFyaWFibGVzO1xuICAgICAgICAgICAgYXV0aENvbm5lY3Rvcj8ucHJvdmlkZXI/LnN5bmNEYXBwRGF0YT8uKHtcbiAgICAgICAgICAgICAgICBtZXRhZGF0YTogb3B0aW9uc1N0YXRlLm1ldGFkYXRhLFxuICAgICAgICAgICAgICAgIHNka1ZlcnNpb246IG9wdGlvbnNTdGF0ZS5zZGtWZXJzaW9uLFxuICAgICAgICAgICAgICAgIHByb2plY3RJZDogb3B0aW9uc1N0YXRlLnByb2plY3RJZCxcbiAgICAgICAgICAgICAgICBzZGtUeXBlOiBvcHRpb25zU3RhdGUuc2RrVHlwZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBhdXRoQ29ubmVjdG9yPy5wcm92aWRlcj8uc3luY1RoZW1lKHtcbiAgICAgICAgICAgICAgICB0aGVtZU1vZGUsXG4gICAgICAgICAgICAgICAgdGhlbWVWYXJpYWJsZXMsXG4gICAgICAgICAgICAgICAgdzNtVGhlbWVWYXJpYWJsZXM6IGdldFczbVRoZW1lVmFyaWFibGVzKHRoZW1lVmFyaWFibGVzLCB0aGVtZU1vZGUpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIENvbm5lY3RvckNvbnRyb2xsZXIuc2V0Q29ubmVjdG9ycyhbY29ubmVjdG9yXSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBDb25uZWN0b3JDb250cm9sbGVyLnNldENvbm5lY3RvcnMoW2Nvbm5lY3Rvcl0pO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBnZXRBdXRoQ29ubmVjdG9yKGNoYWluTmFtZXNwYWNlKSB7XG4gICAgICAgIGNvbnN0IGFjdGl2ZU5hbWVzcGFjZSA9IGNoYWluTmFtZXNwYWNlIHx8IENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDaGFpbjtcbiAgICAgICAgY29uc3QgYXV0aENvbm5lY3RvciA9IHN0YXRlLmNvbm5lY3RvcnMuZmluZChjID0+IGMuaWQgPT09IENvbnN0YW50c1V0aWwuQ09OTkVDVE9SX0lELkFVVEgpO1xuICAgICAgICBpZiAoIWF1dGhDb25uZWN0b3IpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGF1dGhDb25uZWN0b3I/LmNvbm5lY3RvcnM/Lmxlbmd0aCkge1xuICAgICAgICAgICAgY29uc3QgY29ubmVjdG9yID0gYXV0aENvbm5lY3Rvci5jb25uZWN0b3JzLmZpbmQoYyA9PiBjLmNoYWluID09PSBhY3RpdmVOYW1lc3BhY2UpO1xuICAgICAgICAgICAgcmV0dXJuIGNvbm5lY3RvcjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXV0aENvbm5lY3RvcjtcbiAgICB9LFxuICAgIGdldEFubm91bmNlZENvbm5lY3RvclJkbnMoKSB7XG4gICAgICAgIHJldHVybiBzdGF0ZS5jb25uZWN0b3JzLmZpbHRlcihjID0+IGMudHlwZSA9PT0gJ0FOTk9VTkNFRCcpLm1hcChjID0+IGMuaW5mbz8ucmRucyk7XG4gICAgfSxcbiAgICBnZXRDb25uZWN0b3JCeUlkKGlkKSB7XG4gICAgICAgIHJldHVybiBzdGF0ZS5hbGxDb25uZWN0b3JzLmZpbmQoYyA9PiBjLmlkID09PSBpZCk7XG4gICAgfSxcbiAgICBnZXRDb25uZWN0b3IoeyBpZCwgcmRucywgbmFtZXNwYWNlIH0pIHtcbiAgICAgICAgY29uc3QgbmFtZXNwYWNlVG9Vc2UgPSBuYW1lc3BhY2UgfHwgQ2hhaW5Db250cm9sbGVyLnN0YXRlLmFjdGl2ZUNoYWluO1xuICAgICAgICBjb25zdCBjb25uZWN0b3JzQnlOYW1lc3BhY2UgPSBzdGF0ZS5hbGxDb25uZWN0b3JzLmZpbHRlcihjID0+IGMuY2hhaW4gPT09IG5hbWVzcGFjZVRvVXNlKTtcbiAgICAgICAgcmV0dXJuIGNvbm5lY3RvcnNCeU5hbWVzcGFjZS5maW5kKGMgPT4gYy5leHBsb3JlcklkID09PSBpZCB8fCBjLmluZm8/LnJkbnMgPT09IHJkbnMpO1xuICAgIH0sXG4gICAgc3luY0lmQXV0aENvbm5lY3Rvcihjb25uZWN0b3IpIHtcbiAgICAgICAgaWYgKGNvbm5lY3Rvci5pZCAhPT0gJ0FVVEgnKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYXV0aENvbm5lY3RvciA9IGNvbm5lY3RvcjtcbiAgICAgICAgY29uc3Qgb3B0aW9uc1N0YXRlID0gc25hcHNob3QoT3B0aW9uc0NvbnRyb2xsZXIuc3RhdGUpO1xuICAgICAgICBjb25zdCB0aGVtZU1vZGUgPSBUaGVtZUNvbnRyb2xsZXIuZ2V0U25hcHNob3QoKS50aGVtZU1vZGU7XG4gICAgICAgIGNvbnN0IHRoZW1lVmFyaWFibGVzID0gVGhlbWVDb250cm9sbGVyLmdldFNuYXBzaG90KCkudGhlbWVWYXJpYWJsZXM7XG4gICAgICAgIGF1dGhDb25uZWN0b3I/LnByb3ZpZGVyPy5zeW5jRGFwcERhdGE/Lih7XG4gICAgICAgICAgICBtZXRhZGF0YTogb3B0aW9uc1N0YXRlLm1ldGFkYXRhLFxuICAgICAgICAgICAgc2RrVmVyc2lvbjogb3B0aW9uc1N0YXRlLnNka1ZlcnNpb24sXG4gICAgICAgICAgICBzZGtUeXBlOiBvcHRpb25zU3RhdGUuc2RrVHlwZSxcbiAgICAgICAgICAgIHByb2plY3RJZDogb3B0aW9uc1N0YXRlLnByb2plY3RJZFxuICAgICAgICB9KTtcbiAgICAgICAgYXV0aENvbm5lY3Rvci5wcm92aWRlci5zeW5jVGhlbWUoe1xuICAgICAgICAgICAgdGhlbWVNb2RlLFxuICAgICAgICAgICAgdGhlbWVWYXJpYWJsZXMsXG4gICAgICAgICAgICB3M21UaGVtZVZhcmlhYmxlczogZ2V0VzNtVGhlbWVWYXJpYWJsZXModGhlbWVWYXJpYWJsZXMsIHRoZW1lTW9kZSlcbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBjb25uZWN0b3JzIGZpbHRlcmVkIGJ5IG5hbWVzcGFjZS5cbiAgICAgKiBAcGFyYW0gbmFtZXNwYWNlIC0gVGhlIG5hbWVzcGFjZSB0byBmaWx0ZXIgdGhlIGNvbm5lY3RvcnMgYnkuXG4gICAgICogQHJldHVybnMgQ29ubmVjdG9yV2l0aFByb3ZpZGVyc1tdLlxuICAgICAqL1xuICAgIGdldENvbm5lY3RvcnNCeU5hbWVzcGFjZShuYW1lc3BhY2UpIHtcbiAgICAgICAgY29uc3QgbmFtZXNwYWNlQ29ubmVjdG9ycyA9IHN0YXRlLmFsbENvbm5lY3RvcnMuZmlsdGVyKGNvbm5lY3RvciA9PiBjb25uZWN0b3IuY2hhaW4gPT09IG5hbWVzcGFjZSk7XG4gICAgICAgIHJldHVybiBDb25uZWN0b3JDb250cm9sbGVyLm1lcmdlTXVsdGlDaGFpbkNvbm5lY3RvcnMobmFtZXNwYWNlQ29ubmVjdG9ycyk7XG4gICAgfSxcbiAgICBjYW5Td2l0Y2hUb1NtYXJ0QWNjb3VudChuYW1lc3BhY2UpIHtcbiAgICAgICAgY29uc3QgaXNTbWFydEFjY291bnRFbmFibGVkID0gQ2hhaW5Db250cm9sbGVyLmNoZWNrSWZTbWFydEFjY291bnRFbmFibGVkKCk7XG4gICAgICAgIHJldHVybiAoaXNTbWFydEFjY291bnRFbmFibGVkICYmXG4gICAgICAgICAgICBnZXRQcmVmZXJyZWRBY2NvdW50VHlwZShuYW1lc3BhY2UpID09PSBXM21GcmFtZVJwY0NvbnN0YW50cy5BQ0NPVU5UX1RZUEVTLkVPQSk7XG4gICAgfSxcbiAgICBzZWxlY3RXYWxsZXRDb25uZWN0b3Iod2FsbGV0KSB7XG4gICAgICAgIGNvbnN0IHJlZGlyZWN0VmlldyA9IFJvdXRlckNvbnRyb2xsZXIuc3RhdGUuZGF0YT8ucmVkaXJlY3RWaWV3O1xuICAgICAgICBjb25zdCBjb25uZWN0b3IgPSBDb25uZWN0b3JDb250cm9sbGVyLmdldENvbm5lY3Rvcih7XG4gICAgICAgICAgICBpZDogd2FsbGV0LmlkLFxuICAgICAgICAgICAgcmRuczogd2FsbGV0LnJkbnNcbiAgICAgICAgfSk7XG4gICAgICAgIE1vYmlsZVdhbGxldFV0aWwuaGFuZGxlTW9iaWxlRGVlcGxpbmtSZWRpcmVjdChjb25uZWN0b3I/LmV4cGxvcmVySWQgfHwgd2FsbGV0LmlkLCBDaGFpbkNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ2hhaW4pO1xuICAgICAgICBpZiAoY29ubmVjdG9yKSB7XG4gICAgICAgICAgICBSb3V0ZXJDb250cm9sbGVyLnB1c2goJ0Nvbm5lY3RpbmdFeHRlcm5hbCcsIHsgY29ubmVjdG9yLCB3YWxsZXQsIHJlZGlyZWN0VmlldyB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIFJvdXRlckNvbnRyb2xsZXIucHVzaCgnQ29ubmVjdGluZ1dhbGxldENvbm5lY3QnLCB7IHdhbGxldCwgcmVkaXJlY3RWaWV3IH0pO1xuICAgICAgICB9XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBjb25uZWN0b3JzLiBJZiBhIG5hbWVzcGFjZSBpcyBwcm92aWRlZCwgdGhlIGNvbm5lY3RvcnMgYXJlIGZpbHRlcmVkIGJ5IG5hbWVzcGFjZS5cbiAgICAgKiBAcGFyYW0gbmFtZXNwYWNlIC0gVGhlIG5hbWVzcGFjZSB0byBmaWx0ZXIgdGhlIGNvbm5lY3RvcnMgYnkuIElmIG5vdCBwcm92aWRlZCwgYWxsIGNvbm5lY3RvcnMgYXJlIHJldHVybmVkLlxuICAgICAqIEByZXR1cm5zIENvbm5lY3RvcldpdGhQcm92aWRlcnNbXS5cbiAgICAgKi9cbiAgICBnZXRDb25uZWN0b3JzKG5hbWVzcGFjZSkge1xuICAgICAgICBpZiAobmFtZXNwYWNlKSB7XG4gICAgICAgICAgICByZXR1cm4gQ29ubmVjdG9yQ29udHJvbGxlci5nZXRDb25uZWN0b3JzQnlOYW1lc3BhY2UobmFtZXNwYWNlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gQ29ubmVjdG9yQ29udHJvbGxlci5tZXJnZU11bHRpQ2hhaW5Db25uZWN0b3JzKHN0YXRlLmFsbENvbm5lY3RvcnMpO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgZmlsdGVyIGJ5IG5hbWVzcGFjZSBhbmQgdXBkYXRlcyB0aGUgY29ubmVjdG9ycy5cbiAgICAgKiBAcGFyYW0gbmFtZXNwYWNlIC0gVGhlIG5hbWVzcGFjZSB0byBmaWx0ZXIgdGhlIGNvbm5lY3RvcnMgYnkuXG4gICAgICovXG4gICAgc2V0RmlsdGVyQnlOYW1lc3BhY2UobmFtZXNwYWNlKSB7XG4gICAgICAgIHN0YXRlLmZpbHRlckJ5TmFtZXNwYWNlID0gbmFtZXNwYWNlO1xuICAgICAgICBzdGF0ZS5jb25uZWN0b3JzID0gQ29ubmVjdG9yQ29udHJvbGxlci5nZXRDb25uZWN0b3JzKG5hbWVzcGFjZSk7XG4gICAgICAgIEFwaUNvbnRyb2xsZXIuc2V0RmlsdGVyQnlOYW1lc3BhY2UobmFtZXNwYWNlKTtcbiAgICB9LFxuICAgIHNldENvbm5lY3RvcklkKGNvbm5lY3RvcklkLCBuYW1lc3BhY2UpIHtcbiAgICAgICAgaWYgKGNvbm5lY3RvcklkKSB7XG4gICAgICAgICAgICBzdGF0ZS5hY3RpdmVDb25uZWN0b3JJZHMgPSB7XG4gICAgICAgICAgICAgICAgLi4uc3RhdGUuYWN0aXZlQ29ubmVjdG9ySWRzLFxuICAgICAgICAgICAgICAgIFtuYW1lc3BhY2VdOiBjb25uZWN0b3JJZFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIFN0b3JhZ2VVdGlsLnNldENvbm5lY3RlZENvbm5lY3RvcklkKG5hbWVzcGFjZSwgY29ubmVjdG9ySWQpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICByZW1vdmVDb25uZWN0b3JJZChuYW1lc3BhY2UpIHtcbiAgICAgICAgc3RhdGUuYWN0aXZlQ29ubmVjdG9ySWRzID0ge1xuICAgICAgICAgICAgLi4uc3RhdGUuYWN0aXZlQ29ubmVjdG9ySWRzLFxuICAgICAgICAgICAgW25hbWVzcGFjZV06IHVuZGVmaW5lZFxuICAgICAgICB9O1xuICAgICAgICBTdG9yYWdlVXRpbC5kZWxldGVDb25uZWN0ZWRDb25uZWN0b3JJZChuYW1lc3BhY2UpO1xuICAgIH0sXG4gICAgZ2V0Q29ubmVjdG9ySWQobmFtZXNwYWNlKSB7XG4gICAgICAgIGlmICghbmFtZXNwYWNlKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdGF0ZS5hY3RpdmVDb25uZWN0b3JJZHNbbmFtZXNwYWNlXTtcbiAgICB9LFxuICAgIGlzQ29ubmVjdGVkKG5hbWVzcGFjZSkge1xuICAgICAgICBpZiAoIW5hbWVzcGFjZSkge1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC52YWx1ZXMoc3RhdGUuYWN0aXZlQ29ubmVjdG9ySWRzKS5zb21lKGlkID0+IEJvb2xlYW4oaWQpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gQm9vbGVhbihzdGF0ZS5hY3RpdmVDb25uZWN0b3JJZHNbbmFtZXNwYWNlXSk7XG4gICAgfSxcbiAgICByZXNldENvbm5lY3RvcklkcygpIHtcbiAgICAgICAgc3RhdGUuYWN0aXZlQ29ubmVjdG9ySWRzID0geyAuLi5kZWZhdWx0QWN0aXZlQ29ubmVjdG9ycyB9O1xuICAgIH1cbn07XG4vLyBFeHBvcnQgdGhlIGNvbnRyb2xsZXIgd3JhcHBlZCB3aXRoIG91ciBlcnJvciBib3VuZGFyeVxuZXhwb3J0IGNvbnN0IENvbm5lY3RvckNvbnRyb2xsZXIgPSB3aXRoRXJyb3JCb3VuZGFyeShjb250cm9sbGVyKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNvbm5lY3RvckNvbnRyb2xsZXIuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectorController.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/EnsController.js":
/*!**************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/EnsController.js ***!
  \**************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EnsController: () => (/* binding */ EnsController)\n/* harmony export */ });\n/* harmony import */ var valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! valtio/vanilla */ \"(ssr)/./node_modules/.pnpm/valtio@2.1.7_@types+react@18.3.26_react@18.3.1/node_modules/valtio/esm/vanilla.mjs\");\n/* harmony import */ var valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! valtio/vanilla/utils */ \"(ssr)/./node_modules/.pnpm/valtio@2.1.7_@types+react@18.3.26_react@18.3.1/node_modules/valtio/esm/vanilla/utils.mjs\");\n/* harmony import */ var _utils_EnsUtil_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../utils/EnsUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/EnsUtil.js\");\n/* harmony import */ var _utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/StorageUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/StorageUtil.js\");\n/* harmony import */ var _utils_withErrorBoundary_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../utils/withErrorBoundary.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/withErrorBoundary.js\");\n/* harmony import */ var _BlockchainApiController_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./BlockchainApiController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/BlockchainApiController.js\");\n/* harmony import */ var _ChainController_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ChainController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ChainController.js\");\n/* harmony import */ var _ConnectionController_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./ConnectionController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectionController.js\");\n/* harmony import */ var _ConnectorController_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ConnectorController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectorController.js\");\n/* harmony import */ var _RouterController_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./RouterController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/RouterController.js\");\n\n\n\n\n\n\n\n\n\n\n\n// -- State --------------------------------------------- //\nconst state = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.proxy)({\n    suggestions: [],\n    loading: false\n});\n// -- Controller ---------------------------------------- //\nconst controller = {\n    state,\n    subscribe(callback) {\n        return (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.subscribe)(state, () => callback(state));\n    },\n    subscribeKey(key, callback) {\n        return (0,valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_1__.subscribeKey)(state, key, callback);\n    },\n    async resolveName(name) {\n        try {\n            return await _BlockchainApiController_js__WEBPACK_IMPORTED_MODULE_2__.BlockchainApiController.lookupEnsName(name);\n        }\n        catch (e) {\n            const error = e;\n            throw new Error(error?.reasons?.[0]?.description || 'Error resolving name');\n        }\n    },\n    async isNameRegistered(name) {\n        try {\n            await _BlockchainApiController_js__WEBPACK_IMPORTED_MODULE_2__.BlockchainApiController.lookupEnsName(name);\n            return true;\n        }\n        catch {\n            return false;\n        }\n    },\n    async getSuggestions(value) {\n        try {\n            state.loading = true;\n            state.suggestions = [];\n            const response = await _BlockchainApiController_js__WEBPACK_IMPORTED_MODULE_2__.BlockchainApiController.getEnsNameSuggestions(value);\n            state.suggestions = response.suggestions || [];\n            return state.suggestions;\n        }\n        catch (e) {\n            const errorMessage = EnsController.parseEnsApiError(e, 'Error fetching name suggestions');\n            throw new Error(errorMessage);\n        }\n        finally {\n            state.loading = false;\n        }\n    },\n    async getNamesForAddress(address) {\n        try {\n            const network = _ChainController_js__WEBPACK_IMPORTED_MODULE_3__.ChainController.state.activeCaipNetwork;\n            if (!network) {\n                return [];\n            }\n            const cachedEns = _utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_4__.StorageUtil.getEnsFromCacheForAddress(address);\n            if (cachedEns) {\n                return cachedEns;\n            }\n            const response = await _BlockchainApiController_js__WEBPACK_IMPORTED_MODULE_2__.BlockchainApiController.reverseLookupEnsName({ address });\n            _utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_4__.StorageUtil.updateEnsCache({\n                address,\n                ens: response,\n                timestamp: Date.now()\n            });\n            return response;\n        }\n        catch (e) {\n            const errorMessage = EnsController.parseEnsApiError(e, 'Error fetching names for address');\n            throw new Error(errorMessage);\n        }\n    },\n    async registerName(name) {\n        const network = _ChainController_js__WEBPACK_IMPORTED_MODULE_3__.ChainController.state.activeCaipNetwork;\n        const address = _ChainController_js__WEBPACK_IMPORTED_MODULE_3__.ChainController.getAccountData(network?.chainNamespace)?.address;\n        const emailConnector = _ConnectorController_js__WEBPACK_IMPORTED_MODULE_5__.ConnectorController.getAuthConnector();\n        if (!network) {\n            throw new Error('Network not found');\n        }\n        if (!address || !emailConnector) {\n            throw new Error('Address or auth connector not found');\n        }\n        state.loading = true;\n        try {\n            const message = JSON.stringify({\n                name,\n                attributes: {},\n                // Unix timestamp\n                timestamp: Math.floor(Date.now() / 1000)\n            });\n            _RouterController_js__WEBPACK_IMPORTED_MODULE_6__.RouterController.pushTransactionStack({\n                onCancel() {\n                    _RouterController_js__WEBPACK_IMPORTED_MODULE_6__.RouterController.replace('RegisterAccountName');\n                }\n            });\n            const signature = await _ConnectionController_js__WEBPACK_IMPORTED_MODULE_7__.ConnectionController.signMessage(message);\n            state.loading = false;\n            const networkId = network.id;\n            if (!networkId) {\n                throw new Error('Network not found');\n            }\n            const coinType = _utils_EnsUtil_js__WEBPACK_IMPORTED_MODULE_8__.EnsUtil.convertEVMChainIdToCoinType(Number(networkId));\n            await _BlockchainApiController_js__WEBPACK_IMPORTED_MODULE_2__.BlockchainApiController.registerEnsName({\n                coinType,\n                address: address,\n                signature: signature,\n                message\n            });\n            _ChainController_js__WEBPACK_IMPORTED_MODULE_3__.ChainController.setAccountProp('profileName', name, network.chainNamespace);\n            _utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_4__.StorageUtil.updateEnsCache({\n                address,\n                ens: [\n                    {\n                        name,\n                        registered_at: new Date().toISOString(),\n                        updated_at: undefined,\n                        addresses: {},\n                        attributes: []\n                    }\n                ],\n                timestamp: Date.now()\n            });\n            _RouterController_js__WEBPACK_IMPORTED_MODULE_6__.RouterController.replace('RegisterAccountNameSuccess');\n        }\n        catch (e) {\n            const errorMessage = EnsController.parseEnsApiError(e, `Error registering name ${name}`);\n            _RouterController_js__WEBPACK_IMPORTED_MODULE_6__.RouterController.replace('RegisterAccountName');\n            throw new Error(errorMessage);\n        }\n        finally {\n            state.loading = false;\n        }\n    },\n    validateName(name) {\n        return /^[a-zA-Z0-9-]{4,}$/u.test(name);\n    },\n    parseEnsApiError(error, defaultError) {\n        const ensError = error;\n        return ensError?.reasons?.[0]?.description || defaultError;\n    }\n};\n// Export the controller wrapped with our error boundary\nconst EnsController = (0,_utils_withErrorBoundary_js__WEBPACK_IMPORTED_MODULE_9__.withErrorBoundary)(controller);\n//# sourceMappingURL=EnsController.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTFfQHJlYWN0LW5hdGl2ZS1hc3luYy1zdG9yYWdlK2FzeW5jLXN0b3JhZ2VAMi4yLjBfcmVhY3QtX2E4MDMyMTIzODk3ZTA3OTMxMzc0MjMyYzNjYzRlNTM1L25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9FbnNDb250cm9sbGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQXlEO0FBQ0s7QUFDeEI7QUFDUTtBQUNRO0FBQ1k7QUFDSztBQUNoQjtBQUNVO0FBQ0Y7QUFDTjtBQUN6RDtBQUNBLGNBQWMscURBQUs7QUFDbkI7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUseURBQUc7QUFDbEIsS0FBSztBQUNMO0FBQ0EsZUFBZSxrRUFBTTtBQUNyQixLQUFLO0FBQ0w7QUFDQTtBQUNBLHlCQUF5QixnRkFBdUI7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0Esa0JBQWtCLGdGQUF1QjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLGdGQUF1QjtBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsNEJBQTRCLGdFQUFlO0FBQzNDO0FBQ0E7QUFDQTtBQUNBLDhCQUE4Qiw4REFBVztBQUN6QztBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsZ0ZBQXVCLHdCQUF3QixTQUFTO0FBQzNGLFlBQVksOERBQVc7QUFDdkI7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLHdCQUF3QixnRUFBZTtBQUN2Qyx3QkFBd0IsZ0VBQWU7QUFDdkMsK0JBQStCLHdFQUFtQjtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0EsYUFBYTtBQUNiLFlBQVksa0VBQWdCO0FBQzVCO0FBQ0Esb0JBQW9CLGtFQUFnQjtBQUNwQztBQUNBLGFBQWE7QUFDYixvQ0FBb0MsMEVBQW9CO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsc0RBQU87QUFDcEMsa0JBQWtCLGdGQUF1QjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixZQUFZLGdFQUFlO0FBQzNCLFlBQVksOERBQVc7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFlBQVksa0VBQWdCO0FBQzVCO0FBQ0E7QUFDQSw2RkFBNkYsS0FBSztBQUNsRyxZQUFZLGtFQUFnQjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsOEJBQThCLEdBQUc7QUFDakMsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLHNCQUFzQiw4RUFBaUI7QUFDOUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ub2dnbHIvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTFfQHJlYWN0LW5hdGl2ZS1hc3luYy1zdG9yYWdlK2FzeW5jLXN0b3JhZ2VAMi4yLjBfcmVhY3QtX2E4MDMyMTIzODk3ZTA3OTMxMzc0MjMyYzNjYzRlNTM1L25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9FbnNDb250cm9sbGVyLmpzPzY5YmEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcHJveHksIHN1YnNjcmliZSBhcyBzdWIgfSBmcm9tICd2YWx0aW8vdmFuaWxsYSc7XG5pbXBvcnQgeyBzdWJzY3JpYmVLZXkgYXMgc3ViS2V5IH0gZnJvbSAndmFsdGlvL3ZhbmlsbGEvdXRpbHMnO1xuaW1wb3J0IHt9IGZyb20gJ0ByZW93bi9hcHBraXQtY29tbW9uJztcbmltcG9ydCB7IEVuc1V0aWwgfSBmcm9tICcuLi91dGlscy9FbnNVdGlsLmpzJztcbmltcG9ydCB7IFN0b3JhZ2VVdGlsIH0gZnJvbSAnLi4vdXRpbHMvU3RvcmFnZVV0aWwuanMnO1xuaW1wb3J0IHsgd2l0aEVycm9yQm91bmRhcnkgfSBmcm9tICcuLi91dGlscy93aXRoRXJyb3JCb3VuZGFyeS5qcyc7XG5pbXBvcnQgeyBCbG9ja2NoYWluQXBpQ29udHJvbGxlciB9IGZyb20gJy4vQmxvY2tjaGFpbkFwaUNvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgQ2hhaW5Db250cm9sbGVyIH0gZnJvbSAnLi9DaGFpbkNvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgQ29ubmVjdGlvbkNvbnRyb2xsZXIgfSBmcm9tICcuL0Nvbm5lY3Rpb25Db250cm9sbGVyLmpzJztcbmltcG9ydCB7IENvbm5lY3RvckNvbnRyb2xsZXIgfSBmcm9tICcuL0Nvbm5lY3RvckNvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgUm91dGVyQ29udHJvbGxlciB9IGZyb20gJy4vUm91dGVyQ29udHJvbGxlci5qcyc7XG4vLyAtLSBTdGF0ZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbmNvbnN0IHN0YXRlID0gcHJveHkoe1xuICAgIHN1Z2dlc3Rpb25zOiBbXSxcbiAgICBsb2FkaW5nOiBmYWxzZVxufSk7XG4vLyAtLSBDb250cm9sbGVyIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbmNvbnN0IGNvbnRyb2xsZXIgPSB7XG4gICAgc3RhdGUsXG4gICAgc3Vic2NyaWJlKGNhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybiBzdWIoc3RhdGUsICgpID0+IGNhbGxiYWNrKHN0YXRlKSk7XG4gICAgfSxcbiAgICBzdWJzY3JpYmVLZXkoa2V5LCBjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gc3ViS2V5KHN0YXRlLCBrZXksIGNhbGxiYWNrKTtcbiAgICB9LFxuICAgIGFzeW5jIHJlc29sdmVOYW1lKG5hbWUpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCBCbG9ja2NoYWluQXBpQ29udHJvbGxlci5sb29rdXBFbnNOYW1lKG5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvciA9IGU7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3I/LnJlYXNvbnM/LlswXT8uZGVzY3JpcHRpb24gfHwgJ0Vycm9yIHJlc29sdmluZyBuYW1lJyk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGFzeW5jIGlzTmFtZVJlZ2lzdGVyZWQobmFtZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgQmxvY2tjaGFpbkFwaUNvbnRyb2xsZXIubG9va3VwRW5zTmFtZShuYW1lKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgYXN5bmMgZ2V0U3VnZ2VzdGlvbnModmFsdWUpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHN0YXRlLmxvYWRpbmcgPSB0cnVlO1xuICAgICAgICAgICAgc3RhdGUuc3VnZ2VzdGlvbnMgPSBbXTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgQmxvY2tjaGFpbkFwaUNvbnRyb2xsZXIuZ2V0RW5zTmFtZVN1Z2dlc3Rpb25zKHZhbHVlKTtcbiAgICAgICAgICAgIHN0YXRlLnN1Z2dlc3Rpb25zID0gcmVzcG9uc2Uuc3VnZ2VzdGlvbnMgfHwgW107XG4gICAgICAgICAgICByZXR1cm4gc3RhdGUuc3VnZ2VzdGlvbnM7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IEVuc0NvbnRyb2xsZXIucGFyc2VFbnNBcGlFcnJvcihlLCAnRXJyb3IgZmV0Y2hpbmcgbmFtZSBzdWdnZXN0aW9ucycpO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yTWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICBzdGF0ZS5sb2FkaW5nID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGFzeW5jIGdldE5hbWVzRm9yQWRkcmVzcyhhZGRyZXNzKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBuZXR3b3JrID0gQ2hhaW5Db250cm9sbGVyLnN0YXRlLmFjdGl2ZUNhaXBOZXR3b3JrO1xuICAgICAgICAgICAgaWYgKCFuZXR3b3JrKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgY2FjaGVkRW5zID0gU3RvcmFnZVV0aWwuZ2V0RW5zRnJvbUNhY2hlRm9yQWRkcmVzcyhhZGRyZXNzKTtcbiAgICAgICAgICAgIGlmIChjYWNoZWRFbnMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2FjaGVkRW5zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBCbG9ja2NoYWluQXBpQ29udHJvbGxlci5yZXZlcnNlTG9va3VwRW5zTmFtZSh7IGFkZHJlc3MgfSk7XG4gICAgICAgICAgICBTdG9yYWdlVXRpbC51cGRhdGVFbnNDYWNoZSh7XG4gICAgICAgICAgICAgICAgYWRkcmVzcyxcbiAgICAgICAgICAgICAgICBlbnM6IHJlc3BvbnNlLFxuICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IEVuc0NvbnRyb2xsZXIucGFyc2VFbnNBcGlFcnJvcihlLCAnRXJyb3IgZmV0Y2hpbmcgbmFtZXMgZm9yIGFkZHJlc3MnKTtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvck1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBhc3luYyByZWdpc3Rlck5hbWUobmFtZSkge1xuICAgICAgICBjb25zdCBuZXR3b3JrID0gQ2hhaW5Db250cm9sbGVyLnN0YXRlLmFjdGl2ZUNhaXBOZXR3b3JrO1xuICAgICAgICBjb25zdCBhZGRyZXNzID0gQ2hhaW5Db250cm9sbGVyLmdldEFjY291bnREYXRhKG5ldHdvcms/LmNoYWluTmFtZXNwYWNlKT8uYWRkcmVzcztcbiAgICAgICAgY29uc3QgZW1haWxDb25uZWN0b3IgPSBDb25uZWN0b3JDb250cm9sbGVyLmdldEF1dGhDb25uZWN0b3IoKTtcbiAgICAgICAgaWYgKCFuZXR3b3JrKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05ldHdvcmsgbm90IGZvdW5kJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFhZGRyZXNzIHx8ICFlbWFpbENvbm5lY3Rvcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBZGRyZXNzIG9yIGF1dGggY29ubmVjdG9yIG5vdCBmb3VuZCcpO1xuICAgICAgICB9XG4gICAgICAgIHN0YXRlLmxvYWRpbmcgPSB0cnVlO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHt9LFxuICAgICAgICAgICAgICAgIC8vIFVuaXggdGltZXN0YW1wXG4gICAgICAgICAgICAgICAgdGltZXN0YW1wOiBNYXRoLmZsb29yKERhdGUubm93KCkgLyAxMDAwKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBSb3V0ZXJDb250cm9sbGVyLnB1c2hUcmFuc2FjdGlvblN0YWNrKHtcbiAgICAgICAgICAgICAgICBvbkNhbmNlbCgpIHtcbiAgICAgICAgICAgICAgICAgICAgUm91dGVyQ29udHJvbGxlci5yZXBsYWNlKCdSZWdpc3RlckFjY291bnROYW1lJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCBzaWduYXR1cmUgPSBhd2FpdCBDb25uZWN0aW9uQ29udHJvbGxlci5zaWduTWVzc2FnZShtZXNzYWdlKTtcbiAgICAgICAgICAgIHN0YXRlLmxvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIGNvbnN0IG5ldHdvcmtJZCA9IG5ldHdvcmsuaWQ7XG4gICAgICAgICAgICBpZiAoIW5ldHdvcmtJZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTmV0d29yayBub3QgZm91bmQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGNvaW5UeXBlID0gRW5zVXRpbC5jb252ZXJ0RVZNQ2hhaW5JZFRvQ29pblR5cGUoTnVtYmVyKG5ldHdvcmtJZCkpO1xuICAgICAgICAgICAgYXdhaXQgQmxvY2tjaGFpbkFwaUNvbnRyb2xsZXIucmVnaXN0ZXJFbnNOYW1lKHtcbiAgICAgICAgICAgICAgICBjb2luVHlwZSxcbiAgICAgICAgICAgICAgICBhZGRyZXNzOiBhZGRyZXNzLFxuICAgICAgICAgICAgICAgIHNpZ25hdHVyZTogc2lnbmF0dXJlLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2VcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgQ2hhaW5Db250cm9sbGVyLnNldEFjY291bnRQcm9wKCdwcm9maWxlTmFtZScsIG5hbWUsIG5ldHdvcmsuY2hhaW5OYW1lc3BhY2UpO1xuICAgICAgICAgICAgU3RvcmFnZVV0aWwudXBkYXRlRW5zQ2FjaGUoe1xuICAgICAgICAgICAgICAgIGFkZHJlc3MsXG4gICAgICAgICAgICAgICAgZW5zOiBbXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICByZWdpc3RlcmVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkX2F0OiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRyZXNzZXM6IHt9LFxuICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlczogW11cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIFJvdXRlckNvbnRyb2xsZXIucmVwbGFjZSgnUmVnaXN0ZXJBY2NvdW50TmFtZVN1Y2Nlc3MnKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gRW5zQ29udHJvbGxlci5wYXJzZUVuc0FwaUVycm9yKGUsIGBFcnJvciByZWdpc3RlcmluZyBuYW1lICR7bmFtZX1gKTtcbiAgICAgICAgICAgIFJvdXRlckNvbnRyb2xsZXIucmVwbGFjZSgnUmVnaXN0ZXJBY2NvdW50TmFtZScpO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yTWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICBzdGF0ZS5sb2FkaW5nID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHZhbGlkYXRlTmFtZShuYW1lKSB7XG4gICAgICAgIHJldHVybiAvXlthLXpBLVowLTktXXs0LH0kL3UudGVzdChuYW1lKTtcbiAgICB9LFxuICAgIHBhcnNlRW5zQXBpRXJyb3IoZXJyb3IsIGRlZmF1bHRFcnJvcikge1xuICAgICAgICBjb25zdCBlbnNFcnJvciA9IGVycm9yO1xuICAgICAgICByZXR1cm4gZW5zRXJyb3I/LnJlYXNvbnM/LlswXT8uZGVzY3JpcHRpb24gfHwgZGVmYXVsdEVycm9yO1xuICAgIH1cbn07XG4vLyBFeHBvcnQgdGhlIGNvbnRyb2xsZXIgd3JhcHBlZCB3aXRoIG91ciBlcnJvciBib3VuZGFyeVxuZXhwb3J0IGNvbnN0IEVuc0NvbnRyb2xsZXIgPSB3aXRoRXJyb3JCb3VuZGFyeShjb250cm9sbGVyKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUVuc0NvbnRyb2xsZXIuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/EnsController.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/EventsController.js":
/*!*****************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/EventsController.js ***!
  \*****************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EventsController: () => (/* binding */ EventsController)\n/* harmony export */ });\n/* harmony import */ var valtio_vanilla__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! valtio/vanilla */ \"(ssr)/./node_modules/.pnpm/valtio@2.1.7_@types+react@18.3.26_react@18.3.1/node_modules/valtio/esm/vanilla.mjs\");\n/* harmony import */ var _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/CoreHelperUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/CoreHelperUtil.js\");\n/* harmony import */ var _utils_FetchUtil_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/FetchUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/FetchUtil.js\");\n/* harmony import */ var _ChainController_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ChainController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ChainController.js\");\n/* harmony import */ var _OptionsController_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./OptionsController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/OptionsController.js\");\n\n\n\n\n\n// -- Helpers ------------------------------------------- //\nconst baseUrl = _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_0__.CoreHelperUtil.getAnalyticsUrl();\nconst api = new _utils_FetchUtil_js__WEBPACK_IMPORTED_MODULE_1__.FetchUtil({ baseUrl, clientId: null });\nconst excluded = ['MODAL_CREATED'];\n// SendBeacon payload limit is 64KB, using 45KB for a safe margin, also 45KB is approx ~200 events which is plenty\nconst MAX_PENDING_EVENTS_KB = 45;\n// Flush events every 10 seconds\nconst FLUSH_EVENTS_INTERVAL_MS = 1000 * 10;\n// -- State --------------------------------------------- //\nconst state = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_2__.proxy)({\n    timestamp: Date.now(),\n    lastFlush: Date.now(),\n    reportedErrors: {},\n    data: {\n        type: 'track',\n        event: 'MODAL_CREATED'\n    },\n    pendingEvents: [],\n    subscribedToVisibilityChange: false,\n    walletImpressions: []\n});\n// -- Controller ---------------------------------------- //\nconst EventsController = {\n    state,\n    subscribe(callback) {\n        return (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_2__.subscribe)(state, () => callback(state));\n    },\n    getSdkProperties() {\n        const { projectId, sdkType, sdkVersion } = _OptionsController_js__WEBPACK_IMPORTED_MODULE_3__.OptionsController.state;\n        return {\n            projectId,\n            st: sdkType,\n            sv: sdkVersion || 'html-wagmi-4.2.2'\n        };\n    },\n    shouldFlushEvents() {\n        const isOverMaxSize = JSON.stringify(state.pendingEvents).length / 1024 > MAX_PENDING_EVENTS_KB;\n        const isExpired = state.lastFlush + FLUSH_EVENTS_INTERVAL_MS < Date.now();\n        return isOverMaxSize || isExpired;\n    },\n    _setPendingEvent(payload) {\n        try {\n            let address = _ChainController_js__WEBPACK_IMPORTED_MODULE_4__.ChainController.getAccountData()?.address;\n            if ('address' in payload.data && payload.data.address) {\n                address = payload.data.address;\n            }\n            if (excluded.includes(payload.data.event) || typeof window === 'undefined') {\n                return;\n            }\n            const caipNetworkId = _ChainController_js__WEBPACK_IMPORTED_MODULE_4__.ChainController.getActiveCaipNetwork()?.caipNetworkId;\n            this.state.pendingEvents.push({\n                eventId: _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_0__.CoreHelperUtil.getUUID(),\n                url: window.location.href,\n                domain: window.location.hostname,\n                timestamp: payload.timestamp,\n                props: {\n                    ...payload.data,\n                    address,\n                    properties: {\n                        ...('properties' in payload.data ? payload.data.properties : {}),\n                        caipNetworkId\n                    }\n                }\n            });\n            state.reportedErrors['FORBIDDEN'] = false;\n            const shouldFlush = EventsController.shouldFlushEvents();\n            // If the pending events are too large, submit them as sendBeacon has a limit of 64KB\n            if (shouldFlush) {\n                EventsController._submitPendingEvents();\n            }\n        }\n        catch (err) {\n            console.warn('_setPendingEvent', err);\n        }\n    },\n    sendEvent(data) {\n        state.timestamp = Date.now();\n        state.data = data;\n        const MANDATORY_EVENTS = [\n            'INITIALIZE',\n            'CONNECT_SUCCESS',\n            'SOCIAL_LOGIN_SUCCESS'\n        ];\n        if (_OptionsController_js__WEBPACK_IMPORTED_MODULE_3__.OptionsController.state.features?.analytics || MANDATORY_EVENTS.includes(data.event)) {\n            EventsController._setPendingEvent(state);\n        }\n        // Calling this function here to make sure document is ready and defined before subscribing to visibility change\n        this.subscribeToFlushTriggers();\n    },\n    /**\n     * Adds a wallet impression item to the aggregated list. These are flushed as a single\n     * WALLET_IMPRESSION_V2 batch in _submitPendingEvents.\n     */\n    sendWalletImpressionEvent(item) {\n        state.walletImpressions.push(item);\n    },\n    _transformPendingEventsForBatch(events) {\n        try {\n            return events.filter(evt => {\n                const eventName = evt.props.event;\n                return eventName !== 'WALLET_IMPRESSION_V2';\n            });\n        }\n        catch {\n            return events;\n        }\n    },\n    _submitPendingEvents() {\n        state.lastFlush = Date.now();\n        if (state.pendingEvents.length === 0 && state.walletImpressions.length === 0) {\n            return;\n        }\n        try {\n            const batch = EventsController._transformPendingEventsForBatch(state.pendingEvents);\n            if (state.walletImpressions.length) {\n                batch.push({\n                    eventId: _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_0__.CoreHelperUtil.getUUID(),\n                    url: window.location.href,\n                    domain: window.location.hostname,\n                    timestamp: Date.now(),\n                    props: {\n                        type: 'track',\n                        event: 'WALLET_IMPRESSION_V2',\n                        items: [...state.walletImpressions]\n                    }\n                });\n            }\n            api.sendBeacon({\n                path: '/batch',\n                params: EventsController.getSdkProperties(),\n                body: batch\n            });\n            state.reportedErrors['FORBIDDEN'] = false;\n            state.pendingEvents = [];\n            state.walletImpressions = [];\n        }\n        catch (err) {\n            state.reportedErrors['FORBIDDEN'] = true;\n        }\n    },\n    subscribeToFlushTriggers() {\n        if (state.subscribedToVisibilityChange) {\n            return;\n        }\n        if (typeof document === 'undefined') {\n            return;\n        }\n        state.subscribedToVisibilityChange = true;\n        // Submit pending events when the document is hidden\n        document?.addEventListener?.('visibilitychange', () => {\n            if (document.visibilityState === 'hidden') {\n                EventsController._submitPendingEvents();\n            }\n        });\n        // Submit pending events when the document is frozen (triggered on mobile)\n        document?.addEventListener?.('freeze', () => {\n            EventsController._submitPendingEvents();\n        });\n        // Submit pending events when the window is hidden\n        window?.addEventListener?.('pagehide', () => {\n            EventsController._submitPendingEvents();\n        });\n        // Submit pending events every 10 seconds\n        setInterval(() => {\n            EventsController._submitPendingEvents();\n        }, FLUSH_EVENTS_INTERVAL_MS);\n    }\n};\n//# sourceMappingURL=EventsController.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTFfQHJlYWN0LW5hdGl2ZS1hc3luYy1zdG9yYWdlK2FzeW5jLXN0b3JhZ2VAMi4yLjBfcmVhY3QtX2E4MDMyMTIzODk3ZTA3OTMxMzc0MjMyYzNjYzRlNTM1L25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9FdmVudHNDb250cm9sbGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUF5RDtBQUNHO0FBQ1Y7QUFDSztBQUNJO0FBQzNEO0FBQ0EsZ0JBQWdCLG9FQUFjO0FBQzlCLGdCQUFnQiwwREFBUyxHQUFHLHlCQUF5QjtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLHFEQUFLO0FBQ25CO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNPO0FBQ1A7QUFDQTtBQUNBLGVBQWUseURBQUc7QUFDbEIsS0FBSztBQUNMO0FBQ0EsZ0JBQWdCLGlDQUFpQyxFQUFFLG9FQUFpQjtBQUNwRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSwwQkFBMEIsZ0VBQWU7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLGdFQUFlO0FBQ2pEO0FBQ0EseUJBQXlCLG9FQUFjO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUZBQXVGO0FBQ3ZGO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxvRUFBaUI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLG9FQUFjO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ub2dnbHIvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTFfQHJlYWN0LW5hdGl2ZS1hc3luYy1zdG9yYWdlK2FzeW5jLXN0b3JhZ2VAMi4yLjBfcmVhY3QtX2E4MDMyMTIzODk3ZTA3OTMxMzc0MjMyYzNjYzRlNTM1L25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9FdmVudHNDb250cm9sbGVyLmpzP2Y3MTgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcHJveHksIHN1YnNjcmliZSBhcyBzdWIgfSBmcm9tICd2YWx0aW8vdmFuaWxsYSc7XG5pbXBvcnQgeyBDb3JlSGVscGVyVXRpbCB9IGZyb20gJy4uL3V0aWxzL0NvcmVIZWxwZXJVdGlsLmpzJztcbmltcG9ydCB7IEZldGNoVXRpbCB9IGZyb20gJy4uL3V0aWxzL0ZldGNoVXRpbC5qcyc7XG5pbXBvcnQgeyBDaGFpbkNvbnRyb2xsZXIgfSBmcm9tICcuL0NoYWluQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBPcHRpb25zQ29udHJvbGxlciB9IGZyb20gJy4vT3B0aW9uc0NvbnRyb2xsZXIuanMnO1xuLy8gLS0gSGVscGVycyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5jb25zdCBiYXNlVXJsID0gQ29yZUhlbHBlclV0aWwuZ2V0QW5hbHl0aWNzVXJsKCk7XG5jb25zdCBhcGkgPSBuZXcgRmV0Y2hVdGlsKHsgYmFzZVVybCwgY2xpZW50SWQ6IG51bGwgfSk7XG5jb25zdCBleGNsdWRlZCA9IFsnTU9EQUxfQ1JFQVRFRCddO1xuLy8gU2VuZEJlYWNvbiBwYXlsb2FkIGxpbWl0IGlzIDY0S0IsIHVzaW5nIDQ1S0IgZm9yIGEgc2FmZSBtYXJnaW4sIGFsc28gNDVLQiBpcyBhcHByb3ggfjIwMCBldmVudHMgd2hpY2ggaXMgcGxlbnR5XG5jb25zdCBNQVhfUEVORElOR19FVkVOVFNfS0IgPSA0NTtcbi8vIEZsdXNoIGV2ZW50cyBldmVyeSAxMCBzZWNvbmRzXG5jb25zdCBGTFVTSF9FVkVOVFNfSU5URVJWQUxfTVMgPSAxMDAwICogMTA7XG4vLyAtLSBTdGF0ZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbmNvbnN0IHN0YXRlID0gcHJveHkoe1xuICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICBsYXN0Rmx1c2g6IERhdGUubm93KCksXG4gICAgcmVwb3J0ZWRFcnJvcnM6IHt9LFxuICAgIGRhdGE6IHtcbiAgICAgICAgdHlwZTogJ3RyYWNrJyxcbiAgICAgICAgZXZlbnQ6ICdNT0RBTF9DUkVBVEVEJ1xuICAgIH0sXG4gICAgcGVuZGluZ0V2ZW50czogW10sXG4gICAgc3Vic2NyaWJlZFRvVmlzaWJpbGl0eUNoYW5nZTogZmFsc2UsXG4gICAgd2FsbGV0SW1wcmVzc2lvbnM6IFtdXG59KTtcbi8vIC0tIENvbnRyb2xsZXIgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuZXhwb3J0IGNvbnN0IEV2ZW50c0NvbnRyb2xsZXIgPSB7XG4gICAgc3RhdGUsXG4gICAgc3Vic2NyaWJlKGNhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybiBzdWIoc3RhdGUsICgpID0+IGNhbGxiYWNrKHN0YXRlKSk7XG4gICAgfSxcbiAgICBnZXRTZGtQcm9wZXJ0aWVzKCkge1xuICAgICAgICBjb25zdCB7IHByb2plY3RJZCwgc2RrVHlwZSwgc2RrVmVyc2lvbiB9ID0gT3B0aW9uc0NvbnRyb2xsZXIuc3RhdGU7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBwcm9qZWN0SWQsXG4gICAgICAgICAgICBzdDogc2RrVHlwZSxcbiAgICAgICAgICAgIHN2OiBzZGtWZXJzaW9uIHx8ICdodG1sLXdhZ21pLTQuMi4yJ1xuICAgICAgICB9O1xuICAgIH0sXG4gICAgc2hvdWxkRmx1c2hFdmVudHMoKSB7XG4gICAgICAgIGNvbnN0IGlzT3Zlck1heFNpemUgPSBKU09OLnN0cmluZ2lmeShzdGF0ZS5wZW5kaW5nRXZlbnRzKS5sZW5ndGggLyAxMDI0ID4gTUFYX1BFTkRJTkdfRVZFTlRTX0tCO1xuICAgICAgICBjb25zdCBpc0V4cGlyZWQgPSBzdGF0ZS5sYXN0Rmx1c2ggKyBGTFVTSF9FVkVOVFNfSU5URVJWQUxfTVMgPCBEYXRlLm5vdygpO1xuICAgICAgICByZXR1cm4gaXNPdmVyTWF4U2l6ZSB8fCBpc0V4cGlyZWQ7XG4gICAgfSxcbiAgICBfc2V0UGVuZGluZ0V2ZW50KHBheWxvYWQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxldCBhZGRyZXNzID0gQ2hhaW5Db250cm9sbGVyLmdldEFjY291bnREYXRhKCk/LmFkZHJlc3M7XG4gICAgICAgICAgICBpZiAoJ2FkZHJlc3MnIGluIHBheWxvYWQuZGF0YSAmJiBwYXlsb2FkLmRhdGEuYWRkcmVzcykge1xuICAgICAgICAgICAgICAgIGFkZHJlc3MgPSBwYXlsb2FkLmRhdGEuYWRkcmVzcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChleGNsdWRlZC5pbmNsdWRlcyhwYXlsb2FkLmRhdGEuZXZlbnQpIHx8IHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgY2FpcE5ldHdvcmtJZCA9IENoYWluQ29udHJvbGxlci5nZXRBY3RpdmVDYWlwTmV0d29yaygpPy5jYWlwTmV0d29ya0lkO1xuICAgICAgICAgICAgdGhpcy5zdGF0ZS5wZW5kaW5nRXZlbnRzLnB1c2goe1xuICAgICAgICAgICAgICAgIGV2ZW50SWQ6IENvcmVIZWxwZXJVdGlsLmdldFVVSUQoKSxcbiAgICAgICAgICAgICAgICB1cmw6IHdpbmRvdy5sb2NhdGlvbi5ocmVmLFxuICAgICAgICAgICAgICAgIGRvbWFpbjogd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lLFxuICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogcGF5bG9hZC50aW1lc3RhbXAsXG4gICAgICAgICAgICAgICAgcHJvcHM6IHtcbiAgICAgICAgICAgICAgICAgICAgLi4ucGF5bG9hZC5kYXRhLFxuICAgICAgICAgICAgICAgICAgICBhZGRyZXNzLFxuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi4oJ3Byb3BlcnRpZXMnIGluIHBheWxvYWQuZGF0YSA/IHBheWxvYWQuZGF0YS5wcm9wZXJ0aWVzIDoge30pLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2FpcE5ldHdvcmtJZFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzdGF0ZS5yZXBvcnRlZEVycm9yc1snRk9SQklEREVOJ10gPSBmYWxzZTtcbiAgICAgICAgICAgIGNvbnN0IHNob3VsZEZsdXNoID0gRXZlbnRzQ29udHJvbGxlci5zaG91bGRGbHVzaEV2ZW50cygpO1xuICAgICAgICAgICAgLy8gSWYgdGhlIHBlbmRpbmcgZXZlbnRzIGFyZSB0b28gbGFyZ2UsIHN1Ym1pdCB0aGVtIGFzIHNlbmRCZWFjb24gaGFzIGEgbGltaXQgb2YgNjRLQlxuICAgICAgICAgICAgaWYgKHNob3VsZEZsdXNoKSB7XG4gICAgICAgICAgICAgICAgRXZlbnRzQ29udHJvbGxlci5fc3VibWl0UGVuZGluZ0V2ZW50cygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignX3NldFBlbmRpbmdFdmVudCcsIGVycik7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHNlbmRFdmVudChkYXRhKSB7XG4gICAgICAgIHN0YXRlLnRpbWVzdGFtcCA9IERhdGUubm93KCk7XG4gICAgICAgIHN0YXRlLmRhdGEgPSBkYXRhO1xuICAgICAgICBjb25zdCBNQU5EQVRPUllfRVZFTlRTID0gW1xuICAgICAgICAgICAgJ0lOSVRJQUxJWkUnLFxuICAgICAgICAgICAgJ0NPTk5FQ1RfU1VDQ0VTUycsXG4gICAgICAgICAgICAnU09DSUFMX0xPR0lOX1NVQ0NFU1MnXG4gICAgICAgIF07XG4gICAgICAgIGlmIChPcHRpb25zQ29udHJvbGxlci5zdGF0ZS5mZWF0dXJlcz8uYW5hbHl0aWNzIHx8IE1BTkRBVE9SWV9FVkVOVFMuaW5jbHVkZXMoZGF0YS5ldmVudCkpIHtcbiAgICAgICAgICAgIEV2ZW50c0NvbnRyb2xsZXIuX3NldFBlbmRpbmdFdmVudChzdGF0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ2FsbGluZyB0aGlzIGZ1bmN0aW9uIGhlcmUgdG8gbWFrZSBzdXJlIGRvY3VtZW50IGlzIHJlYWR5IGFuZCBkZWZpbmVkIGJlZm9yZSBzdWJzY3JpYmluZyB0byB2aXNpYmlsaXR5IGNoYW5nZVxuICAgICAgICB0aGlzLnN1YnNjcmliZVRvRmx1c2hUcmlnZ2VycygpO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogQWRkcyBhIHdhbGxldCBpbXByZXNzaW9uIGl0ZW0gdG8gdGhlIGFnZ3JlZ2F0ZWQgbGlzdC4gVGhlc2UgYXJlIGZsdXNoZWQgYXMgYSBzaW5nbGVcbiAgICAgKiBXQUxMRVRfSU1QUkVTU0lPTl9WMiBiYXRjaCBpbiBfc3VibWl0UGVuZGluZ0V2ZW50cy5cbiAgICAgKi9cbiAgICBzZW5kV2FsbGV0SW1wcmVzc2lvbkV2ZW50KGl0ZW0pIHtcbiAgICAgICAgc3RhdGUud2FsbGV0SW1wcmVzc2lvbnMucHVzaChpdGVtKTtcbiAgICB9LFxuICAgIF90cmFuc2Zvcm1QZW5kaW5nRXZlbnRzRm9yQmF0Y2goZXZlbnRzKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gZXZlbnRzLmZpbHRlcihldnQgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGV2ZW50TmFtZSA9IGV2dC5wcm9wcy5ldmVudDtcbiAgICAgICAgICAgICAgICByZXR1cm4gZXZlbnROYW1lICE9PSAnV0FMTEVUX0lNUFJFU1NJT05fVjInO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgcmV0dXJuIGV2ZW50cztcbiAgICAgICAgfVxuICAgIH0sXG4gICAgX3N1Ym1pdFBlbmRpbmdFdmVudHMoKSB7XG4gICAgICAgIHN0YXRlLmxhc3RGbHVzaCA9IERhdGUubm93KCk7XG4gICAgICAgIGlmIChzdGF0ZS5wZW5kaW5nRXZlbnRzLmxlbmd0aCA9PT0gMCAmJiBzdGF0ZS53YWxsZXRJbXByZXNzaW9ucy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgYmF0Y2ggPSBFdmVudHNDb250cm9sbGVyLl90cmFuc2Zvcm1QZW5kaW5nRXZlbnRzRm9yQmF0Y2goc3RhdGUucGVuZGluZ0V2ZW50cyk7XG4gICAgICAgICAgICBpZiAoc3RhdGUud2FsbGV0SW1wcmVzc2lvbnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgYmF0Y2gucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50SWQ6IENvcmVIZWxwZXJVdGlsLmdldFVVSUQoKSxcbiAgICAgICAgICAgICAgICAgICAgdXJsOiB3aW5kb3cubG9jYXRpb24uaHJlZixcbiAgICAgICAgICAgICAgICAgICAgZG9tYWluOiB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUsXG4gICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICAgICAgICAgICAgICAgICAgcHJvcHM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICd0cmFjaycsXG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudDogJ1dBTExFVF9JTVBSRVNTSU9OX1YyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1zOiBbLi4uc3RhdGUud2FsbGV0SW1wcmVzc2lvbnNdXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFwaS5zZW5kQmVhY29uKHtcbiAgICAgICAgICAgICAgICBwYXRoOiAnL2JhdGNoJyxcbiAgICAgICAgICAgICAgICBwYXJhbXM6IEV2ZW50c0NvbnRyb2xsZXIuZ2V0U2RrUHJvcGVydGllcygpLFxuICAgICAgICAgICAgICAgIGJvZHk6IGJhdGNoXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHN0YXRlLnJlcG9ydGVkRXJyb3JzWydGT1JCSURERU4nXSA9IGZhbHNlO1xuICAgICAgICAgICAgc3RhdGUucGVuZGluZ0V2ZW50cyA9IFtdO1xuICAgICAgICAgICAgc3RhdGUud2FsbGV0SW1wcmVzc2lvbnMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBzdGF0ZS5yZXBvcnRlZEVycm9yc1snRk9SQklEREVOJ10gPSB0cnVlO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBzdWJzY3JpYmVUb0ZsdXNoVHJpZ2dlcnMoKSB7XG4gICAgICAgIGlmIChzdGF0ZS5zdWJzY3JpYmVkVG9WaXNpYmlsaXR5Q2hhbmdlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBkb2N1bWVudCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzdGF0ZS5zdWJzY3JpYmVkVG9WaXNpYmlsaXR5Q2hhbmdlID0gdHJ1ZTtcbiAgICAgICAgLy8gU3VibWl0IHBlbmRpbmcgZXZlbnRzIHdoZW4gdGhlIGRvY3VtZW50IGlzIGhpZGRlblxuICAgICAgICBkb2N1bWVudD8uYWRkRXZlbnRMaXN0ZW5lcj8uKCd2aXNpYmlsaXR5Y2hhbmdlJywgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKGRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSA9PT0gJ2hpZGRlbicpIHtcbiAgICAgICAgICAgICAgICBFdmVudHNDb250cm9sbGVyLl9zdWJtaXRQZW5kaW5nRXZlbnRzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBTdWJtaXQgcGVuZGluZyBldmVudHMgd2hlbiB0aGUgZG9jdW1lbnQgaXMgZnJvemVuICh0cmlnZ2VyZWQgb24gbW9iaWxlKVxuICAgICAgICBkb2N1bWVudD8uYWRkRXZlbnRMaXN0ZW5lcj8uKCdmcmVlemUnLCAoKSA9PiB7XG4gICAgICAgICAgICBFdmVudHNDb250cm9sbGVyLl9zdWJtaXRQZW5kaW5nRXZlbnRzKCk7XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBTdWJtaXQgcGVuZGluZyBldmVudHMgd2hlbiB0aGUgd2luZG93IGlzIGhpZGRlblxuICAgICAgICB3aW5kb3c/LmFkZEV2ZW50TGlzdGVuZXI/LigncGFnZWhpZGUnLCAoKSA9PiB7XG4gICAgICAgICAgICBFdmVudHNDb250cm9sbGVyLl9zdWJtaXRQZW5kaW5nRXZlbnRzKCk7XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBTdWJtaXQgcGVuZGluZyBldmVudHMgZXZlcnkgMTAgc2Vjb25kc1xuICAgICAgICBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgICAgICBFdmVudHNDb250cm9sbGVyLl9zdWJtaXRQZW5kaW5nRXZlbnRzKCk7XG4gICAgICAgIH0sIEZMVVNIX0VWRU5UU19JTlRFUlZBTF9NUyk7XG4gICAgfVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUV2ZW50c0NvbnRyb2xsZXIuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/EventsController.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ModalController.js":
/*!****************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ModalController.js ***!
  \****************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ModalController: () => (/* binding */ ModalController)\n/* harmony export */ });\n/* harmony import */ var valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! valtio/vanilla */ \"(ssr)/./node_modules/.pnpm/valtio@2.1.7_@types+react@18.3.26_react@18.3.1/node_modules/valtio/esm/vanilla.mjs\");\n/* harmony import */ var valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! valtio/vanilla/utils */ \"(ssr)/./node_modules/.pnpm/valtio@2.1.7_@types+react@18.3.26_react@18.3.1/node_modules/valtio/esm/vanilla/utils.mjs\");\n/* harmony import */ var _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../utils/CoreHelperUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/CoreHelperUtil.js\");\n/* harmony import */ var _utils_NetworkUtil_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../utils/NetworkUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/NetworkUtil.js\");\n/* harmony import */ var _utils_withErrorBoundary_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../utils/withErrorBoundary.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/withErrorBoundary.js\");\n/* harmony import */ var _ApiController_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ApiController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ApiController.js\");\n/* harmony import */ var _ChainController_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ChainController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ChainController.js\");\n/* harmony import */ var _ConnectionController_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ConnectionController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectionController.js\");\n/* harmony import */ var _ConnectorController_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ConnectorController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectorController.js\");\n/* harmony import */ var _EventsController_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./EventsController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/EventsController.js\");\n/* harmony import */ var _OptionsController_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./OptionsController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/OptionsController.js\");\n/* harmony import */ var _PublicStateController_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./PublicStateController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/PublicStateController.js\");\n/* harmony import */ var _RouterController_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./RouterController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/RouterController.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// -- State --------------------------------------------- //\nconst state = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.proxy)({\n    loading: false,\n    loadingNamespaceMap: new Map(),\n    open: false,\n    shake: false,\n    namespace: undefined\n});\n// -- Controller ---------------------------------------- //\nconst controller = {\n    state,\n    subscribe(callback) {\n        return (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.subscribe)(state, () => callback(state));\n    },\n    subscribeKey(key, callback) {\n        return (0,valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_1__.subscribeKey)(state, key, callback);\n    },\n    async open(options) {\n        const namespace = options?.namespace;\n        const currentNamespace = _ChainController_js__WEBPACK_IMPORTED_MODULE_2__.ChainController.state.activeChain;\n        const isSwitchingNamespace = namespace && namespace !== currentNamespace;\n        const caipAddress = _ChainController_js__WEBPACK_IMPORTED_MODULE_2__.ChainController.getAccountData(options?.namespace)?.caipAddress;\n        const hasNoAdapters = _ChainController_js__WEBPACK_IMPORTED_MODULE_2__.ChainController.state.noAdapters;\n        if (_ConnectionController_js__WEBPACK_IMPORTED_MODULE_3__.ConnectionController.state.wcBasic) {\n            // No need to add an await here if we are use basic\n            _ApiController_js__WEBPACK_IMPORTED_MODULE_4__.ApiController.prefetch({\n                fetchNetworkImages: false,\n                fetchConnectorImages: false,\n                fetchWalletRanks: false\n            });\n        }\n        else {\n            await _ApiController_js__WEBPACK_IMPORTED_MODULE_4__.ApiController.prefetch();\n        }\n        _ConnectorController_js__WEBPACK_IMPORTED_MODULE_5__.ConnectorController.setFilterByNamespace(options?.namespace);\n        ModalController.setLoading(true, namespace);\n        if (namespace && isSwitchingNamespace) {\n            const namespaceNetwork = _ChainController_js__WEBPACK_IMPORTED_MODULE_2__.ChainController.getNetworkData(namespace)?.caipNetwork ||\n                _ChainController_js__WEBPACK_IMPORTED_MODULE_2__.ChainController.getRequestedCaipNetworks(namespace)[0];\n            if (namespaceNetwork) {\n                if (hasNoAdapters) {\n                    await _ChainController_js__WEBPACK_IMPORTED_MODULE_2__.ChainController.switchActiveNetwork(namespaceNetwork);\n                    _RouterController_js__WEBPACK_IMPORTED_MODULE_6__.RouterController.push('ConnectingWalletConnectBasic');\n                }\n                else {\n                    _utils_NetworkUtil_js__WEBPACK_IMPORTED_MODULE_7__.NetworkUtil.onSwitchNetwork({ network: namespaceNetwork, ignoreSwitchConfirmation: true });\n                }\n            }\n        }\n        else if (_OptionsController_js__WEBPACK_IMPORTED_MODULE_8__.OptionsController.state.manualWCControl || (hasNoAdapters && !caipAddress)) {\n            if (_utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_9__.CoreHelperUtil.isMobile()) {\n                _RouterController_js__WEBPACK_IMPORTED_MODULE_6__.RouterController.reset('AllWallets');\n            }\n            else {\n                _RouterController_js__WEBPACK_IMPORTED_MODULE_6__.RouterController.reset('ConnectingWalletConnectBasic');\n            }\n        }\n        else if (options?.view) {\n            _RouterController_js__WEBPACK_IMPORTED_MODULE_6__.RouterController.reset(options.view, options.data);\n        }\n        else if (caipAddress) {\n            _RouterController_js__WEBPACK_IMPORTED_MODULE_6__.RouterController.reset('Account');\n        }\n        else {\n            _RouterController_js__WEBPACK_IMPORTED_MODULE_6__.RouterController.reset('Connect');\n        }\n        state.open = true;\n        _PublicStateController_js__WEBPACK_IMPORTED_MODULE_10__.PublicStateController.set({ open: true });\n        _EventsController_js__WEBPACK_IMPORTED_MODULE_11__.EventsController.sendEvent({\n            type: 'track',\n            event: 'MODAL_OPEN',\n            properties: { connected: Boolean(caipAddress) }\n        });\n    },\n    close() {\n        const isEmbeddedEnabled = _OptionsController_js__WEBPACK_IMPORTED_MODULE_8__.OptionsController.state.enableEmbedded;\n        const isConnected = Boolean(_ChainController_js__WEBPACK_IMPORTED_MODULE_2__.ChainController.state.activeCaipAddress);\n        // Only send the event if the modal is open and is about to be closed\n        if (state.open) {\n            _EventsController_js__WEBPACK_IMPORTED_MODULE_11__.EventsController.sendEvent({\n                type: 'track',\n                event: 'MODAL_CLOSE',\n                properties: { connected: isConnected }\n            });\n        }\n        state.open = false;\n        _RouterController_js__WEBPACK_IMPORTED_MODULE_6__.RouterController.reset('Connect');\n        ModalController.clearLoading();\n        if (isEmbeddedEnabled) {\n            if (isConnected) {\n                _RouterController_js__WEBPACK_IMPORTED_MODULE_6__.RouterController.replace('Account');\n            }\n            else {\n                _RouterController_js__WEBPACK_IMPORTED_MODULE_6__.RouterController.push('Connect');\n            }\n        }\n        else {\n            _PublicStateController_js__WEBPACK_IMPORTED_MODULE_10__.PublicStateController.set({ open: false });\n        }\n        _ConnectionController_js__WEBPACK_IMPORTED_MODULE_3__.ConnectionController.resetUri();\n    },\n    setLoading(loading, namespace) {\n        if (namespace) {\n            state.loadingNamespaceMap.set(namespace, loading);\n        }\n        state.loading = loading;\n        _PublicStateController_js__WEBPACK_IMPORTED_MODULE_10__.PublicStateController.set({ loading });\n    },\n    clearLoading() {\n        state.loadingNamespaceMap.clear();\n        state.loading = false;\n        _PublicStateController_js__WEBPACK_IMPORTED_MODULE_10__.PublicStateController.set({ loading: false });\n    },\n    shake() {\n        if (state.shake) {\n            return;\n        }\n        state.shake = true;\n        setTimeout(() => {\n            state.shake = false;\n        }, 500);\n    }\n};\n// Export the controller wrapped with our error boundary\nconst ModalController = (0,_utils_withErrorBoundary_js__WEBPACK_IMPORTED_MODULE_12__.withErrorBoundary)(controller);\n//# sourceMappingURL=ModalController.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTFfQHJlYWN0LW5hdGl2ZS1hc3luYy1zdG9yYWdlK2FzeW5jLXN0b3JhZ2VAMi4yLjBfcmVhY3QtX2E4MDMyMTIzODk3ZTA3OTMxMzc0MjMyYzNjYzRlNTM1L25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9Nb2RhbENvbnRyb2xsZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBeUQ7QUFDSztBQUN4QjtBQUNzQjtBQUNOO0FBQ1k7QUFDZjtBQUNJO0FBQ1U7QUFDRjtBQUNOO0FBQ0U7QUFDUTtBQUNWO0FBQ3pEO0FBQ0EsY0FBYyxxREFBSztBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSx5REFBRztBQUNsQixLQUFLO0FBQ0w7QUFDQSxlQUFlLGtFQUFNO0FBQ3JCLEtBQUs7QUFDTDtBQUNBO0FBQ0EsaUNBQWlDLGdFQUFlO0FBQ2hEO0FBQ0EsNEJBQTRCLGdFQUFlO0FBQzNDLDhCQUE4QixnRUFBZTtBQUM3QyxZQUFZLDBFQUFvQjtBQUNoQztBQUNBLFlBQVksNERBQWE7QUFDekI7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxrQkFBa0IsNERBQWE7QUFDL0I7QUFDQSxRQUFRLHdFQUFtQjtBQUMzQjtBQUNBO0FBQ0EscUNBQXFDLGdFQUFlO0FBQ3BELGdCQUFnQixnRUFBZTtBQUMvQjtBQUNBO0FBQ0EsMEJBQTBCLGdFQUFlO0FBQ3pDLG9CQUFvQixrRUFBZ0I7QUFDcEM7QUFDQTtBQUNBLG9CQUFvQiw4REFBVyxtQkFBbUIsMkRBQTJEO0FBQzdHO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixvRUFBaUI7QUFDbEMsZ0JBQWdCLG9FQUFjO0FBQzlCLGdCQUFnQixrRUFBZ0I7QUFDaEM7QUFDQTtBQUNBLGdCQUFnQixrRUFBZ0I7QUFDaEM7QUFDQTtBQUNBO0FBQ0EsWUFBWSxrRUFBZ0I7QUFDNUI7QUFDQTtBQUNBLFlBQVksa0VBQWdCO0FBQzVCO0FBQ0E7QUFDQSxZQUFZLGtFQUFnQjtBQUM1QjtBQUNBO0FBQ0EsUUFBUSw2RUFBcUIsT0FBTyxZQUFZO0FBQ2hELFFBQVEsbUVBQWdCO0FBQ3hCO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUIsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBLGtDQUFrQyxvRUFBaUI7QUFDbkQsb0NBQW9DLGdFQUFlO0FBQ25EO0FBQ0E7QUFDQSxZQUFZLG1FQUFnQjtBQUM1QjtBQUNBO0FBQ0EsOEJBQThCO0FBQzlCLGFBQWE7QUFDYjtBQUNBO0FBQ0EsUUFBUSxrRUFBZ0I7QUFDeEI7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGtFQUFnQjtBQUNoQztBQUNBO0FBQ0EsZ0JBQWdCLGtFQUFnQjtBQUNoQztBQUNBO0FBQ0E7QUFDQSxZQUFZLDZFQUFxQixPQUFPLGFBQWE7QUFDckQ7QUFDQSxRQUFRLDBFQUFvQjtBQUM1QixLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsNkVBQXFCLE9BQU8sU0FBUztBQUM3QyxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsUUFBUSw2RUFBcUIsT0FBTyxnQkFBZ0I7QUFDcEQsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNPLHdCQUF3QiwrRUFBaUI7QUFDaEQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ub2dnbHIvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTFfQHJlYWN0LW5hdGl2ZS1hc3luYy1zdG9yYWdlK2FzeW5jLXN0b3JhZ2VAMi4yLjBfcmVhY3QtX2E4MDMyMTIzODk3ZTA3OTMxMzc0MjMyYzNjYzRlNTM1L25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9Nb2RhbENvbnRyb2xsZXIuanM/M2ZkYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwcm94eSwgc3Vic2NyaWJlIGFzIHN1YiB9IGZyb20gJ3ZhbHRpby92YW5pbGxhJztcbmltcG9ydCB7IHN1YnNjcmliZUtleSBhcyBzdWJLZXkgfSBmcm9tICd2YWx0aW8vdmFuaWxsYS91dGlscyc7XG5pbXBvcnQge30gZnJvbSAnQHJlb3duL2FwcGtpdC1jb21tb24nO1xuaW1wb3J0IHsgQ29yZUhlbHBlclV0aWwgfSBmcm9tICcuLi91dGlscy9Db3JlSGVscGVyVXRpbC5qcyc7XG5pbXBvcnQgeyBOZXR3b3JrVXRpbCB9IGZyb20gJy4uL3V0aWxzL05ldHdvcmtVdGlsLmpzJztcbmltcG9ydCB7IHdpdGhFcnJvckJvdW5kYXJ5IH0gZnJvbSAnLi4vdXRpbHMvd2l0aEVycm9yQm91bmRhcnkuanMnO1xuaW1wb3J0IHsgQXBpQ29udHJvbGxlciB9IGZyb20gJy4vQXBpQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBDaGFpbkNvbnRyb2xsZXIgfSBmcm9tICcuL0NoYWluQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBDb25uZWN0aW9uQ29udHJvbGxlciB9IGZyb20gJy4vQ29ubmVjdGlvbkNvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgQ29ubmVjdG9yQ29udHJvbGxlciB9IGZyb20gJy4vQ29ubmVjdG9yQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBFdmVudHNDb250cm9sbGVyIH0gZnJvbSAnLi9FdmVudHNDb250cm9sbGVyLmpzJztcbmltcG9ydCB7IE9wdGlvbnNDb250cm9sbGVyIH0gZnJvbSAnLi9PcHRpb25zQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBQdWJsaWNTdGF0ZUNvbnRyb2xsZXIgfSBmcm9tICcuL1B1YmxpY1N0YXRlQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBSb3V0ZXJDb250cm9sbGVyIH0gZnJvbSAnLi9Sb3V0ZXJDb250cm9sbGVyLmpzJztcbi8vIC0tIFN0YXRlIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuY29uc3Qgc3RhdGUgPSBwcm94eSh7XG4gICAgbG9hZGluZzogZmFsc2UsXG4gICAgbG9hZGluZ05hbWVzcGFjZU1hcDogbmV3IE1hcCgpLFxuICAgIG9wZW46IGZhbHNlLFxuICAgIHNoYWtlOiBmYWxzZSxcbiAgICBuYW1lc3BhY2U6IHVuZGVmaW5lZFxufSk7XG4vLyAtLSBDb250cm9sbGVyIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbmNvbnN0IGNvbnRyb2xsZXIgPSB7XG4gICAgc3RhdGUsXG4gICAgc3Vic2NyaWJlKGNhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybiBzdWIoc3RhdGUsICgpID0+IGNhbGxiYWNrKHN0YXRlKSk7XG4gICAgfSxcbiAgICBzdWJzY3JpYmVLZXkoa2V5LCBjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gc3ViS2V5KHN0YXRlLCBrZXksIGNhbGxiYWNrKTtcbiAgICB9LFxuICAgIGFzeW5jIG9wZW4ob3B0aW9ucykge1xuICAgICAgICBjb25zdCBuYW1lc3BhY2UgPSBvcHRpb25zPy5uYW1lc3BhY2U7XG4gICAgICAgIGNvbnN0IGN1cnJlbnROYW1lc3BhY2UgPSBDaGFpbkNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ2hhaW47XG4gICAgICAgIGNvbnN0IGlzU3dpdGNoaW5nTmFtZXNwYWNlID0gbmFtZXNwYWNlICYmIG5hbWVzcGFjZSAhPT0gY3VycmVudE5hbWVzcGFjZTtcbiAgICAgICAgY29uc3QgY2FpcEFkZHJlc3MgPSBDaGFpbkNvbnRyb2xsZXIuZ2V0QWNjb3VudERhdGEob3B0aW9ucz8ubmFtZXNwYWNlKT8uY2FpcEFkZHJlc3M7XG4gICAgICAgIGNvbnN0IGhhc05vQWRhcHRlcnMgPSBDaGFpbkNvbnRyb2xsZXIuc3RhdGUubm9BZGFwdGVycztcbiAgICAgICAgaWYgKENvbm5lY3Rpb25Db250cm9sbGVyLnN0YXRlLndjQmFzaWMpIHtcbiAgICAgICAgICAgIC8vIE5vIG5lZWQgdG8gYWRkIGFuIGF3YWl0IGhlcmUgaWYgd2UgYXJlIHVzZSBiYXNpY1xuICAgICAgICAgICAgQXBpQ29udHJvbGxlci5wcmVmZXRjaCh7XG4gICAgICAgICAgICAgICAgZmV0Y2hOZXR3b3JrSW1hZ2VzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBmZXRjaENvbm5lY3RvckltYWdlczogZmFsc2UsXG4gICAgICAgICAgICAgICAgZmV0Y2hXYWxsZXRSYW5rczogZmFsc2VcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYXdhaXQgQXBpQ29udHJvbGxlci5wcmVmZXRjaCgpO1xuICAgICAgICB9XG4gICAgICAgIENvbm5lY3RvckNvbnRyb2xsZXIuc2V0RmlsdGVyQnlOYW1lc3BhY2Uob3B0aW9ucz8ubmFtZXNwYWNlKTtcbiAgICAgICAgTW9kYWxDb250cm9sbGVyLnNldExvYWRpbmcodHJ1ZSwgbmFtZXNwYWNlKTtcbiAgICAgICAgaWYgKG5hbWVzcGFjZSAmJiBpc1N3aXRjaGluZ05hbWVzcGFjZSkge1xuICAgICAgICAgICAgY29uc3QgbmFtZXNwYWNlTmV0d29yayA9IENoYWluQ29udHJvbGxlci5nZXROZXR3b3JrRGF0YShuYW1lc3BhY2UpPy5jYWlwTmV0d29yayB8fFxuICAgICAgICAgICAgICAgIENoYWluQ29udHJvbGxlci5nZXRSZXF1ZXN0ZWRDYWlwTmV0d29ya3MobmFtZXNwYWNlKVswXTtcbiAgICAgICAgICAgIGlmIChuYW1lc3BhY2VOZXR3b3JrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGhhc05vQWRhcHRlcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgQ2hhaW5Db250cm9sbGVyLnN3aXRjaEFjdGl2ZU5ldHdvcmsobmFtZXNwYWNlTmV0d29yayk7XG4gICAgICAgICAgICAgICAgICAgIFJvdXRlckNvbnRyb2xsZXIucHVzaCgnQ29ubmVjdGluZ1dhbGxldENvbm5lY3RCYXNpYycpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgTmV0d29ya1V0aWwub25Td2l0Y2hOZXR3b3JrKHsgbmV0d29yazogbmFtZXNwYWNlTmV0d29yaywgaWdub3JlU3dpdGNoQ29uZmlybWF0aW9uOiB0cnVlIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChPcHRpb25zQ29udHJvbGxlci5zdGF0ZS5tYW51YWxXQ0NvbnRyb2wgfHwgKGhhc05vQWRhcHRlcnMgJiYgIWNhaXBBZGRyZXNzKSkge1xuICAgICAgICAgICAgaWYgKENvcmVIZWxwZXJVdGlsLmlzTW9iaWxlKCkpIHtcbiAgICAgICAgICAgICAgICBSb3V0ZXJDb250cm9sbGVyLnJlc2V0KCdBbGxXYWxsZXRzJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBSb3V0ZXJDb250cm9sbGVyLnJlc2V0KCdDb25uZWN0aW5nV2FsbGV0Q29ubmVjdEJhc2ljJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAob3B0aW9ucz8udmlldykge1xuICAgICAgICAgICAgUm91dGVyQ29udHJvbGxlci5yZXNldChvcHRpb25zLnZpZXcsIG9wdGlvbnMuZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY2FpcEFkZHJlc3MpIHtcbiAgICAgICAgICAgIFJvdXRlckNvbnRyb2xsZXIucmVzZXQoJ0FjY291bnQnKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIFJvdXRlckNvbnRyb2xsZXIucmVzZXQoJ0Nvbm5lY3QnKTtcbiAgICAgICAgfVxuICAgICAgICBzdGF0ZS5vcGVuID0gdHJ1ZTtcbiAgICAgICAgUHVibGljU3RhdGVDb250cm9sbGVyLnNldCh7IG9wZW46IHRydWUgfSk7XG4gICAgICAgIEV2ZW50c0NvbnRyb2xsZXIuc2VuZEV2ZW50KHtcbiAgICAgICAgICAgIHR5cGU6ICd0cmFjaycsXG4gICAgICAgICAgICBldmVudDogJ01PREFMX09QRU4nLFxuICAgICAgICAgICAgcHJvcGVydGllczogeyBjb25uZWN0ZWQ6IEJvb2xlYW4oY2FpcEFkZHJlc3MpIH1cbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBjbG9zZSgpIHtcbiAgICAgICAgY29uc3QgaXNFbWJlZGRlZEVuYWJsZWQgPSBPcHRpb25zQ29udHJvbGxlci5zdGF0ZS5lbmFibGVFbWJlZGRlZDtcbiAgICAgICAgY29uc3QgaXNDb25uZWN0ZWQgPSBCb29sZWFuKENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDYWlwQWRkcmVzcyk7XG4gICAgICAgIC8vIE9ubHkgc2VuZCB0aGUgZXZlbnQgaWYgdGhlIG1vZGFsIGlzIG9wZW4gYW5kIGlzIGFib3V0IHRvIGJlIGNsb3NlZFxuICAgICAgICBpZiAoc3RhdGUub3Blbikge1xuICAgICAgICAgICAgRXZlbnRzQ29udHJvbGxlci5zZW5kRXZlbnQoe1xuICAgICAgICAgICAgICAgIHR5cGU6ICd0cmFjaycsXG4gICAgICAgICAgICAgICAgZXZlbnQ6ICdNT0RBTF9DTE9TRScsXG4gICAgICAgICAgICAgICAgcHJvcGVydGllczogeyBjb25uZWN0ZWQ6IGlzQ29ubmVjdGVkIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHN0YXRlLm9wZW4gPSBmYWxzZTtcbiAgICAgICAgUm91dGVyQ29udHJvbGxlci5yZXNldCgnQ29ubmVjdCcpO1xuICAgICAgICBNb2RhbENvbnRyb2xsZXIuY2xlYXJMb2FkaW5nKCk7XG4gICAgICAgIGlmIChpc0VtYmVkZGVkRW5hYmxlZCkge1xuICAgICAgICAgICAgaWYgKGlzQ29ubmVjdGVkKSB7XG4gICAgICAgICAgICAgICAgUm91dGVyQ29udHJvbGxlci5yZXBsYWNlKCdBY2NvdW50Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBSb3V0ZXJDb250cm9sbGVyLnB1c2goJ0Nvbm5lY3QnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIFB1YmxpY1N0YXRlQ29udHJvbGxlci5zZXQoeyBvcGVuOiBmYWxzZSB9KTtcbiAgICAgICAgfVxuICAgICAgICBDb25uZWN0aW9uQ29udHJvbGxlci5yZXNldFVyaSgpO1xuICAgIH0sXG4gICAgc2V0TG9hZGluZyhsb2FkaW5nLCBuYW1lc3BhY2UpIHtcbiAgICAgICAgaWYgKG5hbWVzcGFjZSkge1xuICAgICAgICAgICAgc3RhdGUubG9hZGluZ05hbWVzcGFjZU1hcC5zZXQobmFtZXNwYWNlLCBsb2FkaW5nKTtcbiAgICAgICAgfVxuICAgICAgICBzdGF0ZS5sb2FkaW5nID0gbG9hZGluZztcbiAgICAgICAgUHVibGljU3RhdGVDb250cm9sbGVyLnNldCh7IGxvYWRpbmcgfSk7XG4gICAgfSxcbiAgICBjbGVhckxvYWRpbmcoKSB7XG4gICAgICAgIHN0YXRlLmxvYWRpbmdOYW1lc3BhY2VNYXAuY2xlYXIoKTtcbiAgICAgICAgc3RhdGUubG9hZGluZyA9IGZhbHNlO1xuICAgICAgICBQdWJsaWNTdGF0ZUNvbnRyb2xsZXIuc2V0KHsgbG9hZGluZzogZmFsc2UgfSk7XG4gICAgfSxcbiAgICBzaGFrZSgpIHtcbiAgICAgICAgaWYgKHN0YXRlLnNoYWtlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc3RhdGUuc2hha2UgPSB0cnVlO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHN0YXRlLnNoYWtlID0gZmFsc2U7XG4gICAgICAgIH0sIDUwMCk7XG4gICAgfVxufTtcbi8vIEV4cG9ydCB0aGUgY29udHJvbGxlciB3cmFwcGVkIHdpdGggb3VyIGVycm9yIGJvdW5kYXJ5XG5leHBvcnQgY29uc3QgTW9kYWxDb250cm9sbGVyID0gd2l0aEVycm9yQm91bmRhcnkoY29udHJvbGxlcik7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Nb2RhbENvbnRyb2xsZXIuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ModalController.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/OnRampController.js":
/*!*****************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/OnRampController.js ***!
  \*****************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   OnRampController: () => (/* binding */ OnRampController),\n/* harmony export */   USDC_CURRENCY_DEFAULT: () => (/* binding */ USDC_CURRENCY_DEFAULT),\n/* harmony export */   USD_CURRENCY_DEFAULT: () => (/* binding */ USD_CURRENCY_DEFAULT)\n/* harmony export */ });\n/* harmony import */ var valtio_vanilla__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! valtio/vanilla */ \"(ssr)/./node_modules/.pnpm/valtio@2.1.7_@types+react@18.3.26_react@18.3.1/node_modules/valtio/esm/vanilla.mjs\");\n/* harmony import */ var valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! valtio/vanilla/utils */ \"(ssr)/./node_modules/.pnpm/valtio@2.1.7_@types+react@18.3.26_react@18.3.1/node_modules/valtio/esm/vanilla/utils.mjs\");\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @reown/appkit-common */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-common@1.8.11_bufferutil@4.0.9_typescript@5.9.3_utf-8-validate@5.0.10_zod@4.1.12/node_modules/@reown/appkit-common/dist/esm/src/utils/ConstantsUtil.js\");\n/* harmony import */ var _utils_ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/ConstantsUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ConstantsUtil.js\");\n/* harmony import */ var _utils_withErrorBoundary_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../utils/withErrorBoundary.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/withErrorBoundary.js\");\n/* harmony import */ var _ApiController_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./ApiController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ApiController.js\");\n/* harmony import */ var _BlockchainApiController_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./BlockchainApiController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/BlockchainApiController.js\");\n/* harmony import */ var _ChainController_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ChainController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ChainController.js\");\n/* harmony import */ var _OptionsController_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./OptionsController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/OptionsController.js\");\n\n\n\n\n\n\n\n\n\nconst USDC_CURRENCY_DEFAULT = {\n    id: '2b92315d-eab7-5bef-84fa-089a131333f5',\n    name: 'USD Coin',\n    symbol: 'USDC',\n    networks: [\n        {\n            name: 'ethereum-mainnet',\n            display_name: 'Ethereum',\n            chain_id: '1',\n            contract_address: '0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48'\n        },\n        {\n            name: 'polygon-mainnet',\n            display_name: 'Polygon',\n            chain_id: '137',\n            contract_address: '0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174'\n        }\n    ]\n};\nconst USD_CURRENCY_DEFAULT = {\n    id: 'USD',\n    payment_method_limits: [\n        {\n            id: 'card',\n            min: '10.00',\n            max: '7500.00'\n        },\n        {\n            id: 'ach_bank_account',\n            min: '10.00',\n            max: '25000.00'\n        }\n    ]\n};\nconst defaultState = {\n    providers: _utils_ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_0__.ONRAMP_PROVIDERS,\n    selectedProvider: null,\n    error: null,\n    purchaseCurrency: USDC_CURRENCY_DEFAULT,\n    paymentCurrency: USD_CURRENCY_DEFAULT,\n    purchaseCurrencies: [USDC_CURRENCY_DEFAULT],\n    paymentCurrencies: [],\n    quotesLoading: false\n};\n// -- State --------------------------------------------- //\nconst state = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_1__.proxy)(defaultState);\n// -- Controller ---------------------------------------- //\nconst controller = {\n    state,\n    subscribe(callback) {\n        return (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_1__.subscribe)(state, () => callback(state));\n    },\n    subscribeKey(key, callback) {\n        return (0,valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_2__.subscribeKey)(state, key, callback);\n    },\n    setSelectedProvider(provider) {\n        if (provider && provider.name === 'meld') {\n            const activeChain = _ChainController_js__WEBPACK_IMPORTED_MODULE_3__.ChainController.state.activeChain;\n            const currency = activeChain === _reown_appkit_common__WEBPACK_IMPORTED_MODULE_4__.ConstantsUtil.CHAIN.SOLANA ? 'SOL' : 'USDC';\n            const address = activeChain\n                ? (_ChainController_js__WEBPACK_IMPORTED_MODULE_3__.ChainController.state.chains.get(activeChain)?.accountState?.address ?? '')\n                : '';\n            const url = new URL(provider.url);\n            url.searchParams.append('publicKey', _utils_ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_0__.MELD_PUBLIC_KEY);\n            url.searchParams.append('destinationCurrencyCode', currency);\n            url.searchParams.append('walletAddress', address);\n            url.searchParams.append('externalCustomerId', _OptionsController_js__WEBPACK_IMPORTED_MODULE_5__.OptionsController.state.projectId);\n            state.selectedProvider = { ...provider, url: url.toString() };\n        }\n        else {\n            state.selectedProvider = provider;\n        }\n    },\n    setOnrampProviders(providers) {\n        if (Array.isArray(providers) && providers.every(item => typeof item === 'string')) {\n            const validOnramp = providers;\n            const newProviders = _utils_ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_0__.ONRAMP_PROVIDERS.filter(provider => validOnramp.includes(provider.name));\n            state.providers = newProviders;\n        }\n        else {\n            state.providers = [];\n        }\n    },\n    setPurchaseCurrency(currency) {\n        state.purchaseCurrency = currency;\n    },\n    setPaymentCurrency(currency) {\n        state.paymentCurrency = currency;\n    },\n    setPurchaseAmount(amount) {\n        OnRampController.state.purchaseAmount = amount;\n    },\n    setPaymentAmount(amount) {\n        OnRampController.state.paymentAmount = amount;\n    },\n    async getAvailableCurrencies() {\n        const options = await _BlockchainApiController_js__WEBPACK_IMPORTED_MODULE_6__.BlockchainApiController.getOnrampOptions();\n        state.purchaseCurrencies = options.purchaseCurrencies;\n        state.paymentCurrencies = options.paymentCurrencies;\n        state.paymentCurrency = options.paymentCurrencies[0] || USD_CURRENCY_DEFAULT;\n        state.purchaseCurrency = options.purchaseCurrencies[0] || USDC_CURRENCY_DEFAULT;\n        await _ApiController_js__WEBPACK_IMPORTED_MODULE_7__.ApiController.fetchCurrencyImages(options.paymentCurrencies.map(currency => currency.id));\n        await _ApiController_js__WEBPACK_IMPORTED_MODULE_7__.ApiController.fetchTokenImages(options.purchaseCurrencies.map(currency => currency.symbol));\n    },\n    async getQuote() {\n        state.quotesLoading = true;\n        try {\n            const quote = await _BlockchainApiController_js__WEBPACK_IMPORTED_MODULE_6__.BlockchainApiController.getOnrampQuote({\n                purchaseCurrency: state.purchaseCurrency,\n                paymentCurrency: state.paymentCurrency,\n                amount: state.paymentAmount?.toString() || '0',\n                network: state.purchaseCurrency?.symbol\n            });\n            state.quotesLoading = false;\n            state.purchaseAmount = Number(quote?.purchaseAmount.amount);\n            return quote;\n        }\n        catch (error) {\n            state.error = error.message;\n            state.quotesLoading = false;\n            return null;\n        }\n        finally {\n            state.quotesLoading = false;\n        }\n    },\n    resetState() {\n        state.selectedProvider = null;\n        state.error = null;\n        state.purchaseCurrency = USDC_CURRENCY_DEFAULT;\n        state.paymentCurrency = USD_CURRENCY_DEFAULT;\n        state.purchaseCurrencies = [USDC_CURRENCY_DEFAULT];\n        state.paymentCurrencies = [];\n        state.paymentAmount = undefined;\n        state.purchaseAmount = undefined;\n        state.quotesLoading = false;\n    }\n};\n// Export the controller wrapped with our error boundary\nconst OnRampController = (0,_utils_withErrorBoundary_js__WEBPACK_IMPORTED_MODULE_8__.withErrorBoundary)(controller);\n//# sourceMappingURL=OnRampController.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTFfQHJlYWN0LW5hdGl2ZS1hc3luYy1zdG9yYWdlK2FzeW5jLXN0b3JhZ2VAMi4yLjBfcmVhY3QtX2E4MDMyMTIzODk3ZTA3OTMxMzc0MjMyYzNjYzRlNTM1L25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9PblJhbXBDb250cm9sbGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUF5RDtBQUNLO0FBQ1Q7QUFDeUI7QUFDWjtBQUNmO0FBQ29CO0FBQ2hCO0FBQ0k7QUFDcEQ7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLHFFQUFnQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLHFEQUFLO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSx5REFBRztBQUNsQixLQUFLO0FBQ0w7QUFDQSxlQUFlLGtFQUFNO0FBQ3JCLEtBQUs7QUFDTDtBQUNBO0FBQ0EsZ0NBQWdDLGdFQUFlO0FBQy9DLDZDQUE2QywrREFBYTtBQUMxRDtBQUNBLG1CQUFtQixnRUFBZTtBQUNsQztBQUNBO0FBQ0EsaURBQWlELG9FQUFlO0FBQ2hFO0FBQ0E7QUFDQSwwREFBMEQsb0VBQWlCO0FBQzNFLHVDQUF1QztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMscUVBQWdCO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLDhCQUE4QixnRkFBdUI7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLDREQUFhO0FBQzNCLGNBQWMsNERBQWE7QUFDM0IsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxnRkFBdUI7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08seUJBQXlCLDhFQUFpQjtBQUNqRCIsInNvdXJjZXMiOlsid2VicGFjazovL25vZ2dsci8uL25vZGVfbW9kdWxlcy8ucG5wbS9AcmVvd24rYXBwa2l0LWNvbnRyb2xsZXJzQDEuOC4xMV9AcmVhY3QtbmF0aXZlLWFzeW5jLXN0b3JhZ2UrYXN5bmMtc3RvcmFnZUAyLjIuMF9yZWFjdC1fYTgwMzIxMjM4OTdlMDc5MzEzNzQyMzJjM2NjNGU1MzUvbm9kZV9tb2R1bGVzL0ByZW93bi9hcHBraXQtY29udHJvbGxlcnMvZGlzdC9lc20vc3JjL2NvbnRyb2xsZXJzL09uUmFtcENvbnRyb2xsZXIuanM/NmU4ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwcm94eSwgc3Vic2NyaWJlIGFzIHN1YiB9IGZyb20gJ3ZhbHRpby92YW5pbGxhJztcbmltcG9ydCB7IHN1YnNjcmliZUtleSBhcyBzdWJLZXkgfSBmcm9tICd2YWx0aW8vdmFuaWxsYS91dGlscyc7XG5pbXBvcnQgeyBDb25zdGFudHNVdGlsIH0gZnJvbSAnQHJlb3duL2FwcGtpdC1jb21tb24nO1xuaW1wb3J0IHsgTUVMRF9QVUJMSUNfS0VZLCBPTlJBTVBfUFJPVklERVJTIH0gZnJvbSAnLi4vdXRpbHMvQ29uc3RhbnRzVXRpbC5qcyc7XG5pbXBvcnQgeyB3aXRoRXJyb3JCb3VuZGFyeSB9IGZyb20gJy4uL3V0aWxzL3dpdGhFcnJvckJvdW5kYXJ5LmpzJztcbmltcG9ydCB7IEFwaUNvbnRyb2xsZXIgfSBmcm9tICcuL0FwaUNvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgQmxvY2tjaGFpbkFwaUNvbnRyb2xsZXIgfSBmcm9tICcuL0Jsb2NrY2hhaW5BcGlDb250cm9sbGVyLmpzJztcbmltcG9ydCB7IENoYWluQ29udHJvbGxlciB9IGZyb20gJy4vQ2hhaW5Db250cm9sbGVyLmpzJztcbmltcG9ydCB7IE9wdGlvbnNDb250cm9sbGVyIH0gZnJvbSAnLi9PcHRpb25zQ29udHJvbGxlci5qcyc7XG5leHBvcnQgY29uc3QgVVNEQ19DVVJSRU5DWV9ERUZBVUxUID0ge1xuICAgIGlkOiAnMmI5MjMxNWQtZWFiNy01YmVmLTg0ZmEtMDg5YTEzMTMzM2Y1JyxcbiAgICBuYW1lOiAnVVNEIENvaW4nLFxuICAgIHN5bWJvbDogJ1VTREMnLFxuICAgIG5ldHdvcmtzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICAgIG5hbWU6ICdldGhlcmV1bS1tYWlubmV0JyxcbiAgICAgICAgICAgIGRpc3BsYXlfbmFtZTogJ0V0aGVyZXVtJyxcbiAgICAgICAgICAgIGNoYWluX2lkOiAnMScsXG4gICAgICAgICAgICBjb250cmFjdF9hZGRyZXNzOiAnMHhBMGI4Njk5MWM2MjE4YjM2YzFkMTlENGEyZTlFYjBjRTM2MDZlQjQ4J1xuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBuYW1lOiAncG9seWdvbi1tYWlubmV0JyxcbiAgICAgICAgICAgIGRpc3BsYXlfbmFtZTogJ1BvbHlnb24nLFxuICAgICAgICAgICAgY2hhaW5faWQ6ICcxMzcnLFxuICAgICAgICAgICAgY29udHJhY3RfYWRkcmVzczogJzB4Mjc5MUJjYTFmMmRlNDY2MUVEODhBMzBDOTlBN2E5NDQ5QWE4NDE3NCdcbiAgICAgICAgfVxuICAgIF1cbn07XG5leHBvcnQgY29uc3QgVVNEX0NVUlJFTkNZX0RFRkFVTFQgPSB7XG4gICAgaWQ6ICdVU0QnLFxuICAgIHBheW1lbnRfbWV0aG9kX2xpbWl0czogW1xuICAgICAgICB7XG4gICAgICAgICAgICBpZDogJ2NhcmQnLFxuICAgICAgICAgICAgbWluOiAnMTAuMDAnLFxuICAgICAgICAgICAgbWF4OiAnNzUwMC4wMCdcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgaWQ6ICdhY2hfYmFua19hY2NvdW50JyxcbiAgICAgICAgICAgIG1pbjogJzEwLjAwJyxcbiAgICAgICAgICAgIG1heDogJzI1MDAwLjAwJ1xuICAgICAgICB9XG4gICAgXVxufTtcbmNvbnN0IGRlZmF1bHRTdGF0ZSA9IHtcbiAgICBwcm92aWRlcnM6IE9OUkFNUF9QUk9WSURFUlMsXG4gICAgc2VsZWN0ZWRQcm92aWRlcjogbnVsbCxcbiAgICBlcnJvcjogbnVsbCxcbiAgICBwdXJjaGFzZUN1cnJlbmN5OiBVU0RDX0NVUlJFTkNZX0RFRkFVTFQsXG4gICAgcGF5bWVudEN1cnJlbmN5OiBVU0RfQ1VSUkVOQ1lfREVGQVVMVCxcbiAgICBwdXJjaGFzZUN1cnJlbmNpZXM6IFtVU0RDX0NVUlJFTkNZX0RFRkFVTFRdLFxuICAgIHBheW1lbnRDdXJyZW5jaWVzOiBbXSxcbiAgICBxdW90ZXNMb2FkaW5nOiBmYWxzZVxufTtcbi8vIC0tIFN0YXRlIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuY29uc3Qgc3RhdGUgPSBwcm94eShkZWZhdWx0U3RhdGUpO1xuLy8gLS0gQ29udHJvbGxlciAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5jb25zdCBjb250cm9sbGVyID0ge1xuICAgIHN0YXRlLFxuICAgIHN1YnNjcmliZShjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gc3ViKHN0YXRlLCAoKSA9PiBjYWxsYmFjayhzdGF0ZSkpO1xuICAgIH0sXG4gICAgc3Vic2NyaWJlS2V5KGtleSwgY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIHN1YktleShzdGF0ZSwga2V5LCBjYWxsYmFjayk7XG4gICAgfSxcbiAgICBzZXRTZWxlY3RlZFByb3ZpZGVyKHByb3ZpZGVyKSB7XG4gICAgICAgIGlmIChwcm92aWRlciAmJiBwcm92aWRlci5uYW1lID09PSAnbWVsZCcpIHtcbiAgICAgICAgICAgIGNvbnN0IGFjdGl2ZUNoYWluID0gQ2hhaW5Db250cm9sbGVyLnN0YXRlLmFjdGl2ZUNoYWluO1xuICAgICAgICAgICAgY29uc3QgY3VycmVuY3kgPSBhY3RpdmVDaGFpbiA9PT0gQ29uc3RhbnRzVXRpbC5DSEFJTi5TT0xBTkEgPyAnU09MJyA6ICdVU0RDJztcbiAgICAgICAgICAgIGNvbnN0IGFkZHJlc3MgPSBhY3RpdmVDaGFpblxuICAgICAgICAgICAgICAgID8gKENoYWluQ29udHJvbGxlci5zdGF0ZS5jaGFpbnMuZ2V0KGFjdGl2ZUNoYWluKT8uYWNjb3VudFN0YXRlPy5hZGRyZXNzID8/ICcnKVxuICAgICAgICAgICAgICAgIDogJyc7XG4gICAgICAgICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKHByb3ZpZGVyLnVybCk7XG4gICAgICAgICAgICB1cmwuc2VhcmNoUGFyYW1zLmFwcGVuZCgncHVibGljS2V5JywgTUVMRF9QVUJMSUNfS0VZKTtcbiAgICAgICAgICAgIHVybC5zZWFyY2hQYXJhbXMuYXBwZW5kKCdkZXN0aW5hdGlvbkN1cnJlbmN5Q29kZScsIGN1cnJlbmN5KTtcbiAgICAgICAgICAgIHVybC5zZWFyY2hQYXJhbXMuYXBwZW5kKCd3YWxsZXRBZGRyZXNzJywgYWRkcmVzcyk7XG4gICAgICAgICAgICB1cmwuc2VhcmNoUGFyYW1zLmFwcGVuZCgnZXh0ZXJuYWxDdXN0b21lcklkJywgT3B0aW9uc0NvbnRyb2xsZXIuc3RhdGUucHJvamVjdElkKTtcbiAgICAgICAgICAgIHN0YXRlLnNlbGVjdGVkUHJvdmlkZXIgPSB7IC4uLnByb3ZpZGVyLCB1cmw6IHVybC50b1N0cmluZygpIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzdGF0ZS5zZWxlY3RlZFByb3ZpZGVyID0gcHJvdmlkZXI7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHNldE9ucmFtcFByb3ZpZGVycyhwcm92aWRlcnMpIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocHJvdmlkZXJzKSAmJiBwcm92aWRlcnMuZXZlcnkoaXRlbSA9PiB0eXBlb2YgaXRlbSA9PT0gJ3N0cmluZycpKSB7XG4gICAgICAgICAgICBjb25zdCB2YWxpZE9ucmFtcCA9IHByb3ZpZGVycztcbiAgICAgICAgICAgIGNvbnN0IG5ld1Byb3ZpZGVycyA9IE9OUkFNUF9QUk9WSURFUlMuZmlsdGVyKHByb3ZpZGVyID0+IHZhbGlkT25yYW1wLmluY2x1ZGVzKHByb3ZpZGVyLm5hbWUpKTtcbiAgICAgICAgICAgIHN0YXRlLnByb3ZpZGVycyA9IG5ld1Byb3ZpZGVycztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHN0YXRlLnByb3ZpZGVycyA9IFtdO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBzZXRQdXJjaGFzZUN1cnJlbmN5KGN1cnJlbmN5KSB7XG4gICAgICAgIHN0YXRlLnB1cmNoYXNlQ3VycmVuY3kgPSBjdXJyZW5jeTtcbiAgICB9LFxuICAgIHNldFBheW1lbnRDdXJyZW5jeShjdXJyZW5jeSkge1xuICAgICAgICBzdGF0ZS5wYXltZW50Q3VycmVuY3kgPSBjdXJyZW5jeTtcbiAgICB9LFxuICAgIHNldFB1cmNoYXNlQW1vdW50KGFtb3VudCkge1xuICAgICAgICBPblJhbXBDb250cm9sbGVyLnN0YXRlLnB1cmNoYXNlQW1vdW50ID0gYW1vdW50O1xuICAgIH0sXG4gICAgc2V0UGF5bWVudEFtb3VudChhbW91bnQpIHtcbiAgICAgICAgT25SYW1wQ29udHJvbGxlci5zdGF0ZS5wYXltZW50QW1vdW50ID0gYW1vdW50O1xuICAgIH0sXG4gICAgYXN5bmMgZ2V0QXZhaWxhYmxlQ3VycmVuY2llcygpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IGF3YWl0IEJsb2NrY2hhaW5BcGlDb250cm9sbGVyLmdldE9ucmFtcE9wdGlvbnMoKTtcbiAgICAgICAgc3RhdGUucHVyY2hhc2VDdXJyZW5jaWVzID0gb3B0aW9ucy5wdXJjaGFzZUN1cnJlbmNpZXM7XG4gICAgICAgIHN0YXRlLnBheW1lbnRDdXJyZW5jaWVzID0gb3B0aW9ucy5wYXltZW50Q3VycmVuY2llcztcbiAgICAgICAgc3RhdGUucGF5bWVudEN1cnJlbmN5ID0gb3B0aW9ucy5wYXltZW50Q3VycmVuY2llc1swXSB8fCBVU0RfQ1VSUkVOQ1lfREVGQVVMVDtcbiAgICAgICAgc3RhdGUucHVyY2hhc2VDdXJyZW5jeSA9IG9wdGlvbnMucHVyY2hhc2VDdXJyZW5jaWVzWzBdIHx8IFVTRENfQ1VSUkVOQ1lfREVGQVVMVDtcbiAgICAgICAgYXdhaXQgQXBpQ29udHJvbGxlci5mZXRjaEN1cnJlbmN5SW1hZ2VzKG9wdGlvbnMucGF5bWVudEN1cnJlbmNpZXMubWFwKGN1cnJlbmN5ID0+IGN1cnJlbmN5LmlkKSk7XG4gICAgICAgIGF3YWl0IEFwaUNvbnRyb2xsZXIuZmV0Y2hUb2tlbkltYWdlcyhvcHRpb25zLnB1cmNoYXNlQ3VycmVuY2llcy5tYXAoY3VycmVuY3kgPT4gY3VycmVuY3kuc3ltYm9sKSk7XG4gICAgfSxcbiAgICBhc3luYyBnZXRRdW90ZSgpIHtcbiAgICAgICAgc3RhdGUucXVvdGVzTG9hZGluZyA9IHRydWU7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBxdW90ZSA9IGF3YWl0IEJsb2NrY2hhaW5BcGlDb250cm9sbGVyLmdldE9ucmFtcFF1b3RlKHtcbiAgICAgICAgICAgICAgICBwdXJjaGFzZUN1cnJlbmN5OiBzdGF0ZS5wdXJjaGFzZUN1cnJlbmN5LFxuICAgICAgICAgICAgICAgIHBheW1lbnRDdXJyZW5jeTogc3RhdGUucGF5bWVudEN1cnJlbmN5LFxuICAgICAgICAgICAgICAgIGFtb3VudDogc3RhdGUucGF5bWVudEFtb3VudD8udG9TdHJpbmcoKSB8fCAnMCcsXG4gICAgICAgICAgICAgICAgbmV0d29yazogc3RhdGUucHVyY2hhc2VDdXJyZW5jeT8uc3ltYm9sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHN0YXRlLnF1b3Rlc0xvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHN0YXRlLnB1cmNoYXNlQW1vdW50ID0gTnVtYmVyKHF1b3RlPy5wdXJjaGFzZUFtb3VudC5hbW91bnQpO1xuICAgICAgICAgICAgcmV0dXJuIHF1b3RlO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgc3RhdGUuZXJyb3IgPSBlcnJvci5tZXNzYWdlO1xuICAgICAgICAgICAgc3RhdGUucXVvdGVzTG9hZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICBzdGF0ZS5xdW90ZXNMb2FkaW5nID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHJlc2V0U3RhdGUoKSB7XG4gICAgICAgIHN0YXRlLnNlbGVjdGVkUHJvdmlkZXIgPSBudWxsO1xuICAgICAgICBzdGF0ZS5lcnJvciA9IG51bGw7XG4gICAgICAgIHN0YXRlLnB1cmNoYXNlQ3VycmVuY3kgPSBVU0RDX0NVUlJFTkNZX0RFRkFVTFQ7XG4gICAgICAgIHN0YXRlLnBheW1lbnRDdXJyZW5jeSA9IFVTRF9DVVJSRU5DWV9ERUZBVUxUO1xuICAgICAgICBzdGF0ZS5wdXJjaGFzZUN1cnJlbmNpZXMgPSBbVVNEQ19DVVJSRU5DWV9ERUZBVUxUXTtcbiAgICAgICAgc3RhdGUucGF5bWVudEN1cnJlbmNpZXMgPSBbXTtcbiAgICAgICAgc3RhdGUucGF5bWVudEFtb3VudCA9IHVuZGVmaW5lZDtcbiAgICAgICAgc3RhdGUucHVyY2hhc2VBbW91bnQgPSB1bmRlZmluZWQ7XG4gICAgICAgIHN0YXRlLnF1b3Rlc0xvYWRpbmcgPSBmYWxzZTtcbiAgICB9XG59O1xuLy8gRXhwb3J0IHRoZSBjb250cm9sbGVyIHdyYXBwZWQgd2l0aCBvdXIgZXJyb3IgYm91bmRhcnlcbmV4cG9ydCBjb25zdCBPblJhbXBDb250cm9sbGVyID0gd2l0aEVycm9yQm91bmRhcnkoY29udHJvbGxlcik7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1PblJhbXBDb250cm9sbGVyLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/OnRampController.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/OptionsController.js":
/*!******************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/OptionsController.js ***!
  \******************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   OptionsController: () => (/* binding */ OptionsController)\n/* harmony export */ });\n/* harmony import */ var valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! valtio/vanilla */ \"(ssr)/./node_modules/.pnpm/valtio@2.1.7_@types+react@18.3.26_react@18.3.1/node_modules/valtio/esm/vanilla.mjs\");\n/* harmony import */ var valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! valtio/vanilla/utils */ \"(ssr)/./node_modules/.pnpm/valtio@2.1.7_@types+react@18.3.26_react@18.3.1/node_modules/valtio/esm/vanilla/utils.mjs\");\n/* harmony import */ var _utils_ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/ConstantsUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ConstantsUtil.js\");\n/* harmony import */ var _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/CoreHelperUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/CoreHelperUtil.js\");\n/* harmony import */ var _utils_OptionsUtil_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/OptionsUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/OptionsUtil.js\");\n\n\n\n\n\n// -- State --------------------------------------------- //\nconst state = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.proxy)({\n    features: _utils_ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_1__.ConstantsUtil.DEFAULT_FEATURES,\n    projectId: '',\n    sdkType: 'appkit',\n    sdkVersion: 'html-wagmi-undefined',\n    defaultAccountTypes: _utils_ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_1__.ConstantsUtil.DEFAULT_ACCOUNT_TYPES,\n    enableNetworkSwitch: true,\n    experimental_preferUniversalLinks: false,\n    remoteFeatures: {},\n    enableMobileFullScreen: false,\n    coinbasePreference: 'all'\n});\n// -- Controller ---------------------------------------- //\nconst OptionsController = {\n    state,\n    subscribeKey(key, callback) {\n        return (0,valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_2__.subscribeKey)(state, key, callback);\n    },\n    setOptions(options) {\n        Object.assign(state, options);\n    },\n    setRemoteFeatures(remoteFeatures) {\n        if (!remoteFeatures) {\n            return;\n        }\n        const newRemoteFeatures = { ...state.remoteFeatures, ...remoteFeatures };\n        state.remoteFeatures = newRemoteFeatures;\n        if (state.remoteFeatures?.socials) {\n            state.remoteFeatures.socials = _utils_OptionsUtil_js__WEBPACK_IMPORTED_MODULE_3__.OptionsUtil.filterSocialsByPlatform(state.remoteFeatures.socials);\n        }\n        if (state.features?.pay) {\n            state.remoteFeatures.email = false;\n            state.remoteFeatures.socials = false;\n        }\n    },\n    setFeatures(features) {\n        if (!features) {\n            return;\n        }\n        if (!state.features) {\n            state.features = _utils_ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_1__.ConstantsUtil.DEFAULT_FEATURES;\n        }\n        const newFeatures = { ...state.features, ...features };\n        state.features = newFeatures;\n        if (state.features?.pay && state.remoteFeatures) {\n            state.remoteFeatures.email = false;\n            state.remoteFeatures.socials = false;\n        }\n    },\n    setProjectId(projectId) {\n        state.projectId = projectId;\n    },\n    setCustomRpcUrls(customRpcUrls) {\n        state.customRpcUrls = customRpcUrls;\n    },\n    setAllWallets(allWallets) {\n        state.allWallets = allWallets;\n    },\n    setIncludeWalletIds(includeWalletIds) {\n        state.includeWalletIds = includeWalletIds;\n    },\n    setExcludeWalletIds(excludeWalletIds) {\n        state.excludeWalletIds = excludeWalletIds;\n    },\n    setFeaturedWalletIds(featuredWalletIds) {\n        state.featuredWalletIds = featuredWalletIds;\n    },\n    setTokens(tokens) {\n        state.tokens = tokens;\n    },\n    setTermsConditionsUrl(termsConditionsUrl) {\n        state.termsConditionsUrl = termsConditionsUrl;\n    },\n    setPrivacyPolicyUrl(privacyPolicyUrl) {\n        state.privacyPolicyUrl = privacyPolicyUrl;\n    },\n    setCustomWallets(customWallets) {\n        state.customWallets = customWallets;\n    },\n    setIsSiweEnabled(isSiweEnabled) {\n        state.isSiweEnabled = isSiweEnabled;\n    },\n    setIsUniversalProvider(isUniversalProvider) {\n        state.isUniversalProvider = isUniversalProvider;\n    },\n    setSdkVersion(sdkVersion) {\n        state.sdkVersion = sdkVersion;\n    },\n    setMetadata(metadata) {\n        state.metadata = metadata;\n    },\n    setDisableAppend(disableAppend) {\n        state.disableAppend = disableAppend;\n    },\n    setEIP6963Enabled(enableEIP6963) {\n        state.enableEIP6963 = enableEIP6963;\n    },\n    setDebug(debug) {\n        state.debug = debug;\n    },\n    setEnableWalletGuide(enableWalletGuide) {\n        state.enableWalletGuide = enableWalletGuide;\n    },\n    setEnableAuthLogger(enableAuthLogger) {\n        state.enableAuthLogger = enableAuthLogger;\n    },\n    setEnableWallets(enableWallets) {\n        state.enableWallets = enableWallets;\n    },\n    setPreferUniversalLinks(preferUniversalLinks) {\n        state.experimental_preferUniversalLinks = preferUniversalLinks;\n    },\n    setSIWX(siwx) {\n        if (siwx) {\n            for (const [key, isVal] of Object.entries(_utils_ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_1__.ConstantsUtil.SIWX_DEFAULTS)) {\n                /*\n                 * Only writes when siwx[key] is null or undefined\n                 * (use ||= if you only want to check falsy, not recommended here)\n                 */\n                siwx[key] ??= isVal;\n            }\n        }\n        state.siwx = siwx;\n    },\n    setConnectMethodsOrder(connectMethodsOrder) {\n        state.features = {\n            ...state.features,\n            connectMethodsOrder\n        };\n    },\n    setWalletFeaturesOrder(walletFeaturesOrder) {\n        state.features = {\n            ...state.features,\n            walletFeaturesOrder\n        };\n    },\n    setSocialsOrder(socialsOrder) {\n        state.remoteFeatures = {\n            ...state.remoteFeatures,\n            socials: socialsOrder\n        };\n    },\n    setCollapseWallets(collapseWallets) {\n        state.features = {\n            ...state.features,\n            collapseWallets\n        };\n    },\n    setEnableEmbedded(enableEmbedded) {\n        state.enableEmbedded = enableEmbedded;\n    },\n    setAllowUnsupportedChain(allowUnsupportedChain) {\n        state.allowUnsupportedChain = allowUnsupportedChain;\n    },\n    setManualWCControl(manualWCControl) {\n        state.manualWCControl = manualWCControl;\n    },\n    setEnableNetworkSwitch(enableNetworkSwitch) {\n        state.enableNetworkSwitch = enableNetworkSwitch;\n    },\n    setEnableMobileFullScreen(enableMobileFullScreen) {\n        state.enableMobileFullScreen = _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_4__.CoreHelperUtil.isMobile() && enableMobileFullScreen;\n    },\n    setEnableReconnect(enableReconnect) {\n        state.enableReconnect = enableReconnect;\n    },\n    setCoinbasePreference(coinbasePreference) {\n        state.coinbasePreference = coinbasePreference;\n    },\n    setDefaultAccountTypes(defaultAccountType = {}) {\n        Object.entries(defaultAccountType).forEach(([namespace, accountType]) => {\n            if (accountType) {\n                // @ts-expect-error - Keys are validated by the param type\n                state.defaultAccountTypes[namespace] = accountType;\n            }\n        });\n    },\n    setUniversalProviderConfigOverride(universalProviderConfigOverride) {\n        state.universalProviderConfigOverride = universalProviderConfigOverride;\n    },\n    getUniversalProviderConfigOverride() {\n        return state.universalProviderConfigOverride;\n    },\n    getSnapshot() {\n        return (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.snapshot)(state);\n    }\n};\n//# sourceMappingURL=OptionsController.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTFfQHJlYWN0LW5hdGl2ZS1hc3luYy1zdG9yYWdlK2FzeW5jLXN0b3JhZ2VAMi4yLjBfcmVhY3QtX2E4MDMyMTIzODk3ZTA3OTMxMzc0MjMyYzNjYzRlNTM1L25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9PcHRpb25zQ29udHJvbGxlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBaUQ7QUFDYTtBQUNKO0FBQ0U7QUFDTjtBQUN0RDtBQUNBLGNBQWMscURBQUs7QUFDbkIsY0FBYyxrRUFBYTtBQUMzQjtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsa0VBQWE7QUFDdEM7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ087QUFDUDtBQUNBO0FBQ0EsZUFBZSxrRUFBTTtBQUNyQixLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQztBQUNwQztBQUNBO0FBQ0EsMkNBQTJDLDhEQUFXO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixrRUFBYTtBQUMxQztBQUNBLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxzREFBc0Qsa0VBQWE7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSx1Q0FBdUMsb0VBQWM7QUFDckQsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTCxrREFBa0Q7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsZUFBZSx3REFBUTtBQUN2QjtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ub2dnbHIvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTFfQHJlYWN0LW5hdGl2ZS1hc3luYy1zdG9yYWdlK2FzeW5jLXN0b3JhZ2VAMi4yLjBfcmVhY3QtX2E4MDMyMTIzODk3ZTA3OTMxMzc0MjMyYzNjYzRlNTM1L25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9PcHRpb25zQ29udHJvbGxlci5qcz8zZDBkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHByb3h5LCBzbmFwc2hvdCB9IGZyb20gJ3ZhbHRpby92YW5pbGxhJztcbmltcG9ydCB7IHN1YnNjcmliZUtleSBhcyBzdWJLZXkgfSBmcm9tICd2YWx0aW8vdmFuaWxsYS91dGlscyc7XG5pbXBvcnQgeyBDb25zdGFudHNVdGlsIH0gZnJvbSAnLi4vdXRpbHMvQ29uc3RhbnRzVXRpbC5qcyc7XG5pbXBvcnQgeyBDb3JlSGVscGVyVXRpbCB9IGZyb20gJy4uL3V0aWxzL0NvcmVIZWxwZXJVdGlsLmpzJztcbmltcG9ydCB7IE9wdGlvbnNVdGlsIH0gZnJvbSAnLi4vdXRpbHMvT3B0aW9uc1V0aWwuanMnO1xuLy8gLS0gU3RhdGUgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5jb25zdCBzdGF0ZSA9IHByb3h5KHtcbiAgICBmZWF0dXJlczogQ29uc3RhbnRzVXRpbC5ERUZBVUxUX0ZFQVRVUkVTLFxuICAgIHByb2plY3RJZDogJycsXG4gICAgc2RrVHlwZTogJ2FwcGtpdCcsXG4gICAgc2RrVmVyc2lvbjogJ2h0bWwtd2FnbWktdW5kZWZpbmVkJyxcbiAgICBkZWZhdWx0QWNjb3VudFR5cGVzOiBDb25zdGFudHNVdGlsLkRFRkFVTFRfQUNDT1VOVF9UWVBFUyxcbiAgICBlbmFibGVOZXR3b3JrU3dpdGNoOiB0cnVlLFxuICAgIGV4cGVyaW1lbnRhbF9wcmVmZXJVbml2ZXJzYWxMaW5rczogZmFsc2UsXG4gICAgcmVtb3RlRmVhdHVyZXM6IHt9LFxuICAgIGVuYWJsZU1vYmlsZUZ1bGxTY3JlZW46IGZhbHNlLFxuICAgIGNvaW5iYXNlUHJlZmVyZW5jZTogJ2FsbCdcbn0pO1xuLy8gLS0gQ29udHJvbGxlciAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5leHBvcnQgY29uc3QgT3B0aW9uc0NvbnRyb2xsZXIgPSB7XG4gICAgc3RhdGUsXG4gICAgc3Vic2NyaWJlS2V5KGtleSwgY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIHN1YktleShzdGF0ZSwga2V5LCBjYWxsYmFjayk7XG4gICAgfSxcbiAgICBzZXRPcHRpb25zKG9wdGlvbnMpIHtcbiAgICAgICAgT2JqZWN0LmFzc2lnbihzdGF0ZSwgb3B0aW9ucyk7XG4gICAgfSxcbiAgICBzZXRSZW1vdGVGZWF0dXJlcyhyZW1vdGVGZWF0dXJlcykge1xuICAgICAgICBpZiAoIXJlbW90ZUZlYXR1cmVzKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbmV3UmVtb3RlRmVhdHVyZXMgPSB7IC4uLnN0YXRlLnJlbW90ZUZlYXR1cmVzLCAuLi5yZW1vdGVGZWF0dXJlcyB9O1xuICAgICAgICBzdGF0ZS5yZW1vdGVGZWF0dXJlcyA9IG5ld1JlbW90ZUZlYXR1cmVzO1xuICAgICAgICBpZiAoc3RhdGUucmVtb3RlRmVhdHVyZXM/LnNvY2lhbHMpIHtcbiAgICAgICAgICAgIHN0YXRlLnJlbW90ZUZlYXR1cmVzLnNvY2lhbHMgPSBPcHRpb25zVXRpbC5maWx0ZXJTb2NpYWxzQnlQbGF0Zm9ybShzdGF0ZS5yZW1vdGVGZWF0dXJlcy5zb2NpYWxzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhdGUuZmVhdHVyZXM/LnBheSkge1xuICAgICAgICAgICAgc3RhdGUucmVtb3RlRmVhdHVyZXMuZW1haWwgPSBmYWxzZTtcbiAgICAgICAgICAgIHN0YXRlLnJlbW90ZUZlYXR1cmVzLnNvY2lhbHMgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgc2V0RmVhdHVyZXMoZmVhdHVyZXMpIHtcbiAgICAgICAgaWYgKCFmZWF0dXJlcykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghc3RhdGUuZmVhdHVyZXMpIHtcbiAgICAgICAgICAgIHN0YXRlLmZlYXR1cmVzID0gQ29uc3RhbnRzVXRpbC5ERUZBVUxUX0ZFQVRVUkVTO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG5ld0ZlYXR1cmVzID0geyAuLi5zdGF0ZS5mZWF0dXJlcywgLi4uZmVhdHVyZXMgfTtcbiAgICAgICAgc3RhdGUuZmVhdHVyZXMgPSBuZXdGZWF0dXJlcztcbiAgICAgICAgaWYgKHN0YXRlLmZlYXR1cmVzPy5wYXkgJiYgc3RhdGUucmVtb3RlRmVhdHVyZXMpIHtcbiAgICAgICAgICAgIHN0YXRlLnJlbW90ZUZlYXR1cmVzLmVtYWlsID0gZmFsc2U7XG4gICAgICAgICAgICBzdGF0ZS5yZW1vdGVGZWF0dXJlcy5zb2NpYWxzID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHNldFByb2plY3RJZChwcm9qZWN0SWQpIHtcbiAgICAgICAgc3RhdGUucHJvamVjdElkID0gcHJvamVjdElkO1xuICAgIH0sXG4gICAgc2V0Q3VzdG9tUnBjVXJscyhjdXN0b21ScGNVcmxzKSB7XG4gICAgICAgIHN0YXRlLmN1c3RvbVJwY1VybHMgPSBjdXN0b21ScGNVcmxzO1xuICAgIH0sXG4gICAgc2V0QWxsV2FsbGV0cyhhbGxXYWxsZXRzKSB7XG4gICAgICAgIHN0YXRlLmFsbFdhbGxldHMgPSBhbGxXYWxsZXRzO1xuICAgIH0sXG4gICAgc2V0SW5jbHVkZVdhbGxldElkcyhpbmNsdWRlV2FsbGV0SWRzKSB7XG4gICAgICAgIHN0YXRlLmluY2x1ZGVXYWxsZXRJZHMgPSBpbmNsdWRlV2FsbGV0SWRzO1xuICAgIH0sXG4gICAgc2V0RXhjbHVkZVdhbGxldElkcyhleGNsdWRlV2FsbGV0SWRzKSB7XG4gICAgICAgIHN0YXRlLmV4Y2x1ZGVXYWxsZXRJZHMgPSBleGNsdWRlV2FsbGV0SWRzO1xuICAgIH0sXG4gICAgc2V0RmVhdHVyZWRXYWxsZXRJZHMoZmVhdHVyZWRXYWxsZXRJZHMpIHtcbiAgICAgICAgc3RhdGUuZmVhdHVyZWRXYWxsZXRJZHMgPSBmZWF0dXJlZFdhbGxldElkcztcbiAgICB9LFxuICAgIHNldFRva2Vucyh0b2tlbnMpIHtcbiAgICAgICAgc3RhdGUudG9rZW5zID0gdG9rZW5zO1xuICAgIH0sXG4gICAgc2V0VGVybXNDb25kaXRpb25zVXJsKHRlcm1zQ29uZGl0aW9uc1VybCkge1xuICAgICAgICBzdGF0ZS50ZXJtc0NvbmRpdGlvbnNVcmwgPSB0ZXJtc0NvbmRpdGlvbnNVcmw7XG4gICAgfSxcbiAgICBzZXRQcml2YWN5UG9saWN5VXJsKHByaXZhY3lQb2xpY3lVcmwpIHtcbiAgICAgICAgc3RhdGUucHJpdmFjeVBvbGljeVVybCA9IHByaXZhY3lQb2xpY3lVcmw7XG4gICAgfSxcbiAgICBzZXRDdXN0b21XYWxsZXRzKGN1c3RvbVdhbGxldHMpIHtcbiAgICAgICAgc3RhdGUuY3VzdG9tV2FsbGV0cyA9IGN1c3RvbVdhbGxldHM7XG4gICAgfSxcbiAgICBzZXRJc1Npd2VFbmFibGVkKGlzU2l3ZUVuYWJsZWQpIHtcbiAgICAgICAgc3RhdGUuaXNTaXdlRW5hYmxlZCA9IGlzU2l3ZUVuYWJsZWQ7XG4gICAgfSxcbiAgICBzZXRJc1VuaXZlcnNhbFByb3ZpZGVyKGlzVW5pdmVyc2FsUHJvdmlkZXIpIHtcbiAgICAgICAgc3RhdGUuaXNVbml2ZXJzYWxQcm92aWRlciA9IGlzVW5pdmVyc2FsUHJvdmlkZXI7XG4gICAgfSxcbiAgICBzZXRTZGtWZXJzaW9uKHNka1ZlcnNpb24pIHtcbiAgICAgICAgc3RhdGUuc2RrVmVyc2lvbiA9IHNka1ZlcnNpb247XG4gICAgfSxcbiAgICBzZXRNZXRhZGF0YShtZXRhZGF0YSkge1xuICAgICAgICBzdGF0ZS5tZXRhZGF0YSA9IG1ldGFkYXRhO1xuICAgIH0sXG4gICAgc2V0RGlzYWJsZUFwcGVuZChkaXNhYmxlQXBwZW5kKSB7XG4gICAgICAgIHN0YXRlLmRpc2FibGVBcHBlbmQgPSBkaXNhYmxlQXBwZW5kO1xuICAgIH0sXG4gICAgc2V0RUlQNjk2M0VuYWJsZWQoZW5hYmxlRUlQNjk2Mykge1xuICAgICAgICBzdGF0ZS5lbmFibGVFSVA2OTYzID0gZW5hYmxlRUlQNjk2MztcbiAgICB9LFxuICAgIHNldERlYnVnKGRlYnVnKSB7XG4gICAgICAgIHN0YXRlLmRlYnVnID0gZGVidWc7XG4gICAgfSxcbiAgICBzZXRFbmFibGVXYWxsZXRHdWlkZShlbmFibGVXYWxsZXRHdWlkZSkge1xuICAgICAgICBzdGF0ZS5lbmFibGVXYWxsZXRHdWlkZSA9IGVuYWJsZVdhbGxldEd1aWRlO1xuICAgIH0sXG4gICAgc2V0RW5hYmxlQXV0aExvZ2dlcihlbmFibGVBdXRoTG9nZ2VyKSB7XG4gICAgICAgIHN0YXRlLmVuYWJsZUF1dGhMb2dnZXIgPSBlbmFibGVBdXRoTG9nZ2VyO1xuICAgIH0sXG4gICAgc2V0RW5hYmxlV2FsbGV0cyhlbmFibGVXYWxsZXRzKSB7XG4gICAgICAgIHN0YXRlLmVuYWJsZVdhbGxldHMgPSBlbmFibGVXYWxsZXRzO1xuICAgIH0sXG4gICAgc2V0UHJlZmVyVW5pdmVyc2FsTGlua3MocHJlZmVyVW5pdmVyc2FsTGlua3MpIHtcbiAgICAgICAgc3RhdGUuZXhwZXJpbWVudGFsX3ByZWZlclVuaXZlcnNhbExpbmtzID0gcHJlZmVyVW5pdmVyc2FsTGlua3M7XG4gICAgfSxcbiAgICBzZXRTSVdYKHNpd3gpIHtcbiAgICAgICAgaWYgKHNpd3gpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgW2tleSwgaXNWYWxdIG9mIE9iamVjdC5lbnRyaWVzKENvbnN0YW50c1V0aWwuU0lXWF9ERUZBVUxUUykpIHtcbiAgICAgICAgICAgICAgICAvKlxuICAgICAgICAgICAgICAgICAqIE9ubHkgd3JpdGVzIHdoZW4gc2l3eFtrZXldIGlzIG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICogKHVzZSB8fD0gaWYgeW91IG9ubHkgd2FudCB0byBjaGVjayDigJxmYWxzeeKAnSwgbm90IHJlY29tbWVuZGVkIGhlcmUpXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgc2l3eFtrZXldID8/PSBpc1ZhbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzdGF0ZS5zaXd4ID0gc2l3eDtcbiAgICB9LFxuICAgIHNldENvbm5lY3RNZXRob2RzT3JkZXIoY29ubmVjdE1ldGhvZHNPcmRlcikge1xuICAgICAgICBzdGF0ZS5mZWF0dXJlcyA9IHtcbiAgICAgICAgICAgIC4uLnN0YXRlLmZlYXR1cmVzLFxuICAgICAgICAgICAgY29ubmVjdE1ldGhvZHNPcmRlclxuICAgICAgICB9O1xuICAgIH0sXG4gICAgc2V0V2FsbGV0RmVhdHVyZXNPcmRlcih3YWxsZXRGZWF0dXJlc09yZGVyKSB7XG4gICAgICAgIHN0YXRlLmZlYXR1cmVzID0ge1xuICAgICAgICAgICAgLi4uc3RhdGUuZmVhdHVyZXMsXG4gICAgICAgICAgICB3YWxsZXRGZWF0dXJlc09yZGVyXG4gICAgICAgIH07XG4gICAgfSxcbiAgICBzZXRTb2NpYWxzT3JkZXIoc29jaWFsc09yZGVyKSB7XG4gICAgICAgIHN0YXRlLnJlbW90ZUZlYXR1cmVzID0ge1xuICAgICAgICAgICAgLi4uc3RhdGUucmVtb3RlRmVhdHVyZXMsXG4gICAgICAgICAgICBzb2NpYWxzOiBzb2NpYWxzT3JkZXJcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIHNldENvbGxhcHNlV2FsbGV0cyhjb2xsYXBzZVdhbGxldHMpIHtcbiAgICAgICAgc3RhdGUuZmVhdHVyZXMgPSB7XG4gICAgICAgICAgICAuLi5zdGF0ZS5mZWF0dXJlcyxcbiAgICAgICAgICAgIGNvbGxhcHNlV2FsbGV0c1xuICAgICAgICB9O1xuICAgIH0sXG4gICAgc2V0RW5hYmxlRW1iZWRkZWQoZW5hYmxlRW1iZWRkZWQpIHtcbiAgICAgICAgc3RhdGUuZW5hYmxlRW1iZWRkZWQgPSBlbmFibGVFbWJlZGRlZDtcbiAgICB9LFxuICAgIHNldEFsbG93VW5zdXBwb3J0ZWRDaGFpbihhbGxvd1Vuc3VwcG9ydGVkQ2hhaW4pIHtcbiAgICAgICAgc3RhdGUuYWxsb3dVbnN1cHBvcnRlZENoYWluID0gYWxsb3dVbnN1cHBvcnRlZENoYWluO1xuICAgIH0sXG4gICAgc2V0TWFudWFsV0NDb250cm9sKG1hbnVhbFdDQ29udHJvbCkge1xuICAgICAgICBzdGF0ZS5tYW51YWxXQ0NvbnRyb2wgPSBtYW51YWxXQ0NvbnRyb2w7XG4gICAgfSxcbiAgICBzZXRFbmFibGVOZXR3b3JrU3dpdGNoKGVuYWJsZU5ldHdvcmtTd2l0Y2gpIHtcbiAgICAgICAgc3RhdGUuZW5hYmxlTmV0d29ya1N3aXRjaCA9IGVuYWJsZU5ldHdvcmtTd2l0Y2g7XG4gICAgfSxcbiAgICBzZXRFbmFibGVNb2JpbGVGdWxsU2NyZWVuKGVuYWJsZU1vYmlsZUZ1bGxTY3JlZW4pIHtcbiAgICAgICAgc3RhdGUuZW5hYmxlTW9iaWxlRnVsbFNjcmVlbiA9IENvcmVIZWxwZXJVdGlsLmlzTW9iaWxlKCkgJiYgZW5hYmxlTW9iaWxlRnVsbFNjcmVlbjtcbiAgICB9LFxuICAgIHNldEVuYWJsZVJlY29ubmVjdChlbmFibGVSZWNvbm5lY3QpIHtcbiAgICAgICAgc3RhdGUuZW5hYmxlUmVjb25uZWN0ID0gZW5hYmxlUmVjb25uZWN0O1xuICAgIH0sXG4gICAgc2V0Q29pbmJhc2VQcmVmZXJlbmNlKGNvaW5iYXNlUHJlZmVyZW5jZSkge1xuICAgICAgICBzdGF0ZS5jb2luYmFzZVByZWZlcmVuY2UgPSBjb2luYmFzZVByZWZlcmVuY2U7XG4gICAgfSxcbiAgICBzZXREZWZhdWx0QWNjb3VudFR5cGVzKGRlZmF1bHRBY2NvdW50VHlwZSA9IHt9KSB7XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKGRlZmF1bHRBY2NvdW50VHlwZSkuZm9yRWFjaCgoW25hbWVzcGFjZSwgYWNjb3VudFR5cGVdKSA9PiB7XG4gICAgICAgICAgICBpZiAoYWNjb3VudFR5cGUpIHtcbiAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gS2V5cyBhcmUgdmFsaWRhdGVkIGJ5IHRoZSBwYXJhbSB0eXBlXG4gICAgICAgICAgICAgICAgc3RhdGUuZGVmYXVsdEFjY291bnRUeXBlc1tuYW1lc3BhY2VdID0gYWNjb3VudFR5cGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgc2V0VW5pdmVyc2FsUHJvdmlkZXJDb25maWdPdmVycmlkZSh1bml2ZXJzYWxQcm92aWRlckNvbmZpZ092ZXJyaWRlKSB7XG4gICAgICAgIHN0YXRlLnVuaXZlcnNhbFByb3ZpZGVyQ29uZmlnT3ZlcnJpZGUgPSB1bml2ZXJzYWxQcm92aWRlckNvbmZpZ092ZXJyaWRlO1xuICAgIH0sXG4gICAgZ2V0VW5pdmVyc2FsUHJvdmlkZXJDb25maWdPdmVycmlkZSgpIHtcbiAgICAgICAgcmV0dXJuIHN0YXRlLnVuaXZlcnNhbFByb3ZpZGVyQ29uZmlnT3ZlcnJpZGU7XG4gICAgfSxcbiAgICBnZXRTbmFwc2hvdCgpIHtcbiAgICAgICAgcmV0dXJuIHNuYXBzaG90KHN0YXRlKTtcbiAgICB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9T3B0aW9uc0NvbnRyb2xsZXIuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/OptionsController.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ProviderController.js":
/*!*******************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ProviderController.js ***!
  \*******************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ProviderController: () => (/* binding */ ProviderController)\n/* harmony export */ });\n/* harmony import */ var valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! valtio/vanilla */ \"(ssr)/./node_modules/.pnpm/valtio@2.1.7_@types+react@18.3.26_react@18.3.1/node_modules/valtio/esm/vanilla.mjs\");\n/* harmony import */ var valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! valtio/vanilla/utils */ \"(ssr)/./node_modules/.pnpm/valtio@2.1.7_@types+react@18.3.26_react@18.3.1/node_modules/valtio/esm/vanilla/utils.mjs\");\n\n\nconst CLEAN_PROVIDERS_STATE = {\n    eip155: undefined,\n    solana: undefined,\n    polkadot: undefined,\n    bip122: undefined,\n    cosmos: undefined,\n    sui: undefined,\n    stacks: undefined\n};\nconst state = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.proxy)({\n    providers: { ...CLEAN_PROVIDERS_STATE },\n    providerIds: { ...CLEAN_PROVIDERS_STATE }\n});\nconst ProviderController = {\n    state,\n    subscribeKey(key, callback) {\n        return (0,valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_1__.subscribeKey)(state, key, callback);\n    },\n    subscribe(callback) {\n        return (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.subscribe)(state, () => {\n            callback(state);\n        });\n    },\n    subscribeProviders(callback) {\n        return (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.subscribe)(state.providers, () => callback(state.providers));\n    },\n    setProvider(chainNamespace, provider) {\n        if (chainNamespace && provider) {\n            state.providers[chainNamespace] = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.ref)(provider);\n        }\n    },\n    getProvider(chainNamespace) {\n        if (!chainNamespace) {\n            return undefined;\n        }\n        return state.providers[chainNamespace];\n    },\n    setProviderId(chainNamespace, providerId) {\n        if (providerId) {\n            state.providerIds[chainNamespace] = providerId;\n        }\n    },\n    getProviderId(chainNamespace) {\n        if (!chainNamespace) {\n            return undefined;\n        }\n        return state.providerIds[chainNamespace];\n    },\n    reset() {\n        state.providers = { ...CLEAN_PROVIDERS_STATE };\n        state.providerIds = { ...CLEAN_PROVIDERS_STATE };\n    },\n    resetChain(chainNamespace) {\n        state.providers[chainNamespace] = undefined;\n        state.providerIds[chainNamespace] = undefined;\n    }\n};\n//# sourceMappingURL=ProviderController.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTFfQHJlYWN0LW5hdGl2ZS1hc3luYy1zdG9yYWdlK2FzeW5jLXN0b3JhZ2VAMi4yLjBfcmVhY3QtX2E4MDMyMTIzODk3ZTA3OTMxMzc0MjMyYzNjYzRlNTM1L25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9Qcm92aWRlckNvbnRyb2xsZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQXVEO0FBQ087QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxxREFBSztBQUNuQixpQkFBaUIsMEJBQTBCO0FBQzNDLG1CQUFtQjtBQUNuQixDQUFDO0FBQ007QUFDUDtBQUNBO0FBQ0EsZUFBZSxrRUFBTTtBQUNyQixLQUFLO0FBQ0w7QUFDQSxlQUFlLHlEQUFTO0FBQ3hCO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBLGVBQWUseURBQVM7QUFDeEIsS0FBSztBQUNMO0FBQ0E7QUFDQSw4Q0FBOEMsbURBQUc7QUFDakQ7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsNEJBQTRCO0FBQzVCLDhCQUE4QjtBQUM5QixLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm9nZ2xyLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0ByZW93bithcHBraXQtY29udHJvbGxlcnNAMS44LjExX0ByZWFjdC1uYXRpdmUtYXN5bmMtc3RvcmFnZSthc3luYy1zdG9yYWdlQDIuMi4wX3JlYWN0LV9hODAzMjEyMzg5N2UwNzkzMTM3NDIzMmMzY2M0ZTUzNS9ub2RlX21vZHVsZXMvQHJlb3duL2FwcGtpdC1jb250cm9sbGVycy9kaXN0L2VzbS9zcmMvY29udHJvbGxlcnMvUHJvdmlkZXJDb250cm9sbGVyLmpzPzczYTgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcHJveHksIHJlZiwgc3Vic2NyaWJlIH0gZnJvbSAndmFsdGlvL3ZhbmlsbGEnO1xuaW1wb3J0IHsgc3Vic2NyaWJlS2V5IGFzIHN1YktleSB9IGZyb20gJ3ZhbHRpby92YW5pbGxhL3V0aWxzJztcbmNvbnN0IENMRUFOX1BST1ZJREVSU19TVEFURSA9IHtcbiAgICBlaXAxNTU6IHVuZGVmaW5lZCxcbiAgICBzb2xhbmE6IHVuZGVmaW5lZCxcbiAgICBwb2xrYWRvdDogdW5kZWZpbmVkLFxuICAgIGJpcDEyMjogdW5kZWZpbmVkLFxuICAgIGNvc21vczogdW5kZWZpbmVkLFxuICAgIHN1aTogdW5kZWZpbmVkLFxuICAgIHN0YWNrczogdW5kZWZpbmVkXG59O1xuY29uc3Qgc3RhdGUgPSBwcm94eSh7XG4gICAgcHJvdmlkZXJzOiB7IC4uLkNMRUFOX1BST1ZJREVSU19TVEFURSB9LFxuICAgIHByb3ZpZGVySWRzOiB7IC4uLkNMRUFOX1BST1ZJREVSU19TVEFURSB9XG59KTtcbmV4cG9ydCBjb25zdCBQcm92aWRlckNvbnRyb2xsZXIgPSB7XG4gICAgc3RhdGUsXG4gICAgc3Vic2NyaWJlS2V5KGtleSwgY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIHN1YktleShzdGF0ZSwga2V5LCBjYWxsYmFjayk7XG4gICAgfSxcbiAgICBzdWJzY3JpYmUoY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIHN1YnNjcmliZShzdGF0ZSwgKCkgPT4ge1xuICAgICAgICAgICAgY2FsbGJhY2soc3RhdGUpO1xuICAgICAgICB9KTtcbiAgICB9LFxuICAgIHN1YnNjcmliZVByb3ZpZGVycyhjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gc3Vic2NyaWJlKHN0YXRlLnByb3ZpZGVycywgKCkgPT4gY2FsbGJhY2soc3RhdGUucHJvdmlkZXJzKSk7XG4gICAgfSxcbiAgICBzZXRQcm92aWRlcihjaGFpbk5hbWVzcGFjZSwgcHJvdmlkZXIpIHtcbiAgICAgICAgaWYgKGNoYWluTmFtZXNwYWNlICYmIHByb3ZpZGVyKSB7XG4gICAgICAgICAgICBzdGF0ZS5wcm92aWRlcnNbY2hhaW5OYW1lc3BhY2VdID0gcmVmKHByb3ZpZGVyKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgZ2V0UHJvdmlkZXIoY2hhaW5OYW1lc3BhY2UpIHtcbiAgICAgICAgaWYgKCFjaGFpbk5hbWVzcGFjZSkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3RhdGUucHJvdmlkZXJzW2NoYWluTmFtZXNwYWNlXTtcbiAgICB9LFxuICAgIHNldFByb3ZpZGVySWQoY2hhaW5OYW1lc3BhY2UsIHByb3ZpZGVySWQpIHtcbiAgICAgICAgaWYgKHByb3ZpZGVySWQpIHtcbiAgICAgICAgICAgIHN0YXRlLnByb3ZpZGVySWRzW2NoYWluTmFtZXNwYWNlXSA9IHByb3ZpZGVySWQ7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGdldFByb3ZpZGVySWQoY2hhaW5OYW1lc3BhY2UpIHtcbiAgICAgICAgaWYgKCFjaGFpbk5hbWVzcGFjZSkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3RhdGUucHJvdmlkZXJJZHNbY2hhaW5OYW1lc3BhY2VdO1xuICAgIH0sXG4gICAgcmVzZXQoKSB7XG4gICAgICAgIHN0YXRlLnByb3ZpZGVycyA9IHsgLi4uQ0xFQU5fUFJPVklERVJTX1NUQVRFIH07XG4gICAgICAgIHN0YXRlLnByb3ZpZGVySWRzID0geyAuLi5DTEVBTl9QUk9WSURFUlNfU1RBVEUgfTtcbiAgICB9LFxuICAgIHJlc2V0Q2hhaW4oY2hhaW5OYW1lc3BhY2UpIHtcbiAgICAgICAgc3RhdGUucHJvdmlkZXJzW2NoYWluTmFtZXNwYWNlXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgc3RhdGUucHJvdmlkZXJJZHNbY2hhaW5OYW1lc3BhY2VdID0gdW5kZWZpbmVkO1xuICAgIH1cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Qcm92aWRlckNvbnRyb2xsZXIuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ProviderController.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/PublicStateController.js":
/*!**********************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/PublicStateController.js ***!
  \**********************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PublicStateController: () => (/* binding */ PublicStateController)\n/* harmony export */ });\n/* harmony import */ var valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! valtio/vanilla */ \"(ssr)/./node_modules/.pnpm/valtio@2.1.7_@types+react@18.3.26_react@18.3.1/node_modules/valtio/esm/vanilla.mjs\");\n/* harmony import */ var valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! valtio/vanilla/utils */ \"(ssr)/./node_modules/.pnpm/valtio@2.1.7_@types+react@18.3.26_react@18.3.1/node_modules/valtio/esm/vanilla/utils.mjs\");\n\n\n// -- State --------------------------------------------- //\nconst state = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.proxy)({\n    loading: false,\n    open: false,\n    selectedNetworkId: undefined,\n    activeChain: undefined,\n    initialized: false\n});\n// -- Controller ---------------------------------------- //\nconst PublicStateController = {\n    state,\n    subscribe(callback) {\n        return (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.subscribe)(state, () => callback(state));\n    },\n    subscribeOpen(callback) {\n        return (0,valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_1__.subscribeKey)(state, 'open', callback);\n    },\n    set(newState) {\n        Object.assign(state, { ...state, ...newState });\n    }\n};\n//# sourceMappingURL=PublicStateController.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTFfQHJlYWN0LW5hdGl2ZS1hc3luYy1zdG9yYWdlK2FzeW5jLXN0b3JhZ2VAMi4yLjBfcmVhY3QtX2E4MDMyMTIzODk3ZTA3OTMxMzc0MjMyYzNjYzRlNTM1L25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9QdWJsaWNTdGF0ZUNvbnRyb2xsZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQXlEO0FBQ0w7QUFDcEQ7QUFDQSxjQUFjLHFEQUFLO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDTztBQUNQO0FBQ0E7QUFDQSxlQUFlLHlEQUFHO0FBQ2xCLEtBQUs7QUFDTDtBQUNBLGVBQWUsa0VBQVk7QUFDM0IsS0FBSztBQUNMO0FBQ0EsK0JBQStCLHVCQUF1QjtBQUN0RDtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ub2dnbHIvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTFfQHJlYWN0LW5hdGl2ZS1hc3luYy1zdG9yYWdlK2FzeW5jLXN0b3JhZ2VAMi4yLjBfcmVhY3QtX2E4MDMyMTIzODk3ZTA3OTMxMzc0MjMyYzNjYzRlNTM1L25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9QdWJsaWNTdGF0ZUNvbnRyb2xsZXIuanM/ZWU3YyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwcm94eSwgc3Vic2NyaWJlIGFzIHN1YiB9IGZyb20gJ3ZhbHRpby92YW5pbGxhJztcbmltcG9ydCB7IHN1YnNjcmliZUtleSB9IGZyb20gJ3ZhbHRpby92YW5pbGxhL3V0aWxzJztcbi8vIC0tIFN0YXRlIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuY29uc3Qgc3RhdGUgPSBwcm94eSh7XG4gICAgbG9hZGluZzogZmFsc2UsXG4gICAgb3BlbjogZmFsc2UsXG4gICAgc2VsZWN0ZWROZXR3b3JrSWQ6IHVuZGVmaW5lZCxcbiAgICBhY3RpdmVDaGFpbjogdW5kZWZpbmVkLFxuICAgIGluaXRpYWxpemVkOiBmYWxzZVxufSk7XG4vLyAtLSBDb250cm9sbGVyIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbmV4cG9ydCBjb25zdCBQdWJsaWNTdGF0ZUNvbnRyb2xsZXIgPSB7XG4gICAgc3RhdGUsXG4gICAgc3Vic2NyaWJlKGNhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybiBzdWIoc3RhdGUsICgpID0+IGNhbGxiYWNrKHN0YXRlKSk7XG4gICAgfSxcbiAgICBzdWJzY3JpYmVPcGVuKGNhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybiBzdWJzY3JpYmVLZXkoc3RhdGUsICdvcGVuJywgY2FsbGJhY2spO1xuICAgIH0sXG4gICAgc2V0KG5ld1N0YXRlKSB7XG4gICAgICAgIE9iamVjdC5hc3NpZ24oc3RhdGUsIHsgLi4uc3RhdGUsIC4uLm5ld1N0YXRlIH0pO1xuICAgIH1cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1QdWJsaWNTdGF0ZUNvbnRyb2xsZXIuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/PublicStateController.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/RouterController.js":
/*!*****************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/RouterController.js ***!
  \*****************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RouterController: () => (/* binding */ RouterController)\n/* harmony export */ });\n/* harmony import */ var valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! valtio/vanilla */ \"(ssr)/./node_modules/.pnpm/valtio@2.1.7_@types+react@18.3.26_react@18.3.1/node_modules/valtio/esm/vanilla.mjs\");\n/* harmony import */ var valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! valtio/vanilla/utils */ \"(ssr)/./node_modules/.pnpm/valtio@2.1.7_@types+react@18.3.26_react@18.3.1/node_modules/valtio/esm/vanilla/utils.mjs\");\n/* harmony import */ var _utils_withErrorBoundary_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../utils/withErrorBoundary.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/withErrorBoundary.js\");\n/* harmony import */ var _ApiController_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ApiController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ApiController.js\");\n/* harmony import */ var _ChainController_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ChainController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ChainController.js\");\n/* harmony import */ var _ConnectorController_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ConnectorController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectorController.js\");\n/* harmony import */ var _ModalController_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ModalController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ModalController.js\");\n/* harmony import */ var _OptionsController_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./OptionsController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/OptionsController.js\");\n\n\n\n\n\n\n\n\n// -- Constants --------------------------------------------- //\nconst RESTRICTED_VIEWS_BASED_ON_USAGE = [\n    'ConnectingExternal',\n    'ConnectingMultiChain',\n    'ConnectingSocial',\n    'ConnectingFarcaster'\n];\n// -- State --------------------------------------------- //\nconst state = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.proxy)({\n    view: 'Connect',\n    history: ['Connect'],\n    transactionStack: []\n});\n// -- Controller ---------------------------------------- //\nconst controller = {\n    state,\n    subscribeKey(key, callback) {\n        return (0,valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_1__.subscribeKey)(state, key, callback);\n    },\n    pushTransactionStack(action) {\n        state.transactionStack.push(action);\n    },\n    popTransactionStack(status) {\n        const action = state.transactionStack.pop();\n        if (!action) {\n            return;\n        }\n        const { onSuccess, onError, onCancel } = action;\n        switch (status) {\n            case 'success':\n                onSuccess?.();\n                break;\n            case 'error':\n                onError?.();\n                RouterController.goBack();\n                break;\n            case 'cancel':\n                onCancel?.();\n                RouterController.goBack();\n                break;\n            default:\n        }\n    },\n    push(view, data) {\n        let finalView = view;\n        let finalData = data;\n        if (_ApiController_js__WEBPACK_IMPORTED_MODULE_2__.ApiController.state.plan.hasExceededUsageLimit &&\n            RESTRICTED_VIEWS_BASED_ON_USAGE.includes(view)) {\n            finalView = 'UsageExceeded';\n            finalData = undefined;\n        }\n        if (finalView !== state.view) {\n            state.view = finalView;\n            state.history.push(finalView);\n            state.data = finalData;\n        }\n    },\n    reset(view, data) {\n        state.view = view;\n        state.history = [view];\n        state.data = data;\n    },\n    replace(view, data) {\n        const lastView = state.history.at(-1);\n        const isSameView = lastView === view;\n        if (!isSameView) {\n            state.view = view;\n            state.history[state.history.length - 1] = view;\n            state.data = data;\n        }\n    },\n    goBack() {\n        const isConnected = _ChainController_js__WEBPACK_IMPORTED_MODULE_3__.ChainController.state.activeCaipAddress;\n        const isFarcasterView = RouterController.state.view === 'ConnectingFarcaster';\n        const shouldReload = !isConnected && isFarcasterView;\n        if (state.history.length > 1) {\n            state.history.pop();\n            const [last] = state.history.slice(-1);\n            if (last) {\n                const isConnectView = last === 'Connect';\n                if (isConnected && isConnectView) {\n                    state.view = 'Account';\n                }\n                else {\n                    state.view = last;\n                }\n            }\n        }\n        else {\n            _ModalController_js__WEBPACK_IMPORTED_MODULE_4__.ModalController.close();\n        }\n        if (state.data?.wallet) {\n            state.data.wallet = undefined;\n        }\n        if (state.data?.redirectView) {\n            state.data.redirectView = undefined;\n        }\n        // Reloading the iframe contentwindow and doing the view animation in the modal causes a small freeze in the transition. Doing these separately fixes that.\n        setTimeout(() => {\n            if (shouldReload) {\n                _ChainController_js__WEBPACK_IMPORTED_MODULE_3__.ChainController.setAccountProp('farcasterUrl', undefined, _ChainController_js__WEBPACK_IMPORTED_MODULE_3__.ChainController.state.activeChain);\n                const authConnector = _ConnectorController_js__WEBPACK_IMPORTED_MODULE_5__.ConnectorController.getAuthConnector();\n                authConnector?.provider?.reload();\n                const optionsState = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.snapshot)(_OptionsController_js__WEBPACK_IMPORTED_MODULE_6__.OptionsController.state);\n                authConnector?.provider?.syncDappData?.({\n                    metadata: optionsState.metadata,\n                    sdkVersion: optionsState.sdkVersion,\n                    projectId: optionsState.projectId,\n                    sdkType: optionsState.sdkType\n                });\n            }\n        }, 100);\n    },\n    goBackToIndex(historyIndex) {\n        if (state.history.length > 1) {\n            state.history = state.history.slice(0, historyIndex + 1);\n            const [last] = state.history.slice(-1);\n            if (last) {\n                state.view = last;\n            }\n        }\n    },\n    goBackOrCloseModal() {\n        if (RouterController.state.history.length > 1) {\n            RouterController.goBack();\n        }\n        else {\n            _ModalController_js__WEBPACK_IMPORTED_MODULE_4__.ModalController.close();\n        }\n    }\n};\n// Export the controller wrapped with our error boundary\nconst RouterController = (0,_utils_withErrorBoundary_js__WEBPACK_IMPORTED_MODULE_7__.withErrorBoundary)(controller);\n//# sourceMappingURL=RouterController.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTFfQHJlYWN0LW5hdGl2ZS1hc3luYy1zdG9yYWdlK2FzeW5jLXN0b3JhZ2VAMi4yLjBfcmVhY3QtX2E4MDMyMTIzODk3ZTA3OTMxMzc0MjMyYzNjYzRlNTM1L25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9Sb3V0ZXJDb250cm9sbGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFpRDtBQUNhO0FBQ0k7QUFDZjtBQUNJO0FBQ1E7QUFDUjtBQUNJO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLHFEQUFLO0FBQ25CO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsa0VBQU07QUFDckIsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQiwrQkFBK0I7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxZQUFZLDREQUFhO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsNEJBQTRCLGdFQUFlO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxnRUFBZTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixnRUFBZSwyQ0FBMkMsZ0VBQWU7QUFDekYsc0NBQXNDLHdFQUFtQjtBQUN6RDtBQUNBLHFDQUFxQyx3REFBUSxDQUFDLG9FQUFpQjtBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGdFQUFlO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ08seUJBQXlCLDhFQUFpQjtBQUNqRCIsInNvdXJjZXMiOlsid2VicGFjazovL25vZ2dsci8uL25vZGVfbW9kdWxlcy8ucG5wbS9AcmVvd24rYXBwa2l0LWNvbnRyb2xsZXJzQDEuOC4xMV9AcmVhY3QtbmF0aXZlLWFzeW5jLXN0b3JhZ2UrYXN5bmMtc3RvcmFnZUAyLjIuMF9yZWFjdC1fYTgwMzIxMjM4OTdlMDc5MzEzNzQyMzJjM2NjNGU1MzUvbm9kZV9tb2R1bGVzL0ByZW93bi9hcHBraXQtY29udHJvbGxlcnMvZGlzdC9lc20vc3JjL2NvbnRyb2xsZXJzL1JvdXRlckNvbnRyb2xsZXIuanM/ZGM0NCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwcm94eSwgc25hcHNob3QgfSBmcm9tICd2YWx0aW8vdmFuaWxsYSc7XG5pbXBvcnQgeyBzdWJzY3JpYmVLZXkgYXMgc3ViS2V5IH0gZnJvbSAndmFsdGlvL3ZhbmlsbGEvdXRpbHMnO1xuaW1wb3J0IHsgd2l0aEVycm9yQm91bmRhcnkgfSBmcm9tICcuLi91dGlscy93aXRoRXJyb3JCb3VuZGFyeS5qcyc7XG5pbXBvcnQgeyBBcGlDb250cm9sbGVyIH0gZnJvbSAnLi9BcGlDb250cm9sbGVyLmpzJztcbmltcG9ydCB7IENoYWluQ29udHJvbGxlciB9IGZyb20gJy4vQ2hhaW5Db250cm9sbGVyLmpzJztcbmltcG9ydCB7IENvbm5lY3RvckNvbnRyb2xsZXIgfSBmcm9tICcuL0Nvbm5lY3RvckNvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgTW9kYWxDb250cm9sbGVyIH0gZnJvbSAnLi9Nb2RhbENvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgT3B0aW9uc0NvbnRyb2xsZXIgfSBmcm9tICcuL09wdGlvbnNDb250cm9sbGVyLmpzJztcbi8vIC0tIENvbnN0YW50cyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbmNvbnN0IFJFU1RSSUNURURfVklFV1NfQkFTRURfT05fVVNBR0UgPSBbXG4gICAgJ0Nvbm5lY3RpbmdFeHRlcm5hbCcsXG4gICAgJ0Nvbm5lY3RpbmdNdWx0aUNoYWluJyxcbiAgICAnQ29ubmVjdGluZ1NvY2lhbCcsXG4gICAgJ0Nvbm5lY3RpbmdGYXJjYXN0ZXInXG5dO1xuLy8gLS0gU3RhdGUgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5jb25zdCBzdGF0ZSA9IHByb3h5KHtcbiAgICB2aWV3OiAnQ29ubmVjdCcsXG4gICAgaGlzdG9yeTogWydDb25uZWN0J10sXG4gICAgdHJhbnNhY3Rpb25TdGFjazogW11cbn0pO1xuLy8gLS0gQ29udHJvbGxlciAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5jb25zdCBjb250cm9sbGVyID0ge1xuICAgIHN0YXRlLFxuICAgIHN1YnNjcmliZUtleShrZXksIGNhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybiBzdWJLZXkoc3RhdGUsIGtleSwgY2FsbGJhY2spO1xuICAgIH0sXG4gICAgcHVzaFRyYW5zYWN0aW9uU3RhY2soYWN0aW9uKSB7XG4gICAgICAgIHN0YXRlLnRyYW5zYWN0aW9uU3RhY2sucHVzaChhY3Rpb24pO1xuICAgIH0sXG4gICAgcG9wVHJhbnNhY3Rpb25TdGFjayhzdGF0dXMpIHtcbiAgICAgICAgY29uc3QgYWN0aW9uID0gc3RhdGUudHJhbnNhY3Rpb25TdGFjay5wb3AoKTtcbiAgICAgICAgaWYgKCFhY3Rpb24pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IG9uU3VjY2Vzcywgb25FcnJvciwgb25DYW5jZWwgfSA9IGFjdGlvbjtcbiAgICAgICAgc3dpdGNoIChzdGF0dXMpIHtcbiAgICAgICAgICAgIGNhc2UgJ3N1Y2Nlc3MnOlxuICAgICAgICAgICAgICAgIG9uU3VjY2Vzcz8uKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdlcnJvcic6XG4gICAgICAgICAgICAgICAgb25FcnJvcj8uKCk7XG4gICAgICAgICAgICAgICAgUm91dGVyQ29udHJvbGxlci5nb0JhY2soKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2NhbmNlbCc6XG4gICAgICAgICAgICAgICAgb25DYW5jZWw/LigpO1xuICAgICAgICAgICAgICAgIFJvdXRlckNvbnRyb2xsZXIuZ29CYWNrKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICB9XG4gICAgfSxcbiAgICBwdXNoKHZpZXcsIGRhdGEpIHtcbiAgICAgICAgbGV0IGZpbmFsVmlldyA9IHZpZXc7XG4gICAgICAgIGxldCBmaW5hbERhdGEgPSBkYXRhO1xuICAgICAgICBpZiAoQXBpQ29udHJvbGxlci5zdGF0ZS5wbGFuLmhhc0V4Y2VlZGVkVXNhZ2VMaW1pdCAmJlxuICAgICAgICAgICAgUkVTVFJJQ1RFRF9WSUVXU19CQVNFRF9PTl9VU0FHRS5pbmNsdWRlcyh2aWV3KSkge1xuICAgICAgICAgICAgZmluYWxWaWV3ID0gJ1VzYWdlRXhjZWVkZWQnO1xuICAgICAgICAgICAgZmluYWxEYXRhID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmaW5hbFZpZXcgIT09IHN0YXRlLnZpZXcpIHtcbiAgICAgICAgICAgIHN0YXRlLnZpZXcgPSBmaW5hbFZpZXc7XG4gICAgICAgICAgICBzdGF0ZS5oaXN0b3J5LnB1c2goZmluYWxWaWV3KTtcbiAgICAgICAgICAgIHN0YXRlLmRhdGEgPSBmaW5hbERhdGE7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHJlc2V0KHZpZXcsIGRhdGEpIHtcbiAgICAgICAgc3RhdGUudmlldyA9IHZpZXc7XG4gICAgICAgIHN0YXRlLmhpc3RvcnkgPSBbdmlld107XG4gICAgICAgIHN0YXRlLmRhdGEgPSBkYXRhO1xuICAgIH0sXG4gICAgcmVwbGFjZSh2aWV3LCBkYXRhKSB7XG4gICAgICAgIGNvbnN0IGxhc3RWaWV3ID0gc3RhdGUuaGlzdG9yeS5hdCgtMSk7XG4gICAgICAgIGNvbnN0IGlzU2FtZVZpZXcgPSBsYXN0VmlldyA9PT0gdmlldztcbiAgICAgICAgaWYgKCFpc1NhbWVWaWV3KSB7XG4gICAgICAgICAgICBzdGF0ZS52aWV3ID0gdmlldztcbiAgICAgICAgICAgIHN0YXRlLmhpc3Rvcnlbc3RhdGUuaGlzdG9yeS5sZW5ndGggLSAxXSA9IHZpZXc7XG4gICAgICAgICAgICBzdGF0ZS5kYXRhID0gZGF0YTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgZ29CYWNrKCkge1xuICAgICAgICBjb25zdCBpc0Nvbm5lY3RlZCA9IENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDYWlwQWRkcmVzcztcbiAgICAgICAgY29uc3QgaXNGYXJjYXN0ZXJWaWV3ID0gUm91dGVyQ29udHJvbGxlci5zdGF0ZS52aWV3ID09PSAnQ29ubmVjdGluZ0ZhcmNhc3Rlcic7XG4gICAgICAgIGNvbnN0IHNob3VsZFJlbG9hZCA9ICFpc0Nvbm5lY3RlZCAmJiBpc0ZhcmNhc3RlclZpZXc7XG4gICAgICAgIGlmIChzdGF0ZS5oaXN0b3J5Lmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIHN0YXRlLmhpc3RvcnkucG9wKCk7XG4gICAgICAgICAgICBjb25zdCBbbGFzdF0gPSBzdGF0ZS5oaXN0b3J5LnNsaWNlKC0xKTtcbiAgICAgICAgICAgIGlmIChsYXN0KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaXNDb25uZWN0VmlldyA9IGxhc3QgPT09ICdDb25uZWN0JztcbiAgICAgICAgICAgICAgICBpZiAoaXNDb25uZWN0ZWQgJiYgaXNDb25uZWN0Vmlldykge1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZS52aWV3ID0gJ0FjY291bnQnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUudmlldyA9IGxhc3Q7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgTW9kYWxDb250cm9sbGVyLmNsb3NlKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXRlLmRhdGE/LndhbGxldCkge1xuICAgICAgICAgICAgc3RhdGUuZGF0YS53YWxsZXQgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXRlLmRhdGE/LnJlZGlyZWN0Vmlldykge1xuICAgICAgICAgICAgc3RhdGUuZGF0YS5yZWRpcmVjdFZpZXcgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVsb2FkaW5nIHRoZSBpZnJhbWUgY29udGVudHdpbmRvdyBhbmQgZG9pbmcgdGhlIHZpZXcgYW5pbWF0aW9uIGluIHRoZSBtb2RhbCBjYXVzZXMgYSBzbWFsbCBmcmVlemUgaW4gdGhlIHRyYW5zaXRpb24uIERvaW5nIHRoZXNlIHNlcGFyYXRlbHkgZml4ZXMgdGhhdC5cbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBpZiAoc2hvdWxkUmVsb2FkKSB7XG4gICAgICAgICAgICAgICAgQ2hhaW5Db250cm9sbGVyLnNldEFjY291bnRQcm9wKCdmYXJjYXN0ZXJVcmwnLCB1bmRlZmluZWQsIENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDaGFpbik7XG4gICAgICAgICAgICAgICAgY29uc3QgYXV0aENvbm5lY3RvciA9IENvbm5lY3RvckNvbnRyb2xsZXIuZ2V0QXV0aENvbm5lY3RvcigpO1xuICAgICAgICAgICAgICAgIGF1dGhDb25uZWN0b3I/LnByb3ZpZGVyPy5yZWxvYWQoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBvcHRpb25zU3RhdGUgPSBzbmFwc2hvdChPcHRpb25zQ29udHJvbGxlci5zdGF0ZSk7XG4gICAgICAgICAgICAgICAgYXV0aENvbm5lY3Rvcj8ucHJvdmlkZXI/LnN5bmNEYXBwRGF0YT8uKHtcbiAgICAgICAgICAgICAgICAgICAgbWV0YWRhdGE6IG9wdGlvbnNTdGF0ZS5tZXRhZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgc2RrVmVyc2lvbjogb3B0aW9uc1N0YXRlLnNka1ZlcnNpb24sXG4gICAgICAgICAgICAgICAgICAgIHByb2plY3RJZDogb3B0aW9uc1N0YXRlLnByb2plY3RJZCxcbiAgICAgICAgICAgICAgICAgICAgc2RrVHlwZTogb3B0aW9uc1N0YXRlLnNka1R5cGVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgMTAwKTtcbiAgICB9LFxuICAgIGdvQmFja1RvSW5kZXgoaGlzdG9yeUluZGV4KSB7XG4gICAgICAgIGlmIChzdGF0ZS5oaXN0b3J5Lmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIHN0YXRlLmhpc3RvcnkgPSBzdGF0ZS5oaXN0b3J5LnNsaWNlKDAsIGhpc3RvcnlJbmRleCArIDEpO1xuICAgICAgICAgICAgY29uc3QgW2xhc3RdID0gc3RhdGUuaGlzdG9yeS5zbGljZSgtMSk7XG4gICAgICAgICAgICBpZiAobGFzdCkge1xuICAgICAgICAgICAgICAgIHN0YXRlLnZpZXcgPSBsYXN0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcbiAgICBnb0JhY2tPckNsb3NlTW9kYWwoKSB7XG4gICAgICAgIGlmIChSb3V0ZXJDb250cm9sbGVyLnN0YXRlLmhpc3RvcnkubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgUm91dGVyQ29udHJvbGxlci5nb0JhY2soKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIE1vZGFsQ29udHJvbGxlci5jbG9zZSgpO1xuICAgICAgICB9XG4gICAgfVxufTtcbi8vIEV4cG9ydCB0aGUgY29udHJvbGxlciB3cmFwcGVkIHdpdGggb3VyIGVycm9yIGJvdW5kYXJ5XG5leHBvcnQgY29uc3QgUm91dGVyQ29udHJvbGxlciA9IHdpdGhFcnJvckJvdW5kYXJ5KGNvbnRyb2xsZXIpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Um91dGVyQ29udHJvbGxlci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/RouterController.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/SendController.js":
/*!***************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/SendController.js ***!
  \***************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SendController: () => (/* binding */ SendController)\n/* harmony export */ });\n/* harmony import */ var valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! valtio/vanilla */ \"(ssr)/./node_modules/.pnpm/valtio@2.1.7_@types+react@18.3.26_react@18.3.1/node_modules/valtio/esm/vanilla.mjs\");\n/* harmony import */ var valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! valtio/vanilla/utils */ \"(ssr)/./node_modules/.pnpm/valtio@2.1.7_@types+react@18.3.26_react@18.3.1/node_modules/valtio/esm/vanilla/utils.mjs\");\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @reown/appkit-common */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-common@1.8.11_bufferutil@4.0.9_typescript@5.9.3_utf-8-validate@5.0.10_zod@4.1.12/node_modules/@reown/appkit-common/dist/esm/src/utils/ErrorUtil.js\");\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @reown/appkit-common */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-common@1.8.11_bufferutil@4.0.9_typescript@5.9.3_utf-8-validate@5.0.10_zod@4.1.12/node_modules/@reown/appkit-common/dist/esm/src/utils/NumberUtil.js\");\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @reown/appkit-common */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-common@1.8.11_bufferutil@4.0.9_typescript@5.9.3_utf-8-validate@5.0.10_zod@4.1.12/node_modules/@reown/appkit-common/dist/esm/src/utils/ConstantsUtil.js\");\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @reown/appkit-common */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-common@1.8.11_bufferutil@4.0.9_typescript@5.9.3_utf-8-validate@5.0.10_zod@4.1.12/node_modules/@reown/appkit-common/dist/esm/src/utils/ContractUtil.js\");\n/* harmony import */ var _reown_appkit_wallet_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @reown/appkit-wallet/utils */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-wallet@1.8.11_bufferutil@4.0.9_typescript@5.9.3_utf-8-validate@5.0.10/node_modules/@reown/appkit-wallet/dist/esm/src/W3mFrameConstants.js\");\n/* harmony import */ var _utils_BalanceUtil_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../utils/BalanceUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/BalanceUtil.js\");\n/* harmony import */ var _utils_ChainControllerUtil_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/ChainControllerUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ChainControllerUtil.js\");\n/* harmony import */ var _utils_ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../utils/ConstantsUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ConstantsUtil.js\");\n/* harmony import */ var _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/CoreHelperUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/CoreHelperUtil.js\");\n/* harmony import */ var _utils_SwapApiUtil_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../utils/SwapApiUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/SwapApiUtil.js\");\n/* harmony import */ var _utils_withErrorBoundary_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../utils/withErrorBoundary.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/withErrorBoundary.js\");\n/* harmony import */ var _ChainController_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ChainController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ChainController.js\");\n/* harmony import */ var _ConnectionController_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./ConnectionController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectionController.js\");\n/* harmony import */ var _EventsController_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./EventsController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/EventsController.js\");\n/* harmony import */ var _RouterController_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./RouterController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/RouterController.js\");\n/* harmony import */ var _SnackController_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./SnackController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/SnackController.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// -- State --------------------------------------------- //\nconst state = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.proxy)({\n    tokenBalances: [],\n    loading: false\n});\n// -- Controller ---------------------------------------- //\nconst controller = {\n    state,\n    subscribe(callback) {\n        return (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.subscribe)(state, () => callback(state));\n    },\n    subscribeKey(key, callback) {\n        return (0,valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_1__.subscribeKey)(state, key, callback);\n    },\n    setToken(token) {\n        if (token) {\n            state.token = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.ref)(token);\n        }\n    },\n    setTokenAmount(sendTokenAmount) {\n        state.sendTokenAmount = sendTokenAmount;\n    },\n    setReceiverAddress(receiverAddress) {\n        state.receiverAddress = receiverAddress;\n    },\n    setReceiverProfileImageUrl(receiverProfileImageUrl) {\n        state.receiverProfileImageUrl = receiverProfileImageUrl;\n    },\n    setReceiverProfileName(receiverProfileName) {\n        state.receiverProfileName = receiverProfileName;\n    },\n    setNetworkBalanceInUsd(networkBalanceInUSD) {\n        state.networkBalanceInUSD = networkBalanceInUSD;\n    },\n    setLoading(loading) {\n        state.loading = loading;\n    },\n    getSdkEventProperties(error) {\n        return {\n            message: _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_2__.CoreHelperUtil.parseError(error),\n            isSmartAccount: (0,_utils_ChainControllerUtil_js__WEBPACK_IMPORTED_MODULE_3__.getPreferredAccountType)(_ChainController_js__WEBPACK_IMPORTED_MODULE_4__.ChainController.state.activeChain) ===\n                _reown_appkit_wallet_utils__WEBPACK_IMPORTED_MODULE_5__.W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT,\n            token: state.token?.symbol || '',\n            amount: state.sendTokenAmount ?? 0,\n            network: _ChainController_js__WEBPACK_IMPORTED_MODULE_4__.ChainController.state.activeCaipNetwork?.caipNetworkId || ''\n        };\n    },\n    async sendToken() {\n        try {\n            SendController.setLoading(true);\n            switch (_ChainController_js__WEBPACK_IMPORTED_MODULE_4__.ChainController.state.activeCaipNetwork?.chainNamespace) {\n                case 'eip155':\n                    await SendController.sendEvmToken();\n                    return;\n                case 'solana':\n                    await SendController.sendSolanaToken();\n                    return;\n                default:\n                    throw new Error('Unsupported chain');\n            }\n        }\n        catch (err) {\n            if (_reown_appkit_common__WEBPACK_IMPORTED_MODULE_6__.ErrorUtil.isUserRejectedRequestError(err)) {\n                throw new _reown_appkit_common__WEBPACK_IMPORTED_MODULE_6__.UserRejectedRequestError(err);\n            }\n            throw err;\n        }\n        finally {\n            SendController.setLoading(false);\n        }\n    },\n    async sendEvmToken() {\n        const activeChainNamespace = _ChainController_js__WEBPACK_IMPORTED_MODULE_4__.ChainController.state.activeChain;\n        if (!activeChainNamespace) {\n            throw new Error('SendController:sendEvmToken - activeChainNamespace is required');\n        }\n        const activeAccountType = (0,_utils_ChainControllerUtil_js__WEBPACK_IMPORTED_MODULE_3__.getPreferredAccountType)(activeChainNamespace);\n        if (!SendController.state.sendTokenAmount || !SendController.state.receiverAddress) {\n            throw new Error('An amount and receiver address are required');\n        }\n        if (!SendController.state.token) {\n            throw new Error('A token is required');\n        }\n        if (SendController.state.token?.address) {\n            _EventsController_js__WEBPACK_IMPORTED_MODULE_7__.EventsController.sendEvent({\n                type: 'track',\n                event: 'SEND_INITIATED',\n                properties: {\n                    isSmartAccount: activeAccountType === _reown_appkit_wallet_utils__WEBPACK_IMPORTED_MODULE_5__.W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT,\n                    token: SendController.state.token.address,\n                    amount: SendController.state.sendTokenAmount,\n                    network: _ChainController_js__WEBPACK_IMPORTED_MODULE_4__.ChainController.state.activeCaipNetwork?.caipNetworkId || ''\n                }\n            });\n            const { hash } = await SendController.sendERC20Token({\n                receiverAddress: SendController.state.receiverAddress,\n                tokenAddress: SendController.state.token.address,\n                sendTokenAmount: SendController.state.sendTokenAmount,\n                decimals: SendController.state.token.quantity.decimals\n            });\n            if (hash) {\n                state.hash = hash;\n            }\n        }\n        else {\n            _EventsController_js__WEBPACK_IMPORTED_MODULE_7__.EventsController.sendEvent({\n                type: 'track',\n                event: 'SEND_INITIATED',\n                properties: {\n                    isSmartAccount: activeAccountType === _reown_appkit_wallet_utils__WEBPACK_IMPORTED_MODULE_5__.W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT,\n                    token: SendController.state.token.symbol || '',\n                    amount: SendController.state.sendTokenAmount,\n                    network: _ChainController_js__WEBPACK_IMPORTED_MODULE_4__.ChainController.state.activeCaipNetwork?.caipNetworkId || ''\n                }\n            });\n            const { hash } = await SendController.sendNativeToken({\n                receiverAddress: SendController.state.receiverAddress,\n                sendTokenAmount: SendController.state.sendTokenAmount,\n                decimals: SendController.state.token.quantity.decimals\n            });\n            if (hash) {\n                state.hash = hash;\n            }\n        }\n    },\n    async fetchTokenBalance(onError) {\n        state.loading = true;\n        const namespace = _ChainController_js__WEBPACK_IMPORTED_MODULE_4__.ChainController.state.activeChain;\n        const chainId = _ChainController_js__WEBPACK_IMPORTED_MODULE_4__.ChainController.state.activeCaipNetwork?.caipNetworkId;\n        const chain = _ChainController_js__WEBPACK_IMPORTED_MODULE_4__.ChainController.state.activeCaipNetwork?.chainNamespace;\n        const caipAddress = _ChainController_js__WEBPACK_IMPORTED_MODULE_4__.ChainController.getAccountData(namespace)?.caipAddress ??\n            _ChainController_js__WEBPACK_IMPORTED_MODULE_4__.ChainController.state.activeCaipAddress;\n        const address = caipAddress ? _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_2__.CoreHelperUtil.getPlainAddress(caipAddress) : undefined;\n        if (state.lastRetry &&\n            !_utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_2__.CoreHelperUtil.isAllowedRetry(state.lastRetry, 30 * _utils_ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_8__.ConstantsUtil.ONE_SEC_MS)) {\n            state.loading = false;\n            return [];\n        }\n        try {\n            if (address && chainId && chain) {\n                const balances = await _utils_BalanceUtil_js__WEBPACK_IMPORTED_MODULE_9__.BalanceUtil.getMyTokensWithBalance();\n                state.tokenBalances = balances;\n                state.lastRetry = undefined;\n                return balances;\n            }\n        }\n        catch (error) {\n            state.lastRetry = Date.now();\n            onError?.(error);\n            _SnackController_js__WEBPACK_IMPORTED_MODULE_10__.SnackController.showError('Token Balance Unavailable');\n        }\n        finally {\n            state.loading = false;\n        }\n        return [];\n    },\n    fetchNetworkBalance() {\n        if (state.tokenBalances.length === 0) {\n            return;\n        }\n        const networkTokenBalances = _utils_SwapApiUtil_js__WEBPACK_IMPORTED_MODULE_11__.SwapApiUtil.mapBalancesToSwapTokens(state.tokenBalances);\n        if (!networkTokenBalances) {\n            return;\n        }\n        const networkToken = networkTokenBalances.find(token => token.address === (0,_utils_ChainControllerUtil_js__WEBPACK_IMPORTED_MODULE_3__.getActiveNetworkTokenAddress)());\n        if (!networkToken) {\n            return;\n        }\n        state.networkBalanceInUSD = networkToken\n            ? _reown_appkit_common__WEBPACK_IMPORTED_MODULE_12__.NumberUtil.multiply(networkToken.quantity.numeric, networkToken.price).toString()\n            : '0';\n    },\n    async sendNativeToken(params) {\n        _RouterController_js__WEBPACK_IMPORTED_MODULE_13__.RouterController.pushTransactionStack({});\n        const to = params.receiverAddress;\n        const address = _ChainController_js__WEBPACK_IMPORTED_MODULE_4__.ChainController.getAccountData()?.address;\n        const value = _ConnectionController_js__WEBPACK_IMPORTED_MODULE_14__.ConnectionController.parseUnits(params.sendTokenAmount.toString(), Number(params.decimals));\n        const data = '0x';\n        const hash = await _ConnectionController_js__WEBPACK_IMPORTED_MODULE_14__.ConnectionController.sendTransaction({\n            chainNamespace: _reown_appkit_common__WEBPACK_IMPORTED_MODULE_15__.ConstantsUtil.CHAIN.EVM,\n            to,\n            address,\n            data,\n            value: value ?? BigInt(0)\n        });\n        _EventsController_js__WEBPACK_IMPORTED_MODULE_7__.EventsController.sendEvent({\n            type: 'track',\n            event: 'SEND_SUCCESS',\n            properties: {\n                isSmartAccount: (0,_utils_ChainControllerUtil_js__WEBPACK_IMPORTED_MODULE_3__.getPreferredAccountType)('eip155') === _reown_appkit_wallet_utils__WEBPACK_IMPORTED_MODULE_5__.W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT,\n                token: SendController.state.token?.symbol || '',\n                amount: params.sendTokenAmount,\n                network: _ChainController_js__WEBPACK_IMPORTED_MODULE_4__.ChainController.state.activeCaipNetwork?.caipNetworkId || '',\n                hash: hash || ''\n            }\n        });\n        _ConnectionController_js__WEBPACK_IMPORTED_MODULE_14__.ConnectionController._getClient()?.updateBalance('eip155');\n        SendController.resetSend();\n        return { hash };\n    },\n    async sendERC20Token(params) {\n        _RouterController_js__WEBPACK_IMPORTED_MODULE_13__.RouterController.pushTransactionStack({\n            onSuccess() {\n                _RouterController_js__WEBPACK_IMPORTED_MODULE_13__.RouterController.replace('Account');\n            }\n        });\n        const amount = _ConnectionController_js__WEBPACK_IMPORTED_MODULE_14__.ConnectionController.parseUnits(params.sendTokenAmount.toString(), Number(params.decimals));\n        const address = _ChainController_js__WEBPACK_IMPORTED_MODULE_4__.ChainController.getAccountData()?.address;\n        if (address && params.sendTokenAmount && params.receiverAddress && params.tokenAddress) {\n            const tokenAddress = _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_2__.CoreHelperUtil.getPlainAddress(params.tokenAddress);\n            if (!tokenAddress) {\n                throw new Error('SendController:sendERC20Token - tokenAddress is required');\n            }\n            const hash = await _ConnectionController_js__WEBPACK_IMPORTED_MODULE_14__.ConnectionController.writeContract({\n                fromAddress: address,\n                tokenAddress,\n                args: [params.receiverAddress, amount ?? BigInt(0)],\n                method: 'transfer',\n                abi: _reown_appkit_common__WEBPACK_IMPORTED_MODULE_16__.ContractUtil.getERC20Abi(tokenAddress),\n                chainNamespace: _reown_appkit_common__WEBPACK_IMPORTED_MODULE_15__.ConstantsUtil.CHAIN.EVM\n            });\n            _EventsController_js__WEBPACK_IMPORTED_MODULE_7__.EventsController.sendEvent({\n                type: 'track',\n                event: 'SEND_SUCCESS',\n                properties: {\n                    isSmartAccount: (0,_utils_ChainControllerUtil_js__WEBPACK_IMPORTED_MODULE_3__.getPreferredAccountType)('eip155') === _reown_appkit_wallet_utils__WEBPACK_IMPORTED_MODULE_5__.W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT,\n                    token: SendController.state.token?.symbol || '',\n                    amount: params.sendTokenAmount,\n                    network: _ChainController_js__WEBPACK_IMPORTED_MODULE_4__.ChainController.state.activeCaipNetwork?.caipNetworkId || '',\n                    hash: hash || ''\n                }\n            });\n            SendController.resetSend();\n            return { hash };\n        }\n        return { hash: undefined };\n    },\n    async sendSolanaToken() {\n        if (!SendController.state.sendTokenAmount || !SendController.state.receiverAddress) {\n            throw new Error('An amount and receiver address are required');\n        }\n        _RouterController_js__WEBPACK_IMPORTED_MODULE_13__.RouterController.pushTransactionStack({\n            onSuccess() {\n                _RouterController_js__WEBPACK_IMPORTED_MODULE_13__.RouterController.replace('Account');\n            }\n        });\n        let tokenMint = undefined;\n        if (SendController.state.token &&\n            SendController.state.token.address !== _utils_ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_8__.ConstantsUtil.SOLANA_NATIVE_TOKEN_ADDRESS) {\n            if (_utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_2__.CoreHelperUtil.isCaipAddress(SendController.state.token.address)) {\n                tokenMint = _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_2__.CoreHelperUtil.getPlainAddress(SendController.state.token.address);\n            }\n            else {\n                tokenMint = SendController.state.token.address;\n            }\n        }\n        const hash = await _ConnectionController_js__WEBPACK_IMPORTED_MODULE_14__.ConnectionController.sendTransaction({\n            chainNamespace: 'solana',\n            tokenMint,\n            to: SendController.state.receiverAddress,\n            value: SendController.state.sendTokenAmount\n        });\n        if (hash) {\n            state.hash = hash;\n        }\n        _ConnectionController_js__WEBPACK_IMPORTED_MODULE_14__.ConnectionController._getClient()?.updateBalance('solana');\n        _EventsController_js__WEBPACK_IMPORTED_MODULE_7__.EventsController.sendEvent({\n            type: 'track',\n            event: 'SEND_SUCCESS',\n            properties: {\n                isSmartAccount: false,\n                token: SendController.state.token?.symbol || '',\n                amount: SendController.state.sendTokenAmount,\n                network: _ChainController_js__WEBPACK_IMPORTED_MODULE_4__.ChainController.state.activeCaipNetwork?.caipNetworkId || '',\n                hash: hash || ''\n            }\n        });\n        SendController.resetSend();\n    },\n    resetSend() {\n        state.token = undefined;\n        state.sendTokenAmount = undefined;\n        state.receiverAddress = undefined;\n        state.receiverProfileImageUrl = undefined;\n        state.receiverProfileName = undefined;\n        state.loading = false;\n        state.tokenBalances = [];\n    }\n};\n// Export the controller wrapped with our error boundary\nconst SendController = (0,_utils_withErrorBoundary_js__WEBPACK_IMPORTED_MODULE_17__.withErrorBoundary)(controller);\n//# sourceMappingURL=SendController.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTFfQHJlYWN0LW5hdGl2ZS1hc3luYy1zdG9yYWdlK2FzeW5jLXN0b3JhZ2VAMi4yLjBfcmVhY3QtX2E4MDMyMTIzODk3ZTA3OTMxMzc0MjMyYzNjYzRlNTM1L25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9TZW5kQ29udHJvbGxlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQThEO0FBQ0E7QUFDK0Q7QUFDekU7QUFDYztBQUNaO0FBQ2tEO0FBQzlDO0FBQ0U7QUFDTjtBQUNZO0FBQ1g7QUFDVTtBQUNSO0FBQ0E7QUFDRjtBQUN2RDtBQUNBLGNBQWMscURBQUs7QUFDbkI7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUseURBQUc7QUFDbEIsS0FBSztBQUNMO0FBQ0EsZUFBZSxrRUFBTTtBQUNyQixLQUFLO0FBQ0w7QUFDQTtBQUNBLDBCQUEwQixtREFBRztBQUM3QjtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EscUJBQXFCLG9FQUFjO0FBQ25DLDRCQUE0QixzRkFBdUIsQ0FBQyxnRUFBZTtBQUNuRSxnQkFBZ0IsNEVBQW9CO0FBQ3BDO0FBQ0E7QUFDQSxxQkFBcUIsZ0VBQWU7QUFDcEM7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGdFQUFlO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsMkRBQVM7QUFDekIsMEJBQTBCLDBFQUF3QjtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxxQ0FBcUMsZ0VBQWU7QUFDcEQ7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLHNGQUF1QjtBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksa0VBQWdCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBLDBEQUEwRCw0RUFBb0I7QUFDOUU7QUFDQTtBQUNBLDZCQUE2QixnRUFBZTtBQUM1QztBQUNBLGFBQWE7QUFDYixvQkFBb0IsT0FBTztBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxrRUFBZ0I7QUFDNUI7QUFDQTtBQUNBO0FBQ0EsMERBQTBELDRFQUFvQjtBQUM5RTtBQUNBO0FBQ0EsNkJBQTZCLGdFQUFlO0FBQzVDO0FBQ0EsYUFBYTtBQUNiLG9CQUFvQixPQUFPO0FBQzNCO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsMEJBQTBCLGdFQUFlO0FBQ3pDLHdCQUF3QixnRUFBZTtBQUN2QyxzQkFBc0IsZ0VBQWU7QUFDckMsNEJBQTRCLGdFQUFlO0FBQzNDLFlBQVksZ0VBQWU7QUFDM0Isc0NBQXNDLG9FQUFjO0FBQ3BEO0FBQ0EsYUFBYSxvRUFBYyxzQ0FBc0Msa0VBQWE7QUFDOUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1Qyw4REFBVztBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxpRUFBZTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLCtEQUFXO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBLGtGQUFrRiwyRkFBNEI7QUFDOUc7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLDZEQUFVO0FBQ3hCO0FBQ0EsS0FBSztBQUNMO0FBQ0EsUUFBUSxtRUFBZ0Isd0JBQXdCO0FBQ2hEO0FBQ0Esd0JBQXdCLGdFQUFlO0FBQ3ZDLHNCQUFzQiwyRUFBb0I7QUFDMUM7QUFDQSwyQkFBMkIsMkVBQW9CO0FBQy9DLDRCQUE0QixnRUFBbUI7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsUUFBUSxrRUFBZ0I7QUFDeEI7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLHNGQUF1QixlQUFlLDRFQUFvQjtBQUMxRjtBQUNBO0FBQ0EseUJBQXlCLGdFQUFlO0FBQ3hDO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsUUFBUSwyRUFBb0I7QUFDNUI7QUFDQSxpQkFBaUI7QUFDakIsS0FBSztBQUNMO0FBQ0EsUUFBUSxtRUFBZ0I7QUFDeEI7QUFDQSxnQkFBZ0IsbUVBQWdCO0FBQ2hDO0FBQ0EsU0FBUztBQUNULHVCQUF1QiwyRUFBb0I7QUFDM0Msd0JBQXdCLGdFQUFlO0FBQ3ZDO0FBQ0EsaUNBQWlDLG9FQUFjO0FBQy9DO0FBQ0E7QUFDQTtBQUNBLCtCQUErQiwyRUFBb0I7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsK0RBQVk7QUFDakMsZ0NBQWdDLGdFQUFtQjtBQUNuRCxhQUFhO0FBQ2IsWUFBWSxrRUFBZ0I7QUFDNUI7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLHNGQUF1QixlQUFlLDRFQUFvQjtBQUM5RjtBQUNBO0FBQ0EsNkJBQTZCLGdFQUFlO0FBQzVDO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxxQkFBcUI7QUFDckI7QUFDQSxpQkFBaUI7QUFDakIsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxtRUFBZ0I7QUFDeEI7QUFDQSxnQkFBZ0IsbUVBQWdCO0FBQ2hDO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxtREFBbUQsa0VBQWE7QUFDaEUsZ0JBQWdCLG9FQUFjO0FBQzlCLDRCQUE0QixvRUFBYztBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLDJFQUFvQjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxRQUFRLDJFQUFvQjtBQUM1QixRQUFRLGtFQUFnQjtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsZ0VBQWU7QUFDeEM7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08sdUJBQXVCLCtFQUFpQjtBQUMvQyIsInNvdXJjZXMiOlsid2VicGFjazovL25vZ2dsci8uL25vZGVfbW9kdWxlcy8ucG5wbS9AcmVvd24rYXBwa2l0LWNvbnRyb2xsZXJzQDEuOC4xMV9AcmVhY3QtbmF0aXZlLWFzeW5jLXN0b3JhZ2UrYXN5bmMtc3RvcmFnZUAyLjIuMF9yZWFjdC1fYTgwMzIxMjM4OTdlMDc5MzEzNzQyMzJjM2NjNGU1MzUvbm9kZV9tb2R1bGVzL0ByZW93bi9hcHBraXQtY29udHJvbGxlcnMvZGlzdC9lc20vc3JjL2NvbnRyb2xsZXJzL1NlbmRDb250cm9sbGVyLmpzP2NhMjgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcHJveHksIHJlZiwgc3Vic2NyaWJlIGFzIHN1YiB9IGZyb20gJ3ZhbHRpby92YW5pbGxhJztcbmltcG9ydCB7IHN1YnNjcmliZUtleSBhcyBzdWJLZXkgfSBmcm9tICd2YWx0aW8vdmFuaWxsYS91dGlscyc7XG5pbXBvcnQgeyBDb25zdGFudHNVdGlsIGFzIENvbW1vbkNvbnN0YW50c1V0aWwsIEVycm9yVXRpbCwgTnVtYmVyVXRpbCwgVXNlclJlamVjdGVkUmVxdWVzdEVycm9yIH0gZnJvbSAnQHJlb3duL2FwcGtpdC1jb21tb24nO1xuaW1wb3J0IHsgQ29udHJhY3RVdGlsIH0gZnJvbSAnQHJlb3duL2FwcGtpdC1jb21tb24nO1xuaW1wb3J0IHsgVzNtRnJhbWVScGNDb25zdGFudHMgfSBmcm9tICdAcmVvd24vYXBwa2l0LXdhbGxldC91dGlscyc7XG5pbXBvcnQgeyBCYWxhbmNlVXRpbCB9IGZyb20gJy4uL3V0aWxzL0JhbGFuY2VVdGlsLmpzJztcbmltcG9ydCB7IGdldEFjdGl2ZU5ldHdvcmtUb2tlbkFkZHJlc3MsIGdldFByZWZlcnJlZEFjY291bnRUeXBlIH0gZnJvbSAnLi4vdXRpbHMvQ2hhaW5Db250cm9sbGVyVXRpbC5qcyc7XG5pbXBvcnQgeyBDb25zdGFudHNVdGlsIH0gZnJvbSAnLi4vdXRpbHMvQ29uc3RhbnRzVXRpbC5qcyc7XG5pbXBvcnQgeyBDb3JlSGVscGVyVXRpbCB9IGZyb20gJy4uL3V0aWxzL0NvcmVIZWxwZXJVdGlsLmpzJztcbmltcG9ydCB7IFN3YXBBcGlVdGlsIH0gZnJvbSAnLi4vdXRpbHMvU3dhcEFwaVV0aWwuanMnO1xuaW1wb3J0IHsgd2l0aEVycm9yQm91bmRhcnkgfSBmcm9tICcuLi91dGlscy93aXRoRXJyb3JCb3VuZGFyeS5qcyc7XG5pbXBvcnQgeyBDaGFpbkNvbnRyb2xsZXIgfSBmcm9tICcuL0NoYWluQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBDb25uZWN0aW9uQ29udHJvbGxlciB9IGZyb20gJy4vQ29ubmVjdGlvbkNvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgRXZlbnRzQ29udHJvbGxlciB9IGZyb20gJy4vRXZlbnRzQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBSb3V0ZXJDb250cm9sbGVyIH0gZnJvbSAnLi9Sb3V0ZXJDb250cm9sbGVyLmpzJztcbmltcG9ydCB7IFNuYWNrQ29udHJvbGxlciB9IGZyb20gJy4vU25hY2tDb250cm9sbGVyLmpzJztcbi8vIC0tIFN0YXRlIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuY29uc3Qgc3RhdGUgPSBwcm94eSh7XG4gICAgdG9rZW5CYWxhbmNlczogW10sXG4gICAgbG9hZGluZzogZmFsc2Vcbn0pO1xuLy8gLS0gQ29udHJvbGxlciAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5jb25zdCBjb250cm9sbGVyID0ge1xuICAgIHN0YXRlLFxuICAgIHN1YnNjcmliZShjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gc3ViKHN0YXRlLCAoKSA9PiBjYWxsYmFjayhzdGF0ZSkpO1xuICAgIH0sXG4gICAgc3Vic2NyaWJlS2V5KGtleSwgY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIHN1YktleShzdGF0ZSwga2V5LCBjYWxsYmFjayk7XG4gICAgfSxcbiAgICBzZXRUb2tlbih0b2tlbikge1xuICAgICAgICBpZiAodG9rZW4pIHtcbiAgICAgICAgICAgIHN0YXRlLnRva2VuID0gcmVmKHRva2VuKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgc2V0VG9rZW5BbW91bnQoc2VuZFRva2VuQW1vdW50KSB7XG4gICAgICAgIHN0YXRlLnNlbmRUb2tlbkFtb3VudCA9IHNlbmRUb2tlbkFtb3VudDtcbiAgICB9LFxuICAgIHNldFJlY2VpdmVyQWRkcmVzcyhyZWNlaXZlckFkZHJlc3MpIHtcbiAgICAgICAgc3RhdGUucmVjZWl2ZXJBZGRyZXNzID0gcmVjZWl2ZXJBZGRyZXNzO1xuICAgIH0sXG4gICAgc2V0UmVjZWl2ZXJQcm9maWxlSW1hZ2VVcmwocmVjZWl2ZXJQcm9maWxlSW1hZ2VVcmwpIHtcbiAgICAgICAgc3RhdGUucmVjZWl2ZXJQcm9maWxlSW1hZ2VVcmwgPSByZWNlaXZlclByb2ZpbGVJbWFnZVVybDtcbiAgICB9LFxuICAgIHNldFJlY2VpdmVyUHJvZmlsZU5hbWUocmVjZWl2ZXJQcm9maWxlTmFtZSkge1xuICAgICAgICBzdGF0ZS5yZWNlaXZlclByb2ZpbGVOYW1lID0gcmVjZWl2ZXJQcm9maWxlTmFtZTtcbiAgICB9LFxuICAgIHNldE5ldHdvcmtCYWxhbmNlSW5Vc2QobmV0d29ya0JhbGFuY2VJblVTRCkge1xuICAgICAgICBzdGF0ZS5uZXR3b3JrQmFsYW5jZUluVVNEID0gbmV0d29ya0JhbGFuY2VJblVTRDtcbiAgICB9LFxuICAgIHNldExvYWRpbmcobG9hZGluZykge1xuICAgICAgICBzdGF0ZS5sb2FkaW5nID0gbG9hZGluZztcbiAgICB9LFxuICAgIGdldFNka0V2ZW50UHJvcGVydGllcyhlcnJvcikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbWVzc2FnZTogQ29yZUhlbHBlclV0aWwucGFyc2VFcnJvcihlcnJvciksXG4gICAgICAgICAgICBpc1NtYXJ0QWNjb3VudDogZ2V0UHJlZmVycmVkQWNjb3VudFR5cGUoQ2hhaW5Db250cm9sbGVyLnN0YXRlLmFjdGl2ZUNoYWluKSA9PT1cbiAgICAgICAgICAgICAgICBXM21GcmFtZVJwY0NvbnN0YW50cy5BQ0NPVU5UX1RZUEVTLlNNQVJUX0FDQ09VTlQsXG4gICAgICAgICAgICB0b2tlbjogc3RhdGUudG9rZW4/LnN5bWJvbCB8fCAnJyxcbiAgICAgICAgICAgIGFtb3VudDogc3RhdGUuc2VuZFRva2VuQW1vdW50ID8/IDAsXG4gICAgICAgICAgICBuZXR3b3JrOiBDaGFpbkNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ2FpcE5ldHdvcms/LmNhaXBOZXR3b3JrSWQgfHwgJydcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIGFzeW5jIHNlbmRUb2tlbigpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIFNlbmRDb250cm9sbGVyLnNldExvYWRpbmcodHJ1ZSk7XG4gICAgICAgICAgICBzd2l0Y2ggKENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDYWlwTmV0d29yaz8uY2hhaW5OYW1lc3BhY2UpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdlaXAxNTUnOlxuICAgICAgICAgICAgICAgICAgICBhd2FpdCBTZW5kQ29udHJvbGxlci5zZW5kRXZtVG9rZW4oKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3NvbGFuYSc6XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IFNlbmRDb250cm9sbGVyLnNlbmRTb2xhbmFUb2tlbigpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbnN1cHBvcnRlZCBjaGFpbicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGlmIChFcnJvclV0aWwuaXNVc2VyUmVqZWN0ZWRSZXF1ZXN0RXJyb3IoZXJyKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBVc2VyUmVqZWN0ZWRSZXF1ZXN0RXJyb3IoZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIFNlbmRDb250cm9sbGVyLnNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBhc3luYyBzZW5kRXZtVG9rZW4oKSB7XG4gICAgICAgIGNvbnN0IGFjdGl2ZUNoYWluTmFtZXNwYWNlID0gQ2hhaW5Db250cm9sbGVyLnN0YXRlLmFjdGl2ZUNoYWluO1xuICAgICAgICBpZiAoIWFjdGl2ZUNoYWluTmFtZXNwYWNlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NlbmRDb250cm9sbGVyOnNlbmRFdm1Ub2tlbiAtIGFjdGl2ZUNoYWluTmFtZXNwYWNlIGlzIHJlcXVpcmVkJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYWN0aXZlQWNjb3VudFR5cGUgPSBnZXRQcmVmZXJyZWRBY2NvdW50VHlwZShhY3RpdmVDaGFpbk5hbWVzcGFjZSk7XG4gICAgICAgIGlmICghU2VuZENvbnRyb2xsZXIuc3RhdGUuc2VuZFRva2VuQW1vdW50IHx8ICFTZW5kQ29udHJvbGxlci5zdGF0ZS5yZWNlaXZlckFkZHJlc3MpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQW4gYW1vdW50IGFuZCByZWNlaXZlciBhZGRyZXNzIGFyZSByZXF1aXJlZCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghU2VuZENvbnRyb2xsZXIuc3RhdGUudG9rZW4pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQSB0b2tlbiBpcyByZXF1aXJlZCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChTZW5kQ29udHJvbGxlci5zdGF0ZS50b2tlbj8uYWRkcmVzcykge1xuICAgICAgICAgICAgRXZlbnRzQ29udHJvbGxlci5zZW5kRXZlbnQoe1xuICAgICAgICAgICAgICAgIHR5cGU6ICd0cmFjaycsXG4gICAgICAgICAgICAgICAgZXZlbnQ6ICdTRU5EX0lOSVRJQVRFRCcsXG4gICAgICAgICAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgICAgICAgICAgICBpc1NtYXJ0QWNjb3VudDogYWN0aXZlQWNjb3VudFR5cGUgPT09IFczbUZyYW1lUnBjQ29uc3RhbnRzLkFDQ09VTlRfVFlQRVMuU01BUlRfQUNDT1VOVCxcbiAgICAgICAgICAgICAgICAgICAgdG9rZW46IFNlbmRDb250cm9sbGVyLnN0YXRlLnRva2VuLmFkZHJlc3MsXG4gICAgICAgICAgICAgICAgICAgIGFtb3VudDogU2VuZENvbnRyb2xsZXIuc3RhdGUuc2VuZFRva2VuQW1vdW50LFxuICAgICAgICAgICAgICAgICAgICBuZXR3b3JrOiBDaGFpbkNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ2FpcE5ldHdvcms/LmNhaXBOZXR3b3JrSWQgfHwgJydcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IHsgaGFzaCB9ID0gYXdhaXQgU2VuZENvbnRyb2xsZXIuc2VuZEVSQzIwVG9rZW4oe1xuICAgICAgICAgICAgICAgIHJlY2VpdmVyQWRkcmVzczogU2VuZENvbnRyb2xsZXIuc3RhdGUucmVjZWl2ZXJBZGRyZXNzLFxuICAgICAgICAgICAgICAgIHRva2VuQWRkcmVzczogU2VuZENvbnRyb2xsZXIuc3RhdGUudG9rZW4uYWRkcmVzcyxcbiAgICAgICAgICAgICAgICBzZW5kVG9rZW5BbW91bnQ6IFNlbmRDb250cm9sbGVyLnN0YXRlLnNlbmRUb2tlbkFtb3VudCxcbiAgICAgICAgICAgICAgICBkZWNpbWFsczogU2VuZENvbnRyb2xsZXIuc3RhdGUudG9rZW4ucXVhbnRpdHkuZGVjaW1hbHNcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKGhhc2gpIHtcbiAgICAgICAgICAgICAgICBzdGF0ZS5oYXNoID0gaGFzaDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIEV2ZW50c0NvbnRyb2xsZXIuc2VuZEV2ZW50KHtcbiAgICAgICAgICAgICAgICB0eXBlOiAndHJhY2snLFxuICAgICAgICAgICAgICAgIGV2ZW50OiAnU0VORF9JTklUSUFURUQnLFxuICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgaXNTbWFydEFjY291bnQ6IGFjdGl2ZUFjY291bnRUeXBlID09PSBXM21GcmFtZVJwY0NvbnN0YW50cy5BQ0NPVU5UX1RZUEVTLlNNQVJUX0FDQ09VTlQsXG4gICAgICAgICAgICAgICAgICAgIHRva2VuOiBTZW5kQ29udHJvbGxlci5zdGF0ZS50b2tlbi5zeW1ib2wgfHwgJycsXG4gICAgICAgICAgICAgICAgICAgIGFtb3VudDogU2VuZENvbnRyb2xsZXIuc3RhdGUuc2VuZFRva2VuQW1vdW50LFxuICAgICAgICAgICAgICAgICAgICBuZXR3b3JrOiBDaGFpbkNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ2FpcE5ldHdvcms/LmNhaXBOZXR3b3JrSWQgfHwgJydcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IHsgaGFzaCB9ID0gYXdhaXQgU2VuZENvbnRyb2xsZXIuc2VuZE5hdGl2ZVRva2VuKHtcbiAgICAgICAgICAgICAgICByZWNlaXZlckFkZHJlc3M6IFNlbmRDb250cm9sbGVyLnN0YXRlLnJlY2VpdmVyQWRkcmVzcyxcbiAgICAgICAgICAgICAgICBzZW5kVG9rZW5BbW91bnQ6IFNlbmRDb250cm9sbGVyLnN0YXRlLnNlbmRUb2tlbkFtb3VudCxcbiAgICAgICAgICAgICAgICBkZWNpbWFsczogU2VuZENvbnRyb2xsZXIuc3RhdGUudG9rZW4ucXVhbnRpdHkuZGVjaW1hbHNcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKGhhc2gpIHtcbiAgICAgICAgICAgICAgICBzdGF0ZS5oYXNoID0gaGFzaDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG4gICAgYXN5bmMgZmV0Y2hUb2tlbkJhbGFuY2Uob25FcnJvcikge1xuICAgICAgICBzdGF0ZS5sb2FkaW5nID0gdHJ1ZTtcbiAgICAgICAgY29uc3QgbmFtZXNwYWNlID0gQ2hhaW5Db250cm9sbGVyLnN0YXRlLmFjdGl2ZUNoYWluO1xuICAgICAgICBjb25zdCBjaGFpbklkID0gQ2hhaW5Db250cm9sbGVyLnN0YXRlLmFjdGl2ZUNhaXBOZXR3b3JrPy5jYWlwTmV0d29ya0lkO1xuICAgICAgICBjb25zdCBjaGFpbiA9IENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDYWlwTmV0d29yaz8uY2hhaW5OYW1lc3BhY2U7XG4gICAgICAgIGNvbnN0IGNhaXBBZGRyZXNzID0gQ2hhaW5Db250cm9sbGVyLmdldEFjY291bnREYXRhKG5hbWVzcGFjZSk/LmNhaXBBZGRyZXNzID8/XG4gICAgICAgICAgICBDaGFpbkNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ2FpcEFkZHJlc3M7XG4gICAgICAgIGNvbnN0IGFkZHJlc3MgPSBjYWlwQWRkcmVzcyA/IENvcmVIZWxwZXJVdGlsLmdldFBsYWluQWRkcmVzcyhjYWlwQWRkcmVzcykgOiB1bmRlZmluZWQ7XG4gICAgICAgIGlmIChzdGF0ZS5sYXN0UmV0cnkgJiZcbiAgICAgICAgICAgICFDb3JlSGVscGVyVXRpbC5pc0FsbG93ZWRSZXRyeShzdGF0ZS5sYXN0UmV0cnksIDMwICogQ29uc3RhbnRzVXRpbC5PTkVfU0VDX01TKSkge1xuICAgICAgICAgICAgc3RhdGUubG9hZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoYWRkcmVzcyAmJiBjaGFpbklkICYmIGNoYWluKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYmFsYW5jZXMgPSBhd2FpdCBCYWxhbmNlVXRpbC5nZXRNeVRva2Vuc1dpdGhCYWxhbmNlKCk7XG4gICAgICAgICAgICAgICAgc3RhdGUudG9rZW5CYWxhbmNlcyA9IGJhbGFuY2VzO1xuICAgICAgICAgICAgICAgIHN0YXRlLmxhc3RSZXRyeSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYmFsYW5jZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBzdGF0ZS5sYXN0UmV0cnkgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgb25FcnJvcj8uKGVycm9yKTtcbiAgICAgICAgICAgIFNuYWNrQ29udHJvbGxlci5zaG93RXJyb3IoJ1Rva2VuIEJhbGFuY2UgVW5hdmFpbGFibGUnKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHN0YXRlLmxvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW107XG4gICAgfSxcbiAgICBmZXRjaE5ldHdvcmtCYWxhbmNlKCkge1xuICAgICAgICBpZiAoc3RhdGUudG9rZW5CYWxhbmNlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBuZXR3b3JrVG9rZW5CYWxhbmNlcyA9IFN3YXBBcGlVdGlsLm1hcEJhbGFuY2VzVG9Td2FwVG9rZW5zKHN0YXRlLnRva2VuQmFsYW5jZXMpO1xuICAgICAgICBpZiAoIW5ldHdvcmtUb2tlbkJhbGFuY2VzKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbmV0d29ya1Rva2VuID0gbmV0d29ya1Rva2VuQmFsYW5jZXMuZmluZCh0b2tlbiA9PiB0b2tlbi5hZGRyZXNzID09PSBnZXRBY3RpdmVOZXR3b3JrVG9rZW5BZGRyZXNzKCkpO1xuICAgICAgICBpZiAoIW5ldHdvcmtUb2tlbikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHN0YXRlLm5ldHdvcmtCYWxhbmNlSW5VU0QgPSBuZXR3b3JrVG9rZW5cbiAgICAgICAgICAgID8gTnVtYmVyVXRpbC5tdWx0aXBseShuZXR3b3JrVG9rZW4ucXVhbnRpdHkubnVtZXJpYywgbmV0d29ya1Rva2VuLnByaWNlKS50b1N0cmluZygpXG4gICAgICAgICAgICA6ICcwJztcbiAgICB9LFxuICAgIGFzeW5jIHNlbmROYXRpdmVUb2tlbihwYXJhbXMpIHtcbiAgICAgICAgUm91dGVyQ29udHJvbGxlci5wdXNoVHJhbnNhY3Rpb25TdGFjayh7fSk7XG4gICAgICAgIGNvbnN0IHRvID0gcGFyYW1zLnJlY2VpdmVyQWRkcmVzcztcbiAgICAgICAgY29uc3QgYWRkcmVzcyA9IENoYWluQ29udHJvbGxlci5nZXRBY2NvdW50RGF0YSgpPy5hZGRyZXNzO1xuICAgICAgICBjb25zdCB2YWx1ZSA9IENvbm5lY3Rpb25Db250cm9sbGVyLnBhcnNlVW5pdHMocGFyYW1zLnNlbmRUb2tlbkFtb3VudC50b1N0cmluZygpLCBOdW1iZXIocGFyYW1zLmRlY2ltYWxzKSk7XG4gICAgICAgIGNvbnN0IGRhdGEgPSAnMHgnO1xuICAgICAgICBjb25zdCBoYXNoID0gYXdhaXQgQ29ubmVjdGlvbkNvbnRyb2xsZXIuc2VuZFRyYW5zYWN0aW9uKHtcbiAgICAgICAgICAgIGNoYWluTmFtZXNwYWNlOiBDb21tb25Db25zdGFudHNVdGlsLkNIQUlOLkVWTSxcbiAgICAgICAgICAgIHRvLFxuICAgICAgICAgICAgYWRkcmVzcyxcbiAgICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgICB2YWx1ZTogdmFsdWUgPz8gQmlnSW50KDApXG4gICAgICAgIH0pO1xuICAgICAgICBFdmVudHNDb250cm9sbGVyLnNlbmRFdmVudCh7XG4gICAgICAgICAgICB0eXBlOiAndHJhY2snLFxuICAgICAgICAgICAgZXZlbnQ6ICdTRU5EX1NVQ0NFU1MnLFxuICAgICAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgICAgICAgIGlzU21hcnRBY2NvdW50OiBnZXRQcmVmZXJyZWRBY2NvdW50VHlwZSgnZWlwMTU1JykgPT09IFczbUZyYW1lUnBjQ29uc3RhbnRzLkFDQ09VTlRfVFlQRVMuU01BUlRfQUNDT1VOVCxcbiAgICAgICAgICAgICAgICB0b2tlbjogU2VuZENvbnRyb2xsZXIuc3RhdGUudG9rZW4/LnN5bWJvbCB8fCAnJyxcbiAgICAgICAgICAgICAgICBhbW91bnQ6IHBhcmFtcy5zZW5kVG9rZW5BbW91bnQsXG4gICAgICAgICAgICAgICAgbmV0d29yazogQ2hhaW5Db250cm9sbGVyLnN0YXRlLmFjdGl2ZUNhaXBOZXR3b3JrPy5jYWlwTmV0d29ya0lkIHx8ICcnLFxuICAgICAgICAgICAgICAgIGhhc2g6IGhhc2ggfHwgJydcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIENvbm5lY3Rpb25Db250cm9sbGVyLl9nZXRDbGllbnQoKT8udXBkYXRlQmFsYW5jZSgnZWlwMTU1Jyk7XG4gICAgICAgIFNlbmRDb250cm9sbGVyLnJlc2V0U2VuZCgpO1xuICAgICAgICByZXR1cm4geyBoYXNoIH07XG4gICAgfSxcbiAgICBhc3luYyBzZW5kRVJDMjBUb2tlbihwYXJhbXMpIHtcbiAgICAgICAgUm91dGVyQ29udHJvbGxlci5wdXNoVHJhbnNhY3Rpb25TdGFjayh7XG4gICAgICAgICAgICBvblN1Y2Nlc3MoKSB7XG4gICAgICAgICAgICAgICAgUm91dGVyQ29udHJvbGxlci5yZXBsYWNlKCdBY2NvdW50Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBhbW91bnQgPSBDb25uZWN0aW9uQ29udHJvbGxlci5wYXJzZVVuaXRzKHBhcmFtcy5zZW5kVG9rZW5BbW91bnQudG9TdHJpbmcoKSwgTnVtYmVyKHBhcmFtcy5kZWNpbWFscykpO1xuICAgICAgICBjb25zdCBhZGRyZXNzID0gQ2hhaW5Db250cm9sbGVyLmdldEFjY291bnREYXRhKCk/LmFkZHJlc3M7XG4gICAgICAgIGlmIChhZGRyZXNzICYmIHBhcmFtcy5zZW5kVG9rZW5BbW91bnQgJiYgcGFyYW1zLnJlY2VpdmVyQWRkcmVzcyAmJiBwYXJhbXMudG9rZW5BZGRyZXNzKSB7XG4gICAgICAgICAgICBjb25zdCB0b2tlbkFkZHJlc3MgPSBDb3JlSGVscGVyVXRpbC5nZXRQbGFpbkFkZHJlc3MocGFyYW1zLnRva2VuQWRkcmVzcyk7XG4gICAgICAgICAgICBpZiAoIXRva2VuQWRkcmVzcykge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignU2VuZENvbnRyb2xsZXI6c2VuZEVSQzIwVG9rZW4gLSB0b2tlbkFkZHJlc3MgaXMgcmVxdWlyZWQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGhhc2ggPSBhd2FpdCBDb25uZWN0aW9uQ29udHJvbGxlci53cml0ZUNvbnRyYWN0KHtcbiAgICAgICAgICAgICAgICBmcm9tQWRkcmVzczogYWRkcmVzcyxcbiAgICAgICAgICAgICAgICB0b2tlbkFkZHJlc3MsXG4gICAgICAgICAgICAgICAgYXJnczogW3BhcmFtcy5yZWNlaXZlckFkZHJlc3MsIGFtb3VudCA/PyBCaWdJbnQoMCldLFxuICAgICAgICAgICAgICAgIG1ldGhvZDogJ3RyYW5zZmVyJyxcbiAgICAgICAgICAgICAgICBhYmk6IENvbnRyYWN0VXRpbC5nZXRFUkMyMEFiaSh0b2tlbkFkZHJlc3MpLFxuICAgICAgICAgICAgICAgIGNoYWluTmFtZXNwYWNlOiBDb21tb25Db25zdGFudHNVdGlsLkNIQUlOLkVWTVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBFdmVudHNDb250cm9sbGVyLnNlbmRFdmVudCh7XG4gICAgICAgICAgICAgICAgdHlwZTogJ3RyYWNrJyxcbiAgICAgICAgICAgICAgICBldmVudDogJ1NFTkRfU1VDQ0VTUycsXG4gICAgICAgICAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgICAgICAgICAgICBpc1NtYXJ0QWNjb3VudDogZ2V0UHJlZmVycmVkQWNjb3VudFR5cGUoJ2VpcDE1NScpID09PSBXM21GcmFtZVJwY0NvbnN0YW50cy5BQ0NPVU5UX1RZUEVTLlNNQVJUX0FDQ09VTlQsXG4gICAgICAgICAgICAgICAgICAgIHRva2VuOiBTZW5kQ29udHJvbGxlci5zdGF0ZS50b2tlbj8uc3ltYm9sIHx8ICcnLFxuICAgICAgICAgICAgICAgICAgICBhbW91bnQ6IHBhcmFtcy5zZW5kVG9rZW5BbW91bnQsXG4gICAgICAgICAgICAgICAgICAgIG5ldHdvcms6IENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDYWlwTmV0d29yaz8uY2FpcE5ldHdvcmtJZCB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgaGFzaDogaGFzaCB8fCAnJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgU2VuZENvbnRyb2xsZXIucmVzZXRTZW5kKCk7XG4gICAgICAgICAgICByZXR1cm4geyBoYXNoIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgaGFzaDogdW5kZWZpbmVkIH07XG4gICAgfSxcbiAgICBhc3luYyBzZW5kU29sYW5hVG9rZW4oKSB7XG4gICAgICAgIGlmICghU2VuZENvbnRyb2xsZXIuc3RhdGUuc2VuZFRva2VuQW1vdW50IHx8ICFTZW5kQ29udHJvbGxlci5zdGF0ZS5yZWNlaXZlckFkZHJlc3MpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQW4gYW1vdW50IGFuZCByZWNlaXZlciBhZGRyZXNzIGFyZSByZXF1aXJlZCcpO1xuICAgICAgICB9XG4gICAgICAgIFJvdXRlckNvbnRyb2xsZXIucHVzaFRyYW5zYWN0aW9uU3RhY2soe1xuICAgICAgICAgICAgb25TdWNjZXNzKCkge1xuICAgICAgICAgICAgICAgIFJvdXRlckNvbnRyb2xsZXIucmVwbGFjZSgnQWNjb3VudCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgbGV0IHRva2VuTWludCA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKFNlbmRDb250cm9sbGVyLnN0YXRlLnRva2VuICYmXG4gICAgICAgICAgICBTZW5kQ29udHJvbGxlci5zdGF0ZS50b2tlbi5hZGRyZXNzICE9PSBDb25zdGFudHNVdGlsLlNPTEFOQV9OQVRJVkVfVE9LRU5fQUREUkVTUykge1xuICAgICAgICAgICAgaWYgKENvcmVIZWxwZXJVdGlsLmlzQ2FpcEFkZHJlc3MoU2VuZENvbnRyb2xsZXIuc3RhdGUudG9rZW4uYWRkcmVzcykpIHtcbiAgICAgICAgICAgICAgICB0b2tlbk1pbnQgPSBDb3JlSGVscGVyVXRpbC5nZXRQbGFpbkFkZHJlc3MoU2VuZENvbnRyb2xsZXIuc3RhdGUudG9rZW4uYWRkcmVzcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0b2tlbk1pbnQgPSBTZW5kQ29udHJvbGxlci5zdGF0ZS50b2tlbi5hZGRyZXNzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGhhc2ggPSBhd2FpdCBDb25uZWN0aW9uQ29udHJvbGxlci5zZW5kVHJhbnNhY3Rpb24oe1xuICAgICAgICAgICAgY2hhaW5OYW1lc3BhY2U6ICdzb2xhbmEnLFxuICAgICAgICAgICAgdG9rZW5NaW50LFxuICAgICAgICAgICAgdG86IFNlbmRDb250cm9sbGVyLnN0YXRlLnJlY2VpdmVyQWRkcmVzcyxcbiAgICAgICAgICAgIHZhbHVlOiBTZW5kQ29udHJvbGxlci5zdGF0ZS5zZW5kVG9rZW5BbW91bnRcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChoYXNoKSB7XG4gICAgICAgICAgICBzdGF0ZS5oYXNoID0gaGFzaDtcbiAgICAgICAgfVxuICAgICAgICBDb25uZWN0aW9uQ29udHJvbGxlci5fZ2V0Q2xpZW50KCk/LnVwZGF0ZUJhbGFuY2UoJ3NvbGFuYScpO1xuICAgICAgICBFdmVudHNDb250cm9sbGVyLnNlbmRFdmVudCh7XG4gICAgICAgICAgICB0eXBlOiAndHJhY2snLFxuICAgICAgICAgICAgZXZlbnQ6ICdTRU5EX1NVQ0NFU1MnLFxuICAgICAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgICAgICAgIGlzU21hcnRBY2NvdW50OiBmYWxzZSxcbiAgICAgICAgICAgICAgICB0b2tlbjogU2VuZENvbnRyb2xsZXIuc3RhdGUudG9rZW4/LnN5bWJvbCB8fCAnJyxcbiAgICAgICAgICAgICAgICBhbW91bnQ6IFNlbmRDb250cm9sbGVyLnN0YXRlLnNlbmRUb2tlbkFtb3VudCxcbiAgICAgICAgICAgICAgICBuZXR3b3JrOiBDaGFpbkNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ2FpcE5ldHdvcms/LmNhaXBOZXR3b3JrSWQgfHwgJycsXG4gICAgICAgICAgICAgICAgaGFzaDogaGFzaCB8fCAnJ1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgU2VuZENvbnRyb2xsZXIucmVzZXRTZW5kKCk7XG4gICAgfSxcbiAgICByZXNldFNlbmQoKSB7XG4gICAgICAgIHN0YXRlLnRva2VuID0gdW5kZWZpbmVkO1xuICAgICAgICBzdGF0ZS5zZW5kVG9rZW5BbW91bnQgPSB1bmRlZmluZWQ7XG4gICAgICAgIHN0YXRlLnJlY2VpdmVyQWRkcmVzcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgc3RhdGUucmVjZWl2ZXJQcm9maWxlSW1hZ2VVcmwgPSB1bmRlZmluZWQ7XG4gICAgICAgIHN0YXRlLnJlY2VpdmVyUHJvZmlsZU5hbWUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHN0YXRlLmxvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgc3RhdGUudG9rZW5CYWxhbmNlcyA9IFtdO1xuICAgIH1cbn07XG4vLyBFeHBvcnQgdGhlIGNvbnRyb2xsZXIgd3JhcHBlZCB3aXRoIG91ciBlcnJvciBib3VuZGFyeVxuZXhwb3J0IGNvbnN0IFNlbmRDb250cm9sbGVyID0gd2l0aEVycm9yQm91bmRhcnkoY29udHJvbGxlcik7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TZW5kQ29udHJvbGxlci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/SendController.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/SnackController.js":
/*!****************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/SnackController.js ***!
  \****************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SnackController: () => (/* binding */ SnackController)\n/* harmony export */ });\n/* harmony import */ var valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! valtio/vanilla */ \"(ssr)/./node_modules/.pnpm/valtio@2.1.7_@types+react@18.3.26_react@18.3.1/node_modules/valtio/esm/vanilla.mjs\");\n/* harmony import */ var valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! valtio/vanilla/utils */ \"(ssr)/./node_modules/.pnpm/valtio@2.1.7_@types+react@18.3.26_react@18.3.1/node_modules/valtio/esm/vanilla/utils.mjs\");\n/* harmony import */ var _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/CoreHelperUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/CoreHelperUtil.js\");\n\n\n\n// -- Constants ----------------------------------------- //\nconst DEFAULT_STATE = Object.freeze({\n    message: '',\n    variant: 'success',\n    svg: undefined,\n    open: false,\n    autoClose: true\n});\n// -- State --------------------------------------------- //\nconst state = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.proxy)({\n    ...DEFAULT_STATE\n});\n// -- Controller ---------------------------------------- //\nconst controller = {\n    state,\n    subscribeKey(key, callback) {\n        return (0,valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_1__.subscribeKey)(state, key, callback);\n    },\n    showLoading(message, options = {}) {\n        this._showMessage({ message, variant: 'loading', ...options });\n    },\n    showSuccess(message) {\n        this._showMessage({ message, variant: 'success' });\n    },\n    showSvg(message, svg) {\n        this._showMessage({ message, svg });\n    },\n    showError(message) {\n        const errorMessage = _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_2__.CoreHelperUtil.parseError(message);\n        this._showMessage({ message: errorMessage, variant: 'error' });\n    },\n    hide() {\n        state.message = DEFAULT_STATE.message;\n        state.variant = DEFAULT_STATE.variant;\n        state.svg = DEFAULT_STATE.svg;\n        state.open = DEFAULT_STATE.open;\n        state.autoClose = DEFAULT_STATE.autoClose;\n    },\n    _showMessage({ message, svg, variant = 'success', autoClose = DEFAULT_STATE.autoClose }) {\n        if (state.open) {\n            state.open = false;\n            setTimeout(() => {\n                state.message = message;\n                state.variant = variant;\n                state.svg = svg;\n                state.open = true;\n                state.autoClose = autoClose;\n            }, 150);\n        }\n        else {\n            state.message = message;\n            state.variant = variant;\n            state.svg = svg;\n            state.open = true;\n            state.autoClose = autoClose;\n        }\n    }\n};\nconst SnackController = controller;\n//# sourceMappingURL=SnackController.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTFfQHJlYWN0LW5hdGl2ZS1hc3luYy1zdG9yYWdlK2FzeW5jLXN0b3JhZ2VAMi4yLjBfcmVhY3QtX2E4MDMyMTIzODk3ZTA3OTMxMzc0MjMyYzNjYzRlNTM1L25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9TbmFja0NvbnRyb2xsZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUF1QztBQUN1QjtBQUNGO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0EsY0FBYyxxREFBSztBQUNuQjtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsa0VBQU07QUFDckIsS0FBSztBQUNMLHFDQUFxQztBQUNyQyw0QkFBNEIseUNBQXlDO0FBQ3JFLEtBQUs7QUFDTDtBQUNBLDRCQUE0Qiw2QkFBNkI7QUFDekQsS0FBSztBQUNMO0FBQ0EsNEJBQTRCLGNBQWM7QUFDMUMsS0FBSztBQUNMO0FBQ0EsNkJBQTZCLG9FQUFjO0FBQzNDLDRCQUE0Qix5Q0FBeUM7QUFDckUsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxtQkFBbUIsd0VBQXdFO0FBQzNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm9nZ2xyLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0ByZW93bithcHBraXQtY29udHJvbGxlcnNAMS44LjExX0ByZWFjdC1uYXRpdmUtYXN5bmMtc3RvcmFnZSthc3luYy1zdG9yYWdlQDIuMi4wX3JlYWN0LV9hODAzMjEyMzg5N2UwNzkzMTM3NDIzMmMzY2M0ZTUzNS9ub2RlX21vZHVsZXMvQHJlb3duL2FwcGtpdC1jb250cm9sbGVycy9kaXN0L2VzbS9zcmMvY29udHJvbGxlcnMvU25hY2tDb250cm9sbGVyLmpzPzNjNGIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcHJveHkgfSBmcm9tICd2YWx0aW8vdmFuaWxsYSc7XG5pbXBvcnQgeyBzdWJzY3JpYmVLZXkgYXMgc3ViS2V5IH0gZnJvbSAndmFsdGlvL3ZhbmlsbGEvdXRpbHMnO1xuaW1wb3J0IHsgQ29yZUhlbHBlclV0aWwgfSBmcm9tICcuLi91dGlscy9Db3JlSGVscGVyVXRpbC5qcyc7XG4vLyAtLSBDb25zdGFudHMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbmNvbnN0IERFRkFVTFRfU1RBVEUgPSBPYmplY3QuZnJlZXplKHtcbiAgICBtZXNzYWdlOiAnJyxcbiAgICB2YXJpYW50OiAnc3VjY2VzcycsXG4gICAgc3ZnOiB1bmRlZmluZWQsXG4gICAgb3BlbjogZmFsc2UsXG4gICAgYXV0b0Nsb3NlOiB0cnVlXG59KTtcbi8vIC0tIFN0YXRlIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuY29uc3Qgc3RhdGUgPSBwcm94eSh7XG4gICAgLi4uREVGQVVMVF9TVEFURVxufSk7XG4vLyAtLSBDb250cm9sbGVyIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbmNvbnN0IGNvbnRyb2xsZXIgPSB7XG4gICAgc3RhdGUsXG4gICAgc3Vic2NyaWJlS2V5KGtleSwgY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIHN1YktleShzdGF0ZSwga2V5LCBjYWxsYmFjayk7XG4gICAgfSxcbiAgICBzaG93TG9hZGluZyhtZXNzYWdlLCBvcHRpb25zID0ge30pIHtcbiAgICAgICAgdGhpcy5fc2hvd01lc3NhZ2UoeyBtZXNzYWdlLCB2YXJpYW50OiAnbG9hZGluZycsIC4uLm9wdGlvbnMgfSk7XG4gICAgfSxcbiAgICBzaG93U3VjY2VzcyhtZXNzYWdlKSB7XG4gICAgICAgIHRoaXMuX3Nob3dNZXNzYWdlKHsgbWVzc2FnZSwgdmFyaWFudDogJ3N1Y2Nlc3MnIH0pO1xuICAgIH0sXG4gICAgc2hvd1N2ZyhtZXNzYWdlLCBzdmcpIHtcbiAgICAgICAgdGhpcy5fc2hvd01lc3NhZ2UoeyBtZXNzYWdlLCBzdmcgfSk7XG4gICAgfSxcbiAgICBzaG93RXJyb3IobWVzc2FnZSkge1xuICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBDb3JlSGVscGVyVXRpbC5wYXJzZUVycm9yKG1lc3NhZ2UpO1xuICAgICAgICB0aGlzLl9zaG93TWVzc2FnZSh7IG1lc3NhZ2U6IGVycm9yTWVzc2FnZSwgdmFyaWFudDogJ2Vycm9yJyB9KTtcbiAgICB9LFxuICAgIGhpZGUoKSB7XG4gICAgICAgIHN0YXRlLm1lc3NhZ2UgPSBERUZBVUxUX1NUQVRFLm1lc3NhZ2U7XG4gICAgICAgIHN0YXRlLnZhcmlhbnQgPSBERUZBVUxUX1NUQVRFLnZhcmlhbnQ7XG4gICAgICAgIHN0YXRlLnN2ZyA9IERFRkFVTFRfU1RBVEUuc3ZnO1xuICAgICAgICBzdGF0ZS5vcGVuID0gREVGQVVMVF9TVEFURS5vcGVuO1xuICAgICAgICBzdGF0ZS5hdXRvQ2xvc2UgPSBERUZBVUxUX1NUQVRFLmF1dG9DbG9zZTtcbiAgICB9LFxuICAgIF9zaG93TWVzc2FnZSh7IG1lc3NhZ2UsIHN2ZywgdmFyaWFudCA9ICdzdWNjZXNzJywgYXV0b0Nsb3NlID0gREVGQVVMVF9TVEFURS5hdXRvQ2xvc2UgfSkge1xuICAgICAgICBpZiAoc3RhdGUub3Blbikge1xuICAgICAgICAgICAgc3RhdGUub3BlbiA9IGZhbHNlO1xuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgc3RhdGUubWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgc3RhdGUudmFyaWFudCA9IHZhcmlhbnQ7XG4gICAgICAgICAgICAgICAgc3RhdGUuc3ZnID0gc3ZnO1xuICAgICAgICAgICAgICAgIHN0YXRlLm9wZW4gPSB0cnVlO1xuICAgICAgICAgICAgICAgIHN0YXRlLmF1dG9DbG9zZSA9IGF1dG9DbG9zZTtcbiAgICAgICAgICAgIH0sIDE1MCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzdGF0ZS5tZXNzYWdlID0gbWVzc2FnZTtcbiAgICAgICAgICAgIHN0YXRlLnZhcmlhbnQgPSB2YXJpYW50O1xuICAgICAgICAgICAgc3RhdGUuc3ZnID0gc3ZnO1xuICAgICAgICAgICAgc3RhdGUub3BlbiA9IHRydWU7XG4gICAgICAgICAgICBzdGF0ZS5hdXRvQ2xvc2UgPSBhdXRvQ2xvc2U7XG4gICAgICAgIH1cbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IFNuYWNrQ29udHJvbGxlciA9IGNvbnRyb2xsZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TbmFja0NvbnRyb2xsZXIuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/SnackController.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/SwapController.js":
/*!***************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/SwapController.js ***!
  \***************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   INITIAL_GAS_LIMIT: () => (/* binding */ INITIAL_GAS_LIMIT),\n/* harmony export */   SwapController: () => (/* binding */ SwapController),\n/* harmony export */   TO_AMOUNT_DECIMALS: () => (/* binding */ TO_AMOUNT_DECIMALS)\n/* harmony export */ });\n/* harmony import */ var valtio_vanilla__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! valtio/vanilla */ \"(ssr)/./node_modules/.pnpm/valtio@2.1.7_@types+react@18.3.26_react@18.3.1/node_modules/valtio/esm/vanilla.mjs\");\n/* harmony import */ var valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! valtio/vanilla/utils */ \"(ssr)/./node_modules/.pnpm/valtio@2.1.7_@types+react@18.3.26_react@18.3.1/node_modules/valtio/esm/vanilla/utils.mjs\");\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @reown/appkit-common */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-common@1.8.11_bufferutil@4.0.9_typescript@5.9.3_utf-8-validate@5.0.10_zod@4.1.12/node_modules/@reown/appkit-common/dist/esm/src/utils/NumberUtil.js\");\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @reown/appkit-common */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-common@1.8.11_bufferutil@4.0.9_typescript@5.9.3_utf-8-validate@5.0.10_zod@4.1.12/node_modules/@reown/appkit-common/dist/esm/src/utils/ConstantsUtil.js\");\n/* harmony import */ var _reown_appkit_wallet_utils__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @reown/appkit-wallet/utils */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-wallet@1.8.11_bufferutil@4.0.9_typescript@5.9.3_utf-8-validate@5.0.10/node_modules/@reown/appkit-wallet/dist/esm/src/W3mFrameConstants.js\");\n/* harmony import */ var _utils_BalanceUtil_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../utils/BalanceUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/BalanceUtil.js\");\n/* harmony import */ var _utils_ChainControllerUtil_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/ChainControllerUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ChainControllerUtil.js\");\n/* harmony import */ var _utils_ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/ConstantsUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ConstantsUtil.js\");\n/* harmony import */ var _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/CoreHelperUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/CoreHelperUtil.js\");\n/* harmony import */ var _utils_SwapApiUtil_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../utils/SwapApiUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/SwapApiUtil.js\");\n/* harmony import */ var _utils_SwapCalculationUtil_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../utils/SwapCalculationUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/SwapCalculationUtil.js\");\n/* harmony import */ var _utils_withErrorBoundary_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../utils/withErrorBoundary.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/withErrorBoundary.js\");\n/* harmony import */ var _AlertController_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./AlertController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/AlertController.js\");\n/* harmony import */ var _BlockchainApiController_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./BlockchainApiController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/BlockchainApiController.js\");\n/* harmony import */ var _ChainController_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ChainController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ChainController.js\");\n/* harmony import */ var _ConnectionController_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./ConnectionController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectionController.js\");\n/* harmony import */ var _ConnectorController_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./ConnectorController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectorController.js\");\n/* harmony import */ var _EventsController_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./EventsController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/EventsController.js\");\n/* harmony import */ var _RouterController_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./RouterController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/RouterController.js\");\n/* harmony import */ var _SnackController_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./SnackController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/SnackController.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// -- Constants ---------------------------------------- //\nconst INITIAL_GAS_LIMIT = 150000;\nconst TO_AMOUNT_DECIMALS = 6;\nclass TransactionError extends Error {\n    constructor(message, displayMessage) {\n        super(message);\n        this.name = 'TransactionError';\n        this.displayMessage = displayMessage;\n    }\n}\n// -- State --------------------------------------------- //\nconst initialState = {\n    // Loading states\n    initializing: false,\n    initialized: false,\n    loadingPrices: false,\n    loadingQuote: false,\n    loadingApprovalTransaction: false,\n    loadingBuildTransaction: false,\n    loadingTransaction: false,\n    // Control states\n    switchingTokens: false,\n    // Error states\n    fetchError: false,\n    // Approval & Swap transaction states\n    approvalTransaction: undefined,\n    swapTransaction: undefined,\n    transactionError: undefined,\n    // Input values\n    sourceToken: undefined,\n    sourceTokenAmount: '',\n    sourceTokenPriceInUSD: 0,\n    toToken: undefined,\n    toTokenAmount: '',\n    toTokenPriceInUSD: 0,\n    networkPrice: '0',\n    networkBalanceInUSD: '0',\n    networkTokenSymbol: '',\n    inputError: undefined,\n    // Request values\n    slippage: _utils_ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.CONVERT_SLIPPAGE_TOLERANCE,\n    // Tokens\n    tokens: undefined,\n    popularTokens: undefined,\n    suggestedTokens: undefined,\n    foundTokens: undefined,\n    myTokensWithBalance: undefined,\n    tokensPriceMap: {},\n    // Calculations\n    gasFee: '0',\n    gasPriceInUSD: 0,\n    priceImpact: undefined,\n    maxSlippage: undefined,\n    providerFee: undefined\n};\nconst state = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_1__.proxy)({ ...initialState });\n// -- Controller ---------------------------------------- //\nconst controller = {\n    state,\n    subscribe(callback) {\n        return (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_1__.subscribe)(state, () => callback(state));\n    },\n    subscribeKey(key, callback) {\n        return (0,valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_2__.subscribeKey)(state, key, callback);\n    },\n    getParams() {\n        const namespace = _ChainController_js__WEBPACK_IMPORTED_MODULE_3__.ChainController.state.activeChain;\n        const caipAddress = _ChainController_js__WEBPACK_IMPORTED_MODULE_3__.ChainController.getAccountData(namespace)?.caipAddress ??\n            _ChainController_js__WEBPACK_IMPORTED_MODULE_3__.ChainController.state.activeCaipAddress;\n        const address = _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_4__.CoreHelperUtil.getPlainAddress(caipAddress);\n        const networkAddress = (0,_utils_ChainControllerUtil_js__WEBPACK_IMPORTED_MODULE_5__.getActiveNetworkTokenAddress)();\n        const connectorId = _ConnectorController_js__WEBPACK_IMPORTED_MODULE_6__.ConnectorController.getConnectorId(_ChainController_js__WEBPACK_IMPORTED_MODULE_3__.ChainController.state.activeChain);\n        if (!address) {\n            throw new Error('No address found to swap the tokens from.');\n        }\n        const invalidToToken = !state.toToken?.address || !state.toToken?.decimals;\n        const invalidSourceToken = !state.sourceToken?.address ||\n            !state.sourceToken?.decimals ||\n            !_reown_appkit_common__WEBPACK_IMPORTED_MODULE_7__.NumberUtil.bigNumber(state.sourceTokenAmount).gt(0);\n        const invalidSourceTokenAmount = !state.sourceTokenAmount;\n        return {\n            networkAddress,\n            fromAddress: address,\n            fromCaipAddress: caipAddress,\n            sourceTokenAddress: state.sourceToken?.address,\n            toTokenAddress: state.toToken?.address,\n            toTokenAmount: state.toTokenAmount,\n            toTokenDecimals: state.toToken?.decimals,\n            sourceTokenAmount: state.sourceTokenAmount,\n            sourceTokenDecimals: state.sourceToken?.decimals,\n            invalidToToken,\n            invalidSourceToken,\n            invalidSourceTokenAmount,\n            availableToSwap: caipAddress && !invalidToToken && !invalidSourceToken && !invalidSourceTokenAmount,\n            isAuthConnector: connectorId === _reown_appkit_common__WEBPACK_IMPORTED_MODULE_8__.ConstantsUtil.CONNECTOR_ID.AUTH\n        };\n    },\n    async setSourceToken(sourceToken) {\n        if (!sourceToken) {\n            state.sourceToken = sourceToken;\n            state.sourceTokenAmount = '';\n            state.sourceTokenPriceInUSD = 0;\n            return;\n        }\n        state.sourceToken = sourceToken;\n        await SwapController.setTokenPrice(sourceToken.address, 'sourceToken');\n    },\n    setSourceTokenAmount(amount) {\n        state.sourceTokenAmount = amount;\n    },\n    async setToToken(toToken) {\n        if (!toToken) {\n            state.toToken = toToken;\n            state.toTokenAmount = '';\n            state.toTokenPriceInUSD = 0;\n            return;\n        }\n        state.toToken = toToken;\n        await SwapController.setTokenPrice(toToken.address, 'toToken');\n    },\n    setToTokenAmount(amount) {\n        state.toTokenAmount = amount ? _reown_appkit_common__WEBPACK_IMPORTED_MODULE_7__.NumberUtil.toFixed(amount, TO_AMOUNT_DECIMALS) : '';\n    },\n    async setTokenPrice(address, target) {\n        let price = state.tokensPriceMap[address] || 0;\n        if (!price) {\n            state.loadingPrices = true;\n            price = await SwapController.getAddressPrice(address);\n        }\n        if (target === 'sourceToken') {\n            state.sourceTokenPriceInUSD = price;\n        }\n        else if (target === 'toToken') {\n            state.toTokenPriceInUSD = price;\n        }\n        if (state.loadingPrices) {\n            state.loadingPrices = false;\n        }\n        if (SwapController.getParams().availableToSwap && !state.switchingTokens) {\n            SwapController.swapTokens();\n        }\n    },\n    async switchTokens() {\n        if (state.initializing || !state.initialized || state.switchingTokens) {\n            return;\n        }\n        state.switchingTokens = true;\n        try {\n            const newSourceToken = state.toToken ? { ...state.toToken } : undefined;\n            const newToToken = state.sourceToken ? { ...state.sourceToken } : undefined;\n            const newSourceTokenAmount = newSourceToken && state.toTokenAmount === '' ? '1' : state.toTokenAmount;\n            SwapController.setSourceTokenAmount(newSourceTokenAmount);\n            SwapController.setToTokenAmount('');\n            await SwapController.setSourceToken(newSourceToken);\n            await SwapController.setToToken(newToToken);\n            state.switchingTokens = false;\n            SwapController.swapTokens();\n        }\n        catch (error) {\n            state.switchingTokens = false;\n            throw error;\n        }\n    },\n    resetState() {\n        state.myTokensWithBalance = initialState.myTokensWithBalance;\n        state.tokensPriceMap = initialState.tokensPriceMap;\n        state.initialized = initialState.initialized;\n        state.initializing = initialState.initializing;\n        state.switchingTokens = initialState.switchingTokens;\n        state.sourceToken = initialState.sourceToken;\n        state.sourceTokenAmount = initialState.sourceTokenAmount;\n        state.sourceTokenPriceInUSD = initialState.sourceTokenPriceInUSD;\n        state.toToken = initialState.toToken;\n        state.toTokenAmount = initialState.toTokenAmount;\n        state.toTokenPriceInUSD = initialState.toTokenPriceInUSD;\n        state.networkPrice = initialState.networkPrice;\n        state.networkTokenSymbol = initialState.networkTokenSymbol;\n        state.networkBalanceInUSD = initialState.networkBalanceInUSD;\n        state.inputError = initialState.inputError;\n    },\n    resetValues() {\n        const { networkAddress } = SwapController.getParams();\n        const networkToken = state.tokens?.find(token => token.address === networkAddress);\n        SwapController.setSourceToken(networkToken);\n        SwapController.setToToken(undefined);\n    },\n    getApprovalLoadingState() {\n        return state.loadingApprovalTransaction;\n    },\n    clearError() {\n        state.transactionError = undefined;\n    },\n    async initializeState() {\n        if (state.initializing) {\n            return;\n        }\n        state.initializing = true;\n        if (!state.initialized) {\n            try {\n                await SwapController.fetchTokens();\n                state.initialized = true;\n            }\n            catch (error) {\n                state.initialized = false;\n                _SnackController_js__WEBPACK_IMPORTED_MODULE_9__.SnackController.showError('Failed to initialize swap');\n                _RouterController_js__WEBPACK_IMPORTED_MODULE_10__.RouterController.goBack();\n            }\n        }\n        state.initializing = false;\n    },\n    async fetchTokens() {\n        const { networkAddress } = SwapController.getParams();\n        await SwapController.getNetworkTokenPrice();\n        await SwapController.getMyTokensWithBalance();\n        const networkToken = state.myTokensWithBalance?.find(token => token.address === networkAddress);\n        if (networkToken) {\n            state.networkTokenSymbol = networkToken.symbol;\n            SwapController.setSourceToken(networkToken);\n            SwapController.setSourceTokenAmount('0');\n        }\n    },\n    async getTokenList() {\n        const activeCaipNetworkId = _ChainController_js__WEBPACK_IMPORTED_MODULE_3__.ChainController.state.activeCaipNetwork?.caipNetworkId;\n        if (state.caipNetworkId === activeCaipNetworkId && state.tokens) {\n            return;\n        }\n        try {\n            state.tokensLoading = true;\n            const tokens = await _utils_SwapApiUtil_js__WEBPACK_IMPORTED_MODULE_11__.SwapApiUtil.getTokenList(activeCaipNetworkId);\n            state.tokens = tokens;\n            state.caipNetworkId = activeCaipNetworkId;\n            state.popularTokens = tokens.sort((aTokenInfo, bTokenInfo) => {\n                if (aTokenInfo.symbol < bTokenInfo.symbol) {\n                    return -1;\n                }\n                if (aTokenInfo.symbol > bTokenInfo.symbol) {\n                    return 1;\n                }\n                return 0;\n            });\n            const suggestedTokensByChain = (activeCaipNetworkId &&\n                _utils_ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.SUGGESTED_TOKENS_BY_CHAIN?.[activeCaipNetworkId]) ||\n                [];\n            const suggestedTokenObjects = suggestedTokensByChain\n                .map(symbol => tokens.find(t => t.symbol === symbol))\n                .filter((t) => Boolean(t));\n            const allSuggestedTokens = _utils_ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.SWAP_SUGGESTED_TOKENS || [];\n            const allSuggestedTokenObjects = allSuggestedTokens\n                .map(symbol => tokens.find(t => t.symbol === symbol))\n                .filter((t) => Boolean(t))\n                .filter(t => !suggestedTokenObjects.some(ct => ct.address === t.address));\n            state.suggestedTokens = [...suggestedTokenObjects, ...allSuggestedTokenObjects];\n        }\n        catch (error) {\n            state.tokens = [];\n            state.popularTokens = [];\n            state.suggestedTokens = [];\n        }\n        finally {\n            state.tokensLoading = false;\n        }\n    },\n    async getAddressPrice(address) {\n        const existPrice = state.tokensPriceMap[address];\n        if (existPrice) {\n            return existPrice;\n        }\n        const response = await _BlockchainApiController_js__WEBPACK_IMPORTED_MODULE_12__.BlockchainApiController.fetchTokenPrice({\n            addresses: [address]\n        });\n        const fungibles = response?.fungibles || [];\n        const allTokens = [...(state.tokens || []), ...(state.myTokensWithBalance || [])];\n        const symbol = allTokens?.find(token => token.address === address)?.symbol;\n        const price = fungibles.find(p => p.symbol.toLowerCase() === symbol?.toLowerCase())?.price || 0;\n        const priceAsFloat = parseFloat(price.toString());\n        state.tokensPriceMap[address] = priceAsFloat;\n        return priceAsFloat;\n    },\n    async getNetworkTokenPrice() {\n        const { networkAddress } = SwapController.getParams();\n        const response = await _BlockchainApiController_js__WEBPACK_IMPORTED_MODULE_12__.BlockchainApiController.fetchTokenPrice({\n            addresses: [networkAddress]\n        }).catch(() => {\n            _SnackController_js__WEBPACK_IMPORTED_MODULE_9__.SnackController.showError('Failed to fetch network token price');\n            return { fungibles: [] };\n        });\n        const token = response.fungibles?.[0];\n        const price = token?.price.toString() || '0';\n        state.tokensPriceMap[networkAddress] = parseFloat(price);\n        state.networkTokenSymbol = token?.symbol || '';\n        state.networkPrice = price;\n    },\n    async getMyTokensWithBalance(forceUpdate) {\n        const balances = await _utils_BalanceUtil_js__WEBPACK_IMPORTED_MODULE_13__.BalanceUtil.getMyTokensWithBalance(forceUpdate);\n        const swapBalances = _utils_SwapApiUtil_js__WEBPACK_IMPORTED_MODULE_11__.SwapApiUtil.mapBalancesToSwapTokens(balances);\n        if (!swapBalances) {\n            return;\n        }\n        await SwapController.getInitialGasPrice();\n        SwapController.setBalances(swapBalances);\n    },\n    setBalances(balances) {\n        const { networkAddress } = SwapController.getParams();\n        const caipNetwork = _ChainController_js__WEBPACK_IMPORTED_MODULE_3__.ChainController.state.activeCaipNetwork;\n        if (!caipNetwork) {\n            return;\n        }\n        const networkToken = balances.find(token => token.address === networkAddress);\n        balances.forEach(token => {\n            state.tokensPriceMap[token.address] = token.price || 0;\n        });\n        state.myTokensWithBalance = balances.filter(token => token.address.startsWith(caipNetwork.caipNetworkId));\n        state.networkBalanceInUSD = networkToken\n            ? _reown_appkit_common__WEBPACK_IMPORTED_MODULE_7__.NumberUtil.multiply(networkToken.quantity.numeric, networkToken.price).toString()\n            : '0';\n    },\n    async getInitialGasPrice() {\n        const res = await _utils_SwapApiUtil_js__WEBPACK_IMPORTED_MODULE_11__.SwapApiUtil.fetchGasPrice();\n        if (!res) {\n            return { gasPrice: null, gasPriceInUSD: null };\n        }\n        switch (_ChainController_js__WEBPACK_IMPORTED_MODULE_3__.ChainController.state?.activeCaipNetwork?.chainNamespace) {\n            case _reown_appkit_common__WEBPACK_IMPORTED_MODULE_8__.ConstantsUtil.CHAIN.SOLANA:\n                state.gasFee = res.standard ?? '0';\n                state.gasPriceInUSD = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_7__.NumberUtil.multiply(res.standard, state.networkPrice)\n                    .div(1e9)\n                    .toNumber();\n                return {\n                    gasPrice: BigInt(state.gasFee),\n                    gasPriceInUSD: Number(state.gasPriceInUSD)\n                };\n            case _reown_appkit_common__WEBPACK_IMPORTED_MODULE_8__.ConstantsUtil.CHAIN.EVM:\n            default:\n                // eslint-disable-next-line no-case-declarations\n                const value = res.standard ?? '0';\n                // eslint-disable-next-line no-case-declarations\n                const gasFee = BigInt(value);\n                // eslint-disable-next-line no-case-declarations\n                const gasLimit = BigInt(INITIAL_GAS_LIMIT);\n                // eslint-disable-next-line no-case-declarations\n                const gasPrice = _utils_SwapCalculationUtil_js__WEBPACK_IMPORTED_MODULE_14__.SwapCalculationUtil.getGasPriceInUSD(state.networkPrice, gasLimit, gasFee);\n                state.gasFee = value;\n                state.gasPriceInUSD = gasPrice;\n                return { gasPrice: gasFee, gasPriceInUSD: gasPrice };\n        }\n    },\n    // -- Swap -------------------------------------- //\n    async swapTokens() {\n        const address = _ChainController_js__WEBPACK_IMPORTED_MODULE_3__.ChainController.getAccountData()?.address;\n        const sourceToken = state.sourceToken;\n        const toToken = state.toToken;\n        const haveSourceTokenAmount = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_7__.NumberUtil.bigNumber(state.sourceTokenAmount).gt(0);\n        if (!haveSourceTokenAmount) {\n            SwapController.setToTokenAmount('');\n        }\n        if (!toToken || !sourceToken || state.loadingPrices || !haveSourceTokenAmount || !address) {\n            return;\n        }\n        state.loadingQuote = true;\n        const amountDecimal = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_7__.NumberUtil.bigNumber(state.sourceTokenAmount)\n            .times(10 ** sourceToken.decimals)\n            .round(0);\n        try {\n            const quoteResponse = await _BlockchainApiController_js__WEBPACK_IMPORTED_MODULE_12__.BlockchainApiController.fetchSwapQuote({\n                userAddress: address,\n                from: sourceToken.address,\n                to: toToken.address,\n                gasPrice: state.gasFee,\n                amount: amountDecimal.toString()\n            });\n            state.loadingQuote = false;\n            const quoteToAmount = quoteResponse?.quotes?.[0]?.toAmount;\n            if (!quoteToAmount) {\n                _AlertController_js__WEBPACK_IMPORTED_MODULE_15__.AlertController.open({\n                    displayMessage: 'Incorrect amount',\n                    debugMessage: 'Please enter a valid amount'\n                }, 'error');\n                return;\n            }\n            const toTokenAmount = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_7__.NumberUtil.bigNumber(quoteToAmount)\n                .div(10 ** toToken.decimals)\n                .toString();\n            SwapController.setToTokenAmount(toTokenAmount);\n            const isInsufficientToken = SwapController.hasInsufficientToken(state.sourceTokenAmount, sourceToken.address);\n            if (isInsufficientToken) {\n                state.inputError = 'Insufficient balance';\n            }\n            else {\n                state.inputError = undefined;\n                SwapController.setTransactionDetails();\n            }\n        }\n        catch (error) {\n            const response = await _utils_SwapApiUtil_js__WEBPACK_IMPORTED_MODULE_11__.SwapApiUtil.handleSwapError(error);\n            state.loadingQuote = false;\n            state.inputError = response || 'Insufficient balance';\n        }\n    },\n    // -- Create Transactions -------------------------------------- //\n    async getTransaction() {\n        const { fromCaipAddress, availableToSwap } = SwapController.getParams();\n        const sourceToken = state.sourceToken;\n        const toToken = state.toToken;\n        if (!fromCaipAddress || !availableToSwap || !sourceToken || !toToken || state.loadingQuote) {\n            return undefined;\n        }\n        try {\n            state.loadingBuildTransaction = true;\n            const hasAllowance = await _utils_SwapApiUtil_js__WEBPACK_IMPORTED_MODULE_11__.SwapApiUtil.fetchSwapAllowance({\n                userAddress: fromCaipAddress,\n                tokenAddress: sourceToken.address,\n                sourceTokenAmount: state.sourceTokenAmount,\n                sourceTokenDecimals: sourceToken.decimals\n            });\n            let transaction = undefined;\n            if (hasAllowance) {\n                transaction = await SwapController.createSwapTransaction();\n            }\n            else {\n                transaction = await SwapController.createAllowanceTransaction();\n            }\n            state.loadingBuildTransaction = false;\n            state.fetchError = false;\n            return transaction;\n        }\n        catch (error) {\n            _RouterController_js__WEBPACK_IMPORTED_MODULE_10__.RouterController.goBack();\n            _SnackController_js__WEBPACK_IMPORTED_MODULE_9__.SnackController.showError('Failed to check allowance');\n            state.loadingBuildTransaction = false;\n            state.approvalTransaction = undefined;\n            state.swapTransaction = undefined;\n            state.fetchError = true;\n            return undefined;\n        }\n    },\n    async createAllowanceTransaction() {\n        const { fromCaipAddress, sourceTokenAddress, toTokenAddress } = SwapController.getParams();\n        if (!fromCaipAddress || !toTokenAddress) {\n            return undefined;\n        }\n        if (!sourceTokenAddress) {\n            throw new Error('createAllowanceTransaction - No source token address found.');\n        }\n        try {\n            const response = await _BlockchainApiController_js__WEBPACK_IMPORTED_MODULE_12__.BlockchainApiController.generateApproveCalldata({\n                from: sourceTokenAddress,\n                to: toTokenAddress,\n                userAddress: fromCaipAddress\n            });\n            const address = _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_4__.CoreHelperUtil.getPlainAddress(response.tx.from);\n            if (!address) {\n                throw new Error('SwapController:createAllowanceTransaction - address is required');\n            }\n            const transaction = {\n                data: response.tx.data,\n                to: address,\n                gasPrice: BigInt(response.tx.eip155.gasPrice),\n                value: BigInt(response.tx.value),\n                toAmount: state.toTokenAmount\n            };\n            state.swapTransaction = undefined;\n            state.approvalTransaction = {\n                data: transaction.data,\n                to: transaction.to,\n                gasPrice: transaction.gasPrice,\n                value: transaction.value,\n                toAmount: transaction.toAmount\n            };\n            return {\n                data: transaction.data,\n                to: transaction.to,\n                gasPrice: transaction.gasPrice,\n                value: transaction.value,\n                toAmount: transaction.toAmount\n            };\n        }\n        catch (error) {\n            _RouterController_js__WEBPACK_IMPORTED_MODULE_10__.RouterController.goBack();\n            _SnackController_js__WEBPACK_IMPORTED_MODULE_9__.SnackController.showError('Failed to create approval transaction');\n            state.approvalTransaction = undefined;\n            state.swapTransaction = undefined;\n            state.fetchError = true;\n            return undefined;\n        }\n    },\n    async createSwapTransaction() {\n        const { networkAddress, fromCaipAddress, sourceTokenAmount } = SwapController.getParams();\n        const sourceToken = state.sourceToken;\n        const toToken = state.toToken;\n        if (!fromCaipAddress || !sourceTokenAmount || !sourceToken || !toToken) {\n            return undefined;\n        }\n        const amount = _ConnectionController_js__WEBPACK_IMPORTED_MODULE_16__.ConnectionController.parseUnits(sourceTokenAmount, sourceToken.decimals)?.toString();\n        try {\n            const response = await _BlockchainApiController_js__WEBPACK_IMPORTED_MODULE_12__.BlockchainApiController.generateSwapCalldata({\n                userAddress: fromCaipAddress,\n                from: sourceToken.address,\n                to: toToken.address,\n                amount: amount,\n                disableEstimate: true\n            });\n            const isSourceTokenIsNetworkToken = sourceToken.address === networkAddress;\n            const gas = BigInt(response.tx.eip155.gas);\n            const gasPrice = BigInt(response.tx.eip155.gasPrice);\n            const address = _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_4__.CoreHelperUtil.getPlainAddress(response.tx.to);\n            if (!address) {\n                throw new Error('SwapController:createSwapTransaction - address is required');\n            }\n            const transaction = {\n                data: response.tx.data,\n                to: address,\n                gas,\n                gasPrice,\n                value: isSourceTokenIsNetworkToken ? BigInt(amount ?? '0') : BigInt('0'),\n                toAmount: state.toTokenAmount\n            };\n            state.gasPriceInUSD = _utils_SwapCalculationUtil_js__WEBPACK_IMPORTED_MODULE_14__.SwapCalculationUtil.getGasPriceInUSD(state.networkPrice, gas, gasPrice);\n            state.approvalTransaction = undefined;\n            state.swapTransaction = transaction;\n            return transaction;\n        }\n        catch (error) {\n            _RouterController_js__WEBPACK_IMPORTED_MODULE_10__.RouterController.goBack();\n            _SnackController_js__WEBPACK_IMPORTED_MODULE_9__.SnackController.showError('Failed to create transaction');\n            state.approvalTransaction = undefined;\n            state.swapTransaction = undefined;\n            state.fetchError = true;\n            return undefined;\n        }\n    },\n    onEmbeddedWalletApprovalSuccess() {\n        _SnackController_js__WEBPACK_IMPORTED_MODULE_9__.SnackController.showLoading('Approve limit increase in your wallet');\n        _RouterController_js__WEBPACK_IMPORTED_MODULE_10__.RouterController.replace('SwapPreview');\n    },\n    // -- Send Transactions --------------------------------- //\n    async sendTransactionForApproval(data) {\n        const { fromAddress, isAuthConnector } = SwapController.getParams();\n        state.loadingApprovalTransaction = true;\n        const approveLimitMessage = `Approve limit increase in your wallet`;\n        if (isAuthConnector) {\n            _RouterController_js__WEBPACK_IMPORTED_MODULE_10__.RouterController.pushTransactionStack({\n                onSuccess: SwapController.onEmbeddedWalletApprovalSuccess\n            });\n        }\n        else {\n            _SnackController_js__WEBPACK_IMPORTED_MODULE_9__.SnackController.showLoading(approveLimitMessage);\n        }\n        try {\n            await _ConnectionController_js__WEBPACK_IMPORTED_MODULE_16__.ConnectionController.sendTransaction({\n                address: fromAddress,\n                to: data.to,\n                data: data.data,\n                value: data.value,\n                chainNamespace: _reown_appkit_common__WEBPACK_IMPORTED_MODULE_8__.ConstantsUtil.CHAIN.EVM\n            });\n            await SwapController.swapTokens();\n            await SwapController.getTransaction();\n            state.approvalTransaction = undefined;\n            state.loadingApprovalTransaction = false;\n        }\n        catch (err) {\n            const error = err;\n            state.transactionError = error?.displayMessage;\n            state.loadingApprovalTransaction = false;\n            _SnackController_js__WEBPACK_IMPORTED_MODULE_9__.SnackController.showError(error?.displayMessage || 'Transaction error');\n            _EventsController_js__WEBPACK_IMPORTED_MODULE_17__.EventsController.sendEvent({\n                type: 'track',\n                event: 'SWAP_APPROVAL_ERROR',\n                properties: {\n                    message: error?.displayMessage || error?.message || 'Unknown',\n                    network: _ChainController_js__WEBPACK_IMPORTED_MODULE_3__.ChainController.state.activeCaipNetwork?.caipNetworkId || '',\n                    swapFromToken: SwapController.state.sourceToken?.symbol || '',\n                    swapToToken: SwapController.state.toToken?.symbol || '',\n                    swapFromAmount: SwapController.state.sourceTokenAmount || '',\n                    swapToAmount: SwapController.state.toTokenAmount || '',\n                    isSmartAccount: (0,_utils_ChainControllerUtil_js__WEBPACK_IMPORTED_MODULE_5__.getPreferredAccountType)(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_8__.ConstantsUtil.CHAIN.EVM) ===\n                        _reown_appkit_wallet_utils__WEBPACK_IMPORTED_MODULE_18__.W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT\n                }\n            });\n        }\n    },\n    async sendTransactionForSwap(data) {\n        if (!data) {\n            return undefined;\n        }\n        const { fromAddress, toTokenAmount, isAuthConnector } = SwapController.getParams();\n        state.loadingTransaction = true;\n        const snackbarPendingMessage = `Swapping ${state.sourceToken?.symbol} to ${_reown_appkit_common__WEBPACK_IMPORTED_MODULE_7__.NumberUtil.formatNumberToLocalString(toTokenAmount, 3)} ${state.toToken?.symbol}`;\n        const snackbarSuccessMessage = `Swapped ${state.sourceToken?.symbol} to ${_reown_appkit_common__WEBPACK_IMPORTED_MODULE_7__.NumberUtil.formatNumberToLocalString(toTokenAmount, 3)} ${state.toToken?.symbol}`;\n        if (isAuthConnector) {\n            _RouterController_js__WEBPACK_IMPORTED_MODULE_10__.RouterController.pushTransactionStack({\n                onSuccess() {\n                    _RouterController_js__WEBPACK_IMPORTED_MODULE_10__.RouterController.replace('Account');\n                    _SnackController_js__WEBPACK_IMPORTED_MODULE_9__.SnackController.showLoading(snackbarPendingMessage);\n                    controller.resetState();\n                }\n            });\n        }\n        else {\n            _SnackController_js__WEBPACK_IMPORTED_MODULE_9__.SnackController.showLoading('Confirm transaction in your wallet');\n        }\n        try {\n            const forceUpdateAddresses = [state.sourceToken?.address, state.toToken?.address].join(',');\n            const transactionHash = await _ConnectionController_js__WEBPACK_IMPORTED_MODULE_16__.ConnectionController.sendTransaction({\n                address: fromAddress,\n                to: data.to,\n                data: data.data,\n                value: data.value,\n                chainNamespace: _reown_appkit_common__WEBPACK_IMPORTED_MODULE_8__.ConstantsUtil.CHAIN.EVM\n            });\n            state.loadingTransaction = false;\n            _SnackController_js__WEBPACK_IMPORTED_MODULE_9__.SnackController.showSuccess(snackbarSuccessMessage);\n            _EventsController_js__WEBPACK_IMPORTED_MODULE_17__.EventsController.sendEvent({\n                type: 'track',\n                event: 'SWAP_SUCCESS',\n                properties: {\n                    network: _ChainController_js__WEBPACK_IMPORTED_MODULE_3__.ChainController.state.activeCaipNetwork?.caipNetworkId || '',\n                    swapFromToken: SwapController.state.sourceToken?.symbol || '',\n                    swapToToken: SwapController.state.toToken?.symbol || '',\n                    swapFromAmount: SwapController.state.sourceTokenAmount || '',\n                    swapToAmount: SwapController.state.toTokenAmount || '',\n                    isSmartAccount: (0,_utils_ChainControllerUtil_js__WEBPACK_IMPORTED_MODULE_5__.getPreferredAccountType)(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_8__.ConstantsUtil.CHAIN.EVM) ===\n                        _reown_appkit_wallet_utils__WEBPACK_IMPORTED_MODULE_18__.W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT\n                }\n            });\n            controller.resetState();\n            if (!isAuthConnector) {\n                _RouterController_js__WEBPACK_IMPORTED_MODULE_10__.RouterController.replace('Account');\n            }\n            controller.getMyTokensWithBalance(forceUpdateAddresses);\n            return transactionHash;\n        }\n        catch (err) {\n            const error = err;\n            state.transactionError = error?.displayMessage;\n            state.loadingTransaction = false;\n            _SnackController_js__WEBPACK_IMPORTED_MODULE_9__.SnackController.showError(error?.displayMessage || 'Transaction error');\n            _EventsController_js__WEBPACK_IMPORTED_MODULE_17__.EventsController.sendEvent({\n                type: 'track',\n                event: 'SWAP_ERROR',\n                properties: {\n                    message: error?.displayMessage || error?.message || 'Unknown',\n                    network: _ChainController_js__WEBPACK_IMPORTED_MODULE_3__.ChainController.state.activeCaipNetwork?.caipNetworkId || '',\n                    swapFromToken: SwapController.state.sourceToken?.symbol || '',\n                    swapToToken: SwapController.state.toToken?.symbol || '',\n                    swapFromAmount: SwapController.state.sourceTokenAmount || '',\n                    swapToAmount: SwapController.state.toTokenAmount || '',\n                    isSmartAccount: (0,_utils_ChainControllerUtil_js__WEBPACK_IMPORTED_MODULE_5__.getPreferredAccountType)(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_8__.ConstantsUtil.CHAIN.EVM) ===\n                        _reown_appkit_wallet_utils__WEBPACK_IMPORTED_MODULE_18__.W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT\n                }\n            });\n            return undefined;\n        }\n    },\n    // -- Checks -------------------------------------------- //\n    hasInsufficientToken(sourceTokenAmount, sourceTokenAddress) {\n        const isInsufficientSourceTokenForSwap = _utils_SwapCalculationUtil_js__WEBPACK_IMPORTED_MODULE_14__.SwapCalculationUtil.isInsufficientSourceTokenForSwap(sourceTokenAmount, sourceTokenAddress, state.myTokensWithBalance);\n        return isInsufficientSourceTokenForSwap;\n    },\n    // -- Calculations -------------------------------------- //\n    setTransactionDetails() {\n        const { toTokenAddress, toTokenDecimals } = SwapController.getParams();\n        if (!toTokenAddress || !toTokenDecimals) {\n            return;\n        }\n        state.gasPriceInUSD = _utils_SwapCalculationUtil_js__WEBPACK_IMPORTED_MODULE_14__.SwapCalculationUtil.getGasPriceInUSD(state.networkPrice, BigInt(state.gasFee), BigInt(INITIAL_GAS_LIMIT));\n        state.priceImpact = _utils_SwapCalculationUtil_js__WEBPACK_IMPORTED_MODULE_14__.SwapCalculationUtil.getPriceImpact({\n            sourceTokenAmount: state.sourceTokenAmount,\n            sourceTokenPriceInUSD: state.sourceTokenPriceInUSD,\n            toTokenPriceInUSD: state.toTokenPriceInUSD,\n            toTokenAmount: state.toTokenAmount\n        });\n        state.maxSlippage = _utils_SwapCalculationUtil_js__WEBPACK_IMPORTED_MODULE_14__.SwapCalculationUtil.getMaxSlippage(state.slippage, state.toTokenAmount);\n        state.providerFee = _utils_SwapCalculationUtil_js__WEBPACK_IMPORTED_MODULE_14__.SwapCalculationUtil.getProviderFee(state.sourceTokenAmount);\n    }\n};\n// Export the controller wrapped with our error boundary\nconst SwapController = (0,_utils_withErrorBoundary_js__WEBPACK_IMPORTED_MODULE_19__.withErrorBoundary)(controller);\n//# sourceMappingURL=SwapController.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTFfQHJlYWN0LW5hdGl2ZS1hc3luYy1zdG9yYWdlK2FzeW5jLXN0b3JhZ2VAMi4yLjBfcmVhY3QtX2E4MDMyMTIzODk3ZTA3OTMxMzc0MjMyYzNjYzRlNTM1L25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9Td2FwQ29udHJvbGxlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUF5RDtBQUNLO0FBQ1o7QUFDMEI7QUFDVjtBQUNaO0FBQ2tEO0FBQzlDO0FBQ0U7QUFDTjtBQUNnQjtBQUNKO0FBQ1g7QUFDZ0I7QUFDaEI7QUFDVTtBQUNGO0FBQ047QUFDQTtBQUNGO0FBQ3ZEO0FBQ087QUFDQTtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxrRUFBYTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLHFEQUFLLEdBQUcsaUJBQWlCO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSx5REFBRztBQUNsQixLQUFLO0FBQ0w7QUFDQSxlQUFlLGtFQUFNO0FBQ3JCLEtBQUs7QUFDTDtBQUNBLDBCQUEwQixnRUFBZTtBQUN6Qyw0QkFBNEIsZ0VBQWU7QUFDM0MsWUFBWSxnRUFBZTtBQUMzQix3QkFBd0Isb0VBQWM7QUFDdEMsK0JBQStCLDJGQUE0QjtBQUMzRCw0QkFBNEIsd0VBQW1CLGdCQUFnQixnRUFBZTtBQUM5RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLDREQUFVO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QywrREFBbUI7QUFDaEU7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsdUNBQXVDLDREQUFVO0FBQ2pELEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscURBQXFELG1CQUFtQjtBQUN4RSxxREFBcUQsdUJBQXVCO0FBQzVFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLGdCQUFnQixpQkFBaUI7QUFDakM7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsZ0VBQWU7QUFDL0IsZ0JBQWdCLG1FQUFnQjtBQUNoQztBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxnQkFBZ0IsaUJBQWlCO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxvQ0FBb0MsZ0VBQWU7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQywrREFBVztBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLGdCQUFnQixrRUFBYTtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QyxrRUFBYTtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsaUZBQXVCO0FBQ3REO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsZ0JBQWdCLGlCQUFpQjtBQUNqQywrQkFBK0IsaUZBQXVCO0FBQ3REO0FBQ0EsU0FBUztBQUNULFlBQVksZ0VBQWU7QUFDM0IscUJBQXFCO0FBQ3JCLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsK0JBQStCLCtEQUFXO0FBQzFDLDZCQUE2QiwrREFBVztBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsZ0JBQWdCLGlCQUFpQjtBQUNqQyw0QkFBNEIsZ0VBQWU7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxjQUFjLDREQUFVO0FBQ3hCO0FBQ0EsS0FBSztBQUNMO0FBQ0EsMEJBQTBCLCtEQUFXO0FBQ3JDO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0EsZ0JBQWdCLGdFQUFlO0FBQy9CLGlCQUFpQiwrREFBbUI7QUFDcEM7QUFDQSxzQ0FBc0MsNERBQVU7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLCtEQUFtQjtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLCtFQUFtQjtBQUNwRDtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSx3QkFBd0IsZ0VBQWU7QUFDdkM7QUFDQTtBQUNBLHNDQUFzQyw0REFBVTtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4Qiw0REFBVTtBQUN4QztBQUNBO0FBQ0E7QUFDQSx3Q0FBd0MsaUZBQXVCO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGlFQUFlO0FBQy9CO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLGtDQUFrQyw0REFBVTtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQywrREFBVztBQUM5QztBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLGdCQUFnQixtQ0FBbUM7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMsK0RBQVc7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxtRUFBZ0I7QUFDNUIsWUFBWSxnRUFBZTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxnQkFBZ0Isc0RBQXNEO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLGlGQUF1QjtBQUMxRDtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsNEJBQTRCLG9FQUFjO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksbUVBQWdCO0FBQzVCLFlBQVksZ0VBQWU7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLGdCQUFnQixxREFBcUQ7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QiwyRUFBb0I7QUFDM0M7QUFDQSxtQ0FBbUMsaUZBQXVCO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLG9FQUFjO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsK0VBQW1CO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLG1FQUFnQjtBQUM1QixZQUFZLGdFQUFlO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxRQUFRLGdFQUFlO0FBQ3ZCLFFBQVEsbUVBQWdCO0FBQ3hCLEtBQUs7QUFDTDtBQUNBO0FBQ0EsZ0JBQWdCLCtCQUErQjtBQUMvQztBQUNBO0FBQ0E7QUFDQSxZQUFZLG1FQUFnQjtBQUM1QjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsWUFBWSxnRUFBZTtBQUMzQjtBQUNBO0FBQ0Esa0JBQWtCLDJFQUFvQjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQywrREFBbUI7QUFDbkQsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksZ0VBQWU7QUFDM0IsWUFBWSxtRUFBZ0I7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsZ0VBQWU7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0Msc0ZBQXVCLENBQUMsK0RBQW1CO0FBQy9FLHdCQUF3Qiw2RUFBb0I7QUFDNUM7QUFDQSxhQUFhO0FBQ2I7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsOENBQThDO0FBQzlEO0FBQ0EsbURBQW1ELDJCQUEyQixLQUFLLDREQUFVLDhDQUE4QyxFQUFFLHNCQUFzQjtBQUNuSyxrREFBa0QsMkJBQTJCLEtBQUssNERBQVUsOENBQThDLEVBQUUsc0JBQXNCO0FBQ2xLO0FBQ0EsWUFBWSxtRUFBZ0I7QUFDNUI7QUFDQSxvQkFBb0IsbUVBQWdCO0FBQ3BDLG9CQUFvQixnRUFBZTtBQUNuQztBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxZQUFZLGdFQUFlO0FBQzNCO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQywyRUFBb0I7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsK0RBQW1CO0FBQ25ELGFBQWE7QUFDYjtBQUNBLFlBQVksZ0VBQWU7QUFDM0IsWUFBWSxtRUFBZ0I7QUFDNUI7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLGdFQUFlO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLHNGQUF1QixDQUFDLCtEQUFtQjtBQUMvRSx3QkFBd0IsNkVBQW9CO0FBQzVDO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxnQkFBZ0IsbUVBQWdCO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGdFQUFlO0FBQzNCLFlBQVksbUVBQWdCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLGdFQUFlO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLHNGQUF1QixDQUFDLCtEQUFtQjtBQUMvRSx3QkFBd0IsNkVBQW9CO0FBQzVDO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLGlEQUFpRCwrRUFBbUI7QUFDcEU7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLGdCQUFnQixrQ0FBa0M7QUFDbEQ7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLCtFQUFtQjtBQUNqRCw0QkFBNEIsK0VBQW1CO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULDRCQUE0QiwrRUFBbUI7QUFDL0MsNEJBQTRCLCtFQUFtQjtBQUMvQztBQUNBO0FBQ0E7QUFDTyx1QkFBdUIsK0VBQWlCO0FBQy9DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm9nZ2xyLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0ByZW93bithcHBraXQtY29udHJvbGxlcnNAMS44LjExX0ByZWFjdC1uYXRpdmUtYXN5bmMtc3RvcmFnZSthc3luYy1zdG9yYWdlQDIuMi4wX3JlYWN0LV9hODAzMjEyMzg5N2UwNzkzMTM3NDIzMmMzY2M0ZTUzNS9ub2RlX21vZHVsZXMvQHJlb3duL2FwcGtpdC1jb250cm9sbGVycy9kaXN0L2VzbS9zcmMvY29udHJvbGxlcnMvU3dhcENvbnRyb2xsZXIuanM/NDEyNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwcm94eSwgc3Vic2NyaWJlIGFzIHN1YiB9IGZyb20gJ3ZhbHRpby92YW5pbGxhJztcbmltcG9ydCB7IHN1YnNjcmliZUtleSBhcyBzdWJLZXkgfSBmcm9tICd2YWx0aW8vdmFuaWxsYS91dGlscyc7XG5pbXBvcnQgeyBOdW1iZXJVdGlsIH0gZnJvbSAnQHJlb3duL2FwcGtpdC1jb21tb24nO1xuaW1wb3J0IHsgQ29uc3RhbnRzVXRpbCBhcyBDb21tb25Db25zdGFudHNVdGlsIH0gZnJvbSAnQHJlb3duL2FwcGtpdC1jb21tb24nO1xuaW1wb3J0IHsgVzNtRnJhbWVScGNDb25zdGFudHMgfSBmcm9tICdAcmVvd24vYXBwa2l0LXdhbGxldC91dGlscyc7XG5pbXBvcnQgeyBCYWxhbmNlVXRpbCB9IGZyb20gJy4uL3V0aWxzL0JhbGFuY2VVdGlsLmpzJztcbmltcG9ydCB7IGdldEFjdGl2ZU5ldHdvcmtUb2tlbkFkZHJlc3MsIGdldFByZWZlcnJlZEFjY291bnRUeXBlIH0gZnJvbSAnLi4vdXRpbHMvQ2hhaW5Db250cm9sbGVyVXRpbC5qcyc7XG5pbXBvcnQgeyBDb25zdGFudHNVdGlsIH0gZnJvbSAnLi4vdXRpbHMvQ29uc3RhbnRzVXRpbC5qcyc7XG5pbXBvcnQgeyBDb3JlSGVscGVyVXRpbCB9IGZyb20gJy4uL3V0aWxzL0NvcmVIZWxwZXJVdGlsLmpzJztcbmltcG9ydCB7IFN3YXBBcGlVdGlsIH0gZnJvbSAnLi4vdXRpbHMvU3dhcEFwaVV0aWwuanMnO1xuaW1wb3J0IHsgU3dhcENhbGN1bGF0aW9uVXRpbCB9IGZyb20gJy4uL3V0aWxzL1N3YXBDYWxjdWxhdGlvblV0aWwuanMnO1xuaW1wb3J0IHsgd2l0aEVycm9yQm91bmRhcnkgfSBmcm9tICcuLi91dGlscy93aXRoRXJyb3JCb3VuZGFyeS5qcyc7XG5pbXBvcnQgeyBBbGVydENvbnRyb2xsZXIgfSBmcm9tICcuL0FsZXJ0Q29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBCbG9ja2NoYWluQXBpQ29udHJvbGxlciB9IGZyb20gJy4vQmxvY2tjaGFpbkFwaUNvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgQ2hhaW5Db250cm9sbGVyIH0gZnJvbSAnLi9DaGFpbkNvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgQ29ubmVjdGlvbkNvbnRyb2xsZXIgfSBmcm9tICcuL0Nvbm5lY3Rpb25Db250cm9sbGVyLmpzJztcbmltcG9ydCB7IENvbm5lY3RvckNvbnRyb2xsZXIgfSBmcm9tICcuL0Nvbm5lY3RvckNvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgRXZlbnRzQ29udHJvbGxlciB9IGZyb20gJy4vRXZlbnRzQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBSb3V0ZXJDb250cm9sbGVyIH0gZnJvbSAnLi9Sb3V0ZXJDb250cm9sbGVyLmpzJztcbmltcG9ydCB7IFNuYWNrQ29udHJvbGxlciB9IGZyb20gJy4vU25hY2tDb250cm9sbGVyLmpzJztcbi8vIC0tIENvbnN0YW50cyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5leHBvcnQgY29uc3QgSU5JVElBTF9HQVNfTElNSVQgPSAxNTAwMDA7XG5leHBvcnQgY29uc3QgVE9fQU1PVU5UX0RFQ0lNQUxTID0gNjtcbmNsYXNzIFRyYW5zYWN0aW9uRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gICAgY29uc3RydWN0b3IobWVzc2FnZSwgZGlzcGxheU1lc3NhZ2UpIHtcbiAgICAgICAgc3VwZXIobWVzc2FnZSk7XG4gICAgICAgIHRoaXMubmFtZSA9ICdUcmFuc2FjdGlvbkVycm9yJztcbiAgICAgICAgdGhpcy5kaXNwbGF5TWVzc2FnZSA9IGRpc3BsYXlNZXNzYWdlO1xuICAgIH1cbn1cbi8vIC0tIFN0YXRlIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuY29uc3QgaW5pdGlhbFN0YXRlID0ge1xuICAgIC8vIExvYWRpbmcgc3RhdGVzXG4gICAgaW5pdGlhbGl6aW5nOiBmYWxzZSxcbiAgICBpbml0aWFsaXplZDogZmFsc2UsXG4gICAgbG9hZGluZ1ByaWNlczogZmFsc2UsXG4gICAgbG9hZGluZ1F1b3RlOiBmYWxzZSxcbiAgICBsb2FkaW5nQXBwcm92YWxUcmFuc2FjdGlvbjogZmFsc2UsXG4gICAgbG9hZGluZ0J1aWxkVHJhbnNhY3Rpb246IGZhbHNlLFxuICAgIGxvYWRpbmdUcmFuc2FjdGlvbjogZmFsc2UsXG4gICAgLy8gQ29udHJvbCBzdGF0ZXNcbiAgICBzd2l0Y2hpbmdUb2tlbnM6IGZhbHNlLFxuICAgIC8vIEVycm9yIHN0YXRlc1xuICAgIGZldGNoRXJyb3I6IGZhbHNlLFxuICAgIC8vIEFwcHJvdmFsICYgU3dhcCB0cmFuc2FjdGlvbiBzdGF0ZXNcbiAgICBhcHByb3ZhbFRyYW5zYWN0aW9uOiB1bmRlZmluZWQsXG4gICAgc3dhcFRyYW5zYWN0aW9uOiB1bmRlZmluZWQsXG4gICAgdHJhbnNhY3Rpb25FcnJvcjogdW5kZWZpbmVkLFxuICAgIC8vIElucHV0IHZhbHVlc1xuICAgIHNvdXJjZVRva2VuOiB1bmRlZmluZWQsXG4gICAgc291cmNlVG9rZW5BbW91bnQ6ICcnLFxuICAgIHNvdXJjZVRva2VuUHJpY2VJblVTRDogMCxcbiAgICB0b1Rva2VuOiB1bmRlZmluZWQsXG4gICAgdG9Ub2tlbkFtb3VudDogJycsXG4gICAgdG9Ub2tlblByaWNlSW5VU0Q6IDAsXG4gICAgbmV0d29ya1ByaWNlOiAnMCcsXG4gICAgbmV0d29ya0JhbGFuY2VJblVTRDogJzAnLFxuICAgIG5ldHdvcmtUb2tlblN5bWJvbDogJycsXG4gICAgaW5wdXRFcnJvcjogdW5kZWZpbmVkLFxuICAgIC8vIFJlcXVlc3QgdmFsdWVzXG4gICAgc2xpcHBhZ2U6IENvbnN0YW50c1V0aWwuQ09OVkVSVF9TTElQUEFHRV9UT0xFUkFOQ0UsXG4gICAgLy8gVG9rZW5zXG4gICAgdG9rZW5zOiB1bmRlZmluZWQsXG4gICAgcG9wdWxhclRva2VuczogdW5kZWZpbmVkLFxuICAgIHN1Z2dlc3RlZFRva2VuczogdW5kZWZpbmVkLFxuICAgIGZvdW5kVG9rZW5zOiB1bmRlZmluZWQsXG4gICAgbXlUb2tlbnNXaXRoQmFsYW5jZTogdW5kZWZpbmVkLFxuICAgIHRva2Vuc1ByaWNlTWFwOiB7fSxcbiAgICAvLyBDYWxjdWxhdGlvbnNcbiAgICBnYXNGZWU6ICcwJyxcbiAgICBnYXNQcmljZUluVVNEOiAwLFxuICAgIHByaWNlSW1wYWN0OiB1bmRlZmluZWQsXG4gICAgbWF4U2xpcHBhZ2U6IHVuZGVmaW5lZCxcbiAgICBwcm92aWRlckZlZTogdW5kZWZpbmVkXG59O1xuY29uc3Qgc3RhdGUgPSBwcm94eSh7IC4uLmluaXRpYWxTdGF0ZSB9KTtcbi8vIC0tIENvbnRyb2xsZXIgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuY29uc3QgY29udHJvbGxlciA9IHtcbiAgICBzdGF0ZSxcbiAgICBzdWJzY3JpYmUoY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIHN1YihzdGF0ZSwgKCkgPT4gY2FsbGJhY2soc3RhdGUpKTtcbiAgICB9LFxuICAgIHN1YnNjcmliZUtleShrZXksIGNhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybiBzdWJLZXkoc3RhdGUsIGtleSwgY2FsbGJhY2spO1xuICAgIH0sXG4gICAgZ2V0UGFyYW1zKCkge1xuICAgICAgICBjb25zdCBuYW1lc3BhY2UgPSBDaGFpbkNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ2hhaW47XG4gICAgICAgIGNvbnN0IGNhaXBBZGRyZXNzID0gQ2hhaW5Db250cm9sbGVyLmdldEFjY291bnREYXRhKG5hbWVzcGFjZSk/LmNhaXBBZGRyZXNzID8/XG4gICAgICAgICAgICBDaGFpbkNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ2FpcEFkZHJlc3M7XG4gICAgICAgIGNvbnN0IGFkZHJlc3MgPSBDb3JlSGVscGVyVXRpbC5nZXRQbGFpbkFkZHJlc3MoY2FpcEFkZHJlc3MpO1xuICAgICAgICBjb25zdCBuZXR3b3JrQWRkcmVzcyA9IGdldEFjdGl2ZU5ldHdvcmtUb2tlbkFkZHJlc3MoKTtcbiAgICAgICAgY29uc3QgY29ubmVjdG9ySWQgPSBDb25uZWN0b3JDb250cm9sbGVyLmdldENvbm5lY3RvcklkKENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDaGFpbik7XG4gICAgICAgIGlmICghYWRkcmVzcykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBhZGRyZXNzIGZvdW5kIHRvIHN3YXAgdGhlIHRva2VucyBmcm9tLicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGludmFsaWRUb1Rva2VuID0gIXN0YXRlLnRvVG9rZW4/LmFkZHJlc3MgfHwgIXN0YXRlLnRvVG9rZW4/LmRlY2ltYWxzO1xuICAgICAgICBjb25zdCBpbnZhbGlkU291cmNlVG9rZW4gPSAhc3RhdGUuc291cmNlVG9rZW4/LmFkZHJlc3MgfHxcbiAgICAgICAgICAgICFzdGF0ZS5zb3VyY2VUb2tlbj8uZGVjaW1hbHMgfHxcbiAgICAgICAgICAgICFOdW1iZXJVdGlsLmJpZ051bWJlcihzdGF0ZS5zb3VyY2VUb2tlbkFtb3VudCkuZ3QoMCk7XG4gICAgICAgIGNvbnN0IGludmFsaWRTb3VyY2VUb2tlbkFtb3VudCA9ICFzdGF0ZS5zb3VyY2VUb2tlbkFtb3VudDtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG5ldHdvcmtBZGRyZXNzLFxuICAgICAgICAgICAgZnJvbUFkZHJlc3M6IGFkZHJlc3MsXG4gICAgICAgICAgICBmcm9tQ2FpcEFkZHJlc3M6IGNhaXBBZGRyZXNzLFxuICAgICAgICAgICAgc291cmNlVG9rZW5BZGRyZXNzOiBzdGF0ZS5zb3VyY2VUb2tlbj8uYWRkcmVzcyxcbiAgICAgICAgICAgIHRvVG9rZW5BZGRyZXNzOiBzdGF0ZS50b1Rva2VuPy5hZGRyZXNzLFxuICAgICAgICAgICAgdG9Ub2tlbkFtb3VudDogc3RhdGUudG9Ub2tlbkFtb3VudCxcbiAgICAgICAgICAgIHRvVG9rZW5EZWNpbWFsczogc3RhdGUudG9Ub2tlbj8uZGVjaW1hbHMsXG4gICAgICAgICAgICBzb3VyY2VUb2tlbkFtb3VudDogc3RhdGUuc291cmNlVG9rZW5BbW91bnQsXG4gICAgICAgICAgICBzb3VyY2VUb2tlbkRlY2ltYWxzOiBzdGF0ZS5zb3VyY2VUb2tlbj8uZGVjaW1hbHMsXG4gICAgICAgICAgICBpbnZhbGlkVG9Ub2tlbixcbiAgICAgICAgICAgIGludmFsaWRTb3VyY2VUb2tlbixcbiAgICAgICAgICAgIGludmFsaWRTb3VyY2VUb2tlbkFtb3VudCxcbiAgICAgICAgICAgIGF2YWlsYWJsZVRvU3dhcDogY2FpcEFkZHJlc3MgJiYgIWludmFsaWRUb1Rva2VuICYmICFpbnZhbGlkU291cmNlVG9rZW4gJiYgIWludmFsaWRTb3VyY2VUb2tlbkFtb3VudCxcbiAgICAgICAgICAgIGlzQXV0aENvbm5lY3RvcjogY29ubmVjdG9ySWQgPT09IENvbW1vbkNvbnN0YW50c1V0aWwuQ09OTkVDVE9SX0lELkFVVEhcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIGFzeW5jIHNldFNvdXJjZVRva2VuKHNvdXJjZVRva2VuKSB7XG4gICAgICAgIGlmICghc291cmNlVG9rZW4pIHtcbiAgICAgICAgICAgIHN0YXRlLnNvdXJjZVRva2VuID0gc291cmNlVG9rZW47XG4gICAgICAgICAgICBzdGF0ZS5zb3VyY2VUb2tlbkFtb3VudCA9ICcnO1xuICAgICAgICAgICAgc3RhdGUuc291cmNlVG9rZW5QcmljZUluVVNEID0gMDtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzdGF0ZS5zb3VyY2VUb2tlbiA9IHNvdXJjZVRva2VuO1xuICAgICAgICBhd2FpdCBTd2FwQ29udHJvbGxlci5zZXRUb2tlblByaWNlKHNvdXJjZVRva2VuLmFkZHJlc3MsICdzb3VyY2VUb2tlbicpO1xuICAgIH0sXG4gICAgc2V0U291cmNlVG9rZW5BbW91bnQoYW1vdW50KSB7XG4gICAgICAgIHN0YXRlLnNvdXJjZVRva2VuQW1vdW50ID0gYW1vdW50O1xuICAgIH0sXG4gICAgYXN5bmMgc2V0VG9Ub2tlbih0b1Rva2VuKSB7XG4gICAgICAgIGlmICghdG9Ub2tlbikge1xuICAgICAgICAgICAgc3RhdGUudG9Ub2tlbiA9IHRvVG9rZW47XG4gICAgICAgICAgICBzdGF0ZS50b1Rva2VuQW1vdW50ID0gJyc7XG4gICAgICAgICAgICBzdGF0ZS50b1Rva2VuUHJpY2VJblVTRCA9IDA7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc3RhdGUudG9Ub2tlbiA9IHRvVG9rZW47XG4gICAgICAgIGF3YWl0IFN3YXBDb250cm9sbGVyLnNldFRva2VuUHJpY2UodG9Ub2tlbi5hZGRyZXNzLCAndG9Ub2tlbicpO1xuICAgIH0sXG4gICAgc2V0VG9Ub2tlbkFtb3VudChhbW91bnQpIHtcbiAgICAgICAgc3RhdGUudG9Ub2tlbkFtb3VudCA9IGFtb3VudCA/IE51bWJlclV0aWwudG9GaXhlZChhbW91bnQsIFRPX0FNT1VOVF9ERUNJTUFMUykgOiAnJztcbiAgICB9LFxuICAgIGFzeW5jIHNldFRva2VuUHJpY2UoYWRkcmVzcywgdGFyZ2V0KSB7XG4gICAgICAgIGxldCBwcmljZSA9IHN0YXRlLnRva2Vuc1ByaWNlTWFwW2FkZHJlc3NdIHx8IDA7XG4gICAgICAgIGlmICghcHJpY2UpIHtcbiAgICAgICAgICAgIHN0YXRlLmxvYWRpbmdQcmljZXMgPSB0cnVlO1xuICAgICAgICAgICAgcHJpY2UgPSBhd2FpdCBTd2FwQ29udHJvbGxlci5nZXRBZGRyZXNzUHJpY2UoYWRkcmVzcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRhcmdldCA9PT0gJ3NvdXJjZVRva2VuJykge1xuICAgICAgICAgICAgc3RhdGUuc291cmNlVG9rZW5QcmljZUluVVNEID0gcHJpY2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGFyZ2V0ID09PSAndG9Ub2tlbicpIHtcbiAgICAgICAgICAgIHN0YXRlLnRvVG9rZW5QcmljZUluVVNEID0gcHJpY2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXRlLmxvYWRpbmdQcmljZXMpIHtcbiAgICAgICAgICAgIHN0YXRlLmxvYWRpbmdQcmljZXMgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoU3dhcENvbnRyb2xsZXIuZ2V0UGFyYW1zKCkuYXZhaWxhYmxlVG9Td2FwICYmICFzdGF0ZS5zd2l0Y2hpbmdUb2tlbnMpIHtcbiAgICAgICAgICAgIFN3YXBDb250cm9sbGVyLnN3YXBUb2tlbnMoKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgYXN5bmMgc3dpdGNoVG9rZW5zKCkge1xuICAgICAgICBpZiAoc3RhdGUuaW5pdGlhbGl6aW5nIHx8ICFzdGF0ZS5pbml0aWFsaXplZCB8fCBzdGF0ZS5zd2l0Y2hpbmdUb2tlbnMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzdGF0ZS5zd2l0Y2hpbmdUb2tlbnMgPSB0cnVlO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgbmV3U291cmNlVG9rZW4gPSBzdGF0ZS50b1Rva2VuID8geyAuLi5zdGF0ZS50b1Rva2VuIH0gOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICBjb25zdCBuZXdUb1Rva2VuID0gc3RhdGUuc291cmNlVG9rZW4gPyB7IC4uLnN0YXRlLnNvdXJjZVRva2VuIH0gOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICBjb25zdCBuZXdTb3VyY2VUb2tlbkFtb3VudCA9IG5ld1NvdXJjZVRva2VuICYmIHN0YXRlLnRvVG9rZW5BbW91bnQgPT09ICcnID8gJzEnIDogc3RhdGUudG9Ub2tlbkFtb3VudDtcbiAgICAgICAgICAgIFN3YXBDb250cm9sbGVyLnNldFNvdXJjZVRva2VuQW1vdW50KG5ld1NvdXJjZVRva2VuQW1vdW50KTtcbiAgICAgICAgICAgIFN3YXBDb250cm9sbGVyLnNldFRvVG9rZW5BbW91bnQoJycpO1xuICAgICAgICAgICAgYXdhaXQgU3dhcENvbnRyb2xsZXIuc2V0U291cmNlVG9rZW4obmV3U291cmNlVG9rZW4pO1xuICAgICAgICAgICAgYXdhaXQgU3dhcENvbnRyb2xsZXIuc2V0VG9Ub2tlbihuZXdUb1Rva2VuKTtcbiAgICAgICAgICAgIHN0YXRlLnN3aXRjaGluZ1Rva2VucyA9IGZhbHNlO1xuICAgICAgICAgICAgU3dhcENvbnRyb2xsZXIuc3dhcFRva2VucygpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgc3RhdGUuc3dpdGNoaW5nVG9rZW5zID0gZmFsc2U7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgcmVzZXRTdGF0ZSgpIHtcbiAgICAgICAgc3RhdGUubXlUb2tlbnNXaXRoQmFsYW5jZSA9IGluaXRpYWxTdGF0ZS5teVRva2Vuc1dpdGhCYWxhbmNlO1xuICAgICAgICBzdGF0ZS50b2tlbnNQcmljZU1hcCA9IGluaXRpYWxTdGF0ZS50b2tlbnNQcmljZU1hcDtcbiAgICAgICAgc3RhdGUuaW5pdGlhbGl6ZWQgPSBpbml0aWFsU3RhdGUuaW5pdGlhbGl6ZWQ7XG4gICAgICAgIHN0YXRlLmluaXRpYWxpemluZyA9IGluaXRpYWxTdGF0ZS5pbml0aWFsaXppbmc7XG4gICAgICAgIHN0YXRlLnN3aXRjaGluZ1Rva2VucyA9IGluaXRpYWxTdGF0ZS5zd2l0Y2hpbmdUb2tlbnM7XG4gICAgICAgIHN0YXRlLnNvdXJjZVRva2VuID0gaW5pdGlhbFN0YXRlLnNvdXJjZVRva2VuO1xuICAgICAgICBzdGF0ZS5zb3VyY2VUb2tlbkFtb3VudCA9IGluaXRpYWxTdGF0ZS5zb3VyY2VUb2tlbkFtb3VudDtcbiAgICAgICAgc3RhdGUuc291cmNlVG9rZW5QcmljZUluVVNEID0gaW5pdGlhbFN0YXRlLnNvdXJjZVRva2VuUHJpY2VJblVTRDtcbiAgICAgICAgc3RhdGUudG9Ub2tlbiA9IGluaXRpYWxTdGF0ZS50b1Rva2VuO1xuICAgICAgICBzdGF0ZS50b1Rva2VuQW1vdW50ID0gaW5pdGlhbFN0YXRlLnRvVG9rZW5BbW91bnQ7XG4gICAgICAgIHN0YXRlLnRvVG9rZW5QcmljZUluVVNEID0gaW5pdGlhbFN0YXRlLnRvVG9rZW5QcmljZUluVVNEO1xuICAgICAgICBzdGF0ZS5uZXR3b3JrUHJpY2UgPSBpbml0aWFsU3RhdGUubmV0d29ya1ByaWNlO1xuICAgICAgICBzdGF0ZS5uZXR3b3JrVG9rZW5TeW1ib2wgPSBpbml0aWFsU3RhdGUubmV0d29ya1Rva2VuU3ltYm9sO1xuICAgICAgICBzdGF0ZS5uZXR3b3JrQmFsYW5jZUluVVNEID0gaW5pdGlhbFN0YXRlLm5ldHdvcmtCYWxhbmNlSW5VU0Q7XG4gICAgICAgIHN0YXRlLmlucHV0RXJyb3IgPSBpbml0aWFsU3RhdGUuaW5wdXRFcnJvcjtcbiAgICB9LFxuICAgIHJlc2V0VmFsdWVzKCkge1xuICAgICAgICBjb25zdCB7IG5ldHdvcmtBZGRyZXNzIH0gPSBTd2FwQ29udHJvbGxlci5nZXRQYXJhbXMoKTtcbiAgICAgICAgY29uc3QgbmV0d29ya1Rva2VuID0gc3RhdGUudG9rZW5zPy5maW5kKHRva2VuID0+IHRva2VuLmFkZHJlc3MgPT09IG5ldHdvcmtBZGRyZXNzKTtcbiAgICAgICAgU3dhcENvbnRyb2xsZXIuc2V0U291cmNlVG9rZW4obmV0d29ya1Rva2VuKTtcbiAgICAgICAgU3dhcENvbnRyb2xsZXIuc2V0VG9Ub2tlbih1bmRlZmluZWQpO1xuICAgIH0sXG4gICAgZ2V0QXBwcm92YWxMb2FkaW5nU3RhdGUoKSB7XG4gICAgICAgIHJldHVybiBzdGF0ZS5sb2FkaW5nQXBwcm92YWxUcmFuc2FjdGlvbjtcbiAgICB9LFxuICAgIGNsZWFyRXJyb3IoKSB7XG4gICAgICAgIHN0YXRlLnRyYW5zYWN0aW9uRXJyb3IgPSB1bmRlZmluZWQ7XG4gICAgfSxcbiAgICBhc3luYyBpbml0aWFsaXplU3RhdGUoKSB7XG4gICAgICAgIGlmIChzdGF0ZS5pbml0aWFsaXppbmcpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzdGF0ZS5pbml0aWFsaXppbmcgPSB0cnVlO1xuICAgICAgICBpZiAoIXN0YXRlLmluaXRpYWxpemVkKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGF3YWl0IFN3YXBDb250cm9sbGVyLmZldGNoVG9rZW5zKCk7XG4gICAgICAgICAgICAgICAgc3RhdGUuaW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgc3RhdGUuaW5pdGlhbGl6ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBTbmFja0NvbnRyb2xsZXIuc2hvd0Vycm9yKCdGYWlsZWQgdG8gaW5pdGlhbGl6ZSBzd2FwJyk7XG4gICAgICAgICAgICAgICAgUm91dGVyQ29udHJvbGxlci5nb0JhY2soKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzdGF0ZS5pbml0aWFsaXppbmcgPSBmYWxzZTtcbiAgICB9LFxuICAgIGFzeW5jIGZldGNoVG9rZW5zKCkge1xuICAgICAgICBjb25zdCB7IG5ldHdvcmtBZGRyZXNzIH0gPSBTd2FwQ29udHJvbGxlci5nZXRQYXJhbXMoKTtcbiAgICAgICAgYXdhaXQgU3dhcENvbnRyb2xsZXIuZ2V0TmV0d29ya1Rva2VuUHJpY2UoKTtcbiAgICAgICAgYXdhaXQgU3dhcENvbnRyb2xsZXIuZ2V0TXlUb2tlbnNXaXRoQmFsYW5jZSgpO1xuICAgICAgICBjb25zdCBuZXR3b3JrVG9rZW4gPSBzdGF0ZS5teVRva2Vuc1dpdGhCYWxhbmNlPy5maW5kKHRva2VuID0+IHRva2VuLmFkZHJlc3MgPT09IG5ldHdvcmtBZGRyZXNzKTtcbiAgICAgICAgaWYgKG5ldHdvcmtUb2tlbikge1xuICAgICAgICAgICAgc3RhdGUubmV0d29ya1Rva2VuU3ltYm9sID0gbmV0d29ya1Rva2VuLnN5bWJvbDtcbiAgICAgICAgICAgIFN3YXBDb250cm9sbGVyLnNldFNvdXJjZVRva2VuKG5ldHdvcmtUb2tlbik7XG4gICAgICAgICAgICBTd2FwQ29udHJvbGxlci5zZXRTb3VyY2VUb2tlbkFtb3VudCgnMCcpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBhc3luYyBnZXRUb2tlbkxpc3QoKSB7XG4gICAgICAgIGNvbnN0IGFjdGl2ZUNhaXBOZXR3b3JrSWQgPSBDaGFpbkNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ2FpcE5ldHdvcms/LmNhaXBOZXR3b3JrSWQ7XG4gICAgICAgIGlmIChzdGF0ZS5jYWlwTmV0d29ya0lkID09PSBhY3RpdmVDYWlwTmV0d29ya0lkICYmIHN0YXRlLnRva2Vucykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBzdGF0ZS50b2tlbnNMb2FkaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIGNvbnN0IHRva2VucyA9IGF3YWl0IFN3YXBBcGlVdGlsLmdldFRva2VuTGlzdChhY3RpdmVDYWlwTmV0d29ya0lkKTtcbiAgICAgICAgICAgIHN0YXRlLnRva2VucyA9IHRva2VucztcbiAgICAgICAgICAgIHN0YXRlLmNhaXBOZXR3b3JrSWQgPSBhY3RpdmVDYWlwTmV0d29ya0lkO1xuICAgICAgICAgICAgc3RhdGUucG9wdWxhclRva2VucyA9IHRva2Vucy5zb3J0KChhVG9rZW5JbmZvLCBiVG9rZW5JbmZvKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGFUb2tlbkluZm8uc3ltYm9sIDwgYlRva2VuSW5mby5zeW1ib2wpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoYVRva2VuSW5mby5zeW1ib2wgPiBiVG9rZW5JbmZvLnN5bWJvbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IHN1Z2dlc3RlZFRva2Vuc0J5Q2hhaW4gPSAoYWN0aXZlQ2FpcE5ldHdvcmtJZCAmJlxuICAgICAgICAgICAgICAgIENvbnN0YW50c1V0aWwuU1VHR0VTVEVEX1RPS0VOU19CWV9DSEFJTj8uW2FjdGl2ZUNhaXBOZXR3b3JrSWRdKSB8fFxuICAgICAgICAgICAgICAgIFtdO1xuICAgICAgICAgICAgY29uc3Qgc3VnZ2VzdGVkVG9rZW5PYmplY3RzID0gc3VnZ2VzdGVkVG9rZW5zQnlDaGFpblxuICAgICAgICAgICAgICAgIC5tYXAoc3ltYm9sID0+IHRva2Vucy5maW5kKHQgPT4gdC5zeW1ib2wgPT09IHN5bWJvbCkpXG4gICAgICAgICAgICAgICAgLmZpbHRlcigodCkgPT4gQm9vbGVhbih0KSk7XG4gICAgICAgICAgICBjb25zdCBhbGxTdWdnZXN0ZWRUb2tlbnMgPSBDb25zdGFudHNVdGlsLlNXQVBfU1VHR0VTVEVEX1RPS0VOUyB8fCBbXTtcbiAgICAgICAgICAgIGNvbnN0IGFsbFN1Z2dlc3RlZFRva2VuT2JqZWN0cyA9IGFsbFN1Z2dlc3RlZFRva2Vuc1xuICAgICAgICAgICAgICAgIC5tYXAoc3ltYm9sID0+IHRva2Vucy5maW5kKHQgPT4gdC5zeW1ib2wgPT09IHN5bWJvbCkpXG4gICAgICAgICAgICAgICAgLmZpbHRlcigodCkgPT4gQm9vbGVhbih0KSlcbiAgICAgICAgICAgICAgICAuZmlsdGVyKHQgPT4gIXN1Z2dlc3RlZFRva2VuT2JqZWN0cy5zb21lKGN0ID0+IGN0LmFkZHJlc3MgPT09IHQuYWRkcmVzcykpO1xuICAgICAgICAgICAgc3RhdGUuc3VnZ2VzdGVkVG9rZW5zID0gWy4uLnN1Z2dlc3RlZFRva2VuT2JqZWN0cywgLi4uYWxsU3VnZ2VzdGVkVG9rZW5PYmplY3RzXTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHN0YXRlLnRva2VucyA9IFtdO1xuICAgICAgICAgICAgc3RhdGUucG9wdWxhclRva2VucyA9IFtdO1xuICAgICAgICAgICAgc3RhdGUuc3VnZ2VzdGVkVG9rZW5zID0gW107XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICBzdGF0ZS50b2tlbnNMb2FkaW5nID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGFzeW5jIGdldEFkZHJlc3NQcmljZShhZGRyZXNzKSB7XG4gICAgICAgIGNvbnN0IGV4aXN0UHJpY2UgPSBzdGF0ZS50b2tlbnNQcmljZU1hcFthZGRyZXNzXTtcbiAgICAgICAgaWYgKGV4aXN0UHJpY2UpIHtcbiAgICAgICAgICAgIHJldHVybiBleGlzdFByaWNlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgQmxvY2tjaGFpbkFwaUNvbnRyb2xsZXIuZmV0Y2hUb2tlblByaWNlKHtcbiAgICAgICAgICAgIGFkZHJlc3NlczogW2FkZHJlc3NdXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBmdW5naWJsZXMgPSByZXNwb25zZT8uZnVuZ2libGVzIHx8IFtdO1xuICAgICAgICBjb25zdCBhbGxUb2tlbnMgPSBbLi4uKHN0YXRlLnRva2VucyB8fCBbXSksIC4uLihzdGF0ZS5teVRva2Vuc1dpdGhCYWxhbmNlIHx8IFtdKV07XG4gICAgICAgIGNvbnN0IHN5bWJvbCA9IGFsbFRva2Vucz8uZmluZCh0b2tlbiA9PiB0b2tlbi5hZGRyZXNzID09PSBhZGRyZXNzKT8uc3ltYm9sO1xuICAgICAgICBjb25zdCBwcmljZSA9IGZ1bmdpYmxlcy5maW5kKHAgPT4gcC5zeW1ib2wudG9Mb3dlckNhc2UoKSA9PT0gc3ltYm9sPy50b0xvd2VyQ2FzZSgpKT8ucHJpY2UgfHwgMDtcbiAgICAgICAgY29uc3QgcHJpY2VBc0Zsb2F0ID0gcGFyc2VGbG9hdChwcmljZS50b1N0cmluZygpKTtcbiAgICAgICAgc3RhdGUudG9rZW5zUHJpY2VNYXBbYWRkcmVzc10gPSBwcmljZUFzRmxvYXQ7XG4gICAgICAgIHJldHVybiBwcmljZUFzRmxvYXQ7XG4gICAgfSxcbiAgICBhc3luYyBnZXROZXR3b3JrVG9rZW5QcmljZSgpIHtcbiAgICAgICAgY29uc3QgeyBuZXR3b3JrQWRkcmVzcyB9ID0gU3dhcENvbnRyb2xsZXIuZ2V0UGFyYW1zKCk7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgQmxvY2tjaGFpbkFwaUNvbnRyb2xsZXIuZmV0Y2hUb2tlblByaWNlKHtcbiAgICAgICAgICAgIGFkZHJlc3NlczogW25ldHdvcmtBZGRyZXNzXVxuICAgICAgICB9KS5jYXRjaCgoKSA9PiB7XG4gICAgICAgICAgICBTbmFja0NvbnRyb2xsZXIuc2hvd0Vycm9yKCdGYWlsZWQgdG8gZmV0Y2ggbmV0d29yayB0b2tlbiBwcmljZScpO1xuICAgICAgICAgICAgcmV0dXJuIHsgZnVuZ2libGVzOiBbXSB9O1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgdG9rZW4gPSByZXNwb25zZS5mdW5naWJsZXM/LlswXTtcbiAgICAgICAgY29uc3QgcHJpY2UgPSB0b2tlbj8ucHJpY2UudG9TdHJpbmcoKSB8fCAnMCc7XG4gICAgICAgIHN0YXRlLnRva2Vuc1ByaWNlTWFwW25ldHdvcmtBZGRyZXNzXSA9IHBhcnNlRmxvYXQocHJpY2UpO1xuICAgICAgICBzdGF0ZS5uZXR3b3JrVG9rZW5TeW1ib2wgPSB0b2tlbj8uc3ltYm9sIHx8ICcnO1xuICAgICAgICBzdGF0ZS5uZXR3b3JrUHJpY2UgPSBwcmljZTtcbiAgICB9LFxuICAgIGFzeW5jIGdldE15VG9rZW5zV2l0aEJhbGFuY2UoZm9yY2VVcGRhdGUpIHtcbiAgICAgICAgY29uc3QgYmFsYW5jZXMgPSBhd2FpdCBCYWxhbmNlVXRpbC5nZXRNeVRva2Vuc1dpdGhCYWxhbmNlKGZvcmNlVXBkYXRlKTtcbiAgICAgICAgY29uc3Qgc3dhcEJhbGFuY2VzID0gU3dhcEFwaVV0aWwubWFwQmFsYW5jZXNUb1N3YXBUb2tlbnMoYmFsYW5jZXMpO1xuICAgICAgICBpZiAoIXN3YXBCYWxhbmNlcykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGF3YWl0IFN3YXBDb250cm9sbGVyLmdldEluaXRpYWxHYXNQcmljZSgpO1xuICAgICAgICBTd2FwQ29udHJvbGxlci5zZXRCYWxhbmNlcyhzd2FwQmFsYW5jZXMpO1xuICAgIH0sXG4gICAgc2V0QmFsYW5jZXMoYmFsYW5jZXMpIHtcbiAgICAgICAgY29uc3QgeyBuZXR3b3JrQWRkcmVzcyB9ID0gU3dhcENvbnRyb2xsZXIuZ2V0UGFyYW1zKCk7XG4gICAgICAgIGNvbnN0IGNhaXBOZXR3b3JrID0gQ2hhaW5Db250cm9sbGVyLnN0YXRlLmFjdGl2ZUNhaXBOZXR3b3JrO1xuICAgICAgICBpZiAoIWNhaXBOZXR3b3JrKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbmV0d29ya1Rva2VuID0gYmFsYW5jZXMuZmluZCh0b2tlbiA9PiB0b2tlbi5hZGRyZXNzID09PSBuZXR3b3JrQWRkcmVzcyk7XG4gICAgICAgIGJhbGFuY2VzLmZvckVhY2godG9rZW4gPT4ge1xuICAgICAgICAgICAgc3RhdGUudG9rZW5zUHJpY2VNYXBbdG9rZW4uYWRkcmVzc10gPSB0b2tlbi5wcmljZSB8fCAwO1xuICAgICAgICB9KTtcbiAgICAgICAgc3RhdGUubXlUb2tlbnNXaXRoQmFsYW5jZSA9IGJhbGFuY2VzLmZpbHRlcih0b2tlbiA9PiB0b2tlbi5hZGRyZXNzLnN0YXJ0c1dpdGgoY2FpcE5ldHdvcmsuY2FpcE5ldHdvcmtJZCkpO1xuICAgICAgICBzdGF0ZS5uZXR3b3JrQmFsYW5jZUluVVNEID0gbmV0d29ya1Rva2VuXG4gICAgICAgICAgICA/IE51bWJlclV0aWwubXVsdGlwbHkobmV0d29ya1Rva2VuLnF1YW50aXR5Lm51bWVyaWMsIG5ldHdvcmtUb2tlbi5wcmljZSkudG9TdHJpbmcoKVxuICAgICAgICAgICAgOiAnMCc7XG4gICAgfSxcbiAgICBhc3luYyBnZXRJbml0aWFsR2FzUHJpY2UoKSB7XG4gICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IFN3YXBBcGlVdGlsLmZldGNoR2FzUHJpY2UoKTtcbiAgICAgICAgaWYgKCFyZXMpIHtcbiAgICAgICAgICAgIHJldHVybiB7IGdhc1ByaWNlOiBudWxsLCBnYXNQcmljZUluVVNEOiBudWxsIH07XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoIChDaGFpbkNvbnRyb2xsZXIuc3RhdGU/LmFjdGl2ZUNhaXBOZXR3b3JrPy5jaGFpbk5hbWVzcGFjZSkge1xuICAgICAgICAgICAgY2FzZSBDb21tb25Db25zdGFudHNVdGlsLkNIQUlOLlNPTEFOQTpcbiAgICAgICAgICAgICAgICBzdGF0ZS5nYXNGZWUgPSByZXMuc3RhbmRhcmQgPz8gJzAnO1xuICAgICAgICAgICAgICAgIHN0YXRlLmdhc1ByaWNlSW5VU0QgPSBOdW1iZXJVdGlsLm11bHRpcGx5KHJlcy5zdGFuZGFyZCwgc3RhdGUubmV0d29ya1ByaWNlKVxuICAgICAgICAgICAgICAgICAgICAuZGl2KDFlOSlcbiAgICAgICAgICAgICAgICAgICAgLnRvTnVtYmVyKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgZ2FzUHJpY2U6IEJpZ0ludChzdGF0ZS5nYXNGZWUpLFxuICAgICAgICAgICAgICAgICAgICBnYXNQcmljZUluVVNEOiBOdW1iZXIoc3RhdGUuZ2FzUHJpY2VJblVTRClcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgY2FzZSBDb21tb25Db25zdGFudHNVdGlsLkNIQUlOLkVWTTpcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNhc2UtZGVjbGFyYXRpb25zXG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSByZXMuc3RhbmRhcmQgPz8gJzAnO1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jYXNlLWRlY2xhcmF0aW9uc1xuICAgICAgICAgICAgICAgIGNvbnN0IGdhc0ZlZSA9IEJpZ0ludCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNhc2UtZGVjbGFyYXRpb25zXG4gICAgICAgICAgICAgICAgY29uc3QgZ2FzTGltaXQgPSBCaWdJbnQoSU5JVElBTF9HQVNfTElNSVQpO1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jYXNlLWRlY2xhcmF0aW9uc1xuICAgICAgICAgICAgICAgIGNvbnN0IGdhc1ByaWNlID0gU3dhcENhbGN1bGF0aW9uVXRpbC5nZXRHYXNQcmljZUluVVNEKHN0YXRlLm5ldHdvcmtQcmljZSwgZ2FzTGltaXQsIGdhc0ZlZSk7XG4gICAgICAgICAgICAgICAgc3RhdGUuZ2FzRmVlID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgc3RhdGUuZ2FzUHJpY2VJblVTRCA9IGdhc1ByaWNlO1xuICAgICAgICAgICAgICAgIHJldHVybiB7IGdhc1ByaWNlOiBnYXNGZWUsIGdhc1ByaWNlSW5VU0Q6IGdhc1ByaWNlIH07XG4gICAgICAgIH1cbiAgICB9LFxuICAgIC8vIC0tIFN3YXAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbiAgICBhc3luYyBzd2FwVG9rZW5zKCkge1xuICAgICAgICBjb25zdCBhZGRyZXNzID0gQ2hhaW5Db250cm9sbGVyLmdldEFjY291bnREYXRhKCk/LmFkZHJlc3M7XG4gICAgICAgIGNvbnN0IHNvdXJjZVRva2VuID0gc3RhdGUuc291cmNlVG9rZW47XG4gICAgICAgIGNvbnN0IHRvVG9rZW4gPSBzdGF0ZS50b1Rva2VuO1xuICAgICAgICBjb25zdCBoYXZlU291cmNlVG9rZW5BbW91bnQgPSBOdW1iZXJVdGlsLmJpZ051bWJlcihzdGF0ZS5zb3VyY2VUb2tlbkFtb3VudCkuZ3QoMCk7XG4gICAgICAgIGlmICghaGF2ZVNvdXJjZVRva2VuQW1vdW50KSB7XG4gICAgICAgICAgICBTd2FwQ29udHJvbGxlci5zZXRUb1Rva2VuQW1vdW50KCcnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRvVG9rZW4gfHwgIXNvdXJjZVRva2VuIHx8IHN0YXRlLmxvYWRpbmdQcmljZXMgfHwgIWhhdmVTb3VyY2VUb2tlbkFtb3VudCB8fCAhYWRkcmVzcykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHN0YXRlLmxvYWRpbmdRdW90ZSA9IHRydWU7XG4gICAgICAgIGNvbnN0IGFtb3VudERlY2ltYWwgPSBOdW1iZXJVdGlsLmJpZ051bWJlcihzdGF0ZS5zb3VyY2VUb2tlbkFtb3VudClcbiAgICAgICAgICAgIC50aW1lcygxMCAqKiBzb3VyY2VUb2tlbi5kZWNpbWFscylcbiAgICAgICAgICAgIC5yb3VuZCgwKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHF1b3RlUmVzcG9uc2UgPSBhd2FpdCBCbG9ja2NoYWluQXBpQ29udHJvbGxlci5mZXRjaFN3YXBRdW90ZSh7XG4gICAgICAgICAgICAgICAgdXNlckFkZHJlc3M6IGFkZHJlc3MsXG4gICAgICAgICAgICAgICAgZnJvbTogc291cmNlVG9rZW4uYWRkcmVzcyxcbiAgICAgICAgICAgICAgICB0bzogdG9Ub2tlbi5hZGRyZXNzLFxuICAgICAgICAgICAgICAgIGdhc1ByaWNlOiBzdGF0ZS5nYXNGZWUsXG4gICAgICAgICAgICAgICAgYW1vdW50OiBhbW91bnREZWNpbWFsLnRvU3RyaW5nKClcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgc3RhdGUubG9hZGluZ1F1b3RlID0gZmFsc2U7XG4gICAgICAgICAgICBjb25zdCBxdW90ZVRvQW1vdW50ID0gcXVvdGVSZXNwb25zZT8ucXVvdGVzPy5bMF0/LnRvQW1vdW50O1xuICAgICAgICAgICAgaWYgKCFxdW90ZVRvQW1vdW50KSB7XG4gICAgICAgICAgICAgICAgQWxlcnRDb250cm9sbGVyLm9wZW4oe1xuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5TWVzc2FnZTogJ0luY29ycmVjdCBhbW91bnQnLFxuICAgICAgICAgICAgICAgICAgICBkZWJ1Z01lc3NhZ2U6ICdQbGVhc2UgZW50ZXIgYSB2YWxpZCBhbW91bnQnXG4gICAgICAgICAgICAgICAgfSwgJ2Vycm9yJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdG9Ub2tlbkFtb3VudCA9IE51bWJlclV0aWwuYmlnTnVtYmVyKHF1b3RlVG9BbW91bnQpXG4gICAgICAgICAgICAgICAgLmRpdigxMCAqKiB0b1Rva2VuLmRlY2ltYWxzKVxuICAgICAgICAgICAgICAgIC50b1N0cmluZygpO1xuICAgICAgICAgICAgU3dhcENvbnRyb2xsZXIuc2V0VG9Ub2tlbkFtb3VudCh0b1Rva2VuQW1vdW50KTtcbiAgICAgICAgICAgIGNvbnN0IGlzSW5zdWZmaWNpZW50VG9rZW4gPSBTd2FwQ29udHJvbGxlci5oYXNJbnN1ZmZpY2llbnRUb2tlbihzdGF0ZS5zb3VyY2VUb2tlbkFtb3VudCwgc291cmNlVG9rZW4uYWRkcmVzcyk7XG4gICAgICAgICAgICBpZiAoaXNJbnN1ZmZpY2llbnRUb2tlbikge1xuICAgICAgICAgICAgICAgIHN0YXRlLmlucHV0RXJyb3IgPSAnSW5zdWZmaWNpZW50IGJhbGFuY2UnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgc3RhdGUuaW5wdXRFcnJvciA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICBTd2FwQ29udHJvbGxlci5zZXRUcmFuc2FjdGlvbkRldGFpbHMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgU3dhcEFwaVV0aWwuaGFuZGxlU3dhcEVycm9yKGVycm9yKTtcbiAgICAgICAgICAgIHN0YXRlLmxvYWRpbmdRdW90ZSA9IGZhbHNlO1xuICAgICAgICAgICAgc3RhdGUuaW5wdXRFcnJvciA9IHJlc3BvbnNlIHx8ICdJbnN1ZmZpY2llbnQgYmFsYW5jZSc7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIC8vIC0tIENyZWF0ZSBUcmFuc2FjdGlvbnMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbiAgICBhc3luYyBnZXRUcmFuc2FjdGlvbigpIHtcbiAgICAgICAgY29uc3QgeyBmcm9tQ2FpcEFkZHJlc3MsIGF2YWlsYWJsZVRvU3dhcCB9ID0gU3dhcENvbnRyb2xsZXIuZ2V0UGFyYW1zKCk7XG4gICAgICAgIGNvbnN0IHNvdXJjZVRva2VuID0gc3RhdGUuc291cmNlVG9rZW47XG4gICAgICAgIGNvbnN0IHRvVG9rZW4gPSBzdGF0ZS50b1Rva2VuO1xuICAgICAgICBpZiAoIWZyb21DYWlwQWRkcmVzcyB8fCAhYXZhaWxhYmxlVG9Td2FwIHx8ICFzb3VyY2VUb2tlbiB8fCAhdG9Ub2tlbiB8fCBzdGF0ZS5sb2FkaW5nUXVvdGUpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHN0YXRlLmxvYWRpbmdCdWlsZFRyYW5zYWN0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgIGNvbnN0IGhhc0FsbG93YW5jZSA9IGF3YWl0IFN3YXBBcGlVdGlsLmZldGNoU3dhcEFsbG93YW5jZSh7XG4gICAgICAgICAgICAgICAgdXNlckFkZHJlc3M6IGZyb21DYWlwQWRkcmVzcyxcbiAgICAgICAgICAgICAgICB0b2tlbkFkZHJlc3M6IHNvdXJjZVRva2VuLmFkZHJlc3MsXG4gICAgICAgICAgICAgICAgc291cmNlVG9rZW5BbW91bnQ6IHN0YXRlLnNvdXJjZVRva2VuQW1vdW50LFxuICAgICAgICAgICAgICAgIHNvdXJjZVRva2VuRGVjaW1hbHM6IHNvdXJjZVRva2VuLmRlY2ltYWxzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGxldCB0cmFuc2FjdGlvbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGlmIChoYXNBbGxvd2FuY2UpIHtcbiAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbiA9IGF3YWl0IFN3YXBDb250cm9sbGVyLmNyZWF0ZVN3YXBUcmFuc2FjdGlvbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdHJhbnNhY3Rpb24gPSBhd2FpdCBTd2FwQ29udHJvbGxlci5jcmVhdGVBbGxvd2FuY2VUcmFuc2FjdGlvbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RhdGUubG9hZGluZ0J1aWxkVHJhbnNhY3Rpb24gPSBmYWxzZTtcbiAgICAgICAgICAgIHN0YXRlLmZldGNoRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybiB0cmFuc2FjdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIFJvdXRlckNvbnRyb2xsZXIuZ29CYWNrKCk7XG4gICAgICAgICAgICBTbmFja0NvbnRyb2xsZXIuc2hvd0Vycm9yKCdGYWlsZWQgdG8gY2hlY2sgYWxsb3dhbmNlJyk7XG4gICAgICAgICAgICBzdGF0ZS5sb2FkaW5nQnVpbGRUcmFuc2FjdGlvbiA9IGZhbHNlO1xuICAgICAgICAgICAgc3RhdGUuYXBwcm92YWxUcmFuc2FjdGlvbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHN0YXRlLnN3YXBUcmFuc2FjdGlvbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHN0YXRlLmZldGNoRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgYXN5bmMgY3JlYXRlQWxsb3dhbmNlVHJhbnNhY3Rpb24oKSB7XG4gICAgICAgIGNvbnN0IHsgZnJvbUNhaXBBZGRyZXNzLCBzb3VyY2VUb2tlbkFkZHJlc3MsIHRvVG9rZW5BZGRyZXNzIH0gPSBTd2FwQ29udHJvbGxlci5nZXRQYXJhbXMoKTtcbiAgICAgICAgaWYgKCFmcm9tQ2FpcEFkZHJlc3MgfHwgIXRvVG9rZW5BZGRyZXNzKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGlmICghc291cmNlVG9rZW5BZGRyZXNzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NyZWF0ZUFsbG93YW5jZVRyYW5zYWN0aW9uIC0gTm8gc291cmNlIHRva2VuIGFkZHJlc3MgZm91bmQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgQmxvY2tjaGFpbkFwaUNvbnRyb2xsZXIuZ2VuZXJhdGVBcHByb3ZlQ2FsbGRhdGEoe1xuICAgICAgICAgICAgICAgIGZyb206IHNvdXJjZVRva2VuQWRkcmVzcyxcbiAgICAgICAgICAgICAgICB0bzogdG9Ub2tlbkFkZHJlc3MsXG4gICAgICAgICAgICAgICAgdXNlckFkZHJlc3M6IGZyb21DYWlwQWRkcmVzc1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCBhZGRyZXNzID0gQ29yZUhlbHBlclV0aWwuZ2V0UGxhaW5BZGRyZXNzKHJlc3BvbnNlLnR4LmZyb20pO1xuICAgICAgICAgICAgaWYgKCFhZGRyZXNzKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTd2FwQ29udHJvbGxlcjpjcmVhdGVBbGxvd2FuY2VUcmFuc2FjdGlvbiAtIGFkZHJlc3MgaXMgcmVxdWlyZWQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHRyYW5zYWN0aW9uID0ge1xuICAgICAgICAgICAgICAgIGRhdGE6IHJlc3BvbnNlLnR4LmRhdGEsXG4gICAgICAgICAgICAgICAgdG86IGFkZHJlc3MsXG4gICAgICAgICAgICAgICAgZ2FzUHJpY2U6IEJpZ0ludChyZXNwb25zZS50eC5laXAxNTUuZ2FzUHJpY2UpLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBCaWdJbnQocmVzcG9uc2UudHgudmFsdWUpLFxuICAgICAgICAgICAgICAgIHRvQW1vdW50OiBzdGF0ZS50b1Rva2VuQW1vdW50XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgc3RhdGUuc3dhcFRyYW5zYWN0aW9uID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgc3RhdGUuYXBwcm92YWxUcmFuc2FjdGlvbiA9IHtcbiAgICAgICAgICAgICAgICBkYXRhOiB0cmFuc2FjdGlvbi5kYXRhLFxuICAgICAgICAgICAgICAgIHRvOiB0cmFuc2FjdGlvbi50byxcbiAgICAgICAgICAgICAgICBnYXNQcmljZTogdHJhbnNhY3Rpb24uZ2FzUHJpY2UsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHRyYW5zYWN0aW9uLnZhbHVlLFxuICAgICAgICAgICAgICAgIHRvQW1vdW50OiB0cmFuc2FjdGlvbi50b0Ftb3VudFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgZGF0YTogdHJhbnNhY3Rpb24uZGF0YSxcbiAgICAgICAgICAgICAgICB0bzogdHJhbnNhY3Rpb24udG8sXG4gICAgICAgICAgICAgICAgZ2FzUHJpY2U6IHRyYW5zYWN0aW9uLmdhc1ByaWNlLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB0cmFuc2FjdGlvbi52YWx1ZSxcbiAgICAgICAgICAgICAgICB0b0Ftb3VudDogdHJhbnNhY3Rpb24udG9BbW91bnRcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBSb3V0ZXJDb250cm9sbGVyLmdvQmFjaygpO1xuICAgICAgICAgICAgU25hY2tDb250cm9sbGVyLnNob3dFcnJvcignRmFpbGVkIHRvIGNyZWF0ZSBhcHByb3ZhbCB0cmFuc2FjdGlvbicpO1xuICAgICAgICAgICAgc3RhdGUuYXBwcm92YWxUcmFuc2FjdGlvbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHN0YXRlLnN3YXBUcmFuc2FjdGlvbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHN0YXRlLmZldGNoRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgYXN5bmMgY3JlYXRlU3dhcFRyYW5zYWN0aW9uKCkge1xuICAgICAgICBjb25zdCB7IG5ldHdvcmtBZGRyZXNzLCBmcm9tQ2FpcEFkZHJlc3MsIHNvdXJjZVRva2VuQW1vdW50IH0gPSBTd2FwQ29udHJvbGxlci5nZXRQYXJhbXMoKTtcbiAgICAgICAgY29uc3Qgc291cmNlVG9rZW4gPSBzdGF0ZS5zb3VyY2VUb2tlbjtcbiAgICAgICAgY29uc3QgdG9Ub2tlbiA9IHN0YXRlLnRvVG9rZW47XG4gICAgICAgIGlmICghZnJvbUNhaXBBZGRyZXNzIHx8ICFzb3VyY2VUb2tlbkFtb3VudCB8fCAhc291cmNlVG9rZW4gfHwgIXRvVG9rZW4pIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYW1vdW50ID0gQ29ubmVjdGlvbkNvbnRyb2xsZXIucGFyc2VVbml0cyhzb3VyY2VUb2tlbkFtb3VudCwgc291cmNlVG9rZW4uZGVjaW1hbHMpPy50b1N0cmluZygpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBCbG9ja2NoYWluQXBpQ29udHJvbGxlci5nZW5lcmF0ZVN3YXBDYWxsZGF0YSh7XG4gICAgICAgICAgICAgICAgdXNlckFkZHJlc3M6IGZyb21DYWlwQWRkcmVzcyxcbiAgICAgICAgICAgICAgICBmcm9tOiBzb3VyY2VUb2tlbi5hZGRyZXNzLFxuICAgICAgICAgICAgICAgIHRvOiB0b1Rva2VuLmFkZHJlc3MsXG4gICAgICAgICAgICAgICAgYW1vdW50OiBhbW91bnQsXG4gICAgICAgICAgICAgICAgZGlzYWJsZUVzdGltYXRlOiB0cnVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IGlzU291cmNlVG9rZW5Jc05ldHdvcmtUb2tlbiA9IHNvdXJjZVRva2VuLmFkZHJlc3MgPT09IG5ldHdvcmtBZGRyZXNzO1xuICAgICAgICAgICAgY29uc3QgZ2FzID0gQmlnSW50KHJlc3BvbnNlLnR4LmVpcDE1NS5nYXMpO1xuICAgICAgICAgICAgY29uc3QgZ2FzUHJpY2UgPSBCaWdJbnQocmVzcG9uc2UudHguZWlwMTU1Lmdhc1ByaWNlKTtcbiAgICAgICAgICAgIGNvbnN0IGFkZHJlc3MgPSBDb3JlSGVscGVyVXRpbC5nZXRQbGFpbkFkZHJlc3MocmVzcG9uc2UudHgudG8pO1xuICAgICAgICAgICAgaWYgKCFhZGRyZXNzKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTd2FwQ29udHJvbGxlcjpjcmVhdGVTd2FwVHJhbnNhY3Rpb24gLSBhZGRyZXNzIGlzIHJlcXVpcmVkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB0cmFuc2FjdGlvbiA9IHtcbiAgICAgICAgICAgICAgICBkYXRhOiByZXNwb25zZS50eC5kYXRhLFxuICAgICAgICAgICAgICAgIHRvOiBhZGRyZXNzLFxuICAgICAgICAgICAgICAgIGdhcyxcbiAgICAgICAgICAgICAgICBnYXNQcmljZSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogaXNTb3VyY2VUb2tlbklzTmV0d29ya1Rva2VuID8gQmlnSW50KGFtb3VudCA/PyAnMCcpIDogQmlnSW50KCcwJyksXG4gICAgICAgICAgICAgICAgdG9BbW91bnQ6IHN0YXRlLnRvVG9rZW5BbW91bnRcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBzdGF0ZS5nYXNQcmljZUluVVNEID0gU3dhcENhbGN1bGF0aW9uVXRpbC5nZXRHYXNQcmljZUluVVNEKHN0YXRlLm5ldHdvcmtQcmljZSwgZ2FzLCBnYXNQcmljZSk7XG4gICAgICAgICAgICBzdGF0ZS5hcHByb3ZhbFRyYW5zYWN0aW9uID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgc3RhdGUuc3dhcFRyYW5zYWN0aW9uID0gdHJhbnNhY3Rpb247XG4gICAgICAgICAgICByZXR1cm4gdHJhbnNhY3Rpb247XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBSb3V0ZXJDb250cm9sbGVyLmdvQmFjaygpO1xuICAgICAgICAgICAgU25hY2tDb250cm9sbGVyLnNob3dFcnJvcignRmFpbGVkIHRvIGNyZWF0ZSB0cmFuc2FjdGlvbicpO1xuICAgICAgICAgICAgc3RhdGUuYXBwcm92YWxUcmFuc2FjdGlvbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHN0YXRlLnN3YXBUcmFuc2FjdGlvbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHN0YXRlLmZldGNoRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgb25FbWJlZGRlZFdhbGxldEFwcHJvdmFsU3VjY2VzcygpIHtcbiAgICAgICAgU25hY2tDb250cm9sbGVyLnNob3dMb2FkaW5nKCdBcHByb3ZlIGxpbWl0IGluY3JlYXNlIGluIHlvdXIgd2FsbGV0Jyk7XG4gICAgICAgIFJvdXRlckNvbnRyb2xsZXIucmVwbGFjZSgnU3dhcFByZXZpZXcnKTtcbiAgICB9LFxuICAgIC8vIC0tIFNlbmQgVHJhbnNhY3Rpb25zIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuICAgIGFzeW5jIHNlbmRUcmFuc2FjdGlvbkZvckFwcHJvdmFsKGRhdGEpIHtcbiAgICAgICAgY29uc3QgeyBmcm9tQWRkcmVzcywgaXNBdXRoQ29ubmVjdG9yIH0gPSBTd2FwQ29udHJvbGxlci5nZXRQYXJhbXMoKTtcbiAgICAgICAgc3RhdGUubG9hZGluZ0FwcHJvdmFsVHJhbnNhY3Rpb24gPSB0cnVlO1xuICAgICAgICBjb25zdCBhcHByb3ZlTGltaXRNZXNzYWdlID0gYEFwcHJvdmUgbGltaXQgaW5jcmVhc2UgaW4geW91ciB3YWxsZXRgO1xuICAgICAgICBpZiAoaXNBdXRoQ29ubmVjdG9yKSB7XG4gICAgICAgICAgICBSb3V0ZXJDb250cm9sbGVyLnB1c2hUcmFuc2FjdGlvblN0YWNrKHtcbiAgICAgICAgICAgICAgICBvblN1Y2Nlc3M6IFN3YXBDb250cm9sbGVyLm9uRW1iZWRkZWRXYWxsZXRBcHByb3ZhbFN1Y2Nlc3NcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgU25hY2tDb250cm9sbGVyLnNob3dMb2FkaW5nKGFwcHJvdmVMaW1pdE1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCBDb25uZWN0aW9uQ29udHJvbGxlci5zZW5kVHJhbnNhY3Rpb24oe1xuICAgICAgICAgICAgICAgIGFkZHJlc3M6IGZyb21BZGRyZXNzLFxuICAgICAgICAgICAgICAgIHRvOiBkYXRhLnRvLFxuICAgICAgICAgICAgICAgIGRhdGE6IGRhdGEuZGF0YSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZGF0YS52YWx1ZSxcbiAgICAgICAgICAgICAgICBjaGFpbk5hbWVzcGFjZTogQ29tbW9uQ29uc3RhbnRzVXRpbC5DSEFJTi5FVk1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYXdhaXQgU3dhcENvbnRyb2xsZXIuc3dhcFRva2VucygpO1xuICAgICAgICAgICAgYXdhaXQgU3dhcENvbnRyb2xsZXIuZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICAgICAgICAgIHN0YXRlLmFwcHJvdmFsVHJhbnNhY3Rpb24gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBzdGF0ZS5sb2FkaW5nQXBwcm92YWxUcmFuc2FjdGlvbiA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yID0gZXJyO1xuICAgICAgICAgICAgc3RhdGUudHJhbnNhY3Rpb25FcnJvciA9IGVycm9yPy5kaXNwbGF5TWVzc2FnZTtcbiAgICAgICAgICAgIHN0YXRlLmxvYWRpbmdBcHByb3ZhbFRyYW5zYWN0aW9uID0gZmFsc2U7XG4gICAgICAgICAgICBTbmFja0NvbnRyb2xsZXIuc2hvd0Vycm9yKGVycm9yPy5kaXNwbGF5TWVzc2FnZSB8fCAnVHJhbnNhY3Rpb24gZXJyb3InKTtcbiAgICAgICAgICAgIEV2ZW50c0NvbnRyb2xsZXIuc2VuZEV2ZW50KHtcbiAgICAgICAgICAgICAgICB0eXBlOiAndHJhY2snLFxuICAgICAgICAgICAgICAgIGV2ZW50OiAnU1dBUF9BUFBST1ZBTF9FUlJPUicsXG4gICAgICAgICAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBlcnJvcj8uZGlzcGxheU1lc3NhZ2UgfHwgZXJyb3I/Lm1lc3NhZ2UgfHwgJ1Vua25vd24nLFxuICAgICAgICAgICAgICAgICAgICBuZXR3b3JrOiBDaGFpbkNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ2FpcE5ldHdvcms/LmNhaXBOZXR3b3JrSWQgfHwgJycsXG4gICAgICAgICAgICAgICAgICAgIHN3YXBGcm9tVG9rZW46IFN3YXBDb250cm9sbGVyLnN0YXRlLnNvdXJjZVRva2VuPy5zeW1ib2wgfHwgJycsXG4gICAgICAgICAgICAgICAgICAgIHN3YXBUb1Rva2VuOiBTd2FwQ29udHJvbGxlci5zdGF0ZS50b1Rva2VuPy5zeW1ib2wgfHwgJycsXG4gICAgICAgICAgICAgICAgICAgIHN3YXBGcm9tQW1vdW50OiBTd2FwQ29udHJvbGxlci5zdGF0ZS5zb3VyY2VUb2tlbkFtb3VudCB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgc3dhcFRvQW1vdW50OiBTd2FwQ29udHJvbGxlci5zdGF0ZS50b1Rva2VuQW1vdW50IHx8ICcnLFxuICAgICAgICAgICAgICAgICAgICBpc1NtYXJ0QWNjb3VudDogZ2V0UHJlZmVycmVkQWNjb3VudFR5cGUoQ29tbW9uQ29uc3RhbnRzVXRpbC5DSEFJTi5FVk0pID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgVzNtRnJhbWVScGNDb25zdGFudHMuQUNDT1VOVF9UWVBFUy5TTUFSVF9BQ0NPVU5UXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGFzeW5jIHNlbmRUcmFuc2FjdGlvbkZvclN3YXAoZGF0YSkge1xuICAgICAgICBpZiAoIWRhdGEpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyBmcm9tQWRkcmVzcywgdG9Ub2tlbkFtb3VudCwgaXNBdXRoQ29ubmVjdG9yIH0gPSBTd2FwQ29udHJvbGxlci5nZXRQYXJhbXMoKTtcbiAgICAgICAgc3RhdGUubG9hZGluZ1RyYW5zYWN0aW9uID0gdHJ1ZTtcbiAgICAgICAgY29uc3Qgc25hY2tiYXJQZW5kaW5nTWVzc2FnZSA9IGBTd2FwcGluZyAke3N0YXRlLnNvdXJjZVRva2VuPy5zeW1ib2x9IHRvICR7TnVtYmVyVXRpbC5mb3JtYXROdW1iZXJUb0xvY2FsU3RyaW5nKHRvVG9rZW5BbW91bnQsIDMpfSAke3N0YXRlLnRvVG9rZW4/LnN5bWJvbH1gO1xuICAgICAgICBjb25zdCBzbmFja2JhclN1Y2Nlc3NNZXNzYWdlID0gYFN3YXBwZWQgJHtzdGF0ZS5zb3VyY2VUb2tlbj8uc3ltYm9sfSB0byAke051bWJlclV0aWwuZm9ybWF0TnVtYmVyVG9Mb2NhbFN0cmluZyh0b1Rva2VuQW1vdW50LCAzKX0gJHtzdGF0ZS50b1Rva2VuPy5zeW1ib2x9YDtcbiAgICAgICAgaWYgKGlzQXV0aENvbm5lY3Rvcikge1xuICAgICAgICAgICAgUm91dGVyQ29udHJvbGxlci5wdXNoVHJhbnNhY3Rpb25TdGFjayh7XG4gICAgICAgICAgICAgICAgb25TdWNjZXNzKCkge1xuICAgICAgICAgICAgICAgICAgICBSb3V0ZXJDb250cm9sbGVyLnJlcGxhY2UoJ0FjY291bnQnKTtcbiAgICAgICAgICAgICAgICAgICAgU25hY2tDb250cm9sbGVyLnNob3dMb2FkaW5nKHNuYWNrYmFyUGVuZGluZ01lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLnJlc2V0U3RhdGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIFNuYWNrQ29udHJvbGxlci5zaG93TG9hZGluZygnQ29uZmlybSB0cmFuc2FjdGlvbiBpbiB5b3VyIHdhbGxldCcpO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBmb3JjZVVwZGF0ZUFkZHJlc3NlcyA9IFtzdGF0ZS5zb3VyY2VUb2tlbj8uYWRkcmVzcywgc3RhdGUudG9Ub2tlbj8uYWRkcmVzc10uam9pbignLCcpO1xuICAgICAgICAgICAgY29uc3QgdHJhbnNhY3Rpb25IYXNoID0gYXdhaXQgQ29ubmVjdGlvbkNvbnRyb2xsZXIuc2VuZFRyYW5zYWN0aW9uKHtcbiAgICAgICAgICAgICAgICBhZGRyZXNzOiBmcm9tQWRkcmVzcyxcbiAgICAgICAgICAgICAgICB0bzogZGF0YS50byxcbiAgICAgICAgICAgICAgICBkYXRhOiBkYXRhLmRhdGEsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGRhdGEudmFsdWUsXG4gICAgICAgICAgICAgICAgY2hhaW5OYW1lc3BhY2U6IENvbW1vbkNvbnN0YW50c1V0aWwuQ0hBSU4uRVZNXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHN0YXRlLmxvYWRpbmdUcmFuc2FjdGlvbiA9IGZhbHNlO1xuICAgICAgICAgICAgU25hY2tDb250cm9sbGVyLnNob3dTdWNjZXNzKHNuYWNrYmFyU3VjY2Vzc01lc3NhZ2UpO1xuICAgICAgICAgICAgRXZlbnRzQ29udHJvbGxlci5zZW5kRXZlbnQoe1xuICAgICAgICAgICAgICAgIHR5cGU6ICd0cmFjaycsXG4gICAgICAgICAgICAgICAgZXZlbnQ6ICdTV0FQX1NVQ0NFU1MnLFxuICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgbmV0d29yazogQ2hhaW5Db250cm9sbGVyLnN0YXRlLmFjdGl2ZUNhaXBOZXR3b3JrPy5jYWlwTmV0d29ya0lkIHx8ICcnLFxuICAgICAgICAgICAgICAgICAgICBzd2FwRnJvbVRva2VuOiBTd2FwQ29udHJvbGxlci5zdGF0ZS5zb3VyY2VUb2tlbj8uc3ltYm9sIHx8ICcnLFxuICAgICAgICAgICAgICAgICAgICBzd2FwVG9Ub2tlbjogU3dhcENvbnRyb2xsZXIuc3RhdGUudG9Ub2tlbj8uc3ltYm9sIHx8ICcnLFxuICAgICAgICAgICAgICAgICAgICBzd2FwRnJvbUFtb3VudDogU3dhcENvbnRyb2xsZXIuc3RhdGUuc291cmNlVG9rZW5BbW91bnQgfHwgJycsXG4gICAgICAgICAgICAgICAgICAgIHN3YXBUb0Ftb3VudDogU3dhcENvbnRyb2xsZXIuc3RhdGUudG9Ub2tlbkFtb3VudCB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgaXNTbWFydEFjY291bnQ6IGdldFByZWZlcnJlZEFjY291bnRUeXBlKENvbW1vbkNvbnN0YW50c1V0aWwuQ0hBSU4uRVZNKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgIFczbUZyYW1lUnBjQ29uc3RhbnRzLkFDQ09VTlRfVFlQRVMuU01BUlRfQUNDT1VOVFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29udHJvbGxlci5yZXNldFN0YXRlKCk7XG4gICAgICAgICAgICBpZiAoIWlzQXV0aENvbm5lY3Rvcikge1xuICAgICAgICAgICAgICAgIFJvdXRlckNvbnRyb2xsZXIucmVwbGFjZSgnQWNjb3VudCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29udHJvbGxlci5nZXRNeVRva2Vuc1dpdGhCYWxhbmNlKGZvcmNlVXBkYXRlQWRkcmVzc2VzKTtcbiAgICAgICAgICAgIHJldHVybiB0cmFuc2FjdGlvbkhhc2g7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgY29uc3QgZXJyb3IgPSBlcnI7XG4gICAgICAgICAgICBzdGF0ZS50cmFuc2FjdGlvbkVycm9yID0gZXJyb3I/LmRpc3BsYXlNZXNzYWdlO1xuICAgICAgICAgICAgc3RhdGUubG9hZGluZ1RyYW5zYWN0aW9uID0gZmFsc2U7XG4gICAgICAgICAgICBTbmFja0NvbnRyb2xsZXIuc2hvd0Vycm9yKGVycm9yPy5kaXNwbGF5TWVzc2FnZSB8fCAnVHJhbnNhY3Rpb24gZXJyb3InKTtcbiAgICAgICAgICAgIEV2ZW50c0NvbnRyb2xsZXIuc2VuZEV2ZW50KHtcbiAgICAgICAgICAgICAgICB0eXBlOiAndHJhY2snLFxuICAgICAgICAgICAgICAgIGV2ZW50OiAnU1dBUF9FUlJPUicsXG4gICAgICAgICAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBlcnJvcj8uZGlzcGxheU1lc3NhZ2UgfHwgZXJyb3I/Lm1lc3NhZ2UgfHwgJ1Vua25vd24nLFxuICAgICAgICAgICAgICAgICAgICBuZXR3b3JrOiBDaGFpbkNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ2FpcE5ldHdvcms/LmNhaXBOZXR3b3JrSWQgfHwgJycsXG4gICAgICAgICAgICAgICAgICAgIHN3YXBGcm9tVG9rZW46IFN3YXBDb250cm9sbGVyLnN0YXRlLnNvdXJjZVRva2VuPy5zeW1ib2wgfHwgJycsXG4gICAgICAgICAgICAgICAgICAgIHN3YXBUb1Rva2VuOiBTd2FwQ29udHJvbGxlci5zdGF0ZS50b1Rva2VuPy5zeW1ib2wgfHwgJycsXG4gICAgICAgICAgICAgICAgICAgIHN3YXBGcm9tQW1vdW50OiBTd2FwQ29udHJvbGxlci5zdGF0ZS5zb3VyY2VUb2tlbkFtb3VudCB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgc3dhcFRvQW1vdW50OiBTd2FwQ29udHJvbGxlci5zdGF0ZS50b1Rva2VuQW1vdW50IHx8ICcnLFxuICAgICAgICAgICAgICAgICAgICBpc1NtYXJ0QWNjb3VudDogZ2V0UHJlZmVycmVkQWNjb3VudFR5cGUoQ29tbW9uQ29uc3RhbnRzVXRpbC5DSEFJTi5FVk0pID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgVzNtRnJhbWVScGNDb25zdGFudHMuQUNDT1VOVF9UWVBFUy5TTUFSVF9BQ0NPVU5UXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfSxcbiAgICAvLyAtLSBDaGVja3MgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbiAgICBoYXNJbnN1ZmZpY2llbnRUb2tlbihzb3VyY2VUb2tlbkFtb3VudCwgc291cmNlVG9rZW5BZGRyZXNzKSB7XG4gICAgICAgIGNvbnN0IGlzSW5zdWZmaWNpZW50U291cmNlVG9rZW5Gb3JTd2FwID0gU3dhcENhbGN1bGF0aW9uVXRpbC5pc0luc3VmZmljaWVudFNvdXJjZVRva2VuRm9yU3dhcChzb3VyY2VUb2tlbkFtb3VudCwgc291cmNlVG9rZW5BZGRyZXNzLCBzdGF0ZS5teVRva2Vuc1dpdGhCYWxhbmNlKTtcbiAgICAgICAgcmV0dXJuIGlzSW5zdWZmaWNpZW50U291cmNlVG9rZW5Gb3JTd2FwO1xuICAgIH0sXG4gICAgLy8gLS0gQ2FsY3VsYXRpb25zIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG4gICAgc2V0VHJhbnNhY3Rpb25EZXRhaWxzKCkge1xuICAgICAgICBjb25zdCB7IHRvVG9rZW5BZGRyZXNzLCB0b1Rva2VuRGVjaW1hbHMgfSA9IFN3YXBDb250cm9sbGVyLmdldFBhcmFtcygpO1xuICAgICAgICBpZiAoIXRvVG9rZW5BZGRyZXNzIHx8ICF0b1Rva2VuRGVjaW1hbHMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzdGF0ZS5nYXNQcmljZUluVVNEID0gU3dhcENhbGN1bGF0aW9uVXRpbC5nZXRHYXNQcmljZUluVVNEKHN0YXRlLm5ldHdvcmtQcmljZSwgQmlnSW50KHN0YXRlLmdhc0ZlZSksIEJpZ0ludChJTklUSUFMX0dBU19MSU1JVCkpO1xuICAgICAgICBzdGF0ZS5wcmljZUltcGFjdCA9IFN3YXBDYWxjdWxhdGlvblV0aWwuZ2V0UHJpY2VJbXBhY3Qoe1xuICAgICAgICAgICAgc291cmNlVG9rZW5BbW91bnQ6IHN0YXRlLnNvdXJjZVRva2VuQW1vdW50LFxuICAgICAgICAgICAgc291cmNlVG9rZW5QcmljZUluVVNEOiBzdGF0ZS5zb3VyY2VUb2tlblByaWNlSW5VU0QsXG4gICAgICAgICAgICB0b1Rva2VuUHJpY2VJblVTRDogc3RhdGUudG9Ub2tlblByaWNlSW5VU0QsXG4gICAgICAgICAgICB0b1Rva2VuQW1vdW50OiBzdGF0ZS50b1Rva2VuQW1vdW50XG4gICAgICAgIH0pO1xuICAgICAgICBzdGF0ZS5tYXhTbGlwcGFnZSA9IFN3YXBDYWxjdWxhdGlvblV0aWwuZ2V0TWF4U2xpcHBhZ2Uoc3RhdGUuc2xpcHBhZ2UsIHN0YXRlLnRvVG9rZW5BbW91bnQpO1xuICAgICAgICBzdGF0ZS5wcm92aWRlckZlZSA9IFN3YXBDYWxjdWxhdGlvblV0aWwuZ2V0UHJvdmlkZXJGZWUoc3RhdGUuc291cmNlVG9rZW5BbW91bnQpO1xuICAgIH1cbn07XG4vLyBFeHBvcnQgdGhlIGNvbnRyb2xsZXIgd3JhcHBlZCB3aXRoIG91ciBlcnJvciBib3VuZGFyeVxuZXhwb3J0IGNvbnN0IFN3YXBDb250cm9sbGVyID0gd2l0aEVycm9yQm91bmRhcnkoY29udHJvbGxlcik7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Td2FwQ29udHJvbGxlci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/SwapController.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/TelemetryController.js":
/*!********************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/TelemetryController.js ***!
  \********************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TelemetryController: () => (/* binding */ TelemetryController)\n/* harmony export */ });\n/* harmony import */ var valtio_vanilla__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! valtio/vanilla */ \"(ssr)/./node_modules/.pnpm/valtio@2.1.7_@types+react@18.3.26_react@18.3.1/node_modules/valtio/esm/vanilla.mjs\");\n/* harmony import */ var valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! valtio/vanilla/utils */ \"(ssr)/./node_modules/.pnpm/valtio@2.1.7_@types+react@18.3.26_react@18.3.1/node_modules/valtio/esm/vanilla/utils.mjs\");\n/* harmony import */ var _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/CoreHelperUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/CoreHelperUtil.js\");\n/* harmony import */ var _utils_FetchUtil_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/FetchUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/FetchUtil.js\");\n/* harmony import */ var _OptionsController_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./OptionsController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/OptionsController.js\");\n\n\n\n\n\n// -- Constants ----------------------------------------- //\nconst DEFAULT_STATE = Object.freeze({\n    enabled: true,\n    events: []\n});\nconst api = new _utils_FetchUtil_js__WEBPACK_IMPORTED_MODULE_0__.FetchUtil({ baseUrl: _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_1__.CoreHelperUtil.getAnalyticsUrl(), clientId: null });\n// Rate limiting constants\nconst MAX_ERRORS_PER_MINUTE = 5;\nconst ONE_MINUTE_MS = 60 * 1000;\n// -- State --------------------------------------------- //\nconst state = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_2__.proxy)({\n    ...DEFAULT_STATE\n});\n// -- Controller ---------------------------------------- //\nconst TelemetryController = {\n    state,\n    subscribeKey(key, callback) {\n        return (0,valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_3__.subscribeKey)(state, key, callback);\n    },\n    async sendError(error, category) {\n        if (!state.enabled) {\n            return;\n        }\n        // Check rate limiting using events array\n        const now = Date.now();\n        const recentErrors = state.events.filter(event => {\n            const eventTime = new Date(event.properties.timestamp || '').getTime();\n            return now - eventTime < ONE_MINUTE_MS;\n        });\n        if (recentErrors.length >= MAX_ERRORS_PER_MINUTE) {\n            // Exit silently\n            return;\n        }\n        const errorEvent = {\n            type: 'error',\n            event: category,\n            properties: {\n                errorType: error.name,\n                errorMessage: error.message,\n                stackTrace: error.stack,\n                timestamp: new Date().toISOString()\n            }\n        };\n        state.events.push(errorEvent);\n        try {\n            if (typeof window === 'undefined') {\n                return;\n            }\n            const { projectId, sdkType, sdkVersion } = _OptionsController_js__WEBPACK_IMPORTED_MODULE_4__.OptionsController.state;\n            await api.post({\n                path: '/e',\n                params: {\n                    projectId,\n                    st: sdkType,\n                    sv: sdkVersion || 'html-wagmi-4.2.2'\n                },\n                body: {\n                    eventId: _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_1__.CoreHelperUtil.getUUID(),\n                    url: window.location.href,\n                    domain: window.location.hostname,\n                    timestamp: new Date().toISOString(),\n                    props: {\n                        type: 'error',\n                        event: category,\n                        errorType: error.name,\n                        errorMessage: error.message,\n                        stackTrace: error.stack\n                    }\n                }\n            });\n        }\n        catch {\n            // Do nothing\n        }\n    },\n    enable() {\n        state.enabled = true;\n    },\n    disable() {\n        state.enabled = false;\n    },\n    clearEvents() {\n        state.events = [];\n    }\n};\n//# sourceMappingURL=TelemetryController.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTFfQHJlYWN0LW5hdGl2ZS1hc3luYy1zdG9yYWdlK2FzeW5jLXN0b3JhZ2VAMi4yLjBfcmVhY3QtX2E4MDMyMTIzODk3ZTA3OTMxMzc0MjMyYzNjYzRlNTM1L25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9UZWxlbWV0cnlDb250cm9sbGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUF1QztBQUN1QjtBQUNGO0FBQ1Y7QUFDUztBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxnQkFBZ0IsMERBQVMsR0FBRyxTQUFTLG9FQUFjLG9DQUFvQztBQUN2RjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMscURBQUs7QUFDbkI7QUFDQSxDQUFDO0FBQ0Q7QUFDTztBQUNQO0FBQ0E7QUFDQSxlQUFlLGtFQUFNO0FBQ3JCLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsaUNBQWlDLEVBQUUsb0VBQWlCO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLDZCQUE2QixvRUFBYztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm9nZ2xyLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0ByZW93bithcHBraXQtY29udHJvbGxlcnNAMS44LjExX0ByZWFjdC1uYXRpdmUtYXN5bmMtc3RvcmFnZSthc3luYy1zdG9yYWdlQDIuMi4wX3JlYWN0LV9hODAzMjEyMzg5N2UwNzkzMTM3NDIzMmMzY2M0ZTUzNS9ub2RlX21vZHVsZXMvQHJlb3duL2FwcGtpdC1jb250cm9sbGVycy9kaXN0L2VzbS9zcmMvY29udHJvbGxlcnMvVGVsZW1ldHJ5Q29udHJvbGxlci5qcz9iOTE0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHByb3h5IH0gZnJvbSAndmFsdGlvL3ZhbmlsbGEnO1xuaW1wb3J0IHsgc3Vic2NyaWJlS2V5IGFzIHN1YktleSB9IGZyb20gJ3ZhbHRpby92YW5pbGxhL3V0aWxzJztcbmltcG9ydCB7IENvcmVIZWxwZXJVdGlsIH0gZnJvbSAnLi4vdXRpbHMvQ29yZUhlbHBlclV0aWwuanMnO1xuaW1wb3J0IHsgRmV0Y2hVdGlsIH0gZnJvbSAnLi4vdXRpbHMvRmV0Y2hVdGlsLmpzJztcbmltcG9ydCB7IE9wdGlvbnNDb250cm9sbGVyIH0gZnJvbSAnLi9PcHRpb25zQ29udHJvbGxlci5qcyc7XG4vLyAtLSBDb25zdGFudHMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbmNvbnN0IERFRkFVTFRfU1RBVEUgPSBPYmplY3QuZnJlZXplKHtcbiAgICBlbmFibGVkOiB0cnVlLFxuICAgIGV2ZW50czogW11cbn0pO1xuY29uc3QgYXBpID0gbmV3IEZldGNoVXRpbCh7IGJhc2VVcmw6IENvcmVIZWxwZXJVdGlsLmdldEFuYWx5dGljc1VybCgpLCBjbGllbnRJZDogbnVsbCB9KTtcbi8vIFJhdGUgbGltaXRpbmcgY29uc3RhbnRzXG5jb25zdCBNQVhfRVJST1JTX1BFUl9NSU5VVEUgPSA1O1xuY29uc3QgT05FX01JTlVURV9NUyA9IDYwICogMTAwMDtcbi8vIC0tIFN0YXRlIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuY29uc3Qgc3RhdGUgPSBwcm94eSh7XG4gICAgLi4uREVGQVVMVF9TVEFURVxufSk7XG4vLyAtLSBDb250cm9sbGVyIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbmV4cG9ydCBjb25zdCBUZWxlbWV0cnlDb250cm9sbGVyID0ge1xuICAgIHN0YXRlLFxuICAgIHN1YnNjcmliZUtleShrZXksIGNhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybiBzdWJLZXkoc3RhdGUsIGtleSwgY2FsbGJhY2spO1xuICAgIH0sXG4gICAgYXN5bmMgc2VuZEVycm9yKGVycm9yLCBjYXRlZ29yeSkge1xuICAgICAgICBpZiAoIXN0YXRlLmVuYWJsZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBDaGVjayByYXRlIGxpbWl0aW5nIHVzaW5nIGV2ZW50cyBhcnJheVxuICAgICAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuICAgICAgICBjb25zdCByZWNlbnRFcnJvcnMgPSBzdGF0ZS5ldmVudHMuZmlsdGVyKGV2ZW50ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGV2ZW50VGltZSA9IG5ldyBEYXRlKGV2ZW50LnByb3BlcnRpZXMudGltZXN0YW1wIHx8ICcnKS5nZXRUaW1lKCk7XG4gICAgICAgICAgICByZXR1cm4gbm93IC0gZXZlbnRUaW1lIDwgT05FX01JTlVURV9NUztcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChyZWNlbnRFcnJvcnMubGVuZ3RoID49IE1BWF9FUlJPUlNfUEVSX01JTlVURSkge1xuICAgICAgICAgICAgLy8gRXhpdCBzaWxlbnRseVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGVycm9yRXZlbnQgPSB7XG4gICAgICAgICAgICB0eXBlOiAnZXJyb3InLFxuICAgICAgICAgICAgZXZlbnQ6IGNhdGVnb3J5LFxuICAgICAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgICAgICAgIGVycm9yVHlwZTogZXJyb3IubmFtZSxcbiAgICAgICAgICAgICAgICBlcnJvck1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgc3RhY2tUcmFjZTogZXJyb3Iuc3RhY2ssXG4gICAgICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgc3RhdGUuZXZlbnRzLnB1c2goZXJyb3JFdmVudCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB7IHByb2plY3RJZCwgc2RrVHlwZSwgc2RrVmVyc2lvbiB9ID0gT3B0aW9uc0NvbnRyb2xsZXIuc3RhdGU7XG4gICAgICAgICAgICBhd2FpdCBhcGkucG9zdCh7XG4gICAgICAgICAgICAgICAgcGF0aDogJy9lJyxcbiAgICAgICAgICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICAgICAgICAgICAgcHJvamVjdElkLFxuICAgICAgICAgICAgICAgICAgICBzdDogc2RrVHlwZSxcbiAgICAgICAgICAgICAgICAgICAgc3Y6IHNka1ZlcnNpb24gfHwgJ2h0bWwtd2FnbWktNC4yLjInXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBib2R5OiB7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50SWQ6IENvcmVIZWxwZXJVdGlsLmdldFVVSUQoKSxcbiAgICAgICAgICAgICAgICAgICAgdXJsOiB3aW5kb3cubG9jYXRpb24uaHJlZixcbiAgICAgICAgICAgICAgICAgICAgZG9tYWluOiB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUsXG4gICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICBwcm9wczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2Vycm9yJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50OiBjYXRlZ29yeSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yVHlwZTogZXJyb3IubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZTogZXJyb3IubWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YWNrVHJhY2U6IGVycm9yLnN0YWNrXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICAvLyBEbyBub3RoaW5nXG4gICAgICAgIH1cbiAgICB9LFxuICAgIGVuYWJsZSgpIHtcbiAgICAgICAgc3RhdGUuZW5hYmxlZCA9IHRydWU7XG4gICAgfSxcbiAgICBkaXNhYmxlKCkge1xuICAgICAgICBzdGF0ZS5lbmFibGVkID0gZmFsc2U7XG4gICAgfSxcbiAgICBjbGVhckV2ZW50cygpIHtcbiAgICAgICAgc3RhdGUuZXZlbnRzID0gW107XG4gICAgfVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRlbGVtZXRyeUNvbnRyb2xsZXIuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/TelemetryController.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ThemeController.js":
/*!****************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ThemeController.js ***!
  \****************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ThemeController: () => (/* binding */ ThemeController)\n/* harmony export */ });\n/* harmony import */ var valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! valtio/vanilla */ \"(ssr)/./node_modules/.pnpm/valtio@2.1.7_@types+react@18.3.26_react@18.3.1/node_modules/valtio/esm/vanilla.mjs\");\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @reown/appkit-common */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-common@1.8.11_bufferutil@4.0.9_typescript@5.9.3_utf-8-validate@5.0.10_zod@4.1.12/node_modules/@reown/appkit-common/dist/esm/src/utils/ThemeUtil.js\");\n/* harmony import */ var _utils_withErrorBoundary_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/withErrorBoundary.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/withErrorBoundary.js\");\n/* harmony import */ var _ConnectorController_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ConnectorController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectorController.js\");\n\n\n\n\n// -- State --------------------------------------------- //\nconst state = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.proxy)({\n    themeMode: 'dark',\n    themeVariables: {},\n    w3mThemeVariables: undefined\n});\n// -- Controller ---------------------------------------- //\nconst controller = {\n    state,\n    subscribe(callback) {\n        return (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.subscribe)(state, () => callback(state));\n    },\n    setThemeMode(themeMode) {\n        state.themeMode = themeMode;\n        try {\n            const authConnector = _ConnectorController_js__WEBPACK_IMPORTED_MODULE_1__.ConnectorController.getAuthConnector();\n            if (authConnector) {\n                const themeVariables = controller.getSnapshot().themeVariables;\n                authConnector.provider.syncTheme({\n                    themeMode,\n                    themeVariables,\n                    w3mThemeVariables: (0,_reown_appkit_common__WEBPACK_IMPORTED_MODULE_2__.getW3mThemeVariables)(themeVariables, themeMode)\n                });\n            }\n        }\n        catch {\n            // eslint-disable-next-line no-console\n            console.info('Unable to sync theme to auth connector');\n        }\n    },\n    setThemeVariables(themeVariables) {\n        state.themeVariables = { ...state.themeVariables, ...themeVariables };\n        try {\n            const authConnector = _ConnectorController_js__WEBPACK_IMPORTED_MODULE_1__.ConnectorController.getAuthConnector();\n            if (authConnector) {\n                const themeVariablesSnapshot = controller.getSnapshot().themeVariables;\n                authConnector.provider.syncTheme({\n                    themeVariables: themeVariablesSnapshot,\n                    w3mThemeVariables: (0,_reown_appkit_common__WEBPACK_IMPORTED_MODULE_2__.getW3mThemeVariables)(state.themeVariables, state.themeMode)\n                });\n            }\n        }\n        catch {\n            // eslint-disable-next-line no-console\n            console.info('Unable to sync theme to auth connector');\n        }\n    },\n    getSnapshot() {\n        return (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.snapshot)(state);\n    }\n};\n// Export the controller wrapped with our error boundary\nconst ThemeController = (0,_utils_withErrorBoundary_js__WEBPACK_IMPORTED_MODULE_3__.withErrorBoundary)(controller);\n//# sourceMappingURL=ThemeController.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTFfQHJlYWN0LW5hdGl2ZS1hc3luYy1zdG9yYWdlK2FzeW5jLXN0b3JhZ2VAMi4yLjBfcmVhY3QtX2E4MDMyMTIzODk3ZTA3OTMxMzc0MjMyYzNjYzRlNTM1L25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9UaGVtZUNvbnRyb2xsZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBbUU7QUFDUDtBQUNNO0FBQ0g7QUFDL0Q7QUFDQSxjQUFjLHFEQUFLO0FBQ25CO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSx5REFBRztBQUNsQixLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLHdFQUFtQjtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLDBFQUFvQjtBQUMzRCxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0Esa0NBQWtDLHdFQUFtQjtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QywwRUFBb0I7QUFDM0QsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLGVBQWUsd0RBQVE7QUFDdkI7QUFDQTtBQUNBO0FBQ08sd0JBQXdCLDhFQUFpQjtBQUNoRCIsInNvdXJjZXMiOlsid2VicGFjazovL25vZ2dsci8uL25vZGVfbW9kdWxlcy8ucG5wbS9AcmVvd24rYXBwa2l0LWNvbnRyb2xsZXJzQDEuOC4xMV9AcmVhY3QtbmF0aXZlLWFzeW5jLXN0b3JhZ2UrYXN5bmMtc3RvcmFnZUAyLjIuMF9yZWFjdC1fYTgwMzIxMjM4OTdlMDc5MzEzNzQyMzJjM2NjNGU1MzUvbm9kZV9tb2R1bGVzL0ByZW93bi9hcHBraXQtY29udHJvbGxlcnMvZGlzdC9lc20vc3JjL2NvbnRyb2xsZXJzL1RoZW1lQ29udHJvbGxlci5qcz9hZTI1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHByb3h5LCBzbmFwc2hvdCwgc3Vic2NyaWJlIGFzIHN1YiB9IGZyb20gJ3ZhbHRpby92YW5pbGxhJztcbmltcG9ydCB7IGdldFczbVRoZW1lVmFyaWFibGVzIH0gZnJvbSAnQHJlb3duL2FwcGtpdC1jb21tb24nO1xuaW1wb3J0IHsgd2l0aEVycm9yQm91bmRhcnkgfSBmcm9tICcuLi91dGlscy93aXRoRXJyb3JCb3VuZGFyeS5qcyc7XG5pbXBvcnQgeyBDb25uZWN0b3JDb250cm9sbGVyIH0gZnJvbSAnLi9Db25uZWN0b3JDb250cm9sbGVyLmpzJztcbi8vIC0tIFN0YXRlIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuY29uc3Qgc3RhdGUgPSBwcm94eSh7XG4gICAgdGhlbWVNb2RlOiAnZGFyaycsXG4gICAgdGhlbWVWYXJpYWJsZXM6IHt9LFxuICAgIHczbVRoZW1lVmFyaWFibGVzOiB1bmRlZmluZWRcbn0pO1xuLy8gLS0gQ29udHJvbGxlciAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5jb25zdCBjb250cm9sbGVyID0ge1xuICAgIHN0YXRlLFxuICAgIHN1YnNjcmliZShjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gc3ViKHN0YXRlLCAoKSA9PiBjYWxsYmFjayhzdGF0ZSkpO1xuICAgIH0sXG4gICAgc2V0VGhlbWVNb2RlKHRoZW1lTW9kZSkge1xuICAgICAgICBzdGF0ZS50aGVtZU1vZGUgPSB0aGVtZU1vZGU7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBhdXRoQ29ubmVjdG9yID0gQ29ubmVjdG9yQ29udHJvbGxlci5nZXRBdXRoQ29ubmVjdG9yKCk7XG4gICAgICAgICAgICBpZiAoYXV0aENvbm5lY3Rvcikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRoZW1lVmFyaWFibGVzID0gY29udHJvbGxlci5nZXRTbmFwc2hvdCgpLnRoZW1lVmFyaWFibGVzO1xuICAgICAgICAgICAgICAgIGF1dGhDb25uZWN0b3IucHJvdmlkZXIuc3luY1RoZW1lKHtcbiAgICAgICAgICAgICAgICAgICAgdGhlbWVNb2RlLFxuICAgICAgICAgICAgICAgICAgICB0aGVtZVZhcmlhYmxlcyxcbiAgICAgICAgICAgICAgICAgICAgdzNtVGhlbWVWYXJpYWJsZXM6IGdldFczbVRoZW1lVmFyaWFibGVzKHRoZW1lVmFyaWFibGVzLCB0aGVtZU1vZGUpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnVW5hYmxlIHRvIHN5bmMgdGhlbWUgdG8gYXV0aCBjb25uZWN0b3InKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgc2V0VGhlbWVWYXJpYWJsZXModGhlbWVWYXJpYWJsZXMpIHtcbiAgICAgICAgc3RhdGUudGhlbWVWYXJpYWJsZXMgPSB7IC4uLnN0YXRlLnRoZW1lVmFyaWFibGVzLCAuLi50aGVtZVZhcmlhYmxlcyB9O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgYXV0aENvbm5lY3RvciA9IENvbm5lY3RvckNvbnRyb2xsZXIuZ2V0QXV0aENvbm5lY3RvcigpO1xuICAgICAgICAgICAgaWYgKGF1dGhDb25uZWN0b3IpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0aGVtZVZhcmlhYmxlc1NuYXBzaG90ID0gY29udHJvbGxlci5nZXRTbmFwc2hvdCgpLnRoZW1lVmFyaWFibGVzO1xuICAgICAgICAgICAgICAgIGF1dGhDb25uZWN0b3IucHJvdmlkZXIuc3luY1RoZW1lKHtcbiAgICAgICAgICAgICAgICAgICAgdGhlbWVWYXJpYWJsZXM6IHRoZW1lVmFyaWFibGVzU25hcHNob3QsXG4gICAgICAgICAgICAgICAgICAgIHczbVRoZW1lVmFyaWFibGVzOiBnZXRXM21UaGVtZVZhcmlhYmxlcyhzdGF0ZS50aGVtZVZhcmlhYmxlcywgc3RhdGUudGhlbWVNb2RlKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICAgICAgICBjb25zb2xlLmluZm8oJ1VuYWJsZSB0byBzeW5jIHRoZW1lIHRvIGF1dGggY29ubmVjdG9yJyk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGdldFNuYXBzaG90KCkge1xuICAgICAgICByZXR1cm4gc25hcHNob3Qoc3RhdGUpO1xuICAgIH1cbn07XG4vLyBFeHBvcnQgdGhlIGNvbnRyb2xsZXIgd3JhcHBlZCB3aXRoIG91ciBlcnJvciBib3VuZGFyeVxuZXhwb3J0IGNvbnN0IFRoZW1lQ29udHJvbGxlciA9IHdpdGhFcnJvckJvdW5kYXJ5KGNvbnRyb2xsZXIpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGhlbWVDb250cm9sbGVyLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ThemeController.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/TooltipController.js":
/*!******************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/TooltipController.js ***!
  \******************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TooltipController: () => (/* binding */ TooltipController)\n/* harmony export */ });\n/* harmony import */ var valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! valtio/vanilla */ \"(ssr)/./node_modules/.pnpm/valtio@2.1.7_@types+react@18.3.26_react@18.3.1/node_modules/valtio/esm/vanilla.mjs\");\n/* harmony import */ var valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! valtio/vanilla/utils */ \"(ssr)/./node_modules/.pnpm/valtio@2.1.7_@types+react@18.3.26_react@18.3.1/node_modules/valtio/esm/vanilla/utils.mjs\");\n/* harmony import */ var _utils_withErrorBoundary_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/withErrorBoundary.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/withErrorBoundary.js\");\n\n\n\n// -- State --------------------------------------------- //\nconst state = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.proxy)({\n    message: '',\n    open: false,\n    triggerRect: {\n        width: 0,\n        height: 0,\n        top: 0,\n        left: 0\n    },\n    variant: 'shade'\n});\n// -- Controller ---------------------------------------- //\nconst controller = {\n    state,\n    subscribe(callback) {\n        return (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.subscribe)(state, () => callback(state));\n    },\n    subscribeKey(key, callback) {\n        return (0,valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_1__.subscribeKey)(state, key, callback);\n    },\n    showTooltip({ message, triggerRect, variant }) {\n        state.open = true;\n        state.message = message;\n        state.triggerRect = triggerRect;\n        state.variant = variant;\n    },\n    hide() {\n        state.open = false;\n        state.message = '';\n        state.triggerRect = {\n            width: 0,\n            height: 0,\n            top: 0,\n            left: 0\n        };\n    }\n};\n// Export the controller wrapped with our error boundary\nconst TooltipController = (0,_utils_withErrorBoundary_js__WEBPACK_IMPORTED_MODULE_2__.withErrorBoundary)(controller);\n//# sourceMappingURL=TooltipController.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTFfQHJlYWN0LW5hdGl2ZS1hc3luYy1zdG9yYWdlK2FzeW5jLXN0b3JhZ2VAMi4yLjBfcmVhY3QtX2E4MDMyMTIzODk3ZTA3OTMxMzc0MjMyYzNjYzRlNTM1L25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9Ub29sdGlwQ29udHJvbGxlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQXlEO0FBQ0s7QUFDSTtBQUNsRTtBQUNBLGNBQWMscURBQUs7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLHlEQUFHO0FBQ2xCLEtBQUs7QUFDTDtBQUNBLGVBQWUsa0VBQU07QUFDckIsS0FBSztBQUNMLGtCQUFrQiwrQkFBK0I7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08sMEJBQTBCLDhFQUFpQjtBQUNsRCIsInNvdXJjZXMiOlsid2VicGFjazovL25vZ2dsci8uL25vZGVfbW9kdWxlcy8ucG5wbS9AcmVvd24rYXBwa2l0LWNvbnRyb2xsZXJzQDEuOC4xMV9AcmVhY3QtbmF0aXZlLWFzeW5jLXN0b3JhZ2UrYXN5bmMtc3RvcmFnZUAyLjIuMF9yZWFjdC1fYTgwMzIxMjM4OTdlMDc5MzEzNzQyMzJjM2NjNGU1MzUvbm9kZV9tb2R1bGVzL0ByZW93bi9hcHBraXQtY29udHJvbGxlcnMvZGlzdC9lc20vc3JjL2NvbnRyb2xsZXJzL1Rvb2x0aXBDb250cm9sbGVyLmpzP2MxMDciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcHJveHksIHN1YnNjcmliZSBhcyBzdWIgfSBmcm9tICd2YWx0aW8vdmFuaWxsYSc7XG5pbXBvcnQgeyBzdWJzY3JpYmVLZXkgYXMgc3ViS2V5IH0gZnJvbSAndmFsdGlvL3ZhbmlsbGEvdXRpbHMnO1xuaW1wb3J0IHsgd2l0aEVycm9yQm91bmRhcnkgfSBmcm9tICcuLi91dGlscy93aXRoRXJyb3JCb3VuZGFyeS5qcyc7XG4vLyAtLSBTdGF0ZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbmNvbnN0IHN0YXRlID0gcHJveHkoe1xuICAgIG1lc3NhZ2U6ICcnLFxuICAgIG9wZW46IGZhbHNlLFxuICAgIHRyaWdnZXJSZWN0OiB7XG4gICAgICAgIHdpZHRoOiAwLFxuICAgICAgICBoZWlnaHQ6IDAsXG4gICAgICAgIHRvcDogMCxcbiAgICAgICAgbGVmdDogMFxuICAgIH0sXG4gICAgdmFyaWFudDogJ3NoYWRlJ1xufSk7XG4vLyAtLSBDb250cm9sbGVyIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbmNvbnN0IGNvbnRyb2xsZXIgPSB7XG4gICAgc3RhdGUsXG4gICAgc3Vic2NyaWJlKGNhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybiBzdWIoc3RhdGUsICgpID0+IGNhbGxiYWNrKHN0YXRlKSk7XG4gICAgfSxcbiAgICBzdWJzY3JpYmVLZXkoa2V5LCBjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gc3ViS2V5KHN0YXRlLCBrZXksIGNhbGxiYWNrKTtcbiAgICB9LFxuICAgIHNob3dUb29sdGlwKHsgbWVzc2FnZSwgdHJpZ2dlclJlY3QsIHZhcmlhbnQgfSkge1xuICAgICAgICBzdGF0ZS5vcGVuID0gdHJ1ZTtcbiAgICAgICAgc3RhdGUubWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgICAgIHN0YXRlLnRyaWdnZXJSZWN0ID0gdHJpZ2dlclJlY3Q7XG4gICAgICAgIHN0YXRlLnZhcmlhbnQgPSB2YXJpYW50O1xuICAgIH0sXG4gICAgaGlkZSgpIHtcbiAgICAgICAgc3RhdGUub3BlbiA9IGZhbHNlO1xuICAgICAgICBzdGF0ZS5tZXNzYWdlID0gJyc7XG4gICAgICAgIHN0YXRlLnRyaWdnZXJSZWN0ID0ge1xuICAgICAgICAgICAgd2lkdGg6IDAsXG4gICAgICAgICAgICBoZWlnaHQ6IDAsXG4gICAgICAgICAgICB0b3A6IDAsXG4gICAgICAgICAgICBsZWZ0OiAwXG4gICAgICAgIH07XG4gICAgfVxufTtcbi8vIEV4cG9ydCB0aGUgY29udHJvbGxlciB3cmFwcGVkIHdpdGggb3VyIGVycm9yIGJvdW5kYXJ5XG5leHBvcnQgY29uc3QgVG9vbHRpcENvbnRyb2xsZXIgPSB3aXRoRXJyb3JCb3VuZGFyeShjb250cm9sbGVyKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRvb2x0aXBDb250cm9sbGVyLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/TooltipController.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/TransactionsController.js":
/*!***********************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/TransactionsController.js ***!
  \***********************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TransactionsController: () => (/* binding */ TransactionsController)\n/* harmony export */ });\n/* harmony import */ var valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! valtio/vanilla */ \"(ssr)/./node_modules/.pnpm/valtio@2.1.7_@types+react@18.3.26_react@18.3.1/node_modules/valtio/esm/vanilla.mjs\");\n/* harmony import */ var _reown_appkit_wallet_utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @reown/appkit-wallet/utils */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-wallet@1.8.11_bufferutil@4.0.9_typescript@5.9.3_utf-8-validate@5.0.10/node_modules/@reown/appkit-wallet/dist/esm/src/W3mFrameConstants.js\");\n/* harmony import */ var _utils_ChainControllerUtil_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/ChainControllerUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ChainControllerUtil.js\");\n/* harmony import */ var _utils_withErrorBoundary_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../utils/withErrorBoundary.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/withErrorBoundary.js\");\n/* harmony import */ var _BlockchainApiController_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./BlockchainApiController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/BlockchainApiController.js\");\n/* harmony import */ var _ChainController_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ChainController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ChainController.js\");\n/* harmony import */ var _EventsController_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./EventsController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/EventsController.js\");\n/* harmony import */ var _OptionsController_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./OptionsController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/OptionsController.js\");\n/* harmony import */ var _SnackController_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./SnackController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/SnackController.js\");\n\n\n\n\n\n\n\n\n\n// -- State --------------------------------------------- //\nconst state = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.proxy)({\n    transactions: [],\n    transactionsByYear: {},\n    lastNetworkInView: undefined,\n    loading: false,\n    empty: false,\n    next: undefined\n});\n// -- Controller ---------------------------------------- //\nconst controller = {\n    state,\n    subscribe(callback) {\n        return (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.subscribe)(state, () => callback(state));\n    },\n    setLastNetworkInView(lastNetworkInView) {\n        state.lastNetworkInView = lastNetworkInView;\n    },\n    async fetchTransactions(accountAddress) {\n        if (!accountAddress) {\n            throw new Error(\"Transactions can't be fetched without an accountAddress\");\n        }\n        state.loading = true;\n        try {\n            const response = await _BlockchainApiController_js__WEBPACK_IMPORTED_MODULE_1__.BlockchainApiController.fetchTransactions({\n                account: accountAddress,\n                cursor: state.next,\n                chainId: _ChainController_js__WEBPACK_IMPORTED_MODULE_2__.ChainController.state.activeCaipNetwork?.caipNetworkId\n            });\n            const nonSpamTransactions = TransactionsController.filterSpamTransactions(response.data);\n            const sameChainTransactions = TransactionsController.filterByConnectedChain(nonSpamTransactions);\n            const filteredTransactions = [...state.transactions, ...sameChainTransactions];\n            state.loading = false;\n            state.transactions = filteredTransactions;\n            state.transactionsByYear = TransactionsController.groupTransactionsByYearAndMonth(state.transactionsByYear, sameChainTransactions);\n            state.empty = filteredTransactions.length === 0;\n            state.next = response.next ? response.next : undefined;\n        }\n        catch (error) {\n            const activeChainNamespace = _ChainController_js__WEBPACK_IMPORTED_MODULE_2__.ChainController.state.activeChain;\n            _EventsController_js__WEBPACK_IMPORTED_MODULE_3__.EventsController.sendEvent({\n                type: 'track',\n                event: 'ERROR_FETCH_TRANSACTIONS',\n                properties: {\n                    address: accountAddress,\n                    projectId: _OptionsController_js__WEBPACK_IMPORTED_MODULE_4__.OptionsController.state.projectId,\n                    cursor: state.next,\n                    isSmartAccount: (0,_utils_ChainControllerUtil_js__WEBPACK_IMPORTED_MODULE_5__.getPreferredAccountType)(activeChainNamespace) ===\n                        _reown_appkit_wallet_utils__WEBPACK_IMPORTED_MODULE_6__.W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT\n                }\n            });\n            _SnackController_js__WEBPACK_IMPORTED_MODULE_7__.SnackController.showError('Failed to fetch transactions');\n            state.loading = false;\n            state.empty = true;\n            state.next = undefined;\n        }\n    },\n    groupTransactionsByYearAndMonth(transactionsMap = {}, transactions = []) {\n        const grouped = transactionsMap;\n        transactions.forEach(transaction => {\n            const year = new Date(transaction.metadata.minedAt).getFullYear();\n            const month = new Date(transaction.metadata.minedAt).getMonth();\n            const yearTransactions = grouped[year] ?? {};\n            const monthTransactions = yearTransactions[month] ?? [];\n            // If there's a transaction with the same id, remove the old one\n            const newMonthTransactions = monthTransactions.filter(tx => tx.id !== transaction.id);\n            grouped[year] = {\n                ...yearTransactions,\n                [month]: [...newMonthTransactions, transaction].sort((a, b) => new Date(b.metadata.minedAt).getTime() - new Date(a.metadata.minedAt).getTime())\n            };\n        });\n        return grouped;\n    },\n    filterSpamTransactions(transactions) {\n        return transactions.filter(transaction => {\n            const isAllSpam = transaction.transfers.every(transfer => transfer.nft_info?.flags.is_spam === true);\n            return !isAllSpam;\n        });\n    },\n    filterByConnectedChain(transactions) {\n        const chainId = _ChainController_js__WEBPACK_IMPORTED_MODULE_2__.ChainController.state.activeCaipNetwork?.caipNetworkId;\n        const filteredTransactions = transactions.filter(transaction => transaction.metadata.chain === chainId);\n        return filteredTransactions;\n    },\n    clearCursor() {\n        state.next = undefined;\n    },\n    resetTransactions() {\n        state.transactions = [];\n        state.transactionsByYear = {};\n        state.lastNetworkInView = undefined;\n        state.loading = false;\n        state.empty = false;\n        state.next = undefined;\n    }\n};\n// Export the controller wrapped with our error boundary\nconst TransactionsController = (0,_utils_withErrorBoundary_js__WEBPACK_IMPORTED_MODULE_8__.withErrorBoundary)(controller, 'API_ERROR');\n//# sourceMappingURL=TransactionsController.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTFfQHJlYWN0LW5hdGl2ZS1hc3luYy1zdG9yYWdlK2FzeW5jLXN0b3JhZ2VAMi4yLjBfcmVhY3QtX2E4MDMyMTIzODk3ZTA3OTMxMzc0MjMyYzNjYzRlNTM1L25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9UcmFuc2FjdGlvbnNDb250cm9sbGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBeUQ7QUFDUztBQUNRO0FBQ1I7QUFDSztBQUNoQjtBQUNFO0FBQ0U7QUFDSjtBQUN2RDtBQUNBLGNBQWMscURBQUs7QUFDbkI7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLHlEQUFHO0FBQ2xCLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxnRkFBdUI7QUFDMUQ7QUFDQTtBQUNBLHlCQUF5QixnRUFBZTtBQUN4QyxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMsZ0VBQWU7QUFDeEQsWUFBWSxrRUFBZ0I7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0Isb0VBQWlCO0FBQ2hEO0FBQ0Esb0NBQW9DLHNGQUF1QjtBQUMzRCx3QkFBd0IsNEVBQW9CO0FBQzVDO0FBQ0EsYUFBYTtBQUNiLFlBQVksZ0VBQWU7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsd0RBQXdEO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQSx3QkFBd0IsZ0VBQWU7QUFDdkM7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08sK0JBQStCLDhFQUFpQjtBQUN2RCIsInNvdXJjZXMiOlsid2VicGFjazovL25vZ2dsci8uL25vZGVfbW9kdWxlcy8ucG5wbS9AcmVvd24rYXBwa2l0LWNvbnRyb2xsZXJzQDEuOC4xMV9AcmVhY3QtbmF0aXZlLWFzeW5jLXN0b3JhZ2UrYXN5bmMtc3RvcmFnZUAyLjIuMF9yZWFjdC1fYTgwMzIxMjM4OTdlMDc5MzEzNzQyMzJjM2NjNGU1MzUvbm9kZV9tb2R1bGVzL0ByZW93bi9hcHBraXQtY29udHJvbGxlcnMvZGlzdC9lc20vc3JjL2NvbnRyb2xsZXJzL1RyYW5zYWN0aW9uc0NvbnRyb2xsZXIuanM/NDFkYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwcm94eSwgc3Vic2NyaWJlIGFzIHN1YiB9IGZyb20gJ3ZhbHRpby92YW5pbGxhJztcbmltcG9ydCB7IFczbUZyYW1lUnBjQ29uc3RhbnRzIH0gZnJvbSAnQHJlb3duL2FwcGtpdC13YWxsZXQvdXRpbHMnO1xuaW1wb3J0IHsgZ2V0UHJlZmVycmVkQWNjb3VudFR5cGUgfSBmcm9tICcuLi91dGlscy9DaGFpbkNvbnRyb2xsZXJVdGlsLmpzJztcbmltcG9ydCB7IHdpdGhFcnJvckJvdW5kYXJ5IH0gZnJvbSAnLi4vdXRpbHMvd2l0aEVycm9yQm91bmRhcnkuanMnO1xuaW1wb3J0IHsgQmxvY2tjaGFpbkFwaUNvbnRyb2xsZXIgfSBmcm9tICcuL0Jsb2NrY2hhaW5BcGlDb250cm9sbGVyLmpzJztcbmltcG9ydCB7IENoYWluQ29udHJvbGxlciB9IGZyb20gJy4vQ2hhaW5Db250cm9sbGVyLmpzJztcbmltcG9ydCB7IEV2ZW50c0NvbnRyb2xsZXIgfSBmcm9tICcuL0V2ZW50c0NvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgT3B0aW9uc0NvbnRyb2xsZXIgfSBmcm9tICcuL09wdGlvbnNDb250cm9sbGVyLmpzJztcbmltcG9ydCB7IFNuYWNrQ29udHJvbGxlciB9IGZyb20gJy4vU25hY2tDb250cm9sbGVyLmpzJztcbi8vIC0tIFN0YXRlIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuY29uc3Qgc3RhdGUgPSBwcm94eSh7XG4gICAgdHJhbnNhY3Rpb25zOiBbXSxcbiAgICB0cmFuc2FjdGlvbnNCeVllYXI6IHt9LFxuICAgIGxhc3ROZXR3b3JrSW5WaWV3OiB1bmRlZmluZWQsXG4gICAgbG9hZGluZzogZmFsc2UsXG4gICAgZW1wdHk6IGZhbHNlLFxuICAgIG5leHQ6IHVuZGVmaW5lZFxufSk7XG4vLyAtLSBDb250cm9sbGVyIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbmNvbnN0IGNvbnRyb2xsZXIgPSB7XG4gICAgc3RhdGUsXG4gICAgc3Vic2NyaWJlKGNhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybiBzdWIoc3RhdGUsICgpID0+IGNhbGxiYWNrKHN0YXRlKSk7XG4gICAgfSxcbiAgICBzZXRMYXN0TmV0d29ya0luVmlldyhsYXN0TmV0d29ya0luVmlldykge1xuICAgICAgICBzdGF0ZS5sYXN0TmV0d29ya0luVmlldyA9IGxhc3ROZXR3b3JrSW5WaWV3O1xuICAgIH0sXG4gICAgYXN5bmMgZmV0Y2hUcmFuc2FjdGlvbnMoYWNjb3VudEFkZHJlc3MpIHtcbiAgICAgICAgaWYgKCFhY2NvdW50QWRkcmVzcykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVHJhbnNhY3Rpb25zIGNhbid0IGJlIGZldGNoZWQgd2l0aG91dCBhbiBhY2NvdW50QWRkcmVzc1wiKTtcbiAgICAgICAgfVxuICAgICAgICBzdGF0ZS5sb2FkaW5nID0gdHJ1ZTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgQmxvY2tjaGFpbkFwaUNvbnRyb2xsZXIuZmV0Y2hUcmFuc2FjdGlvbnMoe1xuICAgICAgICAgICAgICAgIGFjY291bnQ6IGFjY291bnRBZGRyZXNzLFxuICAgICAgICAgICAgICAgIGN1cnNvcjogc3RhdGUubmV4dCxcbiAgICAgICAgICAgICAgICBjaGFpbklkOiBDaGFpbkNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ2FpcE5ldHdvcms/LmNhaXBOZXR3b3JrSWRcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3Qgbm9uU3BhbVRyYW5zYWN0aW9ucyA9IFRyYW5zYWN0aW9uc0NvbnRyb2xsZXIuZmlsdGVyU3BhbVRyYW5zYWN0aW9ucyhyZXNwb25zZS5kYXRhKTtcbiAgICAgICAgICAgIGNvbnN0IHNhbWVDaGFpblRyYW5zYWN0aW9ucyA9IFRyYW5zYWN0aW9uc0NvbnRyb2xsZXIuZmlsdGVyQnlDb25uZWN0ZWRDaGFpbihub25TcGFtVHJhbnNhY3Rpb25zKTtcbiAgICAgICAgICAgIGNvbnN0IGZpbHRlcmVkVHJhbnNhY3Rpb25zID0gWy4uLnN0YXRlLnRyYW5zYWN0aW9ucywgLi4uc2FtZUNoYWluVHJhbnNhY3Rpb25zXTtcbiAgICAgICAgICAgIHN0YXRlLmxvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHN0YXRlLnRyYW5zYWN0aW9ucyA9IGZpbHRlcmVkVHJhbnNhY3Rpb25zO1xuICAgICAgICAgICAgc3RhdGUudHJhbnNhY3Rpb25zQnlZZWFyID0gVHJhbnNhY3Rpb25zQ29udHJvbGxlci5ncm91cFRyYW5zYWN0aW9uc0J5WWVhckFuZE1vbnRoKHN0YXRlLnRyYW5zYWN0aW9uc0J5WWVhciwgc2FtZUNoYWluVHJhbnNhY3Rpb25zKTtcbiAgICAgICAgICAgIHN0YXRlLmVtcHR5ID0gZmlsdGVyZWRUcmFuc2FjdGlvbnMubGVuZ3RoID09PSAwO1xuICAgICAgICAgICAgc3RhdGUubmV4dCA9IHJlc3BvbnNlLm5leHQgPyByZXNwb25zZS5uZXh0IDogdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc3QgYWN0aXZlQ2hhaW5OYW1lc3BhY2UgPSBDaGFpbkNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ2hhaW47XG4gICAgICAgICAgICBFdmVudHNDb250cm9sbGVyLnNlbmRFdmVudCh7XG4gICAgICAgICAgICAgICAgdHlwZTogJ3RyYWNrJyxcbiAgICAgICAgICAgICAgICBldmVudDogJ0VSUk9SX0ZFVENIX1RSQU5TQUNUSU9OUycsXG4gICAgICAgICAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgICAgICAgICAgICBhZGRyZXNzOiBhY2NvdW50QWRkcmVzcyxcbiAgICAgICAgICAgICAgICAgICAgcHJvamVjdElkOiBPcHRpb25zQ29udHJvbGxlci5zdGF0ZS5wcm9qZWN0SWQsXG4gICAgICAgICAgICAgICAgICAgIGN1cnNvcjogc3RhdGUubmV4dCxcbiAgICAgICAgICAgICAgICAgICAgaXNTbWFydEFjY291bnQ6IGdldFByZWZlcnJlZEFjY291bnRUeXBlKGFjdGl2ZUNoYWluTmFtZXNwYWNlKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgIFczbUZyYW1lUnBjQ29uc3RhbnRzLkFDQ09VTlRfVFlQRVMuU01BUlRfQUNDT1VOVFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgU25hY2tDb250cm9sbGVyLnNob3dFcnJvcignRmFpbGVkIHRvIGZldGNoIHRyYW5zYWN0aW9ucycpO1xuICAgICAgICAgICAgc3RhdGUubG9hZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgc3RhdGUuZW1wdHkgPSB0cnVlO1xuICAgICAgICAgICAgc3RhdGUubmV4dCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgZ3JvdXBUcmFuc2FjdGlvbnNCeVllYXJBbmRNb250aCh0cmFuc2FjdGlvbnNNYXAgPSB7fSwgdHJhbnNhY3Rpb25zID0gW10pIHtcbiAgICAgICAgY29uc3QgZ3JvdXBlZCA9IHRyYW5zYWN0aW9uc01hcDtcbiAgICAgICAgdHJhbnNhY3Rpb25zLmZvckVhY2godHJhbnNhY3Rpb24gPT4ge1xuICAgICAgICAgICAgY29uc3QgeWVhciA9IG5ldyBEYXRlKHRyYW5zYWN0aW9uLm1ldGFkYXRhLm1pbmVkQXQpLmdldEZ1bGxZZWFyKCk7XG4gICAgICAgICAgICBjb25zdCBtb250aCA9IG5ldyBEYXRlKHRyYW5zYWN0aW9uLm1ldGFkYXRhLm1pbmVkQXQpLmdldE1vbnRoKCk7XG4gICAgICAgICAgICBjb25zdCB5ZWFyVHJhbnNhY3Rpb25zID0gZ3JvdXBlZFt5ZWFyXSA/PyB7fTtcbiAgICAgICAgICAgIGNvbnN0IG1vbnRoVHJhbnNhY3Rpb25zID0geWVhclRyYW5zYWN0aW9uc1ttb250aF0gPz8gW107XG4gICAgICAgICAgICAvLyBJZiB0aGVyZSdzIGEgdHJhbnNhY3Rpb24gd2l0aCB0aGUgc2FtZSBpZCwgcmVtb3ZlIHRoZSBvbGQgb25lXG4gICAgICAgICAgICBjb25zdCBuZXdNb250aFRyYW5zYWN0aW9ucyA9IG1vbnRoVHJhbnNhY3Rpb25zLmZpbHRlcih0eCA9PiB0eC5pZCAhPT0gdHJhbnNhY3Rpb24uaWQpO1xuICAgICAgICAgICAgZ3JvdXBlZFt5ZWFyXSA9IHtcbiAgICAgICAgICAgICAgICAuLi55ZWFyVHJhbnNhY3Rpb25zLFxuICAgICAgICAgICAgICAgIFttb250aF06IFsuLi5uZXdNb250aFRyYW5zYWN0aW9ucywgdHJhbnNhY3Rpb25dLnNvcnQoKGEsIGIpID0+IG5ldyBEYXRlKGIubWV0YWRhdGEubWluZWRBdCkuZ2V0VGltZSgpIC0gbmV3IERhdGUoYS5tZXRhZGF0YS5taW5lZEF0KS5nZXRUaW1lKCkpXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGdyb3VwZWQ7XG4gICAgfSxcbiAgICBmaWx0ZXJTcGFtVHJhbnNhY3Rpb25zKHRyYW5zYWN0aW9ucykge1xuICAgICAgICByZXR1cm4gdHJhbnNhY3Rpb25zLmZpbHRlcih0cmFuc2FjdGlvbiA9PiB7XG4gICAgICAgICAgICBjb25zdCBpc0FsbFNwYW0gPSB0cmFuc2FjdGlvbi50cmFuc2ZlcnMuZXZlcnkodHJhbnNmZXIgPT4gdHJhbnNmZXIubmZ0X2luZm8/LmZsYWdzLmlzX3NwYW0gPT09IHRydWUpO1xuICAgICAgICAgICAgcmV0dXJuICFpc0FsbFNwYW07XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgZmlsdGVyQnlDb25uZWN0ZWRDaGFpbih0cmFuc2FjdGlvbnMpIHtcbiAgICAgICAgY29uc3QgY2hhaW5JZCA9IENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDYWlwTmV0d29yaz8uY2FpcE5ldHdvcmtJZDtcbiAgICAgICAgY29uc3QgZmlsdGVyZWRUcmFuc2FjdGlvbnMgPSB0cmFuc2FjdGlvbnMuZmlsdGVyKHRyYW5zYWN0aW9uID0+IHRyYW5zYWN0aW9uLm1ldGFkYXRhLmNoYWluID09PSBjaGFpbklkKTtcbiAgICAgICAgcmV0dXJuIGZpbHRlcmVkVHJhbnNhY3Rpb25zO1xuICAgIH0sXG4gICAgY2xlYXJDdXJzb3IoKSB7XG4gICAgICAgIHN0YXRlLm5leHQgPSB1bmRlZmluZWQ7XG4gICAgfSxcbiAgICByZXNldFRyYW5zYWN0aW9ucygpIHtcbiAgICAgICAgc3RhdGUudHJhbnNhY3Rpb25zID0gW107XG4gICAgICAgIHN0YXRlLnRyYW5zYWN0aW9uc0J5WWVhciA9IHt9O1xuICAgICAgICBzdGF0ZS5sYXN0TmV0d29ya0luVmlldyA9IHVuZGVmaW5lZDtcbiAgICAgICAgc3RhdGUubG9hZGluZyA9IGZhbHNlO1xuICAgICAgICBzdGF0ZS5lbXB0eSA9IGZhbHNlO1xuICAgICAgICBzdGF0ZS5uZXh0ID0gdW5kZWZpbmVkO1xuICAgIH1cbn07XG4vLyBFeHBvcnQgdGhlIGNvbnRyb2xsZXIgd3JhcHBlZCB3aXRoIG91ciBlcnJvciBib3VuZGFyeVxuZXhwb3J0IGNvbnN0IFRyYW5zYWN0aW9uc0NvbnRyb2xsZXIgPSB3aXRoRXJyb3JCb3VuZGFyeShjb250cm9sbGVyLCAnQVBJX0VSUk9SJyk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UcmFuc2FjdGlvbnNDb250cm9sbGVyLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/TransactionsController.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/features/reown-authentication/ReownAuthentication.js":
/*!**************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/features/reown-authentication/ReownAuthentication.js ***!
  \**************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ReownAuthentication: () => (/* binding */ ReownAuthentication)\n/* harmony export */ });\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @reown/appkit-common */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-common@1.8.11_bufferutil@4.0.9_typescript@5.9.3_utf-8-validate@5.0.10_zod@4.1.12/node_modules/@reown/appkit-common/dist/esm/src/utils/SafeLocalStorage.js\");\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @reown/appkit-common */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-common@1.8.11_bufferutil@4.0.9_typescript@5.9.3_utf-8-validate@5.0.10_zod@4.1.12/node_modules/@reown/appkit-common/dist/esm/src/utils/ConstantsUtil.js\");\n/* harmony import */ var _controllers_ApiController_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../controllers/ApiController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ApiController.js\");\n/* harmony import */ var _controllers_BlockchainApiController_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../controllers/BlockchainApiController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/BlockchainApiController.js\");\n/* harmony import */ var _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../controllers/ChainController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ChainController.js\");\n/* harmony import */ var _utils_ChainControllerUtil_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/ChainControllerUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ChainControllerUtil.js\");\n/* harmony import */ var _ReownAuthenticationMessenger_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ReownAuthenticationMessenger.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/features/reown-authentication/ReownAuthenticationMessenger.js\");\n//\n\n\n\n\n\n\n/**\n * This is the configuration for using SIWX with Reown Authentication service.\n * It allows you to authenticate and capture user sessions through the Cloud Dashboard.\n */\nclass ReownAuthentication {\n    constructor(params = {}) {\n        this.otpUuid = null;\n        this.listeners = {\n            sessionChanged: []\n        };\n        this.localAuthStorageKey =\n            params.localAuthStorageKey ||\n                _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.SIWX_AUTH_TOKEN;\n        this.localNonceStorageKey =\n            params.localNonceStorageKey ||\n                _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.SIWX_NONCE_TOKEN;\n        this.required = params.required ?? true;\n        this.messenger = new _ReownAuthenticationMessenger_js__WEBPACK_IMPORTED_MODULE_1__.ReownAuthenticationMessenger({\n            getNonce: this.getNonce.bind(this)\n        });\n    }\n    async createMessage(input) {\n        return this.messenger.createMessage(input);\n    }\n    async addSession(session) {\n        const response = await this.request({\n            method: 'POST',\n            key: 'authenticate',\n            body: {\n                data: session.data,\n                message: session.message,\n                signature: session.signature,\n                clientId: this.getClientId(),\n                walletInfo: this.getWalletInfo()\n            },\n            headers: ['nonce', 'otp']\n        });\n        this.setStorageToken(response.token, this.localAuthStorageKey);\n        this.emit('sessionChanged', session);\n        this.setAppKitAccountUser(jwtDecode(response.token));\n        this.otpUuid = null;\n    }\n    async getSessions(chainId, address) {\n        try {\n            if (!this.getStorageToken(this.localAuthStorageKey)) {\n                return [];\n            }\n            const account = await this.request({\n                method: 'GET',\n                key: 'me',\n                query: {},\n                headers: ['auth']\n            });\n            if (!account) {\n                return [];\n            }\n            const isSameAddress = account.address.toLowerCase() === address.toLowerCase();\n            const isSameNetwork = account.caip2Network === chainId;\n            if (!isSameAddress || !isSameNetwork) {\n                return [];\n            }\n            const session = {\n                data: {\n                    accountAddress: account.address,\n                    chainId: account.caip2Network\n                },\n                message: '',\n                signature: ''\n            };\n            this.emit('sessionChanged', session);\n            this.setAppKitAccountUser(account);\n            return [session];\n        }\n        catch {\n            return [];\n        }\n    }\n    async revokeSession(_chainId, _address) {\n        return Promise.resolve(this.clearStorageTokens());\n    }\n    async setSessions(sessions) {\n        if (sessions.length === 0) {\n            this.clearStorageTokens();\n        }\n        else {\n            const session = (sessions.find(s => s.data.chainId === (0,_utils_ChainControllerUtil_js__WEBPACK_IMPORTED_MODULE_2__.getActiveCaipNetwork)()?.caipNetworkId) || sessions[0]);\n            await this.addSession(session);\n        }\n    }\n    getRequired() {\n        return this.required;\n    }\n    async getSessionAccount() {\n        if (!this.getStorageToken(this.localAuthStorageKey)) {\n            throw new Error('Not authenticated');\n        }\n        return this.request({\n            method: 'GET',\n            key: 'me',\n            body: undefined,\n            query: {\n                includeAppKitAccount: true\n            },\n            headers: ['auth']\n        });\n    }\n    async setSessionAccountMetadata(metadata = null) {\n        if (!this.getStorageToken(this.localAuthStorageKey)) {\n            throw new Error('Not authenticated');\n        }\n        return this.request({\n            method: 'PUT',\n            key: 'account-metadata',\n            body: { metadata },\n            headers: ['auth']\n        });\n    }\n    on(event, callback) {\n        this.listeners[event].push(callback);\n        return () => {\n            this.listeners[event] = this.listeners[event].filter(cb => cb !== callback);\n        };\n    }\n    removeAllListeners() {\n        const keys = Object.keys(this.listeners);\n        keys.forEach(key => {\n            this.listeners[key] = [];\n        });\n    }\n    async requestEmailOtp({ email, account }) {\n        const otp = await this.request({\n            method: 'POST',\n            key: 'otp',\n            body: { email, account }\n        });\n        this.otpUuid = otp.uuid;\n        this.messenger.resources = [`email:${email}`];\n        return otp;\n    }\n    confirmEmailOtp({ code }) {\n        return this.request({\n            method: 'PUT',\n            key: 'otp',\n            body: { code },\n            headers: ['otp']\n        });\n    }\n    async request({ method, key, query, body, headers }) {\n        const { projectId, st, sv } = this.getSDKProperties();\n        const url = new URL(`${_reown_appkit_common__WEBPACK_IMPORTED_MODULE_3__.ConstantsUtil.W3M_API_URL}/auth/v1/${String(key)}`);\n        url.searchParams.set('projectId', projectId);\n        url.searchParams.set('st', st);\n        url.searchParams.set('sv', sv);\n        if (query) {\n            Object.entries(query).forEach(([queryKey, queryValue]) => url.searchParams.set(queryKey, String(queryValue)));\n        }\n        const response = await fetch(url, {\n            method,\n            body: body ? JSON.stringify(body) : undefined,\n            headers: Array.isArray(headers)\n                ? headers.reduce((acc, header) => {\n                    switch (header) {\n                        case 'nonce':\n                            acc['x-nonce-jwt'] = `Bearer ${this.getStorageToken(this.localNonceStorageKey)}`;\n                            break;\n                        case 'auth':\n                            acc['Authorization'] = `Bearer ${this.getStorageToken(this.localAuthStorageKey)}`;\n                            break;\n                        case 'otp':\n                            if (this.otpUuid) {\n                                acc['x-otp'] = this.otpUuid;\n                            }\n                            break;\n                        default:\n                            break;\n                    }\n                    return acc;\n                }, {})\n                : undefined\n        });\n        if (!response.ok) {\n            throw new Error(await response.text());\n        }\n        if (response.headers.get('content-type')?.includes('application/json')) {\n            return response.json();\n        }\n        return null;\n    }\n    getStorageToken(key) {\n        return _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.getItem(key);\n    }\n    setStorageToken(token, key) {\n        _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.setItem(key, token);\n    }\n    clearStorageTokens() {\n        this.otpUuid = null;\n        _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.removeItem(this.localAuthStorageKey);\n        _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.removeItem(this.localNonceStorageKey);\n        this.emit('sessionChanged', undefined);\n    }\n    async getNonce() {\n        const { nonce, token } = await this.request({\n            method: 'GET',\n            key: 'nonce'\n        });\n        this.setStorageToken(token, this.localNonceStorageKey);\n        return nonce;\n    }\n    getClientId() {\n        return _controllers_BlockchainApiController_js__WEBPACK_IMPORTED_MODULE_4__.BlockchainApiController.state.clientId;\n    }\n    getWalletInfo() {\n        const walletInfo = _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_5__.ChainController.getAccountData()?.connectedWalletInfo;\n        if (!walletInfo) {\n            return undefined;\n        }\n        if ('social' in walletInfo && 'identifier' in walletInfo) {\n            const social = walletInfo['social'];\n            const identifier = walletInfo['identifier'];\n            return { type: 'social', social, identifier };\n        }\n        const { name, icon } = walletInfo;\n        let type = 'unknown';\n        switch (walletInfo.type) {\n            case 'EXTERNAL':\n            case 'INJECTED':\n            case 'ANNOUNCED':\n                type = 'extension';\n                break;\n            case 'WALLET_CONNECT':\n                type = 'walletconnect';\n                break;\n            default:\n                type = 'unknown';\n        }\n        return {\n            type,\n            name,\n            icon\n        };\n    }\n    getSDKProperties() {\n        return _controllers_ApiController_js__WEBPACK_IMPORTED_MODULE_6__.ApiController._getSdkProperties();\n    }\n    emit(event, data) {\n        this.listeners[event].forEach(listener => listener(data));\n    }\n    setAppKitAccountUser(session) {\n        const { email } = session;\n        if (email) {\n            Object.values(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_3__.ConstantsUtil.CHAIN).forEach(chainNamespace => {\n                _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_5__.ChainController.setAccountProp('user', { email }, chainNamespace);\n            });\n        }\n    }\n}\n/**\n * Decodes a JWT token and returns its payload\n * @param token - The JWT token to decode\n * @returns The decoded payload or null if invalid\n */\nfunction jwtDecode(token) {\n    // Split the token into parts\n    const parts = token.split('.');\n    // Check if the token has the correct format (header.payload.signature)\n    if (parts.length !== 3) {\n        throw new Error('Invalid token');\n    }\n    // Decode the payload (second part)\n    const payload = parts[1];\n    if (typeof payload !== 'string') {\n        throw new Error('Invalid token');\n    }\n    // Convert base64url to base64\n    const base64 = payload.replace(/-/gu, '+').replace(/_/gu, '/');\n    // Add padding if needed\n    const padded = base64.padEnd(base64.length + ((4 - (base64.length % 4)) % 4), '=');\n    // Decode and parse the JSON\n    const decoded = JSON.parse(atob(padded));\n    return decoded;\n}\n//# sourceMappingURL=ReownAuthentication.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTFfQHJlYWN0LW5hdGl2ZS1hc3luYy1zdG9yYWdlK2FzeW5jLXN0b3JhZ2VAMi4yLjBfcmVhY3QtX2E4MDMyMTIzODk3ZTA3OTMxMzc0MjMyYzNjYzRlNTM1L25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9mZWF0dXJlcy9yZW93bi1hdXRoZW50aWNhdGlvbi9SZW93bkF1dGhlbnRpY2F0aW9uLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7QUFDNkY7QUFDMUI7QUFDb0I7QUFDaEI7QUFDRztBQUNPO0FBQ2pGO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLHNFQUFvQjtBQUNwQztBQUNBO0FBQ0EsZ0JBQWdCLHNFQUFvQjtBQUNwQztBQUNBLDZCQUE2QiwwRkFBNEI7QUFDekQ7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtRUFBbUUsbUZBQW9CO0FBQ3ZGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsVUFBVTtBQUM5QjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsNEJBQTRCLGdCQUFnQjtBQUM1QztBQUNBO0FBQ0E7QUFDQSxvQkFBb0I7QUFDcEIsU0FBUztBQUNUO0FBQ0EsNkNBQTZDLE1BQU07QUFDbkQ7QUFDQTtBQUNBLHNCQUFzQixNQUFNO0FBQzVCO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixNQUFNO0FBQzFCO0FBQ0EsU0FBUztBQUNUO0FBQ0Esb0JBQW9CLG1DQUFtQztBQUN2RCxnQkFBZ0Isb0JBQW9CO0FBQ3BDLCtCQUErQiwrREFBYSxhQUFhLFdBQVcsWUFBWTtBQUNoRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJEQUEyRCxnREFBZ0Q7QUFDM0c7QUFDQTtBQUNBLDZEQUE2RCwrQ0FBK0M7QUFDNUc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsSUFBSTtBQUNyQjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGtFQUFnQjtBQUMvQjtBQUNBO0FBQ0EsUUFBUSxrRUFBZ0I7QUFDeEI7QUFDQTtBQUNBO0FBQ0EsUUFBUSxrRUFBZ0I7QUFDeEIsUUFBUSxrRUFBZ0I7QUFDeEI7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGVBQWU7QUFDL0I7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsNEZBQXVCO0FBQ3RDO0FBQ0E7QUFDQSwyQkFBMkIsNEVBQWU7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0EsZ0JBQWdCLGFBQWE7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsd0VBQWE7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixRQUFRO0FBQ3hCO0FBQ0EsMEJBQTBCLCtEQUFhO0FBQ3ZDLGdCQUFnQiw0RUFBZSwwQkFBMEIsT0FBTztBQUNoRSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL25vZ2dsci8uL25vZGVfbW9kdWxlcy8ucG5wbS9AcmVvd24rYXBwa2l0LWNvbnRyb2xsZXJzQDEuOC4xMV9AcmVhY3QtbmF0aXZlLWFzeW5jLXN0b3JhZ2UrYXN5bmMtc3RvcmFnZUAyLjIuMF9yZWFjdC1fYTgwMzIxMjM4OTdlMDc5MzEzNzQyMzJjM2NjNGU1MzUvbm9kZV9tb2R1bGVzL0ByZW93bi9hcHBraXQtY29udHJvbGxlcnMvZGlzdC9lc20vc3JjL2ZlYXR1cmVzL3Jlb3duLWF1dGhlbnRpY2F0aW9uL1Jlb3duQXV0aGVudGljYXRpb24uanM/Y2JjMCJdLCJzb3VyY2VzQ29udGVudCI6WyIvL1xuaW1wb3J0IHsgQ29uc3RhbnRzVXRpbCwgU2FmZUxvY2FsU3RvcmFnZSwgU2FmZUxvY2FsU3RvcmFnZUtleXMgfSBmcm9tICdAcmVvd24vYXBwa2l0LWNvbW1vbic7XG5pbXBvcnQgeyBBcGlDb250cm9sbGVyIH0gZnJvbSAnLi4vLi4vY29udHJvbGxlcnMvQXBpQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBCbG9ja2NoYWluQXBpQ29udHJvbGxlciB9IGZyb20gJy4uLy4uL2NvbnRyb2xsZXJzL0Jsb2NrY2hhaW5BcGlDb250cm9sbGVyLmpzJztcbmltcG9ydCB7IENoYWluQ29udHJvbGxlciB9IGZyb20gJy4uLy4uL2NvbnRyb2xsZXJzL0NoYWluQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBnZXRBY3RpdmVDYWlwTmV0d29yayB9IGZyb20gJy4uLy4uL3V0aWxzL0NoYWluQ29udHJvbGxlclV0aWwuanMnO1xuaW1wb3J0IHsgUmVvd25BdXRoZW50aWNhdGlvbk1lc3NlbmdlciB9IGZyb20gJy4vUmVvd25BdXRoZW50aWNhdGlvbk1lc3Nlbmdlci5qcyc7XG4vKipcbiAqIFRoaXMgaXMgdGhlIGNvbmZpZ3VyYXRpb24gZm9yIHVzaW5nIFNJV1ggd2l0aCBSZW93biBBdXRoZW50aWNhdGlvbiBzZXJ2aWNlLlxuICogSXQgYWxsb3dzIHlvdSB0byBhdXRoZW50aWNhdGUgYW5kIGNhcHR1cmUgdXNlciBzZXNzaW9ucyB0aHJvdWdoIHRoZSBDbG91ZCBEYXNoYm9hcmQuXG4gKi9cbmV4cG9ydCBjbGFzcyBSZW93bkF1dGhlbnRpY2F0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihwYXJhbXMgPSB7fSkge1xuICAgICAgICB0aGlzLm90cFV1aWQgPSBudWxsO1xuICAgICAgICB0aGlzLmxpc3RlbmVycyA9IHtcbiAgICAgICAgICAgIHNlc3Npb25DaGFuZ2VkOiBbXVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmxvY2FsQXV0aFN0b3JhZ2VLZXkgPVxuICAgICAgICAgICAgcGFyYW1zLmxvY2FsQXV0aFN0b3JhZ2VLZXkgfHxcbiAgICAgICAgICAgICAgICBTYWZlTG9jYWxTdG9yYWdlS2V5cy5TSVdYX0FVVEhfVE9LRU47XG4gICAgICAgIHRoaXMubG9jYWxOb25jZVN0b3JhZ2VLZXkgPVxuICAgICAgICAgICAgcGFyYW1zLmxvY2FsTm9uY2VTdG9yYWdlS2V5IHx8XG4gICAgICAgICAgICAgICAgU2FmZUxvY2FsU3RvcmFnZUtleXMuU0lXWF9OT05DRV9UT0tFTjtcbiAgICAgICAgdGhpcy5yZXF1aXJlZCA9IHBhcmFtcy5yZXF1aXJlZCA/PyB0cnVlO1xuICAgICAgICB0aGlzLm1lc3NlbmdlciA9IG5ldyBSZW93bkF1dGhlbnRpY2F0aW9uTWVzc2VuZ2VyKHtcbiAgICAgICAgICAgIGdldE5vbmNlOiB0aGlzLmdldE5vbmNlLmJpbmQodGhpcylcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGFzeW5jIGNyZWF0ZU1lc3NhZ2UoaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWVzc2VuZ2VyLmNyZWF0ZU1lc3NhZ2UoaW5wdXQpO1xuICAgIH1cbiAgICBhc3luYyBhZGRTZXNzaW9uKHNlc3Npb24pIHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnJlcXVlc3Qoe1xuICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICBrZXk6ICdhdXRoZW50aWNhdGUnLFxuICAgICAgICAgICAgYm9keToge1xuICAgICAgICAgICAgICAgIGRhdGE6IHNlc3Npb24uZGF0YSxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBzZXNzaW9uLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgc2lnbmF0dXJlOiBzZXNzaW9uLnNpZ25hdHVyZSxcbiAgICAgICAgICAgICAgICBjbGllbnRJZDogdGhpcy5nZXRDbGllbnRJZCgpLFxuICAgICAgICAgICAgICAgIHdhbGxldEluZm86IHRoaXMuZ2V0V2FsbGV0SW5mbygpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaGVhZGVyczogWydub25jZScsICdvdHAnXVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zZXRTdG9yYWdlVG9rZW4ocmVzcG9uc2UudG9rZW4sIHRoaXMubG9jYWxBdXRoU3RvcmFnZUtleSk7XG4gICAgICAgIHRoaXMuZW1pdCgnc2Vzc2lvbkNoYW5nZWQnLCBzZXNzaW9uKTtcbiAgICAgICAgdGhpcy5zZXRBcHBLaXRBY2NvdW50VXNlcihqd3REZWNvZGUocmVzcG9uc2UudG9rZW4pKTtcbiAgICAgICAgdGhpcy5vdHBVdWlkID0gbnVsbDtcbiAgICB9XG4gICAgYXN5bmMgZ2V0U2Vzc2lvbnMoY2hhaW5JZCwgYWRkcmVzcykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmdldFN0b3JhZ2VUb2tlbih0aGlzLmxvY2FsQXV0aFN0b3JhZ2VLZXkpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgYWNjb3VudCA9IGF3YWl0IHRoaXMucmVxdWVzdCh7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICAgICAgICBrZXk6ICdtZScsXG4gICAgICAgICAgICAgICAgcXVlcnk6IHt9LFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IFsnYXV0aCddXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmICghYWNjb3VudCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGlzU2FtZUFkZHJlc3MgPSBhY2NvdW50LmFkZHJlc3MudG9Mb3dlckNhc2UoKSA9PT0gYWRkcmVzcy50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgY29uc3QgaXNTYW1lTmV0d29yayA9IGFjY291bnQuY2FpcDJOZXR3b3JrID09PSBjaGFpbklkO1xuICAgICAgICAgICAgaWYgKCFpc1NhbWVBZGRyZXNzIHx8ICFpc1NhbWVOZXR3b3JrKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgc2Vzc2lvbiA9IHtcbiAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgIGFjY291bnRBZGRyZXNzOiBhY2NvdW50LmFkZHJlc3MsXG4gICAgICAgICAgICAgICAgICAgIGNoYWluSWQ6IGFjY291bnQuY2FpcDJOZXR3b3JrXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAnJyxcbiAgICAgICAgICAgICAgICBzaWduYXR1cmU6ICcnXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5lbWl0KCdzZXNzaW9uQ2hhbmdlZCcsIHNlc3Npb24pO1xuICAgICAgICAgICAgdGhpcy5zZXRBcHBLaXRBY2NvdW50VXNlcihhY2NvdW50KTtcbiAgICAgICAgICAgIHJldHVybiBbc2Vzc2lvbl07XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIHJldm9rZVNlc3Npb24oX2NoYWluSWQsIF9hZGRyZXNzKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5jbGVhclN0b3JhZ2VUb2tlbnMoKSk7XG4gICAgfVxuICAgIGFzeW5jIHNldFNlc3Npb25zKHNlc3Npb25zKSB7XG4gICAgICAgIGlmIChzZXNzaW9ucy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuY2xlYXJTdG9yYWdlVG9rZW5zKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBzZXNzaW9uID0gKHNlc3Npb25zLmZpbmQocyA9PiBzLmRhdGEuY2hhaW5JZCA9PT0gZ2V0QWN0aXZlQ2FpcE5ldHdvcmsoKT8uY2FpcE5ldHdvcmtJZCkgfHwgc2Vzc2lvbnNbMF0pO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5hZGRTZXNzaW9uKHNlc3Npb24pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldFJlcXVpcmVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXF1aXJlZDtcbiAgICB9XG4gICAgYXN5bmMgZ2V0U2Vzc2lvbkFjY291bnQoKSB7XG4gICAgICAgIGlmICghdGhpcy5nZXRTdG9yYWdlVG9rZW4odGhpcy5sb2NhbEF1dGhTdG9yYWdlS2V5KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdOb3QgYXV0aGVudGljYXRlZCcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnJlcXVlc3Qoe1xuICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICAgIGtleTogJ21lJyxcbiAgICAgICAgICAgIGJvZHk6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHF1ZXJ5OiB7XG4gICAgICAgICAgICAgICAgaW5jbHVkZUFwcEtpdEFjY291bnQ6IHRydWVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBoZWFkZXJzOiBbJ2F1dGgnXVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgYXN5bmMgc2V0U2Vzc2lvbkFjY291bnRNZXRhZGF0YShtZXRhZGF0YSA9IG51bGwpIHtcbiAgICAgICAgaWYgKCF0aGlzLmdldFN0b3JhZ2VUb2tlbih0aGlzLmxvY2FsQXV0aFN0b3JhZ2VLZXkpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vdCBhdXRoZW50aWNhdGVkJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMucmVxdWVzdCh7XG4gICAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgICAga2V5OiAnYWNjb3VudC1tZXRhZGF0YScsXG4gICAgICAgICAgICBib2R5OiB7IG1ldGFkYXRhIH0sXG4gICAgICAgICAgICBoZWFkZXJzOiBbJ2F1dGgnXVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgb24oZXZlbnQsIGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMubGlzdGVuZXJzW2V2ZW50XS5wdXNoKGNhbGxiYWNrKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMubGlzdGVuZXJzW2V2ZW50XSA9IHRoaXMubGlzdGVuZXJzW2V2ZW50XS5maWx0ZXIoY2IgPT4gY2IgIT09IGNhbGxiYWNrKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmVtb3ZlQWxsTGlzdGVuZXJzKCkge1xuICAgICAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXModGhpcy5saXN0ZW5lcnMpO1xuICAgICAgICBrZXlzLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgICAgIHRoaXMubGlzdGVuZXJzW2tleV0gPSBbXTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGFzeW5jIHJlcXVlc3RFbWFpbE90cCh7IGVtYWlsLCBhY2NvdW50IH0pIHtcbiAgICAgICAgY29uc3Qgb3RwID0gYXdhaXQgdGhpcy5yZXF1ZXN0KHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAga2V5OiAnb3RwJyxcbiAgICAgICAgICAgIGJvZHk6IHsgZW1haWwsIGFjY291bnQgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5vdHBVdWlkID0gb3RwLnV1aWQ7XG4gICAgICAgIHRoaXMubWVzc2VuZ2VyLnJlc291cmNlcyA9IFtgZW1haWw6JHtlbWFpbH1gXTtcbiAgICAgICAgcmV0dXJuIG90cDtcbiAgICB9XG4gICAgY29uZmlybUVtYWlsT3RwKHsgY29kZSB9KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlcXVlc3Qoe1xuICAgICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICAgIGtleTogJ290cCcsXG4gICAgICAgICAgICBib2R5OiB7IGNvZGUgfSxcbiAgICAgICAgICAgIGhlYWRlcnM6IFsnb3RwJ11cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGFzeW5jIHJlcXVlc3QoeyBtZXRob2QsIGtleSwgcXVlcnksIGJvZHksIGhlYWRlcnMgfSkge1xuICAgICAgICBjb25zdCB7IHByb2plY3RJZCwgc3QsIHN2IH0gPSB0aGlzLmdldFNES1Byb3BlcnRpZXMoKTtcbiAgICAgICAgY29uc3QgdXJsID0gbmV3IFVSTChgJHtDb25zdGFudHNVdGlsLlczTV9BUElfVVJMfS9hdXRoL3YxLyR7U3RyaW5nKGtleSl9YCk7XG4gICAgICAgIHVybC5zZWFyY2hQYXJhbXMuc2V0KCdwcm9qZWN0SWQnLCBwcm9qZWN0SWQpO1xuICAgICAgICB1cmwuc2VhcmNoUGFyYW1zLnNldCgnc3QnLCBzdCk7XG4gICAgICAgIHVybC5zZWFyY2hQYXJhbXMuc2V0KCdzdicsIHN2KTtcbiAgICAgICAgaWYgKHF1ZXJ5KSB7XG4gICAgICAgICAgICBPYmplY3QuZW50cmllcyhxdWVyeSkuZm9yRWFjaCgoW3F1ZXJ5S2V5LCBxdWVyeVZhbHVlXSkgPT4gdXJsLnNlYXJjaFBhcmFtcy5zZXQocXVlcnlLZXksIFN0cmluZyhxdWVyeVZhbHVlKSkpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsLCB7XG4gICAgICAgICAgICBtZXRob2QsXG4gICAgICAgICAgICBib2R5OiBib2R5ID8gSlNPTi5zdHJpbmdpZnkoYm9keSkgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBoZWFkZXJzOiBBcnJheS5pc0FycmF5KGhlYWRlcnMpXG4gICAgICAgICAgICAgICAgPyBoZWFkZXJzLnJlZHVjZSgoYWNjLCBoZWFkZXIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChoZWFkZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ25vbmNlJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY2NbJ3gtbm9uY2Utand0J10gPSBgQmVhcmVyICR7dGhpcy5nZXRTdG9yYWdlVG9rZW4odGhpcy5sb2NhbE5vbmNlU3RvcmFnZUtleSl9YDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2F1dGgnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjY1snQXV0aG9yaXphdGlvbiddID0gYEJlYXJlciAke3RoaXMuZ2V0U3RvcmFnZVRva2VuKHRoaXMubG9jYWxBdXRoU3RvcmFnZUtleSl9YDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ290cCc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMub3RwVXVpZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY2NbJ3gtb3RwJ10gPSB0aGlzLm90cFV1aWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICAgICAgICAgIH0sIHt9KVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYXdhaXQgcmVzcG9uc2UudGV4dCgpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVzcG9uc2UuaGVhZGVycy5nZXQoJ2NvbnRlbnQtdHlwZScpPy5pbmNsdWRlcygnYXBwbGljYXRpb24vanNvbicpKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBnZXRTdG9yYWdlVG9rZW4oa2V5KSB7XG4gICAgICAgIHJldHVybiBTYWZlTG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KTtcbiAgICB9XG4gICAgc2V0U3RvcmFnZVRva2VuKHRva2VuLCBrZXkpIHtcbiAgICAgICAgU2FmZUxvY2FsU3RvcmFnZS5zZXRJdGVtKGtleSwgdG9rZW4pO1xuICAgIH1cbiAgICBjbGVhclN0b3JhZ2VUb2tlbnMoKSB7XG4gICAgICAgIHRoaXMub3RwVXVpZCA9IG51bGw7XG4gICAgICAgIFNhZmVMb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSh0aGlzLmxvY2FsQXV0aFN0b3JhZ2VLZXkpO1xuICAgICAgICBTYWZlTG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0odGhpcy5sb2NhbE5vbmNlU3RvcmFnZUtleSk7XG4gICAgICAgIHRoaXMuZW1pdCgnc2Vzc2lvbkNoYW5nZWQnLCB1bmRlZmluZWQpO1xuICAgIH1cbiAgICBhc3luYyBnZXROb25jZSgpIHtcbiAgICAgICAgY29uc3QgeyBub25jZSwgdG9rZW4gfSA9IGF3YWl0IHRoaXMucmVxdWVzdCh7XG4gICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICAgICAga2V5OiAnbm9uY2UnXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnNldFN0b3JhZ2VUb2tlbih0b2tlbiwgdGhpcy5sb2NhbE5vbmNlU3RvcmFnZUtleSk7XG4gICAgICAgIHJldHVybiBub25jZTtcbiAgICB9XG4gICAgZ2V0Q2xpZW50SWQoKSB7XG4gICAgICAgIHJldHVybiBCbG9ja2NoYWluQXBpQ29udHJvbGxlci5zdGF0ZS5jbGllbnRJZDtcbiAgICB9XG4gICAgZ2V0V2FsbGV0SW5mbygpIHtcbiAgICAgICAgY29uc3Qgd2FsbGV0SW5mbyA9IENoYWluQ29udHJvbGxlci5nZXRBY2NvdW50RGF0YSgpPy5jb25uZWN0ZWRXYWxsZXRJbmZvO1xuICAgICAgICBpZiAoIXdhbGxldEluZm8pIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCdzb2NpYWwnIGluIHdhbGxldEluZm8gJiYgJ2lkZW50aWZpZXInIGluIHdhbGxldEluZm8pIHtcbiAgICAgICAgICAgIGNvbnN0IHNvY2lhbCA9IHdhbGxldEluZm9bJ3NvY2lhbCddO1xuICAgICAgICAgICAgY29uc3QgaWRlbnRpZmllciA9IHdhbGxldEluZm9bJ2lkZW50aWZpZXInXTtcbiAgICAgICAgICAgIHJldHVybiB7IHR5cGU6ICdzb2NpYWwnLCBzb2NpYWwsIGlkZW50aWZpZXIgfTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IG5hbWUsIGljb24gfSA9IHdhbGxldEluZm87XG4gICAgICAgIGxldCB0eXBlID0gJ3Vua25vd24nO1xuICAgICAgICBzd2l0Y2ggKHdhbGxldEluZm8udHlwZSkge1xuICAgICAgICAgICAgY2FzZSAnRVhURVJOQUwnOlxuICAgICAgICAgICAgY2FzZSAnSU5KRUNURUQnOlxuICAgICAgICAgICAgY2FzZSAnQU5OT1VOQ0VEJzpcbiAgICAgICAgICAgICAgICB0eXBlID0gJ2V4dGVuc2lvbic7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdXQUxMRVRfQ09OTkVDVCc6XG4gICAgICAgICAgICAgICAgdHlwZSA9ICd3YWxsZXRjb25uZWN0JztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdHlwZSA9ICd1bmtub3duJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZSxcbiAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICBpY29uXG4gICAgICAgIH07XG4gICAgfVxuICAgIGdldFNES1Byb3BlcnRpZXMoKSB7XG4gICAgICAgIHJldHVybiBBcGlDb250cm9sbGVyLl9nZXRTZGtQcm9wZXJ0aWVzKCk7XG4gICAgfVxuICAgIGVtaXQoZXZlbnQsIGRhdGEpIHtcbiAgICAgICAgdGhpcy5saXN0ZW5lcnNbZXZlbnRdLmZvckVhY2gobGlzdGVuZXIgPT4gbGlzdGVuZXIoZGF0YSkpO1xuICAgIH1cbiAgICBzZXRBcHBLaXRBY2NvdW50VXNlcihzZXNzaW9uKSB7XG4gICAgICAgIGNvbnN0IHsgZW1haWwgfSA9IHNlc3Npb247XG4gICAgICAgIGlmIChlbWFpbCkge1xuICAgICAgICAgICAgT2JqZWN0LnZhbHVlcyhDb25zdGFudHNVdGlsLkNIQUlOKS5mb3JFYWNoKGNoYWluTmFtZXNwYWNlID0+IHtcbiAgICAgICAgICAgICAgICBDaGFpbkNvbnRyb2xsZXIuc2V0QWNjb3VudFByb3AoJ3VzZXInLCB7IGVtYWlsIH0sIGNoYWluTmFtZXNwYWNlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBEZWNvZGVzIGEgSldUIHRva2VuIGFuZCByZXR1cm5zIGl0cyBwYXlsb2FkXG4gKiBAcGFyYW0gdG9rZW4gLSBUaGUgSldUIHRva2VuIHRvIGRlY29kZVxuICogQHJldHVybnMgVGhlIGRlY29kZWQgcGF5bG9hZCBvciBudWxsIGlmIGludmFsaWRcbiAqL1xuZnVuY3Rpb24gand0RGVjb2RlKHRva2VuKSB7XG4gICAgLy8gU3BsaXQgdGhlIHRva2VuIGludG8gcGFydHNcbiAgICBjb25zdCBwYXJ0cyA9IHRva2VuLnNwbGl0KCcuJyk7XG4gICAgLy8gQ2hlY2sgaWYgdGhlIHRva2VuIGhhcyB0aGUgY29ycmVjdCBmb3JtYXQgKGhlYWRlci5wYXlsb2FkLnNpZ25hdHVyZSlcbiAgICBpZiAocGFydHMubGVuZ3RoICE9PSAzKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCB0b2tlbicpO1xuICAgIH1cbiAgICAvLyBEZWNvZGUgdGhlIHBheWxvYWQgKHNlY29uZCBwYXJ0KVxuICAgIGNvbnN0IHBheWxvYWQgPSBwYXJ0c1sxXTtcbiAgICBpZiAodHlwZW9mIHBheWxvYWQgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCB0b2tlbicpO1xuICAgIH1cbiAgICAvLyBDb252ZXJ0IGJhc2U2NHVybCB0byBiYXNlNjRcbiAgICBjb25zdCBiYXNlNjQgPSBwYXlsb2FkLnJlcGxhY2UoLy0vZ3UsICcrJykucmVwbGFjZSgvXy9ndSwgJy8nKTtcbiAgICAvLyBBZGQgcGFkZGluZyBpZiBuZWVkZWRcbiAgICBjb25zdCBwYWRkZWQgPSBiYXNlNjQucGFkRW5kKGJhc2U2NC5sZW5ndGggKyAoKDQgLSAoYmFzZTY0Lmxlbmd0aCAlIDQpKSAlIDQpLCAnPScpO1xuICAgIC8vIERlY29kZSBhbmQgcGFyc2UgdGhlIEpTT05cbiAgICBjb25zdCBkZWNvZGVkID0gSlNPTi5wYXJzZShhdG9iKHBhZGRlZCkpO1xuICAgIHJldHVybiBkZWNvZGVkO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UmVvd25BdXRoZW50aWNhdGlvbi5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/features/reown-authentication/ReownAuthentication.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/features/reown-authentication/ReownAuthenticationMessenger.js":
/*!***********************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/features/reown-authentication/ReownAuthenticationMessenger.js ***!
  \***********************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ReownAuthenticationMessenger: () => (/* binding */ ReownAuthenticationMessenger)\n/* harmony export */ });\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @reown/appkit-common */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-common@1.8.11_bufferutil@4.0.9_typescript@5.9.3_utf-8-validate@5.0.10_zod@4.1.12/node_modules/@reown/appkit-common/dist/esm/src/utils/NetworkUtil.js\");\n/* harmony import */ var _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../controllers/ChainController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ChainController.js\");\n\n\nclass ReownAuthenticationMessenger {\n    constructor(params) {\n        this.getNonce = params.getNonce;\n    }\n    async createMessage(input) {\n        const params = {\n            accountAddress: input.accountAddress,\n            chainId: input.chainId,\n            version: '1',\n            domain: typeof document === 'undefined' ? 'Unknown Domain' : document.location.host,\n            uri: typeof document === 'undefined' ? 'Unknown URI' : document.location.href,\n            resources: this.resources,\n            nonce: await this.getNonce(input),\n            issuedAt: this.stringifyDate(new Date()),\n            statement: undefined,\n            expirationTime: undefined,\n            notBefore: undefined\n        };\n        const methods = {\n            toString: () => this.stringify(params)\n        };\n        return Object.assign(params, methods);\n    }\n    stringify(params) {\n        const networkName = this.getNetworkName(params.chainId);\n        return [\n            `${params.domain} wants you to sign in with your ${networkName} account:`,\n            params.accountAddress,\n            params.statement ? `\\n${params.statement}\\n` : '',\n            `URI: ${params.uri}`,\n            `Version: ${params.version}`,\n            `Chain ID: ${params.chainId}`,\n            `Nonce: ${params.nonce}`,\n            params.issuedAt && `Issued At: ${params.issuedAt}`,\n            params.expirationTime && `Expiration Time: ${params.expirationTime}`,\n            params.notBefore && `Not Before: ${params.notBefore}`,\n            params.requestId && `Request ID: ${params.requestId}`,\n            params.resources?.length &&\n                params.resources.reduce((acc, resource) => `${acc}\\n- ${resource}`, 'Resources:')\n        ]\n            .filter(line => typeof line === 'string')\n            .join('\\n')\n            .trim();\n    }\n    getNetworkName(chainId) {\n        const requestedNetworks = _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_0__.ChainController.getAllRequestedCaipNetworks();\n        return _reown_appkit_common__WEBPACK_IMPORTED_MODULE_1__.NetworkUtil.getNetworkNameByCaipNetworkId(requestedNetworks, chainId);\n    }\n    stringifyDate(date) {\n        return date.toISOString();\n    }\n}\n//# sourceMappingURL=ReownAuthenticationMessenger.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTFfQHJlYWN0LW5hdGl2ZS1hc3luYy1zdG9yYWdlK2FzeW5jLXN0b3JhZ2VAMi4yLjBfcmVhY3QtX2E4MDMyMTIzODk3ZTA3OTMxMzc0MjMyYzNjYzRlNTM1L25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9mZWF0dXJlcy9yZW93bi1hdXRoZW50aWNhdGlvbi9SZW93bkF1dGhlbnRpY2F0aW9uTWVzc2VuZ2VyLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFtRDtBQUNvQjtBQUNoRTtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxlQUFlLGlDQUFpQyxhQUFhO0FBQzVFO0FBQ0Esb0NBQW9DLGlCQUFpQjtBQUNyRCxvQkFBb0IsV0FBVztBQUMvQix3QkFBd0IsZUFBZTtBQUN2Qyx5QkFBeUIsZUFBZTtBQUN4QyxzQkFBc0IsYUFBYTtBQUNuQyw2Q0FBNkMsZ0JBQWdCO0FBQzdELHlEQUF5RCxzQkFBc0I7QUFDL0UsK0NBQStDLGlCQUFpQjtBQUNoRSwrQ0FBK0MsaUJBQWlCO0FBQ2hFO0FBQ0EsOERBQThELElBQUksTUFBTSxTQUFTO0FBQ2pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyw0RUFBZTtBQUNqRCxlQUFlLDZEQUFXO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL25vZ2dsci8uL25vZGVfbW9kdWxlcy8ucG5wbS9AcmVvd24rYXBwa2l0LWNvbnRyb2xsZXJzQDEuOC4xMV9AcmVhY3QtbmF0aXZlLWFzeW5jLXN0b3JhZ2UrYXN5bmMtc3RvcmFnZUAyLjIuMF9yZWFjdC1fYTgwMzIxMjM4OTdlMDc5MzEzNzQyMzJjM2NjNGU1MzUvbm9kZV9tb2R1bGVzL0ByZW93bi9hcHBraXQtY29udHJvbGxlcnMvZGlzdC9lc20vc3JjL2ZlYXR1cmVzL3Jlb3duLWF1dGhlbnRpY2F0aW9uL1Jlb3duQXV0aGVudGljYXRpb25NZXNzZW5nZXIuanM/MTEwMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXR3b3JrVXRpbCB9IGZyb20gJ0ByZW93bi9hcHBraXQtY29tbW9uJztcbmltcG9ydCB7IENoYWluQ29udHJvbGxlciB9IGZyb20gJy4uLy4uL2NvbnRyb2xsZXJzL0NoYWluQ29udHJvbGxlci5qcyc7XG5leHBvcnQgY2xhc3MgUmVvd25BdXRoZW50aWNhdGlvbk1lc3NlbmdlciB7XG4gICAgY29uc3RydWN0b3IocGFyYW1zKSB7XG4gICAgICAgIHRoaXMuZ2V0Tm9uY2UgPSBwYXJhbXMuZ2V0Tm9uY2U7XG4gICAgfVxuICAgIGFzeW5jIGNyZWF0ZU1lc3NhZ2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgcGFyYW1zID0ge1xuICAgICAgICAgICAgYWNjb3VudEFkZHJlc3M6IGlucHV0LmFjY291bnRBZGRyZXNzLFxuICAgICAgICAgICAgY2hhaW5JZDogaW5wdXQuY2hhaW5JZCxcbiAgICAgICAgICAgIHZlcnNpb246ICcxJyxcbiAgICAgICAgICAgIGRvbWFpbjogdHlwZW9mIGRvY3VtZW50ID09PSAndW5kZWZpbmVkJyA/ICdVbmtub3duIERvbWFpbicgOiBkb2N1bWVudC5sb2NhdGlvbi5ob3N0LFxuICAgICAgICAgICAgdXJpOiB0eXBlb2YgZG9jdW1lbnQgPT09ICd1bmRlZmluZWQnID8gJ1Vua25vd24gVVJJJyA6IGRvY3VtZW50LmxvY2F0aW9uLmhyZWYsXG4gICAgICAgICAgICByZXNvdXJjZXM6IHRoaXMucmVzb3VyY2VzLFxuICAgICAgICAgICAgbm9uY2U6IGF3YWl0IHRoaXMuZ2V0Tm9uY2UoaW5wdXQpLFxuICAgICAgICAgICAgaXNzdWVkQXQ6IHRoaXMuc3RyaW5naWZ5RGF0ZShuZXcgRGF0ZSgpKSxcbiAgICAgICAgICAgIHN0YXRlbWVudDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgZXhwaXJhdGlvblRpbWU6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIG5vdEJlZm9yZTogdW5kZWZpbmVkXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IG1ldGhvZHMgPSB7XG4gICAgICAgICAgICB0b1N0cmluZzogKCkgPT4gdGhpcy5zdHJpbmdpZnkocGFyYW1zKVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihwYXJhbXMsIG1ldGhvZHMpO1xuICAgIH1cbiAgICBzdHJpbmdpZnkocGFyYW1zKSB7XG4gICAgICAgIGNvbnN0IG5ldHdvcmtOYW1lID0gdGhpcy5nZXROZXR3b3JrTmFtZShwYXJhbXMuY2hhaW5JZCk7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICBgJHtwYXJhbXMuZG9tYWlufSB3YW50cyB5b3UgdG8gc2lnbiBpbiB3aXRoIHlvdXIgJHtuZXR3b3JrTmFtZX0gYWNjb3VudDpgLFxuICAgICAgICAgICAgcGFyYW1zLmFjY291bnRBZGRyZXNzLFxuICAgICAgICAgICAgcGFyYW1zLnN0YXRlbWVudCA/IGBcXG4ke3BhcmFtcy5zdGF0ZW1lbnR9XFxuYCA6ICcnLFxuICAgICAgICAgICAgYFVSSTogJHtwYXJhbXMudXJpfWAsXG4gICAgICAgICAgICBgVmVyc2lvbjogJHtwYXJhbXMudmVyc2lvbn1gLFxuICAgICAgICAgICAgYENoYWluIElEOiAke3BhcmFtcy5jaGFpbklkfWAsXG4gICAgICAgICAgICBgTm9uY2U6ICR7cGFyYW1zLm5vbmNlfWAsXG4gICAgICAgICAgICBwYXJhbXMuaXNzdWVkQXQgJiYgYElzc3VlZCBBdDogJHtwYXJhbXMuaXNzdWVkQXR9YCxcbiAgICAgICAgICAgIHBhcmFtcy5leHBpcmF0aW9uVGltZSAmJiBgRXhwaXJhdGlvbiBUaW1lOiAke3BhcmFtcy5leHBpcmF0aW9uVGltZX1gLFxuICAgICAgICAgICAgcGFyYW1zLm5vdEJlZm9yZSAmJiBgTm90IEJlZm9yZTogJHtwYXJhbXMubm90QmVmb3JlfWAsXG4gICAgICAgICAgICBwYXJhbXMucmVxdWVzdElkICYmIGBSZXF1ZXN0IElEOiAke3BhcmFtcy5yZXF1ZXN0SWR9YCxcbiAgICAgICAgICAgIHBhcmFtcy5yZXNvdXJjZXM/Lmxlbmd0aCAmJlxuICAgICAgICAgICAgICAgIHBhcmFtcy5yZXNvdXJjZXMucmVkdWNlKChhY2MsIHJlc291cmNlKSA9PiBgJHthY2N9XFxuLSAke3Jlc291cmNlfWAsICdSZXNvdXJjZXM6JylcbiAgICAgICAgXVxuICAgICAgICAgICAgLmZpbHRlcihsaW5lID0+IHR5cGVvZiBsaW5lID09PSAnc3RyaW5nJylcbiAgICAgICAgICAgIC5qb2luKCdcXG4nKVxuICAgICAgICAgICAgLnRyaW0oKTtcbiAgICB9XG4gICAgZ2V0TmV0d29ya05hbWUoY2hhaW5JZCkge1xuICAgICAgICBjb25zdCByZXF1ZXN0ZWROZXR3b3JrcyA9IENoYWluQ29udHJvbGxlci5nZXRBbGxSZXF1ZXN0ZWRDYWlwTmV0d29ya3MoKTtcbiAgICAgICAgcmV0dXJuIE5ldHdvcmtVdGlsLmdldE5ldHdvcmtOYW1lQnlDYWlwTmV0d29ya0lkKHJlcXVlc3RlZE5ldHdvcmtzLCBjaGFpbklkKTtcbiAgICB9XG4gICAgc3RyaW5naWZ5RGF0ZShkYXRlKSB7XG4gICAgICAgIHJldHVybiBkYXRlLnRvSVNPU3RyaW5nKCk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UmVvd25BdXRoZW50aWNhdGlvbk1lc3Nlbmdlci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/features/reown-authentication/ReownAuthenticationMessenger.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/features/reown-authentication/index.js":
/*!************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/features/reown-authentication/index.js ***!
  \************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ReownAuthentication: () => (/* reexport safe */ _ReownAuthentication_js__WEBPACK_IMPORTED_MODULE_0__.ReownAuthentication),\n/* harmony export */   ReownAuthenticationMessenger: () => (/* reexport safe */ _ReownAuthenticationMessenger_js__WEBPACK_IMPORTED_MODULE_1__.ReownAuthenticationMessenger)\n/* harmony export */ });\n/* harmony import */ var _ReownAuthentication_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ReownAuthentication.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/features/reown-authentication/ReownAuthentication.js\");\n/* harmony import */ var _ReownAuthenticationMessenger_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ReownAuthenticationMessenger.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/features/reown-authentication/ReownAuthenticationMessenger.js\");\n\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTFfQHJlYWN0LW5hdGl2ZS1hc3luYy1zdG9yYWdlK2FzeW5jLXN0b3JhZ2VAMi4yLjBfcmVhY3QtX2E4MDMyMTIzODk3ZTA3OTMxMzc0MjMyYzNjYzRlNTM1L25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9mZWF0dXJlcy9yZW93bi1hdXRoZW50aWNhdGlvbi9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQXlDO0FBQ1M7QUFDbEQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ub2dnbHIvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTFfQHJlYWN0LW5hdGl2ZS1hc3luYy1zdG9yYWdlK2FzeW5jLXN0b3JhZ2VAMi4yLjBfcmVhY3QtX2E4MDMyMTIzODk3ZTA3OTMxMzc0MjMyYzNjYzRlNTM1L25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9mZWF0dXJlcy9yZW93bi1hdXRoZW50aWNhdGlvbi9pbmRleC5qcz9hYWVhIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCAqIGZyb20gJy4vUmVvd25BdXRoZW50aWNhdGlvbi5qcyc7XG5leHBvcnQgKiBmcm9tICcuL1Jlb3duQXV0aGVudGljYXRpb25NZXNzZW5nZXIuanMnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/features/reown-authentication/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/AssetUtil.js":
/*!****************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/AssetUtil.js ***!
  \****************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AssetUtil: () => (/* binding */ AssetUtil)\n/* harmony export */ });\n/* harmony import */ var valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! valtio/vanilla */ \"(ssr)/./node_modules/.pnpm/valtio@2.1.7_@types+react@18.3.26_react@18.3.1/node_modules/valtio/esm/vanilla.mjs\");\n/* harmony import */ var _controllers_ApiController_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../controllers/ApiController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ApiController.js\");\n/* harmony import */ var _controllers_AssetController_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../controllers/AssetController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/AssetController.js\");\n\n\n\nconst namespaceImageIds = {\n    // Ethereum\n    eip155: 'ba0ba0cd-17c6-4806-ad93-f9d174f17900',\n    // Solana\n    solana: 'a1b58899-f671-4276-6a5e-56ca5bd59700',\n    // Polkadot\n    polkadot: '',\n    // Bitcoin\n    bip122: '0b4838db-0161-4ffe-022d-532bf03dba00',\n    // Cosmos\n    cosmos: '',\n    // Sui\n    sui: '',\n    // Stacks\n    stacks: ''\n};\n// -- State --------------------------------------------- //\nconst state = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.proxy)({\n    networkImagePromises: {}\n});\n// -- Util ---------------------------------------- //\nconst AssetUtil = {\n    async fetchWalletImage(imageId) {\n        if (!imageId) {\n            return undefined;\n        }\n        await _controllers_ApiController_js__WEBPACK_IMPORTED_MODULE_1__.ApiController._fetchWalletImage(imageId);\n        return this.getWalletImageById(imageId);\n    },\n    async fetchNetworkImage(imageId) {\n        if (!imageId) {\n            return undefined;\n        }\n        const existingImage = this.getNetworkImageById(imageId);\n        // Check if the image already exists\n        if (existingImage) {\n            return existingImage;\n        }\n        // Check if the promise is already created\n        if (!state.networkImagePromises[imageId]) {\n            state.networkImagePromises[imageId] = _controllers_ApiController_js__WEBPACK_IMPORTED_MODULE_1__.ApiController._fetchNetworkImage(imageId);\n        }\n        await state.networkImagePromises[imageId];\n        return this.getNetworkImageById(imageId);\n    },\n    getWalletImageById(imageId) {\n        if (!imageId) {\n            return undefined;\n        }\n        return _controllers_AssetController_js__WEBPACK_IMPORTED_MODULE_2__.AssetController.state.walletImages[imageId];\n    },\n    getWalletImage(wallet) {\n        if (wallet?.image_url) {\n            return wallet?.image_url;\n        }\n        if (wallet?.image_id) {\n            return _controllers_AssetController_js__WEBPACK_IMPORTED_MODULE_2__.AssetController.state.walletImages[wallet.image_id];\n        }\n        return undefined;\n    },\n    getNetworkImage(network) {\n        if (network?.assets?.imageUrl) {\n            return network?.assets?.imageUrl;\n        }\n        if (network?.assets?.imageId) {\n            return _controllers_AssetController_js__WEBPACK_IMPORTED_MODULE_2__.AssetController.state.networkImages[network.assets.imageId];\n        }\n        return undefined;\n    },\n    getNetworkImageById(imageId) {\n        if (!imageId) {\n            return undefined;\n        }\n        return _controllers_AssetController_js__WEBPACK_IMPORTED_MODULE_2__.AssetController.state.networkImages[imageId];\n    },\n    getConnectorImage(connector) {\n        if (connector?.imageUrl) {\n            return connector.imageUrl;\n        }\n        if (connector?.info?.icon) {\n            return connector.info.icon;\n        }\n        if (connector?.imageId) {\n            return _controllers_AssetController_js__WEBPACK_IMPORTED_MODULE_2__.AssetController.state.connectorImages[connector.imageId];\n        }\n        return undefined;\n    },\n    getChainImage(chain) {\n        return _controllers_AssetController_js__WEBPACK_IMPORTED_MODULE_2__.AssetController.state.networkImages[namespaceImageIds[chain]];\n    },\n    getTokenImage(symbol) {\n        if (!symbol) {\n            return undefined;\n        }\n        return _controllers_AssetController_js__WEBPACK_IMPORTED_MODULE_2__.AssetController.state.tokenImages[symbol];\n    }\n};\n//# sourceMappingURL=AssetUtil.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTFfQHJlYWN0LW5hdGl2ZS1hc3luYy1zdG9yYWdlK2FzeW5jLXN0b3JhZ2VAMi4yLjBfcmVhY3QtX2E4MDMyMTIzODk3ZTA3OTMxMzc0MjMyYzNjYzRlNTM1L25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy91dGlscy9Bc3NldFV0aWwuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUF1QztBQUN5QjtBQUNJO0FBQ3BFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLHFEQUFLO0FBQ25CO0FBQ0EsQ0FBQztBQUNEO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsd0VBQWE7QUFDM0I7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRCx3RUFBYTtBQUMvRDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLDRFQUFlO0FBQzlCLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLDRFQUFlO0FBQ2xDO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQiw0RUFBZTtBQUNsQztBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSw0RUFBZTtBQUM5QixLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQiw0RUFBZTtBQUNsQztBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsZUFBZSw0RUFBZTtBQUM5QixLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLDRFQUFlO0FBQzlCO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL25vZ2dsci8uL25vZGVfbW9kdWxlcy8ucG5wbS9AcmVvd24rYXBwa2l0LWNvbnRyb2xsZXJzQDEuOC4xMV9AcmVhY3QtbmF0aXZlLWFzeW5jLXN0b3JhZ2UrYXN5bmMtc3RvcmFnZUAyLjIuMF9yZWFjdC1fYTgwMzIxMjM4OTdlMDc5MzEzNzQyMzJjM2NjNGU1MzUvbm9kZV9tb2R1bGVzL0ByZW93bi9hcHBraXQtY29udHJvbGxlcnMvZGlzdC9lc20vc3JjL3V0aWxzL0Fzc2V0VXRpbC5qcz9lZmQ3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHByb3h5IH0gZnJvbSAndmFsdGlvL3ZhbmlsbGEnO1xuaW1wb3J0IHsgQXBpQ29udHJvbGxlciB9IGZyb20gJy4uL2NvbnRyb2xsZXJzL0FwaUNvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgQXNzZXRDb250cm9sbGVyIH0gZnJvbSAnLi4vY29udHJvbGxlcnMvQXNzZXRDb250cm9sbGVyLmpzJztcbmNvbnN0IG5hbWVzcGFjZUltYWdlSWRzID0ge1xuICAgIC8vIEV0aGVyZXVtXG4gICAgZWlwMTU1OiAnYmEwYmEwY2QtMTdjNi00ODA2LWFkOTMtZjlkMTc0ZjE3OTAwJyxcbiAgICAvLyBTb2xhbmFcbiAgICBzb2xhbmE6ICdhMWI1ODg5OS1mNjcxLTQyNzYtNmE1ZS01NmNhNWJkNTk3MDAnLFxuICAgIC8vIFBvbGthZG90XG4gICAgcG9sa2Fkb3Q6ICcnLFxuICAgIC8vIEJpdGNvaW5cbiAgICBiaXAxMjI6ICcwYjQ4MzhkYi0wMTYxLTRmZmUtMDIyZC01MzJiZjAzZGJhMDAnLFxuICAgIC8vIENvc21vc1xuICAgIGNvc21vczogJycsXG4gICAgLy8gU3VpXG4gICAgc3VpOiAnJyxcbiAgICAvLyBTdGFja3NcbiAgICBzdGFja3M6ICcnXG59O1xuLy8gLS0gU3RhdGUgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5jb25zdCBzdGF0ZSA9IHByb3h5KHtcbiAgICBuZXR3b3JrSW1hZ2VQcm9taXNlczoge31cbn0pO1xuLy8gLS0gVXRpbCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5leHBvcnQgY29uc3QgQXNzZXRVdGlsID0ge1xuICAgIGFzeW5jIGZldGNoV2FsbGV0SW1hZ2UoaW1hZ2VJZCkge1xuICAgICAgICBpZiAoIWltYWdlSWQpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgYXdhaXQgQXBpQ29udHJvbGxlci5fZmV0Y2hXYWxsZXRJbWFnZShpbWFnZUlkKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0V2FsbGV0SW1hZ2VCeUlkKGltYWdlSWQpO1xuICAgIH0sXG4gICAgYXN5bmMgZmV0Y2hOZXR3b3JrSW1hZ2UoaW1hZ2VJZCkge1xuICAgICAgICBpZiAoIWltYWdlSWQpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZXhpc3RpbmdJbWFnZSA9IHRoaXMuZ2V0TmV0d29ya0ltYWdlQnlJZChpbWFnZUlkKTtcbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGltYWdlIGFscmVhZHkgZXhpc3RzXG4gICAgICAgIGlmIChleGlzdGluZ0ltYWdlKSB7XG4gICAgICAgICAgICByZXR1cm4gZXhpc3RpbmdJbWFnZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBDaGVjayBpZiB0aGUgcHJvbWlzZSBpcyBhbHJlYWR5IGNyZWF0ZWRcbiAgICAgICAgaWYgKCFzdGF0ZS5uZXR3b3JrSW1hZ2VQcm9taXNlc1tpbWFnZUlkXSkge1xuICAgICAgICAgICAgc3RhdGUubmV0d29ya0ltYWdlUHJvbWlzZXNbaW1hZ2VJZF0gPSBBcGlDb250cm9sbGVyLl9mZXRjaE5ldHdvcmtJbWFnZShpbWFnZUlkKTtcbiAgICAgICAgfVxuICAgICAgICBhd2FpdCBzdGF0ZS5uZXR3b3JrSW1hZ2VQcm9taXNlc1tpbWFnZUlkXTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TmV0d29ya0ltYWdlQnlJZChpbWFnZUlkKTtcbiAgICB9LFxuICAgIGdldFdhbGxldEltYWdlQnlJZChpbWFnZUlkKSB7XG4gICAgICAgIGlmICghaW1hZ2VJZCkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gQXNzZXRDb250cm9sbGVyLnN0YXRlLndhbGxldEltYWdlc1tpbWFnZUlkXTtcbiAgICB9LFxuICAgIGdldFdhbGxldEltYWdlKHdhbGxldCkge1xuICAgICAgICBpZiAod2FsbGV0Py5pbWFnZV91cmwpIHtcbiAgICAgICAgICAgIHJldHVybiB3YWxsZXQ/LmltYWdlX3VybDtcbiAgICAgICAgfVxuICAgICAgICBpZiAod2FsbGV0Py5pbWFnZV9pZCkge1xuICAgICAgICAgICAgcmV0dXJuIEFzc2V0Q29udHJvbGxlci5zdGF0ZS53YWxsZXRJbWFnZXNbd2FsbGV0LmltYWdlX2lkXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH0sXG4gICAgZ2V0TmV0d29ya0ltYWdlKG5ldHdvcmspIHtcbiAgICAgICAgaWYgKG5ldHdvcms/LmFzc2V0cz8uaW1hZ2VVcmwpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXR3b3JrPy5hc3NldHM/LmltYWdlVXJsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChuZXR3b3JrPy5hc3NldHM/LmltYWdlSWQpIHtcbiAgICAgICAgICAgIHJldHVybiBBc3NldENvbnRyb2xsZXIuc3RhdGUubmV0d29ya0ltYWdlc1tuZXR3b3JrLmFzc2V0cy5pbWFnZUlkXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH0sXG4gICAgZ2V0TmV0d29ya0ltYWdlQnlJZChpbWFnZUlkKSB7XG4gICAgICAgIGlmICghaW1hZ2VJZCkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gQXNzZXRDb250cm9sbGVyLnN0YXRlLm5ldHdvcmtJbWFnZXNbaW1hZ2VJZF07XG4gICAgfSxcbiAgICBnZXRDb25uZWN0b3JJbWFnZShjb25uZWN0b3IpIHtcbiAgICAgICAgaWYgKGNvbm5lY3Rvcj8uaW1hZ2VVcmwpIHtcbiAgICAgICAgICAgIHJldHVybiBjb25uZWN0b3IuaW1hZ2VVcmw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbm5lY3Rvcj8uaW5mbz8uaWNvbikge1xuICAgICAgICAgICAgcmV0dXJuIGNvbm5lY3Rvci5pbmZvLmljb247XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbm5lY3Rvcj8uaW1hZ2VJZCkge1xuICAgICAgICAgICAgcmV0dXJuIEFzc2V0Q29udHJvbGxlci5zdGF0ZS5jb25uZWN0b3JJbWFnZXNbY29ubmVjdG9yLmltYWdlSWRdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfSxcbiAgICBnZXRDaGFpbkltYWdlKGNoYWluKSB7XG4gICAgICAgIHJldHVybiBBc3NldENvbnRyb2xsZXIuc3RhdGUubmV0d29ya0ltYWdlc1tuYW1lc3BhY2VJbWFnZUlkc1tjaGFpbl1dO1xuICAgIH0sXG4gICAgZ2V0VG9rZW5JbWFnZShzeW1ib2wpIHtcbiAgICAgICAgaWYgKCFzeW1ib2wpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEFzc2V0Q29udHJvbGxlci5zdGF0ZS50b2tlbkltYWdlc1tzeW1ib2xdO1xuICAgIH1cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Bc3NldFV0aWwuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/AssetUtil.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/BalanceUtil.js":
/*!******************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/BalanceUtil.js ***!
  \******************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BalanceUtil: () => (/* binding */ BalanceUtil)\n/* harmony export */ });\n/* harmony import */ var viem__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! viem */ \"(ssr)/./node_modules/.pnpm/viem@2.38.6_bufferutil@4.0.9_typescript@5.9.3_utf-8-validate@5.0.10_zod@4.1.12/node_modules/viem/_esm/constants/abis.js\");\n/* harmony import */ var viem__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! viem */ \"(ssr)/./node_modules/.pnpm/viem@2.38.6_bufferutil@4.0.9_typescript@5.9.3_utf-8-validate@5.0.10_zod@4.1.12/node_modules/viem/_esm/utils/unit/formatUnits.js\");\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @reown/appkit-common */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-common@1.8.11_bufferutil@4.0.9_typescript@5.9.3_utf-8-validate@5.0.10_zod@4.1.12/node_modules/@reown/appkit-common/dist/esm/src/utils/ConstantsUtil.js\");\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @reown/appkit-common */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-common@1.8.11_bufferutil@4.0.9_typescript@5.9.3_utf-8-validate@5.0.10_zod@4.1.12/node_modules/@reown/appkit-common/dist/esm/src/utils/ParseUtil.js\");\n/* harmony import */ var _controllers_BlockchainApiController_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../controllers/BlockchainApiController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/BlockchainApiController.js\");\n/* harmony import */ var _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../controllers/ChainController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ChainController.js\");\n/* harmony import */ var _controllers_ConnectionController_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../controllers/ConnectionController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectionController.js\");\n/* harmony import */ var _controllers_ConnectorController_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../controllers/ConnectorController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectorController.js\");\n/* harmony import */ var _ERC7811Util_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ERC7811Util.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ERC7811Util.js\");\n/* harmony import */ var _StorageUtil_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./StorageUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/StorageUtil.js\");\n/* harmony import */ var _ViemUtil_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./ViemUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ViemUtil.js\");\n\n\n\n\n\n\n\n\n\n// -- Controller ---------------------------------------- //\nconst BalanceUtil = {\n    /**\n     * Get the balances of the user's tokens. If user connected with Auth provider or and on the EIP155 network,\n     * it'll use the `wallet_getAssets` and `wallet_getCapabilities` calls to fetch the balance rather than Blockchain API\n     * @param forceUpdate - If true, the balances will be fetched from the server\n     * @returns The balances of the user's tokens\n     */\n    async getMyTokensWithBalance(forceUpdate) {\n        const address = _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_0__.ChainController.getAccountData()?.address;\n        const caipNetwork = _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_0__.ChainController.state.activeCaipNetwork;\n        const isAuthConnector = _controllers_ConnectorController_js__WEBPACK_IMPORTED_MODULE_1__.ConnectorController.getConnectorId('eip155') === _reown_appkit_common__WEBPACK_IMPORTED_MODULE_2__.ConstantsUtil.CONNECTOR_ID.AUTH;\n        if (!address || !caipNetwork) {\n            return [];\n        }\n        const caipAddress = `${caipNetwork.caipNetworkId}:${address}`;\n        const cachedBalance = _StorageUtil_js__WEBPACK_IMPORTED_MODULE_3__.StorageUtil.getBalanceCacheForCaipAddress(caipAddress);\n        if (cachedBalance) {\n            return cachedBalance.balances;\n        }\n        // Extract EIP-155 specific logic\n        if (caipNetwork.chainNamespace === _reown_appkit_common__WEBPACK_IMPORTED_MODULE_2__.ConstantsUtil.CHAIN.EVM && isAuthConnector) {\n            const eip155Balances = await this.getEIP155Balances(address, caipNetwork);\n            if (eip155Balances) {\n                return this.filterLowQualityTokens(eip155Balances);\n            }\n        }\n        // Fallback to 1Inch API\n        const response = await _controllers_BlockchainApiController_js__WEBPACK_IMPORTED_MODULE_4__.BlockchainApiController.getBalance(address, caipNetwork.caipNetworkId, forceUpdate);\n        return this.filterLowQualityTokens(response.balances);\n    },\n    /**\n     * Get the balances of the user's tokens on the EIP155 network using native `wallet_getAssets` and `wallet_getCapabilities` calls\n     * @param address - The address of the user\n     * @param caipNetwork - The CAIP network\n     * @returns The balances of the user's tokens on the EIP155 network\n     */\n    async getEIP155Balances(address, caipNetwork) {\n        try {\n            const chainIdHex = _ERC7811Util_js__WEBPACK_IMPORTED_MODULE_5__.ERC7811Utils.getChainIdHexFromCAIP2ChainId(caipNetwork.caipNetworkId);\n            const walletCapabilities = (await _controllers_ConnectionController_js__WEBPACK_IMPORTED_MODULE_6__.ConnectionController.getCapabilities(address));\n            if (!walletCapabilities?.[chainIdHex]?.['assetDiscovery']?.supported) {\n                return null;\n            }\n            const walletGetAssetsResponse = await _controllers_ConnectionController_js__WEBPACK_IMPORTED_MODULE_6__.ConnectionController.walletGetAssets({\n                account: address,\n                chainFilter: [chainIdHex]\n            });\n            if (!_ERC7811Util_js__WEBPACK_IMPORTED_MODULE_5__.ERC7811Utils.isWalletGetAssetsResponse(walletGetAssetsResponse)) {\n                return null;\n            }\n            const assets = walletGetAssetsResponse[chainIdHex] || [];\n            const filteredAssets = assets.map(asset => _ERC7811Util_js__WEBPACK_IMPORTED_MODULE_5__.ERC7811Utils.createBalance(asset, caipNetwork.caipNetworkId));\n            _StorageUtil_js__WEBPACK_IMPORTED_MODULE_3__.StorageUtil.updateBalanceCache({\n                caipAddress: `${caipNetwork.caipNetworkId}:${address}`,\n                balance: { balances: filteredAssets },\n                timestamp: Date.now()\n            });\n            return filteredAssets;\n        }\n        catch (error) {\n            return null;\n        }\n    },\n    /**\n     * The 1Inch API includes many low-quality tokens in the balance response,\n     * which appear inconsistently. This filter prevents them from being displayed.\n     */\n    filterLowQualityTokens(balances) {\n        return balances.filter(balance => balance.quantity.decimals !== '0');\n    },\n    async fetchERC20Balance({ caipAddress, assetAddress, caipNetwork }) {\n        const publicClient = await _ViemUtil_js__WEBPACK_IMPORTED_MODULE_7__.ViemUtil.createViemPublicClient(caipNetwork);\n        const { address } = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_8__.ParseUtil.parseCaipAddress(caipAddress);\n        const [{ result: name }, { result: symbol }, { result: balance }, { result: decimals }] = await publicClient.multicall({\n            contracts: [\n                {\n                    address: assetAddress,\n                    functionName: 'name',\n                    args: [],\n                    abi: viem__WEBPACK_IMPORTED_MODULE_9__.erc20Abi\n                },\n                {\n                    address: assetAddress,\n                    functionName: 'symbol',\n                    args: [],\n                    abi: viem__WEBPACK_IMPORTED_MODULE_9__.erc20Abi\n                },\n                {\n                    address: assetAddress,\n                    functionName: 'balanceOf',\n                    args: [address],\n                    abi: viem__WEBPACK_IMPORTED_MODULE_9__.erc20Abi\n                },\n                {\n                    address: assetAddress,\n                    functionName: 'decimals',\n                    args: [],\n                    abi: viem__WEBPACK_IMPORTED_MODULE_9__.erc20Abi\n                }\n            ]\n        });\n        return {\n            name,\n            symbol,\n            decimals,\n            balance: balance && decimals ? (0,viem__WEBPACK_IMPORTED_MODULE_10__.formatUnits)(balance, decimals) : '0'\n        };\n    }\n};\n//# sourceMappingURL=BalanceUtil.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTFfQHJlYWN0LW5hdGl2ZS1hc3luYy1zdG9yYWdlK2FzeW5jLXN0b3JhZ2VAMi4yLjBfcmVhY3QtX2E4MDMyMTIzODk3ZTA3OTMxMzc0MjMyYzNjYzRlNTM1L25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy91dGlscy9CYWxhbmNlVXRpbC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBNkM7QUFDbUI7QUFDb0I7QUFDaEI7QUFDVTtBQUNGO0FBQzVCO0FBQ0Q7QUFDTjtBQUN6QztBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsNEVBQWU7QUFDdkMsNEJBQTRCLDRFQUFlO0FBQzNDLGdDQUFnQyxvRkFBbUIsOEJBQThCLCtEQUFhO0FBQzlGO0FBQ0E7QUFDQTtBQUNBLCtCQUErQiwwQkFBMEIsR0FBRyxRQUFRO0FBQ3BFLDhCQUE4Qix3REFBVztBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQywrREFBYTtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsNEZBQXVCO0FBQ3REO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IseURBQVk7QUFDM0MsOENBQThDLHNGQUFvQjtBQUNsRTtBQUNBO0FBQ0E7QUFDQSxrREFBa0Qsc0ZBQW9CO0FBQ3RFO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsaUJBQWlCLHlEQUFZO0FBQzdCO0FBQ0E7QUFDQTtBQUNBLHVEQUF1RCx5REFBWTtBQUNuRSxZQUFZLHdEQUFXO0FBQ3ZCLGdDQUFnQywwQkFBMEIsR0FBRyxRQUFRO0FBQ3JFLDJCQUEyQiwwQkFBMEI7QUFDckQ7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsOEJBQThCLHdDQUF3QztBQUN0RSxtQ0FBbUMsa0RBQVE7QUFDM0MsZ0JBQWdCLFVBQVUsRUFBRSwyREFBUztBQUNyQyxpQkFBaUIsY0FBYyxJQUFJLGdCQUFnQixJQUFJLGlCQUFpQixJQUFJLGtCQUFrQjtBQUM5RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLDBDQUFRO0FBQ2pDLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QiwwQ0FBUTtBQUNqQyxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsMENBQVE7QUFDakMsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLDBDQUFRO0FBQ2pDO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkMsa0RBQVc7QUFDdEQ7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ub2dnbHIvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTFfQHJlYWN0LW5hdGl2ZS1hc3luYy1zdG9yYWdlK2FzeW5jLXN0b3JhZ2VAMi4yLjBfcmVhY3QtX2E4MDMyMTIzODk3ZTA3OTMxMzc0MjMyYzNjYzRlNTM1L25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy91dGlscy9CYWxhbmNlVXRpbC5qcz9kZmI2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGVyYzIwQWJpLCBmb3JtYXRVbml0cyB9IGZyb20gJ3ZpZW0nO1xuaW1wb3J0IHsgQ29uc3RhbnRzVXRpbCwgUGFyc2VVdGlsIH0gZnJvbSAnQHJlb3duL2FwcGtpdC1jb21tb24nO1xuaW1wb3J0IHsgQmxvY2tjaGFpbkFwaUNvbnRyb2xsZXIgfSBmcm9tICcuLi9jb250cm9sbGVycy9CbG9ja2NoYWluQXBpQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBDaGFpbkNvbnRyb2xsZXIgfSBmcm9tICcuLi9jb250cm9sbGVycy9DaGFpbkNvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgQ29ubmVjdGlvbkNvbnRyb2xsZXIgfSBmcm9tICcuLi9jb250cm9sbGVycy9Db25uZWN0aW9uQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBDb25uZWN0b3JDb250cm9sbGVyIH0gZnJvbSAnLi4vY29udHJvbGxlcnMvQ29ubmVjdG9yQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBFUkM3ODExVXRpbHMgfSBmcm9tICcuL0VSQzc4MTFVdGlsLmpzJztcbmltcG9ydCB7IFN0b3JhZ2VVdGlsIH0gZnJvbSAnLi9TdG9yYWdlVXRpbC5qcyc7XG5pbXBvcnQgeyBWaWVtVXRpbCB9IGZyb20gJy4vVmllbVV0aWwuanMnO1xuLy8gLS0gQ29udHJvbGxlciAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5leHBvcnQgY29uc3QgQmFsYW5jZVV0aWwgPSB7XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBiYWxhbmNlcyBvZiB0aGUgdXNlcidzIHRva2Vucy4gSWYgdXNlciBjb25uZWN0ZWQgd2l0aCBBdXRoIHByb3ZpZGVyIG9yIGFuZCBvbiB0aGUgRUlQMTU1IG5ldHdvcmssXG4gICAgICogaXQnbGwgdXNlIHRoZSBgd2FsbGV0X2dldEFzc2V0c2AgYW5kIGB3YWxsZXRfZ2V0Q2FwYWJpbGl0aWVzYCBjYWxscyB0byBmZXRjaCB0aGUgYmFsYW5jZSByYXRoZXIgdGhhbiBCbG9ja2NoYWluIEFQSVxuICAgICAqIEBwYXJhbSBmb3JjZVVwZGF0ZSAtIElmIHRydWUsIHRoZSBiYWxhbmNlcyB3aWxsIGJlIGZldGNoZWQgZnJvbSB0aGUgc2VydmVyXG4gICAgICogQHJldHVybnMgVGhlIGJhbGFuY2VzIG9mIHRoZSB1c2VyJ3MgdG9rZW5zXG4gICAgICovXG4gICAgYXN5bmMgZ2V0TXlUb2tlbnNXaXRoQmFsYW5jZShmb3JjZVVwZGF0ZSkge1xuICAgICAgICBjb25zdCBhZGRyZXNzID0gQ2hhaW5Db250cm9sbGVyLmdldEFjY291bnREYXRhKCk/LmFkZHJlc3M7XG4gICAgICAgIGNvbnN0IGNhaXBOZXR3b3JrID0gQ2hhaW5Db250cm9sbGVyLnN0YXRlLmFjdGl2ZUNhaXBOZXR3b3JrO1xuICAgICAgICBjb25zdCBpc0F1dGhDb25uZWN0b3IgPSBDb25uZWN0b3JDb250cm9sbGVyLmdldENvbm5lY3RvcklkKCdlaXAxNTUnKSA9PT0gQ29uc3RhbnRzVXRpbC5DT05ORUNUT1JfSUQuQVVUSDtcbiAgICAgICAgaWYgKCFhZGRyZXNzIHx8ICFjYWlwTmV0d29yaykge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNhaXBBZGRyZXNzID0gYCR7Y2FpcE5ldHdvcmsuY2FpcE5ldHdvcmtJZH06JHthZGRyZXNzfWA7XG4gICAgICAgIGNvbnN0IGNhY2hlZEJhbGFuY2UgPSBTdG9yYWdlVXRpbC5nZXRCYWxhbmNlQ2FjaGVGb3JDYWlwQWRkcmVzcyhjYWlwQWRkcmVzcyk7XG4gICAgICAgIGlmIChjYWNoZWRCYWxhbmNlKSB7XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQmFsYW5jZS5iYWxhbmNlcztcbiAgICAgICAgfVxuICAgICAgICAvLyBFeHRyYWN0IEVJUC0xNTUgc3BlY2lmaWMgbG9naWNcbiAgICAgICAgaWYgKGNhaXBOZXR3b3JrLmNoYWluTmFtZXNwYWNlID09PSBDb25zdGFudHNVdGlsLkNIQUlOLkVWTSAmJiBpc0F1dGhDb25uZWN0b3IpIHtcbiAgICAgICAgICAgIGNvbnN0IGVpcDE1NUJhbGFuY2VzID0gYXdhaXQgdGhpcy5nZXRFSVAxNTVCYWxhbmNlcyhhZGRyZXNzLCBjYWlwTmV0d29yayk7XG4gICAgICAgICAgICBpZiAoZWlwMTU1QmFsYW5jZXMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5maWx0ZXJMb3dRdWFsaXR5VG9rZW5zKGVpcDE1NUJhbGFuY2VzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBGYWxsYmFjayB0byAxSW5jaCBBUElcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBCbG9ja2NoYWluQXBpQ29udHJvbGxlci5nZXRCYWxhbmNlKGFkZHJlc3MsIGNhaXBOZXR3b3JrLmNhaXBOZXR3b3JrSWQsIGZvcmNlVXBkYXRlKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmlsdGVyTG93UXVhbGl0eVRva2VucyhyZXNwb25zZS5iYWxhbmNlcyk7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGJhbGFuY2VzIG9mIHRoZSB1c2VyJ3MgdG9rZW5zIG9uIHRoZSBFSVAxNTUgbmV0d29yayB1c2luZyBuYXRpdmUgYHdhbGxldF9nZXRBc3NldHNgIGFuZCBgd2FsbGV0X2dldENhcGFiaWxpdGllc2AgY2FsbHNcbiAgICAgKiBAcGFyYW0gYWRkcmVzcyAtIFRoZSBhZGRyZXNzIG9mIHRoZSB1c2VyXG4gICAgICogQHBhcmFtIGNhaXBOZXR3b3JrIC0gVGhlIENBSVAgbmV0d29ya1xuICAgICAqIEByZXR1cm5zIFRoZSBiYWxhbmNlcyBvZiB0aGUgdXNlcidzIHRva2VucyBvbiB0aGUgRUlQMTU1IG5ldHdvcmtcbiAgICAgKi9cbiAgICBhc3luYyBnZXRFSVAxNTVCYWxhbmNlcyhhZGRyZXNzLCBjYWlwTmV0d29yaykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgY2hhaW5JZEhleCA9IEVSQzc4MTFVdGlscy5nZXRDaGFpbklkSGV4RnJvbUNBSVAyQ2hhaW5JZChjYWlwTmV0d29yay5jYWlwTmV0d29ya0lkKTtcbiAgICAgICAgICAgIGNvbnN0IHdhbGxldENhcGFiaWxpdGllcyA9IChhd2FpdCBDb25uZWN0aW9uQ29udHJvbGxlci5nZXRDYXBhYmlsaXRpZXMoYWRkcmVzcykpO1xuICAgICAgICAgICAgaWYgKCF3YWxsZXRDYXBhYmlsaXRpZXM/LltjaGFpbklkSGV4XT8uWydhc3NldERpc2NvdmVyeSddPy5zdXBwb3J0ZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHdhbGxldEdldEFzc2V0c1Jlc3BvbnNlID0gYXdhaXQgQ29ubmVjdGlvbkNvbnRyb2xsZXIud2FsbGV0R2V0QXNzZXRzKHtcbiAgICAgICAgICAgICAgICBhY2NvdW50OiBhZGRyZXNzLFxuICAgICAgICAgICAgICAgIGNoYWluRmlsdGVyOiBbY2hhaW5JZEhleF1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKCFFUkM3ODExVXRpbHMuaXNXYWxsZXRHZXRBc3NldHNSZXNwb25zZSh3YWxsZXRHZXRBc3NldHNSZXNwb25zZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGFzc2V0cyA9IHdhbGxldEdldEFzc2V0c1Jlc3BvbnNlW2NoYWluSWRIZXhdIHx8IFtdO1xuICAgICAgICAgICAgY29uc3QgZmlsdGVyZWRBc3NldHMgPSBhc3NldHMubWFwKGFzc2V0ID0+IEVSQzc4MTFVdGlscy5jcmVhdGVCYWxhbmNlKGFzc2V0LCBjYWlwTmV0d29yay5jYWlwTmV0d29ya0lkKSk7XG4gICAgICAgICAgICBTdG9yYWdlVXRpbC51cGRhdGVCYWxhbmNlQ2FjaGUoe1xuICAgICAgICAgICAgICAgIGNhaXBBZGRyZXNzOiBgJHtjYWlwTmV0d29yay5jYWlwTmV0d29ya0lkfToke2FkZHJlc3N9YCxcbiAgICAgICAgICAgICAgICBiYWxhbmNlOiB7IGJhbGFuY2VzOiBmaWx0ZXJlZEFzc2V0cyB9LFxuICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gZmlsdGVyZWRBc3NldHM7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgLyoqXG4gICAgICogVGhlIDFJbmNoIEFQSSBpbmNsdWRlcyBtYW55IGxvdy1xdWFsaXR5IHRva2VucyBpbiB0aGUgYmFsYW5jZSByZXNwb25zZSxcbiAgICAgKiB3aGljaCBhcHBlYXIgaW5jb25zaXN0ZW50bHkuIFRoaXMgZmlsdGVyIHByZXZlbnRzIHRoZW0gZnJvbSBiZWluZyBkaXNwbGF5ZWQuXG4gICAgICovXG4gICAgZmlsdGVyTG93UXVhbGl0eVRva2VucyhiYWxhbmNlcykge1xuICAgICAgICByZXR1cm4gYmFsYW5jZXMuZmlsdGVyKGJhbGFuY2UgPT4gYmFsYW5jZS5xdWFudGl0eS5kZWNpbWFscyAhPT0gJzAnKTtcbiAgICB9LFxuICAgIGFzeW5jIGZldGNoRVJDMjBCYWxhbmNlKHsgY2FpcEFkZHJlc3MsIGFzc2V0QWRkcmVzcywgY2FpcE5ldHdvcmsgfSkge1xuICAgICAgICBjb25zdCBwdWJsaWNDbGllbnQgPSBhd2FpdCBWaWVtVXRpbC5jcmVhdGVWaWVtUHVibGljQ2xpZW50KGNhaXBOZXR3b3JrKTtcbiAgICAgICAgY29uc3QgeyBhZGRyZXNzIH0gPSBQYXJzZVV0aWwucGFyc2VDYWlwQWRkcmVzcyhjYWlwQWRkcmVzcyk7XG4gICAgICAgIGNvbnN0IFt7IHJlc3VsdDogbmFtZSB9LCB7IHJlc3VsdDogc3ltYm9sIH0sIHsgcmVzdWx0OiBiYWxhbmNlIH0sIHsgcmVzdWx0OiBkZWNpbWFscyB9XSA9IGF3YWl0IHB1YmxpY0NsaWVudC5tdWx0aWNhbGwoe1xuICAgICAgICAgICAgY29udHJhY3RzOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBhZGRyZXNzOiBhc3NldEFkZHJlc3MsXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uTmFtZTogJ25hbWUnLFxuICAgICAgICAgICAgICAgICAgICBhcmdzOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgYWJpOiBlcmMyMEFiaVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBhZGRyZXNzOiBhc3NldEFkZHJlc3MsXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uTmFtZTogJ3N5bWJvbCcsXG4gICAgICAgICAgICAgICAgICAgIGFyZ3M6IFtdLFxuICAgICAgICAgICAgICAgICAgICBhYmk6IGVyYzIwQWJpXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGFkZHJlc3M6IGFzc2V0QWRkcmVzcyxcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb25OYW1lOiAnYmFsYW5jZU9mJyxcbiAgICAgICAgICAgICAgICAgICAgYXJnczogW2FkZHJlc3NdLFxuICAgICAgICAgICAgICAgICAgICBhYmk6IGVyYzIwQWJpXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGFkZHJlc3M6IGFzc2V0QWRkcmVzcyxcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb25OYW1lOiAnZGVjaW1hbHMnLFxuICAgICAgICAgICAgICAgICAgICBhcmdzOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgYWJpOiBlcmMyMEFiaVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgc3ltYm9sLFxuICAgICAgICAgICAgZGVjaW1hbHMsXG4gICAgICAgICAgICBiYWxhbmNlOiBiYWxhbmNlICYmIGRlY2ltYWxzID8gZm9ybWF0VW5pdHMoYmFsYW5jZSwgZGVjaW1hbHMpIDogJzAnXG4gICAgICAgIH07XG4gICAgfVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJhbGFuY2VVdGlsLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/BalanceUtil.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ChainControllerUtil.js":
/*!**************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ChainControllerUtil.js ***!
  \**************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getActiveCaipNetwork: () => (/* binding */ getActiveCaipNetwork),\n/* harmony export */   getActiveNetworkTokenAddress: () => (/* binding */ getActiveNetworkTokenAddress),\n/* harmony export */   getChainsToDisconnect: () => (/* binding */ getChainsToDisconnect),\n/* harmony export */   getPreferredAccountType: () => (/* binding */ getPreferredAccountType)\n/* harmony export */ });\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @reown/appkit-common */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-common@1.8.11_bufferutil@4.0.9_typescript@5.9.3_utf-8-validate@5.0.10_zod@4.1.12/node_modules/@reown/appkit-common/dist/esm/src/utils/ConstantsUtil.js\");\n/* harmony import */ var _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../controllers/ChainController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ChainController.js\");\n/* harmony import */ var _ConnectorControllerUtil_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ConnectorControllerUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ConnectorControllerUtil.js\");\n/* harmony import */ var _ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ConstantsUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ConstantsUtil.js\");\n\n\n\n\n/**\n * Returns the array of chains to disconnect from the connector with the given namespace.\n * If no namespace is provided, it returns all chains.\n * @param namespace - The namespace of the connector to disconnect from.\n * @returns An array of chains to disconnect.\n */\nfunction getChainsToDisconnect(namespace) {\n    const namespaces = Array.from(_controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_0__.ChainController.state.chains.keys());\n    let chains = [];\n    if (namespace) {\n        chains.push([namespace, _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_0__.ChainController.state.chains.get(namespace)]);\n        if (_ConnectorControllerUtil_js__WEBPACK_IMPORTED_MODULE_1__.ConnectorControllerUtil.checkNamespaceConnectorId(namespace, _reown_appkit_common__WEBPACK_IMPORTED_MODULE_2__.ConstantsUtil.CONNECTOR_ID.WALLET_CONNECT)) {\n            namespaces.forEach(ns => {\n                if (ns !== namespace &&\n                    _ConnectorControllerUtil_js__WEBPACK_IMPORTED_MODULE_1__.ConnectorControllerUtil.checkNamespaceConnectorId(ns, _reown_appkit_common__WEBPACK_IMPORTED_MODULE_2__.ConstantsUtil.CONNECTOR_ID.WALLET_CONNECT)) {\n                    chains.push([ns, _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_0__.ChainController.state.chains.get(ns)]);\n                }\n            });\n        }\n        else if (_ConnectorControllerUtil_js__WEBPACK_IMPORTED_MODULE_1__.ConnectorControllerUtil.checkNamespaceConnectorId(namespace, _reown_appkit_common__WEBPACK_IMPORTED_MODULE_2__.ConstantsUtil.CONNECTOR_ID.AUTH)) {\n            namespaces.forEach(ns => {\n                if (ns !== namespace &&\n                    _ConnectorControllerUtil_js__WEBPACK_IMPORTED_MODULE_1__.ConnectorControllerUtil.checkNamespaceConnectorId(ns, _reown_appkit_common__WEBPACK_IMPORTED_MODULE_2__.ConstantsUtil.CONNECTOR_ID.AUTH)) {\n                    chains.push([ns, _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_0__.ChainController.state.chains.get(ns)]);\n                }\n            });\n        }\n    }\n    else {\n        chains = Array.from(_controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_0__.ChainController.state.chains.entries());\n    }\n    return chains;\n}\n/**\n * Get the active network token address\n * @returns The active network token address\n */\nfunction getActiveNetworkTokenAddress() {\n    const namespace = _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_0__.ChainController.state.activeCaipNetwork?.chainNamespace || 'eip155';\n    const chainId = _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_0__.ChainController.state.activeCaipNetwork?.id || 1;\n    const address = _ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_3__.ConstantsUtil.NATIVE_TOKEN_ADDRESS[namespace];\n    return `${namespace}:${chainId}:${address}`;\n}\n/**\n * Get the preferred account type for a given namespace\n * @param namespace - The namespace of the account\n * @returns The preferred account type\n */\nfunction getPreferredAccountType(namespace) {\n    const preferredAccountType = _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_0__.ChainController.getAccountData(namespace)?.preferredAccountType;\n    return preferredAccountType;\n}\n/**\n * Get the active CAIP network for a given chain namespace, if no namespace is provided, it returns the active CAIP network\n * @param chainNamespace - The chain namespace to get the active CAIP network for\n * @returns The active CAIP network\n */\nfunction getActiveCaipNetwork(chainNamespace) {\n    if (chainNamespace) {\n        return _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_0__.ChainController.state.chains.get(chainNamespace)?.networkState?.caipNetwork;\n    }\n    return _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_0__.ChainController.state.activeCaipNetwork;\n}\n//# sourceMappingURL=ChainControllerUtil.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTFfQHJlYWN0LW5hdGl2ZS1hc3luYy1zdG9yYWdlK2FzeW5jLXN0b3JhZ2VAMi4yLjBfcmVhY3QtX2E4MDMyMTIzODk3ZTA3OTMxMzc0MjMyYzNjYzRlNTM1L25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy91dGlscy9DaGFpbkNvbnRyb2xsZXJVdGlsLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQTRFO0FBQ1I7QUFDRztBQUNwQjtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLGtDQUFrQyw0RUFBZTtBQUNqRDtBQUNBO0FBQ0EsZ0NBQWdDLDRFQUFlO0FBQy9DLFlBQVksZ0ZBQXVCLHNDQUFzQywrREFBbUI7QUFDNUY7QUFDQTtBQUNBLG9CQUFvQixnRkFBdUIsK0JBQStCLCtEQUFtQjtBQUM3RixxQ0FBcUMsNEVBQWU7QUFDcEQ7QUFDQSxhQUFhO0FBQ2I7QUFDQSxpQkFBaUIsZ0ZBQXVCLHNDQUFzQywrREFBbUI7QUFDakc7QUFDQTtBQUNBLG9CQUFvQixnRkFBdUIsK0JBQStCLCtEQUFtQjtBQUM3RixxQ0FBcUMsNEVBQWU7QUFDcEQ7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLDRFQUFlO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCxzQkFBc0IsNEVBQWU7QUFDckMsb0JBQW9CLDRFQUFlO0FBQ25DLG9CQUFvQiw0REFBYTtBQUNqQyxjQUFjLFVBQVUsR0FBRyxRQUFRLEdBQUcsUUFBUTtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLGlDQUFpQyw0RUFBZTtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQSxlQUFlLDRFQUFlO0FBQzlCO0FBQ0EsV0FBVyw0RUFBZTtBQUMxQjtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm9nZ2xyLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0ByZW93bithcHBraXQtY29udHJvbGxlcnNAMS44LjExX0ByZWFjdC1uYXRpdmUtYXN5bmMtc3RvcmFnZSthc3luYy1zdG9yYWdlQDIuMi4wX3JlYWN0LV9hODAzMjEyMzg5N2UwNzkzMTM3NDIzMmMzY2M0ZTUzNS9ub2RlX21vZHVsZXMvQHJlb3duL2FwcGtpdC1jb250cm9sbGVycy9kaXN0L2VzbS9zcmMvdXRpbHMvQ2hhaW5Db250cm9sbGVyVXRpbC5qcz9kZmZiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbnN0YW50c1V0aWwgYXMgQ29tbW9uQ29uc3RhbnRzVXRpbCB9IGZyb20gJ0ByZW93bi9hcHBraXQtY29tbW9uJztcbmltcG9ydCB7IENoYWluQ29udHJvbGxlciB9IGZyb20gJy4uL2NvbnRyb2xsZXJzL0NoYWluQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBDb25uZWN0b3JDb250cm9sbGVyVXRpbCB9IGZyb20gJy4vQ29ubmVjdG9yQ29udHJvbGxlclV0aWwuanMnO1xuaW1wb3J0IHsgQ29uc3RhbnRzVXRpbCB9IGZyb20gJy4vQ29uc3RhbnRzVXRpbC5qcyc7XG4vKipcbiAqIFJldHVybnMgdGhlIGFycmF5IG9mIGNoYWlucyB0byBkaXNjb25uZWN0IGZyb20gdGhlIGNvbm5lY3RvciB3aXRoIHRoZSBnaXZlbiBuYW1lc3BhY2UuXG4gKiBJZiBubyBuYW1lc3BhY2UgaXMgcHJvdmlkZWQsIGl0IHJldHVybnMgYWxsIGNoYWlucy5cbiAqIEBwYXJhbSBuYW1lc3BhY2UgLSBUaGUgbmFtZXNwYWNlIG9mIHRoZSBjb25uZWN0b3IgdG8gZGlzY29ubmVjdCBmcm9tLlxuICogQHJldHVybnMgQW4gYXJyYXkgb2YgY2hhaW5zIHRvIGRpc2Nvbm5lY3QuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRDaGFpbnNUb0Rpc2Nvbm5lY3QobmFtZXNwYWNlKSB7XG4gICAgY29uc3QgbmFtZXNwYWNlcyA9IEFycmF5LmZyb20oQ2hhaW5Db250cm9sbGVyLnN0YXRlLmNoYWlucy5rZXlzKCkpO1xuICAgIGxldCBjaGFpbnMgPSBbXTtcbiAgICBpZiAobmFtZXNwYWNlKSB7XG4gICAgICAgIGNoYWlucy5wdXNoKFtuYW1lc3BhY2UsIENoYWluQ29udHJvbGxlci5zdGF0ZS5jaGFpbnMuZ2V0KG5hbWVzcGFjZSldKTtcbiAgICAgICAgaWYgKENvbm5lY3RvckNvbnRyb2xsZXJVdGlsLmNoZWNrTmFtZXNwYWNlQ29ubmVjdG9ySWQobmFtZXNwYWNlLCBDb21tb25Db25zdGFudHNVdGlsLkNPTk5FQ1RPUl9JRC5XQUxMRVRfQ09OTkVDVCkpIHtcbiAgICAgICAgICAgIG5hbWVzcGFjZXMuZm9yRWFjaChucyA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKG5zICE9PSBuYW1lc3BhY2UgJiZcbiAgICAgICAgICAgICAgICAgICAgQ29ubmVjdG9yQ29udHJvbGxlclV0aWwuY2hlY2tOYW1lc3BhY2VDb25uZWN0b3JJZChucywgQ29tbW9uQ29uc3RhbnRzVXRpbC5DT05ORUNUT1JfSUQuV0FMTEVUX0NPTk5FQ1QpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoYWlucy5wdXNoKFtucywgQ2hhaW5Db250cm9sbGVyLnN0YXRlLmNoYWlucy5nZXQobnMpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoQ29ubmVjdG9yQ29udHJvbGxlclV0aWwuY2hlY2tOYW1lc3BhY2VDb25uZWN0b3JJZChuYW1lc3BhY2UsIENvbW1vbkNvbnN0YW50c1V0aWwuQ09OTkVDVE9SX0lELkFVVEgpKSB7XG4gICAgICAgICAgICBuYW1lc3BhY2VzLmZvckVhY2gobnMgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChucyAhPT0gbmFtZXNwYWNlICYmXG4gICAgICAgICAgICAgICAgICAgIENvbm5lY3RvckNvbnRyb2xsZXJVdGlsLmNoZWNrTmFtZXNwYWNlQ29ubmVjdG9ySWQobnMsIENvbW1vbkNvbnN0YW50c1V0aWwuQ09OTkVDVE9SX0lELkFVVEgpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoYWlucy5wdXNoKFtucywgQ2hhaW5Db250cm9sbGVyLnN0YXRlLmNoYWlucy5nZXQobnMpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNoYWlucyA9IEFycmF5LmZyb20oQ2hhaW5Db250cm9sbGVyLnN0YXRlLmNoYWlucy5lbnRyaWVzKCkpO1xuICAgIH1cbiAgICByZXR1cm4gY2hhaW5zO1xufVxuLyoqXG4gKiBHZXQgdGhlIGFjdGl2ZSBuZXR3b3JrIHRva2VuIGFkZHJlc3NcbiAqIEByZXR1cm5zIFRoZSBhY3RpdmUgbmV0d29yayB0b2tlbiBhZGRyZXNzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRBY3RpdmVOZXR3b3JrVG9rZW5BZGRyZXNzKCkge1xuICAgIGNvbnN0IG5hbWVzcGFjZSA9IENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDYWlwTmV0d29yaz8uY2hhaW5OYW1lc3BhY2UgfHwgJ2VpcDE1NSc7XG4gICAgY29uc3QgY2hhaW5JZCA9IENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDYWlwTmV0d29yaz8uaWQgfHwgMTtcbiAgICBjb25zdCBhZGRyZXNzID0gQ29uc3RhbnRzVXRpbC5OQVRJVkVfVE9LRU5fQUREUkVTU1tuYW1lc3BhY2VdO1xuICAgIHJldHVybiBgJHtuYW1lc3BhY2V9OiR7Y2hhaW5JZH06JHthZGRyZXNzfWA7XG59XG4vKipcbiAqIEdldCB0aGUgcHJlZmVycmVkIGFjY291bnQgdHlwZSBmb3IgYSBnaXZlbiBuYW1lc3BhY2VcbiAqIEBwYXJhbSBuYW1lc3BhY2UgLSBUaGUgbmFtZXNwYWNlIG9mIHRoZSBhY2NvdW50XG4gKiBAcmV0dXJucyBUaGUgcHJlZmVycmVkIGFjY291bnQgdHlwZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0UHJlZmVycmVkQWNjb3VudFR5cGUobmFtZXNwYWNlKSB7XG4gICAgY29uc3QgcHJlZmVycmVkQWNjb3VudFR5cGUgPSBDaGFpbkNvbnRyb2xsZXIuZ2V0QWNjb3VudERhdGEobmFtZXNwYWNlKT8ucHJlZmVycmVkQWNjb3VudFR5cGU7XG4gICAgcmV0dXJuIHByZWZlcnJlZEFjY291bnRUeXBlO1xufVxuLyoqXG4gKiBHZXQgdGhlIGFjdGl2ZSBDQUlQIG5ldHdvcmsgZm9yIGEgZ2l2ZW4gY2hhaW4gbmFtZXNwYWNlLCBpZiBubyBuYW1lc3BhY2UgaXMgcHJvdmlkZWQsIGl0IHJldHVybnMgdGhlIGFjdGl2ZSBDQUlQIG5ldHdvcmtcbiAqIEBwYXJhbSBjaGFpbk5hbWVzcGFjZSAtIFRoZSBjaGFpbiBuYW1lc3BhY2UgdG8gZ2V0IHRoZSBhY3RpdmUgQ0FJUCBuZXR3b3JrIGZvclxuICogQHJldHVybnMgVGhlIGFjdGl2ZSBDQUlQIG5ldHdvcmtcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEFjdGl2ZUNhaXBOZXR3b3JrKGNoYWluTmFtZXNwYWNlKSB7XG4gICAgaWYgKGNoYWluTmFtZXNwYWNlKSB7XG4gICAgICAgIHJldHVybiBDaGFpbkNvbnRyb2xsZXIuc3RhdGUuY2hhaW5zLmdldChjaGFpbk5hbWVzcGFjZSk/Lm5ldHdvcmtTdGF0ZT8uY2FpcE5ldHdvcms7XG4gICAgfVxuICAgIHJldHVybiBDaGFpbkNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ2FpcE5ldHdvcms7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1DaGFpbkNvbnRyb2xsZXJVdGlsLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ChainControllerUtil.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ConnectionControllerUtil.js":
/*!*******************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ConnectionControllerUtil.js ***!
  \*******************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ConnectionControllerUtil: () => (/* binding */ ConnectionControllerUtil)\n/* harmony export */ });\n/* harmony import */ var _controllers_ConnectionController_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../controllers/ConnectionController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectionController.js\");\n/* harmony import */ var _controllers_ConnectorController_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../controllers/ConnectorController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectorController.js\");\n/* harmony import */ var _controllers_OptionsController_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../controllers/OptionsController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/OptionsController.js\");\n\n\n\n\n// -- Utils ------------------------------------------ //\nconst ConnectionControllerUtil = {\n    getConnectionStatus(connection, namespace) {\n        const connectedConnectorId = _controllers_ConnectorController_js__WEBPACK_IMPORTED_MODULE_0__.ConnectorController.state.activeConnectorIds[namespace];\n        const connections = _controllers_ConnectionController_js__WEBPACK_IMPORTED_MODULE_1__.ConnectionController.getConnections(namespace);\n        const isConnectorConnected = Boolean(connectedConnectorId) && connection.connectorId === connectedConnectorId;\n        if (isConnectorConnected) {\n            return 'connected';\n        }\n        const isConnectionConnected = connections.some(c => c.connectorId.toLowerCase() === connection.connectorId.toLowerCase());\n        if (isConnectionConnected) {\n            return 'active';\n        }\n        return 'disconnected';\n    },\n    excludeConnectorAddressFromConnections({ connections, connectorId, addresses }) {\n        return connections.map(connection => {\n            const isConnectorMatch = connectorId\n                ? connection.connectorId.toLowerCase() === connectorId.toLowerCase()\n                : false;\n            if (isConnectorMatch && addresses) {\n                const filteredAccounts = connection.accounts.filter(account => {\n                    const isAddressIncluded = addresses.some(address => address.toLowerCase() === account.address.toLowerCase());\n                    return !isAddressIncluded;\n                });\n                return { ...connection, accounts: filteredAccounts };\n            }\n            return connection;\n        });\n    },\n    excludeExistingConnections(connectorIds, newConnections) {\n        const existingConnectorIds = new Set(connectorIds);\n        return newConnections.filter(c => !existingConnectorIds.has(c.connectorId));\n    },\n    getConnectionsByConnectorId(connections, connectorId) {\n        return connections.filter(c => c.connectorId.toLowerCase() === connectorId.toLowerCase());\n    },\n    getConnectionsData(namespace) {\n        const isMultiWalletEnabled = Boolean(_controllers_OptionsController_js__WEBPACK_IMPORTED_MODULE_2__.OptionsController.state.remoteFeatures?.multiWallet);\n        const activeConnectorId = _controllers_ConnectorController_js__WEBPACK_IMPORTED_MODULE_0__.ConnectorController.state.activeConnectorIds[namespace];\n        const connections = _controllers_ConnectionController_js__WEBPACK_IMPORTED_MODULE_1__.ConnectionController.getConnections(namespace);\n        const recentConnections = _controllers_ConnectionController_js__WEBPACK_IMPORTED_MODULE_1__.ConnectionController.state.recentConnections.get(namespace) ?? [];\n        const recentConnectionsWithCurrentActiveConnectors = recentConnections.filter(connection => _controllers_ConnectorController_js__WEBPACK_IMPORTED_MODULE_0__.ConnectorController.getConnectorById(connection.connectorId));\n        const dedupedRecentConnections = ConnectionControllerUtil.excludeExistingConnections([...connections.map(c => c.connectorId), ...(activeConnectorId ? [activeConnectorId] : [])], recentConnectionsWithCurrentActiveConnectors);\n        if (!isMultiWalletEnabled) {\n            return {\n                connections: connections.filter(c => c.connectorId.toLowerCase() === activeConnectorId?.toLowerCase()),\n                recentConnections: []\n            };\n        }\n        return {\n            connections,\n            recentConnections: dedupedRecentConnections\n        };\n    }\n};\n//# sourceMappingURL=ConnectionControllerUtil.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTFfQHJlYWN0LW5hdGl2ZS1hc3luYy1zdG9yYWdlK2FzeW5jLXN0b3JhZ2VAMi4yLjBfcmVhY3QtX2E4MDMyMTIzODk3ZTA3OTMxMzc0MjMyYzNjYzRlNTM1L25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy91dGlscy9Db25uZWN0aW9uQ29udHJvbGxlclV0aWwuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFzQztBQUN3QztBQUNGO0FBQ0o7QUFDeEU7QUFDTztBQUNQO0FBQ0EscUNBQXFDLG9GQUFtQjtBQUN4RCw0QkFBNEIsc0ZBQW9CO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCw2Q0FBNkMscUNBQXFDO0FBQ2xGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsNkNBQTZDLGdGQUFpQjtBQUM5RCxrQ0FBa0Msb0ZBQW1CO0FBQ3JELDRCQUE0QixzRkFBb0I7QUFDaEQsa0NBQWtDLHNGQUFvQjtBQUN0RCxvR0FBb0csb0ZBQW1CO0FBQ3ZIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ub2dnbHIvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTFfQHJlYWN0LW5hdGl2ZS1hc3luYy1zdG9yYWdlK2FzeW5jLXN0b3JhZ2VAMi4yLjBfcmVhY3QtX2E4MDMyMTIzODk3ZTA3OTMxMzc0MjMyYzNjYzRlNTM1L25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy91dGlscy9Db25uZWN0aW9uQ29udHJvbGxlclV0aWwuanM/NWU3MyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge30gZnJvbSAnQHJlb3duL2FwcGtpdC1jb21tb24nO1xuaW1wb3J0IHsgQ29ubmVjdGlvbkNvbnRyb2xsZXIgfSBmcm9tICcuLi9jb250cm9sbGVycy9Db25uZWN0aW9uQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBDb25uZWN0b3JDb250cm9sbGVyIH0gZnJvbSAnLi4vY29udHJvbGxlcnMvQ29ubmVjdG9yQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBPcHRpb25zQ29udHJvbGxlciB9IGZyb20gJy4uL2NvbnRyb2xsZXJzL09wdGlvbnNDb250cm9sbGVyLmpzJztcbi8vIC0tIFV0aWxzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuZXhwb3J0IGNvbnN0IENvbm5lY3Rpb25Db250cm9sbGVyVXRpbCA9IHtcbiAgICBnZXRDb25uZWN0aW9uU3RhdHVzKGNvbm5lY3Rpb24sIG5hbWVzcGFjZSkge1xuICAgICAgICBjb25zdCBjb25uZWN0ZWRDb25uZWN0b3JJZCA9IENvbm5lY3RvckNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ29ubmVjdG9ySWRzW25hbWVzcGFjZV07XG4gICAgICAgIGNvbnN0IGNvbm5lY3Rpb25zID0gQ29ubmVjdGlvbkNvbnRyb2xsZXIuZ2V0Q29ubmVjdGlvbnMobmFtZXNwYWNlKTtcbiAgICAgICAgY29uc3QgaXNDb25uZWN0b3JDb25uZWN0ZWQgPSBCb29sZWFuKGNvbm5lY3RlZENvbm5lY3RvcklkKSAmJiBjb25uZWN0aW9uLmNvbm5lY3RvcklkID09PSBjb25uZWN0ZWRDb25uZWN0b3JJZDtcbiAgICAgICAgaWYgKGlzQ29ubmVjdG9yQ29ubmVjdGVkKSB7XG4gICAgICAgICAgICByZXR1cm4gJ2Nvbm5lY3RlZCc7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaXNDb25uZWN0aW9uQ29ubmVjdGVkID0gY29ubmVjdGlvbnMuc29tZShjID0+IGMuY29ubmVjdG9ySWQudG9Mb3dlckNhc2UoKSA9PT0gY29ubmVjdGlvbi5jb25uZWN0b3JJZC50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgaWYgKGlzQ29ubmVjdGlvbkNvbm5lY3RlZCkge1xuICAgICAgICAgICAgcmV0dXJuICdhY3RpdmUnO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAnZGlzY29ubmVjdGVkJztcbiAgICB9LFxuICAgIGV4Y2x1ZGVDb25uZWN0b3JBZGRyZXNzRnJvbUNvbm5lY3Rpb25zKHsgY29ubmVjdGlvbnMsIGNvbm5lY3RvcklkLCBhZGRyZXNzZXMgfSkge1xuICAgICAgICByZXR1cm4gY29ubmVjdGlvbnMubWFwKGNvbm5lY3Rpb24gPT4ge1xuICAgICAgICAgICAgY29uc3QgaXNDb25uZWN0b3JNYXRjaCA9IGNvbm5lY3RvcklkXG4gICAgICAgICAgICAgICAgPyBjb25uZWN0aW9uLmNvbm5lY3RvcklkLnRvTG93ZXJDYXNlKCkgPT09IGNvbm5lY3RvcklkLnRvTG93ZXJDYXNlKClcbiAgICAgICAgICAgICAgICA6IGZhbHNlO1xuICAgICAgICAgICAgaWYgKGlzQ29ubmVjdG9yTWF0Y2ggJiYgYWRkcmVzc2VzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZmlsdGVyZWRBY2NvdW50cyA9IGNvbm5lY3Rpb24uYWNjb3VudHMuZmlsdGVyKGFjY291bnQgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpc0FkZHJlc3NJbmNsdWRlZCA9IGFkZHJlc3Nlcy5zb21lKGFkZHJlc3MgPT4gYWRkcmVzcy50b0xvd2VyQ2FzZSgpID09PSBhY2NvdW50LmFkZHJlc3MudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAhaXNBZGRyZXNzSW5jbHVkZWQ7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgLi4uY29ubmVjdGlvbiwgYWNjb3VudHM6IGZpbHRlcmVkQWNjb3VudHMgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjb25uZWN0aW9uO1xuICAgICAgICB9KTtcbiAgICB9LFxuICAgIGV4Y2x1ZGVFeGlzdGluZ0Nvbm5lY3Rpb25zKGNvbm5lY3RvcklkcywgbmV3Q29ubmVjdGlvbnMpIHtcbiAgICAgICAgY29uc3QgZXhpc3RpbmdDb25uZWN0b3JJZHMgPSBuZXcgU2V0KGNvbm5lY3Rvcklkcyk7XG4gICAgICAgIHJldHVybiBuZXdDb25uZWN0aW9ucy5maWx0ZXIoYyA9PiAhZXhpc3RpbmdDb25uZWN0b3JJZHMuaGFzKGMuY29ubmVjdG9ySWQpKTtcbiAgICB9LFxuICAgIGdldENvbm5lY3Rpb25zQnlDb25uZWN0b3JJZChjb25uZWN0aW9ucywgY29ubmVjdG9ySWQpIHtcbiAgICAgICAgcmV0dXJuIGNvbm5lY3Rpb25zLmZpbHRlcihjID0+IGMuY29ubmVjdG9ySWQudG9Mb3dlckNhc2UoKSA9PT0gY29ubmVjdG9ySWQudG9Mb3dlckNhc2UoKSk7XG4gICAgfSxcbiAgICBnZXRDb25uZWN0aW9uc0RhdGEobmFtZXNwYWNlKSB7XG4gICAgICAgIGNvbnN0IGlzTXVsdGlXYWxsZXRFbmFibGVkID0gQm9vbGVhbihPcHRpb25zQ29udHJvbGxlci5zdGF0ZS5yZW1vdGVGZWF0dXJlcz8ubXVsdGlXYWxsZXQpO1xuICAgICAgICBjb25zdCBhY3RpdmVDb25uZWN0b3JJZCA9IENvbm5lY3RvckNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ29ubmVjdG9ySWRzW25hbWVzcGFjZV07XG4gICAgICAgIGNvbnN0IGNvbm5lY3Rpb25zID0gQ29ubmVjdGlvbkNvbnRyb2xsZXIuZ2V0Q29ubmVjdGlvbnMobmFtZXNwYWNlKTtcbiAgICAgICAgY29uc3QgcmVjZW50Q29ubmVjdGlvbnMgPSBDb25uZWN0aW9uQ29udHJvbGxlci5zdGF0ZS5yZWNlbnRDb25uZWN0aW9ucy5nZXQobmFtZXNwYWNlKSA/PyBbXTtcbiAgICAgICAgY29uc3QgcmVjZW50Q29ubmVjdGlvbnNXaXRoQ3VycmVudEFjdGl2ZUNvbm5lY3RvcnMgPSByZWNlbnRDb25uZWN0aW9ucy5maWx0ZXIoY29ubmVjdGlvbiA9PiBDb25uZWN0b3JDb250cm9sbGVyLmdldENvbm5lY3RvckJ5SWQoY29ubmVjdGlvbi5jb25uZWN0b3JJZCkpO1xuICAgICAgICBjb25zdCBkZWR1cGVkUmVjZW50Q29ubmVjdGlvbnMgPSBDb25uZWN0aW9uQ29udHJvbGxlclV0aWwuZXhjbHVkZUV4aXN0aW5nQ29ubmVjdGlvbnMoWy4uLmNvbm5lY3Rpb25zLm1hcChjID0+IGMuY29ubmVjdG9ySWQpLCAuLi4oYWN0aXZlQ29ubmVjdG9ySWQgPyBbYWN0aXZlQ29ubmVjdG9ySWRdIDogW10pXSwgcmVjZW50Q29ubmVjdGlvbnNXaXRoQ3VycmVudEFjdGl2ZUNvbm5lY3RvcnMpO1xuICAgICAgICBpZiAoIWlzTXVsdGlXYWxsZXRFbmFibGVkKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGNvbm5lY3Rpb25zOiBjb25uZWN0aW9ucy5maWx0ZXIoYyA9PiBjLmNvbm5lY3RvcklkLnRvTG93ZXJDYXNlKCkgPT09IGFjdGl2ZUNvbm5lY3RvcklkPy50b0xvd2VyQ2FzZSgpKSxcbiAgICAgICAgICAgICAgICByZWNlbnRDb25uZWN0aW9uczogW11cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGNvbm5lY3Rpb25zLFxuICAgICAgICAgICAgcmVjZW50Q29ubmVjdGlvbnM6IGRlZHVwZWRSZWNlbnRDb25uZWN0aW9uc1xuICAgICAgICB9O1xuICAgIH1cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Db25uZWN0aW9uQ29udHJvbGxlclV0aWwuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ConnectionControllerUtil.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ConnectorControllerUtil.js":
/*!******************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ConnectorControllerUtil.js ***!
  \******************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ConnectorControllerUtil: () => (/* binding */ ConnectorControllerUtil)\n/* harmony export */ });\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @reown/appkit-common */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-common@1.8.11_bufferutil@4.0.9_typescript@5.9.3_utf-8-validate@5.0.10_zod@4.1.12/node_modules/@reown/appkit-common/dist/esm/src/utils/ParseUtil.js\");\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @reown/appkit-common */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-common@1.8.11_bufferutil@4.0.9_typescript@5.9.3_utf-8-validate@5.0.10_zod@4.1.12/node_modules/@reown/appkit-common/dist/esm/src/utils/ConstantsUtil.js\");\n/* harmony import */ var _reown_appkit_wallet_utils__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @reown/appkit-wallet/utils */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-wallet@1.8.11_bufferutil@4.0.9_typescript@5.9.3_utf-8-validate@5.0.10/node_modules/@reown/appkit-wallet/dist/esm/src/W3mFrameConstants.js\");\n/* harmony import */ var _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../controllers/ChainController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ChainController.js\");\n/* harmony import */ var _controllers_ConnectionController_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../controllers/ConnectionController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectionController.js\");\n/* harmony import */ var _controllers_ConnectorController_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../controllers/ConnectorController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectorController.js\");\n/* harmony import */ var _controllers_EventsController_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../controllers/EventsController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/EventsController.js\");\n/* harmony import */ var _controllers_ModalController_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../controllers/ModalController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ModalController.js\");\n/* harmony import */ var _controllers_RouterController_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../controllers/RouterController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/RouterController.js\");\n/* harmony import */ var _ChainControllerUtil_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./ChainControllerUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ChainControllerUtil.js\");\n/* harmony import */ var _ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ConstantsUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ConstantsUtil.js\");\n/* harmony import */ var _CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./CoreHelperUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/CoreHelperUtil.js\");\n/* harmony import */ var _StorageUtil_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./StorageUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/StorageUtil.js\");\n/* eslint-disable max-depth */\n\n\n\n\n\n\n\n\n\n\n\n\n\n// -- Constants ------------------------------------------ //\nconst UPDATE_EMAIL_INTERVAL_MS = 1_000;\nconst ConnectorControllerUtil = {\n    checkNamespaceConnectorId(namespace, connectorId) {\n        return _controllers_ConnectorController_js__WEBPACK_IMPORTED_MODULE_0__.ConnectorController.getConnectorId(namespace) === connectorId;\n    },\n    isSocialProvider(socialProvider) {\n        return _ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_1__.ConstantsUtil.DEFAULT_REMOTE_FEATURES.socials.includes(socialProvider);\n    },\n    connectWalletConnect({ walletConnect, connector, closeModalOnConnect = true, redirectViewOnModalClose = 'Connect', onOpen, onConnect }) {\n        return new Promise((resolve, reject) => {\n            if (walletConnect) {\n                _controllers_ConnectorController_js__WEBPACK_IMPORTED_MODULE_0__.ConnectorController.setActiveConnector(connector);\n            }\n            onOpen?.(_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_2__.CoreHelperUtil.isMobile() && walletConnect);\n            if (redirectViewOnModalClose) {\n                const unsubscribeModalController = _controllers_ModalController_js__WEBPACK_IMPORTED_MODULE_3__.ModalController.subscribeKey('open', val => {\n                    if (!val) {\n                        if (_controllers_RouterController_js__WEBPACK_IMPORTED_MODULE_4__.RouterController.state.view !== redirectViewOnModalClose) {\n                            _controllers_RouterController_js__WEBPACK_IMPORTED_MODULE_4__.RouterController.replace(redirectViewOnModalClose);\n                        }\n                        unsubscribeModalController();\n                        reject(new Error('Modal closed'));\n                    }\n                });\n            }\n            const unsubscribeChainController = _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_5__.ChainController.subscribeKey('activeCaipAddress', val => {\n                if (val) {\n                    onConnect?.();\n                    if (closeModalOnConnect) {\n                        _controllers_ModalController_js__WEBPACK_IMPORTED_MODULE_3__.ModalController.close();\n                    }\n                    unsubscribeChainController();\n                    resolve(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_6__.ParseUtil.parseCaipAddress(val));\n                }\n            });\n        });\n    },\n    connectExternal(connector) {\n        return new Promise((resolve, reject) => {\n            const unsubscribeChainController = _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_5__.ChainController.subscribeKey('activeCaipAddress', val => {\n                if (val) {\n                    _controllers_ModalController_js__WEBPACK_IMPORTED_MODULE_3__.ModalController.close();\n                    unsubscribeChainController();\n                    resolve(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_6__.ParseUtil.parseCaipAddress(val));\n                }\n            });\n            _controllers_ConnectionController_js__WEBPACK_IMPORTED_MODULE_7__.ConnectionController.connectExternal(connector, connector.chain).catch(() => {\n                unsubscribeChainController();\n                reject(new Error('Connection rejected'));\n            });\n        });\n    },\n    connectSocial({ social: socialProvider, namespace, closeModalOnConnect = true, onOpenFarcaster, onConnect }) {\n        let socialWindow = undefined;\n        let isConnectingSocial = false;\n        let popupWindow = null;\n        const namespaceToUse = namespace || _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeChain;\n        const unsubscribeChainController = _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_5__.ChainController.subscribeKey('activeCaipAddress', val => {\n            if (val) {\n                if (closeModalOnConnect) {\n                    _controllers_ModalController_js__WEBPACK_IMPORTED_MODULE_3__.ModalController.close();\n                }\n                unsubscribeChainController();\n            }\n        });\n        return new Promise((resolve, reject) => {\n            async function handleSocialConnection(event) {\n                if (event.data?.resultUri) {\n                    if (event.origin === _reown_appkit_common__WEBPACK_IMPORTED_MODULE_8__.ConstantsUtil.SECURE_SITE_SDK_ORIGIN) {\n                        window.removeEventListener('message', handleSocialConnection, false);\n                        try {\n                            const authConnector = _controllers_ConnectorController_js__WEBPACK_IMPORTED_MODULE_0__.ConnectorController.getAuthConnector(namespaceToUse);\n                            if (authConnector && !isConnectingSocial) {\n                                if (socialWindow) {\n                                    socialWindow.close();\n                                }\n                                isConnectingSocial = true;\n                                const uri = event.data.resultUri;\n                                _controllers_EventsController_js__WEBPACK_IMPORTED_MODULE_9__.EventsController.sendEvent({\n                                    type: 'track',\n                                    event: 'SOCIAL_LOGIN_REQUEST_USER_DATA',\n                                    properties: { provider: socialProvider }\n                                });\n                                _StorageUtil_js__WEBPACK_IMPORTED_MODULE_10__.StorageUtil.setConnectedSocialProvider(socialProvider);\n                                await _controllers_ConnectionController_js__WEBPACK_IMPORTED_MODULE_7__.ConnectionController.connectExternal({\n                                    id: authConnector.id,\n                                    type: authConnector.type,\n                                    socialUri: uri\n                                }, authConnector.chain);\n                                const caipAddress = _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeCaipAddress;\n                                if (!caipAddress) {\n                                    reject(new Error('Failed to connect'));\n                                    return;\n                                }\n                                resolve(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_6__.ParseUtil.parseCaipAddress(caipAddress));\n                                _controllers_EventsController_js__WEBPACK_IMPORTED_MODULE_9__.EventsController.sendEvent({\n                                    type: 'track',\n                                    event: 'SOCIAL_LOGIN_SUCCESS',\n                                    properties: { provider: socialProvider }\n                                });\n                            }\n                        }\n                        catch (err) {\n                            _controllers_EventsController_js__WEBPACK_IMPORTED_MODULE_9__.EventsController.sendEvent({\n                                type: 'track',\n                                event: 'SOCIAL_LOGIN_ERROR',\n                                properties: { provider: socialProvider, message: _CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_2__.CoreHelperUtil.parseError(err) }\n                            });\n                            reject(new Error('Failed to connect'));\n                        }\n                    }\n                    else {\n                        _controllers_EventsController_js__WEBPACK_IMPORTED_MODULE_9__.EventsController.sendEvent({\n                            type: 'track',\n                            event: 'SOCIAL_LOGIN_ERROR',\n                            properties: { provider: socialProvider, message: 'Untrusted Origin' }\n                        });\n                    }\n                }\n            }\n            async function connectSocial() {\n                _controllers_EventsController_js__WEBPACK_IMPORTED_MODULE_9__.EventsController.sendEvent({\n                    type: 'track',\n                    event: 'SOCIAL_LOGIN_STARTED',\n                    properties: { provider: socialProvider }\n                });\n                if (socialProvider === 'farcaster') {\n                    onOpenFarcaster?.();\n                    const unsubscribeModalController = _controllers_ModalController_js__WEBPACK_IMPORTED_MODULE_3__.ModalController.subscribeKey('open', val => {\n                        if (!val && socialProvider === 'farcaster') {\n                            reject(new Error('Popup closed'));\n                            onConnect?.();\n                            unsubscribeModalController();\n                        }\n                    });\n                    const authConnector = _controllers_ConnectorController_js__WEBPACK_IMPORTED_MODULE_0__.ConnectorController.getAuthConnector();\n                    if (authConnector) {\n                        const _accountData = _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_5__.ChainController.getAccountData(namespaceToUse);\n                        if (!_accountData?.farcasterUrl) {\n                            try {\n                                const { url } = await authConnector.provider.getFarcasterUri();\n                                _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_5__.ChainController.setAccountProp('farcasterUrl', url, namespaceToUse);\n                            }\n                            catch {\n                                reject(new Error('Failed to connect to farcaster'));\n                            }\n                        }\n                    }\n                }\n                else {\n                    const authConnector = _controllers_ConnectorController_js__WEBPACK_IMPORTED_MODULE_0__.ConnectorController.getAuthConnector();\n                    popupWindow = _CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_2__.CoreHelperUtil.returnOpenHref(`${_reown_appkit_common__WEBPACK_IMPORTED_MODULE_8__.ConstantsUtil.SECURE_SITE_SDK_ORIGIN}/loading`, 'popupWindow', 'width=600,height=800,scrollbars=yes');\n                    try {\n                        if (authConnector) {\n                            const { uri } = await authConnector.provider.getSocialRedirectUri({\n                                provider: socialProvider\n                            });\n                            if (popupWindow && uri) {\n                                popupWindow.location.href = uri;\n                                socialWindow = popupWindow;\n                                const interval = setInterval(() => {\n                                    if (socialWindow?.closed && !isConnectingSocial) {\n                                        reject(new Error('Popup closed'));\n                                        clearInterval(interval);\n                                    }\n                                }, 1000);\n                                window.addEventListener('message', handleSocialConnection, false);\n                            }\n                            else {\n                                popupWindow?.close();\n                                reject(new Error('Failed to initiate social connection'));\n                            }\n                        }\n                    }\n                    catch {\n                        reject(new Error('Failed to initiate social connection'));\n                        popupWindow?.close();\n                    }\n                }\n            }\n            connectSocial();\n        });\n    },\n    connectEmail({ closeModalOnConnect = true, redirectViewOnModalClose = 'Connect', onOpen, onConnect }) {\n        return new Promise((resolve, reject) => {\n            onOpen?.();\n            if (redirectViewOnModalClose) {\n                const unsubscribeModalController = _controllers_ModalController_js__WEBPACK_IMPORTED_MODULE_3__.ModalController.subscribeKey('open', val => {\n                    if (!val) {\n                        if (_controllers_RouterController_js__WEBPACK_IMPORTED_MODULE_4__.RouterController.state.view !== redirectViewOnModalClose) {\n                            _controllers_RouterController_js__WEBPACK_IMPORTED_MODULE_4__.RouterController.replace(redirectViewOnModalClose);\n                        }\n                        unsubscribeModalController();\n                        reject(new Error('Modal closed'));\n                    }\n                });\n            }\n            const unsubscribeChainController = _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_5__.ChainController.subscribeKey('activeCaipAddress', val => {\n                if (val) {\n                    onConnect?.();\n                    if (closeModalOnConnect) {\n                        _controllers_ModalController_js__WEBPACK_IMPORTED_MODULE_3__.ModalController.close();\n                    }\n                    unsubscribeChainController();\n                    resolve(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_6__.ParseUtil.parseCaipAddress(val));\n                }\n            });\n        });\n    },\n    async updateEmail() {\n        const connectorId = _StorageUtil_js__WEBPACK_IMPORTED_MODULE_10__.StorageUtil.getConnectedConnectorId(_controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeChain);\n        const authConnector = _controllers_ConnectorController_js__WEBPACK_IMPORTED_MODULE_0__.ConnectorController.getAuthConnector();\n        if (!authConnector) {\n            throw new Error('No auth connector found');\n        }\n        if (connectorId !== _reown_appkit_common__WEBPACK_IMPORTED_MODULE_8__.ConstantsUtil.CONNECTOR_ID.AUTH) {\n            throw new Error('Not connected to email or social');\n        }\n        const initialEmail = authConnector.provider.getEmail() ?? '';\n        await _controllers_ModalController_js__WEBPACK_IMPORTED_MODULE_3__.ModalController.open({\n            view: 'UpdateEmailWallet',\n            data: {\n                email: initialEmail,\n                redirectView: undefined\n            }\n        });\n        return new Promise((resolve, reject) => {\n            const interval = setInterval(() => {\n                const newEmail = authConnector.provider.getEmail() ?? '';\n                if (newEmail !== initialEmail) {\n                    _controllers_ModalController_js__WEBPACK_IMPORTED_MODULE_3__.ModalController.close();\n                    clearInterval(interval);\n                    unsubscribeModalController();\n                    resolve({ email: newEmail });\n                }\n            }, UPDATE_EMAIL_INTERVAL_MS);\n            const unsubscribeModalController = _controllers_ModalController_js__WEBPACK_IMPORTED_MODULE_3__.ModalController.subscribeKey('open', val => {\n                if (!val) {\n                    if (_controllers_RouterController_js__WEBPACK_IMPORTED_MODULE_4__.RouterController.state.view !== 'Connect') {\n                        _controllers_RouterController_js__WEBPACK_IMPORTED_MODULE_4__.RouterController.push('Connect');\n                    }\n                    clearInterval(interval);\n                    unsubscribeModalController();\n                    reject(new Error('Modal closed'));\n                }\n            });\n        });\n    },\n    canSwitchToSmartAccount(namespace) {\n        const isSmartAccountEnabled = _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_5__.ChainController.checkIfSmartAccountEnabled();\n        return (isSmartAccountEnabled &&\n            (0,_ChainControllerUtil_js__WEBPACK_IMPORTED_MODULE_11__.getPreferredAccountType)(namespace) === _reown_appkit_wallet_utils__WEBPACK_IMPORTED_MODULE_12__.W3mFrameRpcConstants.ACCOUNT_TYPES.EOA);\n    }\n};\n//# sourceMappingURL=ConnectorControllerUtil.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTFfQHJlYWN0LW5hdGl2ZS1hc3luYy1zdG9yYWdlK2FzeW5jLXN0b3JhZ2VAMi4yLjBfcmVhY3QtX2E4MDMyMTIzODk3ZTA3OTMxMzc0MjMyYzNjYzRlNTM1L25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy91dGlscy9Db25uZWN0b3JDb250cm9sbGVyVXRpbC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ2lEO0FBQzJCO0FBQ1Y7QUFDRTtBQUNVO0FBQ0Y7QUFDTjtBQUNGO0FBQ0U7QUFDSDtBQUNoQjtBQUNFO0FBQ047QUFDL0M7QUFDQTtBQUNPO0FBQ1A7QUFDQSxlQUFlLG9GQUFtQjtBQUNsQyxLQUFLO0FBQ0w7QUFDQSxlQUFlLDREQUFhO0FBQzVCLEtBQUs7QUFDTCwyQkFBMkIsK0dBQStHO0FBQzFJO0FBQ0E7QUFDQSxnQkFBZ0Isb0ZBQW1CO0FBQ25DO0FBQ0EscUJBQXFCLDhEQUFjO0FBQ25DO0FBQ0EsbURBQW1ELDRFQUFlO0FBQ2xFO0FBQ0EsNEJBQTRCLDhFQUFnQjtBQUM1Qyw0QkFBNEIsOEVBQWdCO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsK0NBQStDLDRFQUFlO0FBQzlEO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qiw0RUFBZTtBQUN2QztBQUNBO0FBQ0EsNEJBQTRCLDJEQUFTO0FBQ3JDO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBLCtDQUErQyw0RUFBZTtBQUM5RDtBQUNBLG9CQUFvQiw0RUFBZTtBQUNuQztBQUNBLDRCQUE0QiwyREFBUztBQUNyQztBQUNBLGFBQWE7QUFDYixZQUFZLHNGQUFvQjtBQUNoQztBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVCxLQUFLO0FBQ0wsb0JBQW9CLDJGQUEyRjtBQUMvRztBQUNBO0FBQ0E7QUFDQSw0Q0FBNEMsNEVBQWU7QUFDM0QsMkNBQTJDLDRFQUFlO0FBQzFEO0FBQ0E7QUFDQSxvQkFBb0IsNEVBQWU7QUFDbkM7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QywrREFBbUI7QUFDNUQ7QUFDQTtBQUNBLGtEQUFrRCxvRkFBbUI7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLDhFQUFnQjtBQUNoRDtBQUNBO0FBQ0Esa0RBQWtEO0FBQ2xELGlDQUFpQztBQUNqQyxnQ0FBZ0MseURBQVc7QUFDM0Msc0NBQXNDLHNGQUFvQjtBQUMxRDtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakMsb0RBQW9ELDRFQUFlO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLDJEQUFTO0FBQ2pELGdDQUFnQyw4RUFBZ0I7QUFDaEQ7QUFDQTtBQUNBLGtEQUFrRDtBQUNsRCxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLDhFQUFnQjtBQUM1QztBQUNBO0FBQ0EsOENBQThDLG1DQUFtQyw4REFBYztBQUMvRiw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsOEVBQWdCO0FBQ3hDO0FBQ0E7QUFDQSwwQ0FBMEM7QUFDMUMseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLDhFQUFnQjtBQUNoQztBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsdURBQXVELDRFQUFlO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsMENBQTBDLG9GQUFtQjtBQUM3RDtBQUNBLDZDQUE2Qyw0RUFBZTtBQUM1RDtBQUNBO0FBQ0Esd0NBQXdDLE1BQU07QUFDOUMsZ0NBQWdDLDRFQUFlO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsb0ZBQW1CO0FBQzdELGtDQUFrQyw4REFBYyxtQkFBbUIsK0RBQW1CLHdCQUF3QjtBQUM5RztBQUNBO0FBQ0Esb0NBQW9DLE1BQU07QUFDMUM7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMLG1CQUFtQixxRkFBcUY7QUFDeEc7QUFDQTtBQUNBO0FBQ0EsbURBQW1ELDRFQUFlO0FBQ2xFO0FBQ0EsNEJBQTRCLDhFQUFnQjtBQUM1Qyw0QkFBNEIsOEVBQWdCO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsK0NBQStDLDRFQUFlO0FBQzlEO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qiw0RUFBZTtBQUN2QztBQUNBO0FBQ0EsNEJBQTRCLDJEQUFTO0FBQ3JDO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQSw0QkFBNEIseURBQVcseUJBQXlCLDRFQUFlO0FBQy9FLDhCQUE4QixvRkFBbUI7QUFDakQ7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLCtEQUFtQjtBQUMvQztBQUNBO0FBQ0E7QUFDQSxjQUFjLDRFQUFlO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsNEVBQWU7QUFDbkM7QUFDQTtBQUNBLDhCQUE4QixpQkFBaUI7QUFDL0M7QUFDQSxhQUFhO0FBQ2IsK0NBQStDLDRFQUFlO0FBQzlEO0FBQ0Esd0JBQXdCLDhFQUFnQjtBQUN4Qyx3QkFBd0IsOEVBQWdCO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBLHNDQUFzQyw0RUFBZTtBQUNyRDtBQUNBLFlBQVksaUZBQXVCLGdCQUFnQiw2RUFBb0I7QUFDdkU7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm9nZ2xyLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0ByZW93bithcHBraXQtY29udHJvbGxlcnNAMS44LjExX0ByZWFjdC1uYXRpdmUtYXN5bmMtc3RvcmFnZSthc3luYy1zdG9yYWdlQDIuMi4wX3JlYWN0LV9hODAzMjEyMzg5N2UwNzkzMTM3NDIzMmMzY2M0ZTUzNS9ub2RlX21vZHVsZXMvQHJlb3duL2FwcGtpdC1jb250cm9sbGVycy9kaXN0L2VzbS9zcmMvdXRpbHMvQ29ubmVjdG9yQ29udHJvbGxlclV0aWwuanM/YmMwYSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZGlzYWJsZSBtYXgtZGVwdGggKi9cbmltcG9ydCB7IFBhcnNlVXRpbCB9IGZyb20gJ0ByZW93bi9hcHBraXQtY29tbW9uJztcbmltcG9ydCB7IENvbnN0YW50c1V0aWwgYXMgQ29tbW9uQ29uc3RhbnRzVXRpbCB9IGZyb20gJ0ByZW93bi9hcHBraXQtY29tbW9uJztcbmltcG9ydCB7IFczbUZyYW1lUnBjQ29uc3RhbnRzIH0gZnJvbSAnQHJlb3duL2FwcGtpdC13YWxsZXQvdXRpbHMnO1xuaW1wb3J0IHsgQ2hhaW5Db250cm9sbGVyIH0gZnJvbSAnLi4vY29udHJvbGxlcnMvQ2hhaW5Db250cm9sbGVyLmpzJztcbmltcG9ydCB7IENvbm5lY3Rpb25Db250cm9sbGVyIH0gZnJvbSAnLi4vY29udHJvbGxlcnMvQ29ubmVjdGlvbkNvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgQ29ubmVjdG9yQ29udHJvbGxlciB9IGZyb20gJy4uL2NvbnRyb2xsZXJzL0Nvbm5lY3RvckNvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgRXZlbnRzQ29udHJvbGxlciB9IGZyb20gJy4uL2NvbnRyb2xsZXJzL0V2ZW50c0NvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgTW9kYWxDb250cm9sbGVyIH0gZnJvbSAnLi4vY29udHJvbGxlcnMvTW9kYWxDb250cm9sbGVyLmpzJztcbmltcG9ydCB7IFJvdXRlckNvbnRyb2xsZXIgfSBmcm9tICcuLi9jb250cm9sbGVycy9Sb3V0ZXJDb250cm9sbGVyLmpzJztcbmltcG9ydCB7IGdldFByZWZlcnJlZEFjY291bnRUeXBlIH0gZnJvbSAnLi9DaGFpbkNvbnRyb2xsZXJVdGlsLmpzJztcbmltcG9ydCB7IENvbnN0YW50c1V0aWwgfSBmcm9tICcuL0NvbnN0YW50c1V0aWwuanMnO1xuaW1wb3J0IHsgQ29yZUhlbHBlclV0aWwgfSBmcm9tICcuL0NvcmVIZWxwZXJVdGlsLmpzJztcbmltcG9ydCB7IFN0b3JhZ2VVdGlsIH0gZnJvbSAnLi9TdG9yYWdlVXRpbC5qcyc7XG4vLyAtLSBDb25zdGFudHMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5jb25zdCBVUERBVEVfRU1BSUxfSU5URVJWQUxfTVMgPSAxXzAwMDtcbmV4cG9ydCBjb25zdCBDb25uZWN0b3JDb250cm9sbGVyVXRpbCA9IHtcbiAgICBjaGVja05hbWVzcGFjZUNvbm5lY3RvcklkKG5hbWVzcGFjZSwgY29ubmVjdG9ySWQpIHtcbiAgICAgICAgcmV0dXJuIENvbm5lY3RvckNvbnRyb2xsZXIuZ2V0Q29ubmVjdG9ySWQobmFtZXNwYWNlKSA9PT0gY29ubmVjdG9ySWQ7XG4gICAgfSxcbiAgICBpc1NvY2lhbFByb3ZpZGVyKHNvY2lhbFByb3ZpZGVyKSB7XG4gICAgICAgIHJldHVybiBDb25zdGFudHNVdGlsLkRFRkFVTFRfUkVNT1RFX0ZFQVRVUkVTLnNvY2lhbHMuaW5jbHVkZXMoc29jaWFsUHJvdmlkZXIpO1xuICAgIH0sXG4gICAgY29ubmVjdFdhbGxldENvbm5lY3QoeyB3YWxsZXRDb25uZWN0LCBjb25uZWN0b3IsIGNsb3NlTW9kYWxPbkNvbm5lY3QgPSB0cnVlLCByZWRpcmVjdFZpZXdPbk1vZGFsQ2xvc2UgPSAnQ29ubmVjdCcsIG9uT3Blbiwgb25Db25uZWN0IH0pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGlmICh3YWxsZXRDb25uZWN0KSB7XG4gICAgICAgICAgICAgICAgQ29ubmVjdG9yQ29udHJvbGxlci5zZXRBY3RpdmVDb25uZWN0b3IoY29ubmVjdG9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9uT3Blbj8uKENvcmVIZWxwZXJVdGlsLmlzTW9iaWxlKCkgJiYgd2FsbGV0Q29ubmVjdCk7XG4gICAgICAgICAgICBpZiAocmVkaXJlY3RWaWV3T25Nb2RhbENsb3NlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdW5zdWJzY3JpYmVNb2RhbENvbnRyb2xsZXIgPSBNb2RhbENvbnRyb2xsZXIuc3Vic2NyaWJlS2V5KCdvcGVuJywgdmFsID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF2YWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChSb3V0ZXJDb250cm9sbGVyLnN0YXRlLnZpZXcgIT09IHJlZGlyZWN0Vmlld09uTW9kYWxDbG9zZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJvdXRlckNvbnRyb2xsZXIucmVwbGFjZShyZWRpcmVjdFZpZXdPbk1vZGFsQ2xvc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdW5zdWJzY3JpYmVNb2RhbENvbnRyb2xsZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ01vZGFsIGNsb3NlZCcpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdW5zdWJzY3JpYmVDaGFpbkNvbnRyb2xsZXIgPSBDaGFpbkNvbnRyb2xsZXIuc3Vic2NyaWJlS2V5KCdhY3RpdmVDYWlwQWRkcmVzcycsIHZhbCA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHZhbCkge1xuICAgICAgICAgICAgICAgICAgICBvbkNvbm5lY3Q/LigpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2xvc2VNb2RhbE9uQ29ubmVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgTW9kYWxDb250cm9sbGVyLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdW5zdWJzY3JpYmVDaGFpbkNvbnRyb2xsZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShQYXJzZVV0aWwucGFyc2VDYWlwQWRkcmVzcyh2YWwpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBjb25uZWN0RXh0ZXJuYWwoY29ubmVjdG9yKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCB1bnN1YnNjcmliZUNoYWluQ29udHJvbGxlciA9IENoYWluQ29udHJvbGxlci5zdWJzY3JpYmVLZXkoJ2FjdGl2ZUNhaXBBZGRyZXNzJywgdmFsID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodmFsKSB7XG4gICAgICAgICAgICAgICAgICAgIE1vZGFsQ29udHJvbGxlci5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICB1bnN1YnNjcmliZUNoYWluQ29udHJvbGxlcigpO1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKFBhcnNlVXRpbC5wYXJzZUNhaXBBZGRyZXNzKHZhbCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgQ29ubmVjdGlvbkNvbnRyb2xsZXIuY29ubmVjdEV4dGVybmFsKGNvbm5lY3RvciwgY29ubmVjdG9yLmNoYWluKS5jYXRjaCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdW5zdWJzY3JpYmVDaGFpbkNvbnRyb2xsZXIoKTtcbiAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKCdDb25uZWN0aW9uIHJlamVjdGVkJykpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgY29ubmVjdFNvY2lhbCh7IHNvY2lhbDogc29jaWFsUHJvdmlkZXIsIG5hbWVzcGFjZSwgY2xvc2VNb2RhbE9uQ29ubmVjdCA9IHRydWUsIG9uT3BlbkZhcmNhc3Rlciwgb25Db25uZWN0IH0pIHtcbiAgICAgICAgbGV0IHNvY2lhbFdpbmRvdyA9IHVuZGVmaW5lZDtcbiAgICAgICAgbGV0IGlzQ29ubmVjdGluZ1NvY2lhbCA9IGZhbHNlO1xuICAgICAgICBsZXQgcG9wdXBXaW5kb3cgPSBudWxsO1xuICAgICAgICBjb25zdCBuYW1lc3BhY2VUb1VzZSA9IG5hbWVzcGFjZSB8fCBDaGFpbkNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ2hhaW47XG4gICAgICAgIGNvbnN0IHVuc3Vic2NyaWJlQ2hhaW5Db250cm9sbGVyID0gQ2hhaW5Db250cm9sbGVyLnN1YnNjcmliZUtleSgnYWN0aXZlQ2FpcEFkZHJlc3MnLCB2YWwgPT4ge1xuICAgICAgICAgICAgaWYgKHZhbCkge1xuICAgICAgICAgICAgICAgIGlmIChjbG9zZU1vZGFsT25Db25uZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIE1vZGFsQ29udHJvbGxlci5jbG9zZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB1bnN1YnNjcmliZUNoYWluQ29udHJvbGxlcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGFzeW5jIGZ1bmN0aW9uIGhhbmRsZVNvY2lhbENvbm5lY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQuZGF0YT8ucmVzdWx0VXJpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChldmVudC5vcmlnaW4gPT09IENvbW1vbkNvbnN0YW50c1V0aWwuU0VDVVJFX1NJVEVfU0RLX09SSUdJTikge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBoYW5kbGVTb2NpYWxDb25uZWN0aW9uLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGF1dGhDb25uZWN0b3IgPSBDb25uZWN0b3JDb250cm9sbGVyLmdldEF1dGhDb25uZWN0b3IobmFtZXNwYWNlVG9Vc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhdXRoQ29ubmVjdG9yICYmICFpc0Nvbm5lY3RpbmdTb2NpYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNvY2lhbFdpbmRvdykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc29jaWFsV2luZG93LmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNDb25uZWN0aW5nU29jaWFsID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdXJpID0gZXZlbnQuZGF0YS5yZXN1bHRVcmk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEV2ZW50c0NvbnRyb2xsZXIuc2VuZEV2ZW50KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICd0cmFjaycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudDogJ1NPQ0lBTF9MT0dJTl9SRVFVRVNUX1VTRVJfREFUQScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiB7IHByb3ZpZGVyOiBzb2NpYWxQcm92aWRlciB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTdG9yYWdlVXRpbC5zZXRDb25uZWN0ZWRTb2NpYWxQcm92aWRlcihzb2NpYWxQcm92aWRlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IENvbm5lY3Rpb25Db250cm9sbGVyLmNvbm5lY3RFeHRlcm5hbCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogYXV0aENvbm5lY3Rvci5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IGF1dGhDb25uZWN0b3IudHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvY2lhbFVyaTogdXJpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGF1dGhDb25uZWN0b3IuY2hhaW4pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjYWlwQWRkcmVzcyA9IENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDYWlwQWRkcmVzcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjYWlwQWRkcmVzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcignRmFpbGVkIHRvIGNvbm5lY3QnKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShQYXJzZVV0aWwucGFyc2VDYWlwQWRkcmVzcyhjYWlwQWRkcmVzcykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFdmVudHNDb250cm9sbGVyLnNlbmRFdmVudCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAndHJhY2snLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQ6ICdTT0NJQUxfTE9HSU5fU1VDQ0VTUycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiB7IHByb3ZpZGVyOiBzb2NpYWxQcm92aWRlciB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBFdmVudHNDb250cm9sbGVyLnNlbmRFdmVudCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICd0cmFjaycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50OiAnU09DSUFMX0xPR0lOX0VSUk9SJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllczogeyBwcm92aWRlcjogc29jaWFsUHJvdmlkZXIsIG1lc3NhZ2U6IENvcmVIZWxwZXJVdGlsLnBhcnNlRXJyb3IoZXJyKSB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcignRmFpbGVkIHRvIGNvbm5lY3QnKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBFdmVudHNDb250cm9sbGVyLnNlbmRFdmVudCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3RyYWNrJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudDogJ1NPQ0lBTF9MT0dJTl9FUlJPUicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllczogeyBwcm92aWRlcjogc29jaWFsUHJvdmlkZXIsIG1lc3NhZ2U6ICdVbnRydXN0ZWQgT3JpZ2luJyB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFzeW5jIGZ1bmN0aW9uIGNvbm5lY3RTb2NpYWwoKSB7XG4gICAgICAgICAgICAgICAgRXZlbnRzQ29udHJvbGxlci5zZW5kRXZlbnQoe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAndHJhY2snLFxuICAgICAgICAgICAgICAgICAgICBldmVudDogJ1NPQ0lBTF9MT0dJTl9TVEFSVEVEJyxcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllczogeyBwcm92aWRlcjogc29jaWFsUHJvdmlkZXIgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChzb2NpYWxQcm92aWRlciA9PT0gJ2ZhcmNhc3RlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgb25PcGVuRmFyY2FzdGVyPy4oKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdW5zdWJzY3JpYmVNb2RhbENvbnRyb2xsZXIgPSBNb2RhbENvbnRyb2xsZXIuc3Vic2NyaWJlS2V5KCdvcGVuJywgdmFsID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdmFsICYmIHNvY2lhbFByb3ZpZGVyID09PSAnZmFyY2FzdGVyJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ1BvcHVwIGNsb3NlZCcpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNvbm5lY3Q/LigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuc3Vic2NyaWJlTW9kYWxDb250cm9sbGVyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhdXRoQ29ubmVjdG9yID0gQ29ubmVjdG9yQ29udHJvbGxlci5nZXRBdXRoQ29ubmVjdG9yKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhdXRoQ29ubmVjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBfYWNjb3VudERhdGEgPSBDaGFpbkNvbnRyb2xsZXIuZ2V0QWNjb3VudERhdGEobmFtZXNwYWNlVG9Vc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfYWNjb3VudERhdGE/LmZhcmNhc3RlclVybCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgdXJsIH0gPSBhd2FpdCBhdXRoQ29ubmVjdG9yLnByb3ZpZGVyLmdldEZhcmNhc3RlclVyaSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDaGFpbkNvbnRyb2xsZXIuc2V0QWNjb3VudFByb3AoJ2ZhcmNhc3RlclVybCcsIHVybCwgbmFtZXNwYWNlVG9Vc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ0ZhaWxlZCB0byBjb25uZWN0IHRvIGZhcmNhc3RlcicpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGF1dGhDb25uZWN0b3IgPSBDb25uZWN0b3JDb250cm9sbGVyLmdldEF1dGhDb25uZWN0b3IoKTtcbiAgICAgICAgICAgICAgICAgICAgcG9wdXBXaW5kb3cgPSBDb3JlSGVscGVyVXRpbC5yZXR1cm5PcGVuSHJlZihgJHtDb21tb25Db25zdGFudHNVdGlsLlNFQ1VSRV9TSVRFX1NES19PUklHSU59L2xvYWRpbmdgLCAncG9wdXBXaW5kb3cnLCAnd2lkdGg9NjAwLGhlaWdodD04MDAsc2Nyb2xsYmFycz15ZXMnKTtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhdXRoQ29ubmVjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeyB1cmkgfSA9IGF3YWl0IGF1dGhDb25uZWN0b3IucHJvdmlkZXIuZ2V0U29jaWFsUmVkaXJlY3RVcmkoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92aWRlcjogc29jaWFsUHJvdmlkZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocG9wdXBXaW5kb3cgJiYgdXJpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvcHVwV2luZG93LmxvY2F0aW9uLmhyZWYgPSB1cmk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvY2lhbFdpbmRvdyA9IHBvcHVwV2luZG93O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzb2NpYWxXaW5kb3c/LmNsb3NlZCAmJiAhaXNDb25uZWN0aW5nU29jaWFsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcignUG9wdXAgY2xvc2VkJykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAxMDAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBoYW5kbGVTb2NpYWxDb25uZWN0aW9uLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3B1cFdpbmRvdz8uY2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcignRmFpbGVkIHRvIGluaXRpYXRlIHNvY2lhbCBjb25uZWN0aW9uJykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKCdGYWlsZWQgdG8gaW5pdGlhdGUgc29jaWFsIGNvbm5lY3Rpb24nKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBwb3B1cFdpbmRvdz8uY2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbm5lY3RTb2NpYWwoKTtcbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBjb25uZWN0RW1haWwoeyBjbG9zZU1vZGFsT25Db25uZWN0ID0gdHJ1ZSwgcmVkaXJlY3RWaWV3T25Nb2RhbENsb3NlID0gJ0Nvbm5lY3QnLCBvbk9wZW4sIG9uQ29ubmVjdCB9KSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBvbk9wZW4/LigpO1xuICAgICAgICAgICAgaWYgKHJlZGlyZWN0Vmlld09uTW9kYWxDbG9zZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHVuc3Vic2NyaWJlTW9kYWxDb250cm9sbGVyID0gTW9kYWxDb250cm9sbGVyLnN1YnNjcmliZUtleSgnb3BlbicsIHZhbCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdmFsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoUm91dGVyQ29udHJvbGxlci5zdGF0ZS52aWV3ICE9PSByZWRpcmVjdFZpZXdPbk1vZGFsQ2xvc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBSb3V0ZXJDb250cm9sbGVyLnJlcGxhY2UocmVkaXJlY3RWaWV3T25Nb2RhbENsb3NlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHVuc3Vic2NyaWJlTW9kYWxDb250cm9sbGVyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKCdNb2RhbCBjbG9zZWQnKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHVuc3Vic2NyaWJlQ2hhaW5Db250cm9sbGVyID0gQ2hhaW5Db250cm9sbGVyLnN1YnNjcmliZUtleSgnYWN0aXZlQ2FpcEFkZHJlc3MnLCB2YWwgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh2YWwpIHtcbiAgICAgICAgICAgICAgICAgICAgb25Db25uZWN0Py4oKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNsb3NlTW9kYWxPbkNvbm5lY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIE1vZGFsQ29udHJvbGxlci5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHVuc3Vic2NyaWJlQ2hhaW5Db250cm9sbGVyKCk7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoUGFyc2VVdGlsLnBhcnNlQ2FpcEFkZHJlc3ModmFsKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgYXN5bmMgdXBkYXRlRW1haWwoKSB7XG4gICAgICAgIGNvbnN0IGNvbm5lY3RvcklkID0gU3RvcmFnZVV0aWwuZ2V0Q29ubmVjdGVkQ29ubmVjdG9ySWQoQ2hhaW5Db250cm9sbGVyLnN0YXRlLmFjdGl2ZUNoYWluKTtcbiAgICAgICAgY29uc3QgYXV0aENvbm5lY3RvciA9IENvbm5lY3RvckNvbnRyb2xsZXIuZ2V0QXV0aENvbm5lY3RvcigpO1xuICAgICAgICBpZiAoIWF1dGhDb25uZWN0b3IpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gYXV0aCBjb25uZWN0b3IgZm91bmQnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29ubmVjdG9ySWQgIT09IENvbW1vbkNvbnN0YW50c1V0aWwuQ09OTkVDVE9SX0lELkFVVEgpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTm90IGNvbm5lY3RlZCB0byBlbWFpbCBvciBzb2NpYWwnKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpbml0aWFsRW1haWwgPSBhdXRoQ29ubmVjdG9yLnByb3ZpZGVyLmdldEVtYWlsKCkgPz8gJyc7XG4gICAgICAgIGF3YWl0IE1vZGFsQ29udHJvbGxlci5vcGVuKHtcbiAgICAgICAgICAgIHZpZXc6ICdVcGRhdGVFbWFpbFdhbGxldCcsXG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgZW1haWw6IGluaXRpYWxFbWFpbCxcbiAgICAgICAgICAgICAgICByZWRpcmVjdFZpZXc6IHVuZGVmaW5lZFxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld0VtYWlsID0gYXV0aENvbm5lY3Rvci5wcm92aWRlci5nZXRFbWFpbCgpID8/ICcnO1xuICAgICAgICAgICAgICAgIGlmIChuZXdFbWFpbCAhPT0gaW5pdGlhbEVtYWlsKSB7XG4gICAgICAgICAgICAgICAgICAgIE1vZGFsQ29udHJvbGxlci5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsKTtcbiAgICAgICAgICAgICAgICAgICAgdW5zdWJzY3JpYmVNb2RhbENvbnRyb2xsZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh7IGVtYWlsOiBuZXdFbWFpbCB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCBVUERBVEVfRU1BSUxfSU5URVJWQUxfTVMpO1xuICAgICAgICAgICAgY29uc3QgdW5zdWJzY3JpYmVNb2RhbENvbnRyb2xsZXIgPSBNb2RhbENvbnRyb2xsZXIuc3Vic2NyaWJlS2V5KCdvcGVuJywgdmFsID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIXZhbCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoUm91dGVyQ29udHJvbGxlci5zdGF0ZS52aWV3ICE9PSAnQ29ubmVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFJvdXRlckNvbnRyb2xsZXIucHVzaCgnQ29ubmVjdCcpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xuICAgICAgICAgICAgICAgICAgICB1bnN1YnNjcmliZU1vZGFsQ29udHJvbGxlcigpO1xuICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKCdNb2RhbCBjbG9zZWQnKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgY2FuU3dpdGNoVG9TbWFydEFjY291bnQobmFtZXNwYWNlKSB7XG4gICAgICAgIGNvbnN0IGlzU21hcnRBY2NvdW50RW5hYmxlZCA9IENoYWluQ29udHJvbGxlci5jaGVja0lmU21hcnRBY2NvdW50RW5hYmxlZCgpO1xuICAgICAgICByZXR1cm4gKGlzU21hcnRBY2NvdW50RW5hYmxlZCAmJlxuICAgICAgICAgICAgZ2V0UHJlZmVycmVkQWNjb3VudFR5cGUobmFtZXNwYWNlKSA9PT0gVzNtRnJhbWVScGNDb25zdGFudHMuQUNDT1VOVF9UWVBFUy5FT0EpO1xuICAgIH1cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Db25uZWN0b3JDb250cm9sbGVyVXRpbC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ConnectorControllerUtil.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ConstantsUtil.js":
/*!********************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ConstantsUtil.js ***!
  \********************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ConstantsUtil: () => (/* binding */ ConstantsUtil),\n/* harmony export */   MELD_PUBLIC_KEY: () => (/* binding */ MELD_PUBLIC_KEY),\n/* harmony export */   ONRAMP_PROVIDERS: () => (/* binding */ ONRAMP_PROVIDERS)\n/* harmony export */ });\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @reown/appkit-common */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-common@1.8.11_bufferutil@4.0.9_typescript@5.9.3_utf-8-validate@5.0.10_zod@4.1.12/node_modules/@reown/appkit-common/dist/esm/src/utils/ConstantsUtil.js\");\n\n\nconst SECURE_SITE = \n// eslint-disable-next-line @typescript-eslint/prefer-optional-chain\n(typeof process !== 'undefined' && typeof process.env !== 'undefined'\n    ? process.env['NEXT_PUBLIC_SECURE_SITE_ORIGIN']\n    : undefined) || 'https://secure.walletconnect.org';\nconst ONRAMP_PROVIDERS = [\n    {\n        label: 'Meld.io',\n        name: 'meld',\n        feeRange: '1-2%',\n        url: 'https://meldcrypto.com',\n        supportedChains: ['eip155', 'solana']\n    }\n];\nconst MELD_PUBLIC_KEY = 'WXETMuFUQmqqybHuRkSgxv:25B8LJHSfpG6LVjR2ytU5Cwh7Z4Sch2ocoU';\nconst ConstantsUtil = {\n    FOUR_MINUTES_MS: 240_000,\n    TEN_SEC_MS: 10_000,\n    FIVE_SEC_MS: 5_000,\n    THREE_SEC_MS: 3_000,\n    ONE_SEC_MS: 1_000,\n    SECURE_SITE,\n    SECURE_SITE_DASHBOARD: `${SECURE_SITE}/dashboard`,\n    SECURE_SITE_FAVICON: `${SECURE_SITE}/images/favicon.png`,\n    SOLANA_NATIVE_TOKEN_ADDRESS: 'So11111111111111111111111111111111111111111',\n    RESTRICTED_TIMEZONES: [\n        'ASIA/SHANGHAI',\n        'ASIA/URUMQI',\n        'ASIA/CHONGQING',\n        'ASIA/HARBIN',\n        'ASIA/KASHGAR',\n        'ASIA/MACAU',\n        'ASIA/HONG_KONG',\n        'ASIA/MACAO',\n        'ASIA/BEIJING',\n        'ASIA/HARBIN'\n    ],\n    SWAP_SUGGESTED_TOKENS: [\n        'ETH',\n        'UNI',\n        '1INCH',\n        'AAVE',\n        'SOL',\n        'ADA',\n        'AVAX',\n        'DOT',\n        'LINK',\n        'NITRO',\n        'GAIA',\n        'MILK',\n        'TRX',\n        'NEAR',\n        'GNO',\n        'WBTC',\n        'DAI',\n        'WETH',\n        'USDC',\n        'USDT',\n        'ARB',\n        'BAL',\n        'BICO',\n        'CRV',\n        'ENS',\n        'MATIC',\n        'OP'\n    ],\n    SWAP_POPULAR_TOKENS: [\n        'ETH',\n        'UNI',\n        '1INCH',\n        'AAVE',\n        'SOL',\n        'ADA',\n        'AVAX',\n        'DOT',\n        'LINK',\n        'NITRO',\n        'GAIA',\n        'MILK',\n        'TRX',\n        'NEAR',\n        'GNO',\n        'WBTC',\n        'DAI',\n        'WETH',\n        'USDC',\n        'USDT',\n        'ARB',\n        'BAL',\n        'BICO',\n        'CRV',\n        'ENS',\n        'MATIC',\n        'OP',\n        'METAL',\n        'DAI',\n        'CHAMP',\n        'WOLF',\n        'SALE',\n        'BAL',\n        'BUSD',\n        'MUST',\n        'BTCpx',\n        'ROUTE',\n        'HEX',\n        'WELT',\n        'amDAI',\n        'VSQ',\n        'VISION',\n        'AURUM',\n        'pSP',\n        'SNX',\n        'VC',\n        'LINK',\n        'CHP',\n        'amUSDT',\n        'SPHERE',\n        'FOX',\n        'GIDDY',\n        'GFC',\n        'OMEN',\n        'OX_OLD',\n        'DE',\n        'WNT'\n    ],\n    SUGGESTED_TOKENS_BY_CHAIN: {\n        // Arbitrum One\n        'eip155:42161': ['USD0']\n    },\n    BALANCE_SUPPORTED_CHAINS: [\n        _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.CHAIN.EVM,\n        _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.CHAIN.SOLANA\n    ],\n    SEND_PARAMS_SUPPORTED_CHAINS: [_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.CHAIN.EVM],\n    SWAP_SUPPORTED_NETWORKS: [\n        // Ethereum'\n        'eip155:1',\n        // Arbitrum One'\n        'eip155:42161',\n        // Optimism'\n        'eip155:10',\n        // ZKSync Era'\n        'eip155:324',\n        // Base'\n        'eip155:8453',\n        // BNB Smart Chain'\n        'eip155:56',\n        // Polygon'\n        'eip155:137',\n        // Gnosis'\n        'eip155:100',\n        // Avalanche'\n        'eip155:43114',\n        // Fantom'\n        'eip155:250',\n        // Klaytn'\n        'eip155:8217',\n        // Aurora\n        'eip155:1313161554'\n    ],\n    NAMES_SUPPORTED_CHAIN_NAMESPACES: [_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.CHAIN.EVM],\n    ONRAMP_SUPPORTED_CHAIN_NAMESPACES: [\n        _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.CHAIN.EVM,\n        _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.CHAIN.SOLANA\n    ],\n    PAY_WITH_EXCHANGE_SUPPORTED_CHAIN_NAMESPACES: [\n        _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.CHAIN.EVM,\n        _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.CHAIN.SOLANA\n    ],\n    ACTIVITY_ENABLED_CHAIN_NAMESPACES: [_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.CHAIN.EVM],\n    NATIVE_TOKEN_ADDRESS: {\n        eip155: '0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee',\n        solana: 'So11111111111111111111111111111111111111111',\n        polkadot: '0x',\n        bip122: '0x',\n        cosmos: '0x',\n        sui: '0x',\n        stacks: '0x'\n    },\n    CONVERT_SLIPPAGE_TOLERANCE: 1,\n    CONNECT_LABELS: {\n        MOBILE: 'Open and continue in the wallet app',\n        WEB: 'Open and continue in the wallet app'\n    },\n    SEND_SUPPORTED_NAMESPACES: [\n        _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.CHAIN.EVM,\n        _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.CHAIN.SOLANA\n    ],\n    DEFAULT_REMOTE_FEATURES: {\n        swaps: ['1inch'],\n        onramp: ['meld'],\n        email: true,\n        socials: [\n            'google',\n            'x',\n            'discord',\n            'farcaster',\n            'github',\n            'apple',\n            'facebook'\n        ],\n        activity: true,\n        reownBranding: true,\n        multiWallet: false,\n        emailCapture: false,\n        payWithExchange: false,\n        payments: false,\n        reownAuthentication: false\n    },\n    DEFAULT_REMOTE_FEATURES_DISABLED: {\n        email: false,\n        socials: false,\n        swaps: false,\n        onramp: false,\n        activity: false,\n        reownBranding: false,\n        emailCapture: false,\n        reownAuthentication: false\n    },\n    DEFAULT_FEATURES: {\n        receive: true,\n        send: true,\n        emailShowWallets: true,\n        connectorTypeOrder: [\n            'walletConnect',\n            'recent',\n            'injected',\n            'featured',\n            'custom',\n            'external',\n            'recommended'\n        ],\n        analytics: true,\n        allWallets: true,\n        legalCheckbox: false,\n        smartSessions: false,\n        collapseWallets: false,\n        walletFeaturesOrder: ['onramp', 'swaps', 'receive', 'send'],\n        connectMethodsOrder: undefined,\n        pay: false,\n        reownAuthentication: false\n    },\n    DEFAULT_SOCIALS: [\n        'google',\n        'x',\n        'farcaster',\n        'discord',\n        'apple',\n        'github',\n        'facebook'\n    ],\n    DEFAULT_ACCOUNT_TYPES: {\n        bip122: 'payment',\n        eip155: 'smartAccount',\n        polkadot: 'eoa',\n        solana: 'eoa'\n    },\n    ADAPTER_TYPES: {\n        UNIVERSAL: 'universal',\n        SOLANA: 'solana',\n        WAGMI: 'wagmi',\n        ETHERS: 'ethers',\n        ETHERS5: 'ethers5',\n        BITCOIN: 'bitcoin'\n    },\n    SIWX_DEFAULTS: {\n        signOutOnDisconnect: true\n    }\n};\n//# sourceMappingURL=ConstantsUtil.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTFfQHJlYWN0LW5hdGl2ZS1hc3luYy1zdG9yYWdlK2FzeW5jLXN0b3JhZ2VAMi4yLjBfcmVhY3QtX2E4MDMyMTIzODk3ZTA3OTMxMzc0MjMyYzNjYzRlNTM1L25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy91dGlscy9Db25zdGFudHNVdGlsLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBNEU7QUFDdEM7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ0E7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsWUFBWTtBQUMxQyw0QkFBNEIsWUFBWTtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsUUFBUSwrREFBbUI7QUFDM0IsUUFBUSwrREFBbUI7QUFDM0I7QUFDQSxtQ0FBbUMsK0RBQW1CO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMsK0RBQW1CO0FBQzFEO0FBQ0EsUUFBUSwrREFBbUI7QUFDM0IsUUFBUSwrREFBbUI7QUFDM0I7QUFDQTtBQUNBLFFBQVEsK0RBQW1CO0FBQzNCLFFBQVEsK0RBQW1CO0FBQzNCO0FBQ0Esd0NBQXdDLCtEQUFtQjtBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsUUFBUSwrREFBbUI7QUFDM0IsUUFBUSwrREFBbUI7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ub2dnbHIvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTFfQHJlYWN0LW5hdGl2ZS1hc3luYy1zdG9yYWdlK2FzeW5jLXN0b3JhZ2VAMi4yLjBfcmVhY3QtX2E4MDMyMTIzODk3ZTA3OTMxMzc0MjMyYzNjYzRlNTM1L25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy91dGlscy9Db25zdGFudHNVdGlsLmpzPzhjZGMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29uc3RhbnRzVXRpbCBhcyBDb21tb25Db25zdGFudHNVdGlsIH0gZnJvbSAnQHJlb3duL2FwcGtpdC1jb21tb24nO1xuaW1wb3J0IHt9IGZyb20gJ0ByZW93bi9hcHBraXQtY29tbW9uJztcbmNvbnN0IFNFQ1VSRV9TSVRFID0gXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L3ByZWZlci1vcHRpb25hbC1jaGFpblxuKHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgcHJvY2Vzcy5lbnYgIT09ICd1bmRlZmluZWQnXG4gICAgPyBwcm9jZXNzLmVudlsnTkVYVF9QVUJMSUNfU0VDVVJFX1NJVEVfT1JJR0lOJ11cbiAgICA6IHVuZGVmaW5lZCkgfHwgJ2h0dHBzOi8vc2VjdXJlLndhbGxldGNvbm5lY3Qub3JnJztcbmV4cG9ydCBjb25zdCBPTlJBTVBfUFJPVklERVJTID0gW1xuICAgIHtcbiAgICAgICAgbGFiZWw6ICdNZWxkLmlvJyxcbiAgICAgICAgbmFtZTogJ21lbGQnLFxuICAgICAgICBmZWVSYW5nZTogJzEtMiUnLFxuICAgICAgICB1cmw6ICdodHRwczovL21lbGRjcnlwdG8uY29tJyxcbiAgICAgICAgc3VwcG9ydGVkQ2hhaW5zOiBbJ2VpcDE1NScsICdzb2xhbmEnXVxuICAgIH1cbl07XG5leHBvcnQgY29uc3QgTUVMRF9QVUJMSUNfS0VZID0gJ1dYRVRNdUZVUW1xcXliSHVSa1NneHY6MjVCOExKSFNmcEc2TFZqUjJ5dFU1Q3doN1o0U2NoMm9jb1UnO1xuZXhwb3J0IGNvbnN0IENvbnN0YW50c1V0aWwgPSB7XG4gICAgRk9VUl9NSU5VVEVTX01TOiAyNDBfMDAwLFxuICAgIFRFTl9TRUNfTVM6IDEwXzAwMCxcbiAgICBGSVZFX1NFQ19NUzogNV8wMDAsXG4gICAgVEhSRUVfU0VDX01TOiAzXzAwMCxcbiAgICBPTkVfU0VDX01TOiAxXzAwMCxcbiAgICBTRUNVUkVfU0lURSxcbiAgICBTRUNVUkVfU0lURV9EQVNIQk9BUkQ6IGAke1NFQ1VSRV9TSVRFfS9kYXNoYm9hcmRgLFxuICAgIFNFQ1VSRV9TSVRFX0ZBVklDT046IGAke1NFQ1VSRV9TSVRFfS9pbWFnZXMvZmF2aWNvbi5wbmdgLFxuICAgIFNPTEFOQV9OQVRJVkVfVE9LRU5fQUREUkVTUzogJ1NvMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTEnLFxuICAgIFJFU1RSSUNURURfVElNRVpPTkVTOiBbXG4gICAgICAgICdBU0lBL1NIQU5HSEFJJyxcbiAgICAgICAgJ0FTSUEvVVJVTVFJJyxcbiAgICAgICAgJ0FTSUEvQ0hPTkdRSU5HJyxcbiAgICAgICAgJ0FTSUEvSEFSQklOJyxcbiAgICAgICAgJ0FTSUEvS0FTSEdBUicsXG4gICAgICAgICdBU0lBL01BQ0FVJyxcbiAgICAgICAgJ0FTSUEvSE9OR19LT05HJyxcbiAgICAgICAgJ0FTSUEvTUFDQU8nLFxuICAgICAgICAnQVNJQS9CRUlKSU5HJyxcbiAgICAgICAgJ0FTSUEvSEFSQklOJ1xuICAgIF0sXG4gICAgU1dBUF9TVUdHRVNURURfVE9LRU5TOiBbXG4gICAgICAgICdFVEgnLFxuICAgICAgICAnVU5JJyxcbiAgICAgICAgJzFJTkNIJyxcbiAgICAgICAgJ0FBVkUnLFxuICAgICAgICAnU09MJyxcbiAgICAgICAgJ0FEQScsXG4gICAgICAgICdBVkFYJyxcbiAgICAgICAgJ0RPVCcsXG4gICAgICAgICdMSU5LJyxcbiAgICAgICAgJ05JVFJPJyxcbiAgICAgICAgJ0dBSUEnLFxuICAgICAgICAnTUlMSycsXG4gICAgICAgICdUUlgnLFxuICAgICAgICAnTkVBUicsXG4gICAgICAgICdHTk8nLFxuICAgICAgICAnV0JUQycsXG4gICAgICAgICdEQUknLFxuICAgICAgICAnV0VUSCcsXG4gICAgICAgICdVU0RDJyxcbiAgICAgICAgJ1VTRFQnLFxuICAgICAgICAnQVJCJyxcbiAgICAgICAgJ0JBTCcsXG4gICAgICAgICdCSUNPJyxcbiAgICAgICAgJ0NSVicsXG4gICAgICAgICdFTlMnLFxuICAgICAgICAnTUFUSUMnLFxuICAgICAgICAnT1AnXG4gICAgXSxcbiAgICBTV0FQX1BPUFVMQVJfVE9LRU5TOiBbXG4gICAgICAgICdFVEgnLFxuICAgICAgICAnVU5JJyxcbiAgICAgICAgJzFJTkNIJyxcbiAgICAgICAgJ0FBVkUnLFxuICAgICAgICAnU09MJyxcbiAgICAgICAgJ0FEQScsXG4gICAgICAgICdBVkFYJyxcbiAgICAgICAgJ0RPVCcsXG4gICAgICAgICdMSU5LJyxcbiAgICAgICAgJ05JVFJPJyxcbiAgICAgICAgJ0dBSUEnLFxuICAgICAgICAnTUlMSycsXG4gICAgICAgICdUUlgnLFxuICAgICAgICAnTkVBUicsXG4gICAgICAgICdHTk8nLFxuICAgICAgICAnV0JUQycsXG4gICAgICAgICdEQUknLFxuICAgICAgICAnV0VUSCcsXG4gICAgICAgICdVU0RDJyxcbiAgICAgICAgJ1VTRFQnLFxuICAgICAgICAnQVJCJyxcbiAgICAgICAgJ0JBTCcsXG4gICAgICAgICdCSUNPJyxcbiAgICAgICAgJ0NSVicsXG4gICAgICAgICdFTlMnLFxuICAgICAgICAnTUFUSUMnLFxuICAgICAgICAnT1AnLFxuICAgICAgICAnTUVUQUwnLFxuICAgICAgICAnREFJJyxcbiAgICAgICAgJ0NIQU1QJyxcbiAgICAgICAgJ1dPTEYnLFxuICAgICAgICAnU0FMRScsXG4gICAgICAgICdCQUwnLFxuICAgICAgICAnQlVTRCcsXG4gICAgICAgICdNVVNUJyxcbiAgICAgICAgJ0JUQ3B4JyxcbiAgICAgICAgJ1JPVVRFJyxcbiAgICAgICAgJ0hFWCcsXG4gICAgICAgICdXRUxUJyxcbiAgICAgICAgJ2FtREFJJyxcbiAgICAgICAgJ1ZTUScsXG4gICAgICAgICdWSVNJT04nLFxuICAgICAgICAnQVVSVU0nLFxuICAgICAgICAncFNQJyxcbiAgICAgICAgJ1NOWCcsXG4gICAgICAgICdWQycsXG4gICAgICAgICdMSU5LJyxcbiAgICAgICAgJ0NIUCcsXG4gICAgICAgICdhbVVTRFQnLFxuICAgICAgICAnU1BIRVJFJyxcbiAgICAgICAgJ0ZPWCcsXG4gICAgICAgICdHSUREWScsXG4gICAgICAgICdHRkMnLFxuICAgICAgICAnT01FTicsXG4gICAgICAgICdPWF9PTEQnLFxuICAgICAgICAnREUnLFxuICAgICAgICAnV05UJ1xuICAgIF0sXG4gICAgU1VHR0VTVEVEX1RPS0VOU19CWV9DSEFJTjoge1xuICAgICAgICAvLyBBcmJpdHJ1bSBPbmVcbiAgICAgICAgJ2VpcDE1NTo0MjE2MSc6IFsnVVNE4oKuMCddXG4gICAgfSxcbiAgICBCQUxBTkNFX1NVUFBPUlRFRF9DSEFJTlM6IFtcbiAgICAgICAgQ29tbW9uQ29uc3RhbnRzVXRpbC5DSEFJTi5FVk0sXG4gICAgICAgIENvbW1vbkNvbnN0YW50c1V0aWwuQ0hBSU4uU09MQU5BXG4gICAgXSxcbiAgICBTRU5EX1BBUkFNU19TVVBQT1JURURfQ0hBSU5TOiBbQ29tbW9uQ29uc3RhbnRzVXRpbC5DSEFJTi5FVk1dLFxuICAgIFNXQVBfU1VQUE9SVEVEX05FVFdPUktTOiBbXG4gICAgICAgIC8vIEV0aGVyZXVtJ1xuICAgICAgICAnZWlwMTU1OjEnLFxuICAgICAgICAvLyBBcmJpdHJ1bSBPbmUnXG4gICAgICAgICdlaXAxNTU6NDIxNjEnLFxuICAgICAgICAvLyBPcHRpbWlzbSdcbiAgICAgICAgJ2VpcDE1NToxMCcsXG4gICAgICAgIC8vIFpLU3luYyBFcmEnXG4gICAgICAgICdlaXAxNTU6MzI0JyxcbiAgICAgICAgLy8gQmFzZSdcbiAgICAgICAgJ2VpcDE1NTo4NDUzJyxcbiAgICAgICAgLy8gQk5CIFNtYXJ0IENoYWluJ1xuICAgICAgICAnZWlwMTU1OjU2JyxcbiAgICAgICAgLy8gUG9seWdvbidcbiAgICAgICAgJ2VpcDE1NToxMzcnLFxuICAgICAgICAvLyBHbm9zaXMnXG4gICAgICAgICdlaXAxNTU6MTAwJyxcbiAgICAgICAgLy8gQXZhbGFuY2hlJ1xuICAgICAgICAnZWlwMTU1OjQzMTE0JyxcbiAgICAgICAgLy8gRmFudG9tJ1xuICAgICAgICAnZWlwMTU1OjI1MCcsXG4gICAgICAgIC8vIEtsYXl0bidcbiAgICAgICAgJ2VpcDE1NTo4MjE3JyxcbiAgICAgICAgLy8gQXVyb3JhXG4gICAgICAgICdlaXAxNTU6MTMxMzE2MTU1NCdcbiAgICBdLFxuICAgIE5BTUVTX1NVUFBPUlRFRF9DSEFJTl9OQU1FU1BBQ0VTOiBbQ29tbW9uQ29uc3RhbnRzVXRpbC5DSEFJTi5FVk1dLFxuICAgIE9OUkFNUF9TVVBQT1JURURfQ0hBSU5fTkFNRVNQQUNFUzogW1xuICAgICAgICBDb21tb25Db25zdGFudHNVdGlsLkNIQUlOLkVWTSxcbiAgICAgICAgQ29tbW9uQ29uc3RhbnRzVXRpbC5DSEFJTi5TT0xBTkFcbiAgICBdLFxuICAgIFBBWV9XSVRIX0VYQ0hBTkdFX1NVUFBPUlRFRF9DSEFJTl9OQU1FU1BBQ0VTOiBbXG4gICAgICAgIENvbW1vbkNvbnN0YW50c1V0aWwuQ0hBSU4uRVZNLFxuICAgICAgICBDb21tb25Db25zdGFudHNVdGlsLkNIQUlOLlNPTEFOQVxuICAgIF0sXG4gICAgQUNUSVZJVFlfRU5BQkxFRF9DSEFJTl9OQU1FU1BBQ0VTOiBbQ29tbW9uQ29uc3RhbnRzVXRpbC5DSEFJTi5FVk1dLFxuICAgIE5BVElWRV9UT0tFTl9BRERSRVNTOiB7XG4gICAgICAgIGVpcDE1NTogJzB4ZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZScsXG4gICAgICAgIHNvbGFuYTogJ1NvMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTEnLFxuICAgICAgICBwb2xrYWRvdDogJzB4JyxcbiAgICAgICAgYmlwMTIyOiAnMHgnLFxuICAgICAgICBjb3Ntb3M6ICcweCcsXG4gICAgICAgIHN1aTogJzB4JyxcbiAgICAgICAgc3RhY2tzOiAnMHgnXG4gICAgfSxcbiAgICBDT05WRVJUX1NMSVBQQUdFX1RPTEVSQU5DRTogMSxcbiAgICBDT05ORUNUX0xBQkVMUzoge1xuICAgICAgICBNT0JJTEU6ICdPcGVuIGFuZCBjb250aW51ZSBpbiB0aGUgd2FsbGV0IGFwcCcsXG4gICAgICAgIFdFQjogJ09wZW4gYW5kIGNvbnRpbnVlIGluIHRoZSB3YWxsZXQgYXBwJ1xuICAgIH0sXG4gICAgU0VORF9TVVBQT1JURURfTkFNRVNQQUNFUzogW1xuICAgICAgICBDb21tb25Db25zdGFudHNVdGlsLkNIQUlOLkVWTSxcbiAgICAgICAgQ29tbW9uQ29uc3RhbnRzVXRpbC5DSEFJTi5TT0xBTkFcbiAgICBdLFxuICAgIERFRkFVTFRfUkVNT1RFX0ZFQVRVUkVTOiB7XG4gICAgICAgIHN3YXBzOiBbJzFpbmNoJ10sXG4gICAgICAgIG9ucmFtcDogWydtZWxkJ10sXG4gICAgICAgIGVtYWlsOiB0cnVlLFxuICAgICAgICBzb2NpYWxzOiBbXG4gICAgICAgICAgICAnZ29vZ2xlJyxcbiAgICAgICAgICAgICd4JyxcbiAgICAgICAgICAgICdkaXNjb3JkJyxcbiAgICAgICAgICAgICdmYXJjYXN0ZXInLFxuICAgICAgICAgICAgJ2dpdGh1YicsXG4gICAgICAgICAgICAnYXBwbGUnLFxuICAgICAgICAgICAgJ2ZhY2Vib29rJ1xuICAgICAgICBdLFxuICAgICAgICBhY3Rpdml0eTogdHJ1ZSxcbiAgICAgICAgcmVvd25CcmFuZGluZzogdHJ1ZSxcbiAgICAgICAgbXVsdGlXYWxsZXQ6IGZhbHNlLFxuICAgICAgICBlbWFpbENhcHR1cmU6IGZhbHNlLFxuICAgICAgICBwYXlXaXRoRXhjaGFuZ2U6IGZhbHNlLFxuICAgICAgICBwYXltZW50czogZmFsc2UsXG4gICAgICAgIHJlb3duQXV0aGVudGljYXRpb246IGZhbHNlXG4gICAgfSxcbiAgICBERUZBVUxUX1JFTU9URV9GRUFUVVJFU19ESVNBQkxFRDoge1xuICAgICAgICBlbWFpbDogZmFsc2UsXG4gICAgICAgIHNvY2lhbHM6IGZhbHNlLFxuICAgICAgICBzd2FwczogZmFsc2UsXG4gICAgICAgIG9ucmFtcDogZmFsc2UsXG4gICAgICAgIGFjdGl2aXR5OiBmYWxzZSxcbiAgICAgICAgcmVvd25CcmFuZGluZzogZmFsc2UsXG4gICAgICAgIGVtYWlsQ2FwdHVyZTogZmFsc2UsXG4gICAgICAgIHJlb3duQXV0aGVudGljYXRpb246IGZhbHNlXG4gICAgfSxcbiAgICBERUZBVUxUX0ZFQVRVUkVTOiB7XG4gICAgICAgIHJlY2VpdmU6IHRydWUsXG4gICAgICAgIHNlbmQ6IHRydWUsXG4gICAgICAgIGVtYWlsU2hvd1dhbGxldHM6IHRydWUsXG4gICAgICAgIGNvbm5lY3RvclR5cGVPcmRlcjogW1xuICAgICAgICAgICAgJ3dhbGxldENvbm5lY3QnLFxuICAgICAgICAgICAgJ3JlY2VudCcsXG4gICAgICAgICAgICAnaW5qZWN0ZWQnLFxuICAgICAgICAgICAgJ2ZlYXR1cmVkJyxcbiAgICAgICAgICAgICdjdXN0b20nLFxuICAgICAgICAgICAgJ2V4dGVybmFsJyxcbiAgICAgICAgICAgICdyZWNvbW1lbmRlZCdcbiAgICAgICAgXSxcbiAgICAgICAgYW5hbHl0aWNzOiB0cnVlLFxuICAgICAgICBhbGxXYWxsZXRzOiB0cnVlLFxuICAgICAgICBsZWdhbENoZWNrYm94OiBmYWxzZSxcbiAgICAgICAgc21hcnRTZXNzaW9uczogZmFsc2UsXG4gICAgICAgIGNvbGxhcHNlV2FsbGV0czogZmFsc2UsXG4gICAgICAgIHdhbGxldEZlYXR1cmVzT3JkZXI6IFsnb25yYW1wJywgJ3N3YXBzJywgJ3JlY2VpdmUnLCAnc2VuZCddLFxuICAgICAgICBjb25uZWN0TWV0aG9kc09yZGVyOiB1bmRlZmluZWQsXG4gICAgICAgIHBheTogZmFsc2UsXG4gICAgICAgIHJlb3duQXV0aGVudGljYXRpb246IGZhbHNlXG4gICAgfSxcbiAgICBERUZBVUxUX1NPQ0lBTFM6IFtcbiAgICAgICAgJ2dvb2dsZScsXG4gICAgICAgICd4JyxcbiAgICAgICAgJ2ZhcmNhc3RlcicsXG4gICAgICAgICdkaXNjb3JkJyxcbiAgICAgICAgJ2FwcGxlJyxcbiAgICAgICAgJ2dpdGh1YicsXG4gICAgICAgICdmYWNlYm9vaydcbiAgICBdLFxuICAgIERFRkFVTFRfQUNDT1VOVF9UWVBFUzoge1xuICAgICAgICBiaXAxMjI6ICdwYXltZW50JyxcbiAgICAgICAgZWlwMTU1OiAnc21hcnRBY2NvdW50JyxcbiAgICAgICAgcG9sa2Fkb3Q6ICdlb2EnLFxuICAgICAgICBzb2xhbmE6ICdlb2EnXG4gICAgfSxcbiAgICBBREFQVEVSX1RZUEVTOiB7XG4gICAgICAgIFVOSVZFUlNBTDogJ3VuaXZlcnNhbCcsXG4gICAgICAgIFNPTEFOQTogJ3NvbGFuYScsXG4gICAgICAgIFdBR01JOiAnd2FnbWknLFxuICAgICAgICBFVEhFUlM6ICdldGhlcnMnLFxuICAgICAgICBFVEhFUlM1OiAnZXRoZXJzNScsXG4gICAgICAgIEJJVENPSU46ICdiaXRjb2luJ1xuICAgIH0sXG4gICAgU0lXWF9ERUZBVUxUUzoge1xuICAgICAgICBzaWduT3V0T25EaXNjb25uZWN0OiB0cnVlXG4gICAgfVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNvbnN0YW50c1V0aWwuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ConstantsUtil.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/CoreHelperUtil.js":
/*!*********************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/CoreHelperUtil.js ***!
  \*********************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CoreHelperUtil: () => (/* binding */ CoreHelperUtil)\n/* harmony export */ });\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @reown/appkit-common */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-common@1.8.11_bufferutil@4.0.9_typescript@5.9.3_utf-8-validate@5.0.10_zod@4.1.12/node_modules/@reown/appkit-common/dist/esm/src/utils/ConstantsUtil.js\");\n/* harmony import */ var _ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ConstantsUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ConstantsUtil.js\");\n/* harmony import */ var _StorageUtil_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./StorageUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/StorageUtil.js\");\n\n\n\nconst CoreHelperUtil = {\n    isMobile() {\n        if (this.isClient()) {\n            return Boolean((window?.matchMedia &&\n                typeof window.matchMedia === 'function' &&\n                window.matchMedia('(pointer:coarse)')?.matches) ||\n                /Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent));\n        }\n        return false;\n    },\n    checkCaipNetwork(network, networkName = '') {\n        return network?.caipNetworkId.toLocaleLowerCase().includes(networkName.toLowerCase());\n    },\n    isAndroid() {\n        if (!this.isMobile()) {\n            return false;\n        }\n        const ua = window?.navigator.userAgent.toLowerCase();\n        return CoreHelperUtil.isMobile() && ua.includes('android');\n    },\n    isIos() {\n        if (!this.isMobile()) {\n            return false;\n        }\n        const ua = window?.navigator.userAgent.toLowerCase();\n        return ua.includes('iphone') || ua.includes('ipad');\n    },\n    isSafari() {\n        if (!this.isClient()) {\n            return false;\n        }\n        const ua = window?.navigator.userAgent.toLowerCase();\n        return ua.includes('safari');\n    },\n    isClient() {\n        return typeof window !== 'undefined';\n    },\n    isPairingExpired(expiry) {\n        return expiry ? expiry - Date.now() <= _ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.TEN_SEC_MS : true;\n    },\n    isAllowedRetry(lastRetry, differenceMs = _ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.ONE_SEC_MS) {\n        return Date.now() - lastRetry >= differenceMs;\n    },\n    copyToClopboard(text) {\n        navigator.clipboard.writeText(text);\n    },\n    isIframe() {\n        try {\n            return window?.self !== window?.top;\n        }\n        catch (e) {\n            return false;\n        }\n    },\n    isSafeApp() {\n        if (CoreHelperUtil.isClient() && window.self !== window.top) {\n            try {\n                const ancestor = window?.location?.ancestorOrigins?.[0];\n                const safeAppUrl = 'https://app.safe.global';\n                if (ancestor) {\n                    const ancestorUrl = new URL(ancestor);\n                    const safeUrl = new URL(safeAppUrl);\n                    return ancestorUrl.hostname === safeUrl.hostname;\n                }\n            }\n            catch {\n                return false;\n            }\n        }\n        return false;\n    },\n    getPairingExpiry() {\n        return Date.now() + _ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.FOUR_MINUTES_MS;\n    },\n    getNetworkId(caipAddress) {\n        return caipAddress?.split(':')[1];\n    },\n    getPlainAddress(caipAddress) {\n        return caipAddress?.split(':')[2];\n    },\n    async wait(milliseconds) {\n        return new Promise(resolve => {\n            setTimeout(resolve, milliseconds);\n        });\n    },\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    debounce(func, timeout = 500) {\n        let timer = undefined;\n        return (...args) => {\n            function next() {\n                func(...args);\n            }\n            if (timer) {\n                clearTimeout(timer);\n            }\n            timer = setTimeout(next, timeout);\n        };\n    },\n    isHttpUrl(url) {\n        return url.startsWith('http://') || url.startsWith('https://');\n    },\n    formatNativeUrl(appUrl, wcUri, universalLink = null) {\n        if (CoreHelperUtil.isHttpUrl(appUrl)) {\n            return this.formatUniversalUrl(appUrl, wcUri);\n        }\n        let safeAppUrl = appUrl;\n        let safeUniversalLink = universalLink;\n        if (!safeAppUrl.includes('://')) {\n            safeAppUrl = appUrl.replaceAll('/', '').replaceAll(':', '');\n            safeAppUrl = `${safeAppUrl}://`;\n        }\n        if (!safeAppUrl.endsWith('/')) {\n            safeAppUrl = `${safeAppUrl}/`;\n        }\n        if (safeUniversalLink && !safeUniversalLink?.endsWith('/')) {\n            safeUniversalLink = `${safeUniversalLink}/`;\n        }\n        // Android deeplinks in tg context require the uri to be encoded twice\n        if (this.isTelegram() && this.isAndroid()) {\n            // eslint-disable-next-line no-param-reassign\n            wcUri = encodeURIComponent(wcUri);\n        }\n        const encodedWcUrl = encodeURIComponent(wcUri);\n        return {\n            redirect: `${safeAppUrl}wc?uri=${encodedWcUrl}`,\n            redirectUniversalLink: safeUniversalLink\n                ? `${safeUniversalLink}wc?uri=${encodedWcUrl}`\n                : undefined,\n            href: safeAppUrl\n        };\n    },\n    formatUniversalUrl(appUrl, wcUri) {\n        if (!CoreHelperUtil.isHttpUrl(appUrl)) {\n            return this.formatNativeUrl(appUrl, wcUri);\n        }\n        let safeAppUrl = appUrl;\n        if (!safeAppUrl.endsWith('/')) {\n            safeAppUrl = `${safeAppUrl}/`;\n        }\n        const encodedWcUrl = encodeURIComponent(wcUri);\n        return {\n            redirect: `${safeAppUrl}wc?uri=${encodedWcUrl}`,\n            href: safeAppUrl\n        };\n    },\n    getOpenTargetForPlatform(target) {\n        if (target === 'popupWindow') {\n            return target;\n        }\n        // Only '_blank' deeplinks work in Telegram context\n        if (this.isTelegram()) {\n            // But for social login, we need to load the page in the same context\n            if (_StorageUtil_js__WEBPACK_IMPORTED_MODULE_1__.StorageUtil.getTelegramSocialProvider()) {\n                return '_top';\n            }\n            return '_blank';\n        }\n        return target;\n    },\n    openHref(href, target, features) {\n        window?.open(href, this.getOpenTargetForPlatform(target), features || 'noreferrer noopener');\n    },\n    returnOpenHref(href, target, features) {\n        return window?.open(href, this.getOpenTargetForPlatform(target), features || 'noreferrer noopener');\n    },\n    isTelegram() {\n        return (typeof window !== 'undefined' &&\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            (Boolean(window.TelegramWebviewProxy) ||\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                Boolean(window.Telegram) ||\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                Boolean(window.TelegramWebviewProxyProto)));\n    },\n    isPWA() {\n        if (typeof window === 'undefined') {\n            return false;\n        }\n        const isStandaloneDisplayMode = window?.matchMedia && typeof window.matchMedia === 'function'\n            ? window.matchMedia('(display-mode: standalone)')?.matches\n            : false;\n        const isIOSStandalone = window?.navigator?.standalone;\n        return Boolean(isStandaloneDisplayMode || isIOSStandalone);\n    },\n    async preloadImage(src) {\n        const imagePromise = new Promise((resolve, reject) => {\n            const image = new Image();\n            image.onload = resolve;\n            image.onerror = reject;\n            image.crossOrigin = 'anonymous';\n            image.src = src;\n        });\n        return Promise.race([imagePromise, CoreHelperUtil.wait(2000)]);\n    },\n    parseBalance(balance, symbol) {\n        let formattedBalance = '0.000';\n        if (typeof balance === 'string') {\n            const number = Number(balance);\n            if (!isNaN(number)) {\n                const formattedValue = (Math.floor(number * 1000) / 1000).toFixed(3);\n                if (formattedValue) {\n                    formattedBalance = formattedValue;\n                }\n            }\n        }\n        const [valueString, decimalsString] = formattedBalance.split('.');\n        const value = valueString || '0';\n        const decimals = decimalsString || '000';\n        const formattedText = `${value}.${decimals}${symbol ? ` ${symbol}` : ''}`;\n        return {\n            formattedText,\n            value,\n            decimals,\n            symbol\n        };\n    },\n    getApiUrl() {\n        return _reown_appkit_common__WEBPACK_IMPORTED_MODULE_2__.ConstantsUtil.W3M_API_URL;\n    },\n    getBlockchainApiUrl() {\n        return _reown_appkit_common__WEBPACK_IMPORTED_MODULE_2__.ConstantsUtil.BLOCKCHAIN_API_RPC_URL;\n    },\n    getAnalyticsUrl() {\n        return _reown_appkit_common__WEBPACK_IMPORTED_MODULE_2__.ConstantsUtil.PULSE_API_URL;\n    },\n    getUUID() {\n        if (crypto?.randomUUID) {\n            return crypto.randomUUID();\n        }\n        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/gu, c => {\n            const r = (Math.random() * 16) | 0;\n            const v = c === 'x' ? r : (r & 0x3) | 0x8;\n            return v.toString(16);\n        });\n    },\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    parseError(error) {\n        if (typeof error === 'string') {\n            return error;\n        }\n        else if (typeof error?.issues?.[0]?.message === 'string') {\n            return error.issues[0].message;\n        }\n        else if (error instanceof Error) {\n            return error.message;\n        }\n        return 'Unknown error';\n    },\n    sortRequestedNetworks(approvedIds, requestedNetworks = []) {\n        const approvedIndexMap = {};\n        if (requestedNetworks && approvedIds) {\n            approvedIds.forEach((id, index) => {\n                approvedIndexMap[id] = index;\n            });\n            requestedNetworks.sort((a, b) => {\n                const indexA = approvedIndexMap[a.id];\n                const indexB = approvedIndexMap[b.id];\n                if (indexA !== undefined && indexB !== undefined) {\n                    return indexA - indexB;\n                }\n                else if (indexA !== undefined) {\n                    return -1;\n                }\n                else if (indexB !== undefined) {\n                    return 1;\n                }\n                return 0;\n            });\n        }\n        return requestedNetworks;\n    },\n    calculateBalance(array) {\n        let sum = 0;\n        for (const item of array) {\n            sum += item.value ?? 0;\n        }\n        return sum;\n    },\n    formatTokenBalance(number) {\n        const roundedNumber = number.toFixed(2);\n        const [dollars, pennies] = roundedNumber.split('.');\n        return { dollars, pennies };\n    },\n    isAddress(address, chain = 'eip155') {\n        switch (chain) {\n            case 'eip155':\n                if (!/^(?:0x)?[0-9a-f]{40}$/iu.test(address)) {\n                    return false;\n                }\n                else if (/^(?:0x)?[0-9a-f]{40}$/iu.test(address) ||\n                    /^(?:0x)?[0-9A-F]{40}$/iu.test(address)) {\n                    return true;\n                }\n                return false;\n            case 'solana':\n                return /[1-9A-HJ-NP-Za-km-z]{32,44}$/iu.test(address);\n            default:\n                return false;\n        }\n    },\n    uniqueBy(arr, key) {\n        const set = new Set();\n        return arr.filter(item => {\n            const keyValue = item[key];\n            if (set.has(keyValue)) {\n                return false;\n            }\n            set.add(keyValue);\n            return true;\n        });\n    },\n    generateSdkVersion(adapters, platform, version) {\n        const hasNoAdapters = adapters.length === 0;\n        const adapterNames = (hasNoAdapters\n            ? _ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.ADAPTER_TYPES.UNIVERSAL\n            : adapters.map(adapter => adapter.adapterType).join(','));\n        return `${platform}-${adapterNames}-${version}`;\n    },\n    // eslint-disable-next-line max-params\n    createAccount(namespace, address, type, publicKey, path) {\n        return {\n            namespace,\n            address,\n            type,\n            publicKey,\n            path\n        };\n    },\n    isCaipAddress(address) {\n        if (typeof address !== 'string') {\n            return false;\n        }\n        const sections = address.split(':');\n        const namespace = sections[0];\n        return (sections.filter(Boolean).length === 3 &&\n            namespace in _reown_appkit_common__WEBPACK_IMPORTED_MODULE_2__.ConstantsUtil.CHAIN_NAME_MAP);\n    },\n    getAccount(account) {\n        if (!account) {\n            return {\n                address: undefined,\n                chainId: undefined\n            };\n        }\n        if (typeof account === 'string') {\n            return {\n                address: account,\n                chainId: undefined\n            };\n        }\n        return {\n            address: account.address,\n            chainId: account.chainId\n        };\n    },\n    isMac() {\n        const ua = window?.navigator.userAgent.toLowerCase();\n        return ua.includes('macintosh') && !ua.includes('safari');\n    },\n    formatTelegramSocialLoginUrl(url) {\n        const valueToInject = `--${encodeURIComponent(window?.location.href)}`;\n        const paramToInject = 'state=';\n        const parsedUrl = new URL(url);\n        if (parsedUrl.host === 'auth.magic.link') {\n            const providerParam = 'provider_authorization_url=';\n            const providerUrl = url.substring(url.indexOf(providerParam) + providerParam.length);\n            const resultUrl = this.injectIntoUrl(decodeURIComponent(providerUrl), paramToInject, valueToInject);\n            return url.replace(providerUrl, encodeURIComponent(resultUrl));\n        }\n        return this.injectIntoUrl(url, paramToInject, valueToInject);\n    },\n    injectIntoUrl(url, key, appendString) {\n        // Find the position of \"key\" e.g. \"state=\" in the URL\n        const keyIndex = url.indexOf(key);\n        if (keyIndex === -1) {\n            throw new Error(`${key} parameter not found in the URL: ${url}`);\n        }\n        // Find the position of the next \"&\" after \"key\"\n        const keyEndIndex = url.indexOf('&', keyIndex);\n        const keyLength = key.length;\n        // If there is no \"&\" after key, it means \"key\" is the last parameter\n        // eslint-disable-next-line no-negated-condition\n        const keyParamEnd = keyEndIndex !== -1 ? keyEndIndex : url.length;\n        // Extract the part of the URL before the key value\n        const beforeKeyValue = url.substring(0, keyIndex + keyLength);\n        // Extract the current key value\n        const currentKeyValue = url.substring(keyIndex + keyLength, keyParamEnd);\n        // Extract the part of the URL after the key value\n        const afterKeyValue = url.substring(keyEndIndex);\n        // Append the new string to the key value\n        const newKeyValue = currentKeyValue + appendString;\n        // Reconstruct the URL with the appended key value\n        const newUrl = beforeKeyValue + newKeyValue + afterKeyValue;\n        return newUrl;\n    }\n};\n//# sourceMappingURL=CoreHelperUtil.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTFfQHJlYWN0LW5hdGl2ZS1hc3luYy1zdG9yYWdlK2FzeW5jLXN0b3JhZ2VAMi4yLjBfcmVhY3QtX2E4MDMyMTIzODk3ZTA3OTMxMzc0MjMyYzNjYzRlNTM1L25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy91dGlscy9Db3JlSGVscGVyVXRpbC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQXdFO0FBQ3JCO0FBQ0o7QUFDeEM7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLCtDQUErQyw0REFBYTtBQUM1RCxLQUFLO0FBQ0wsNkNBQTZDLDREQUFhO0FBQzFEO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSw0QkFBNEIsNERBQWE7QUFDekMsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsV0FBVztBQUN2QztBQUNBO0FBQ0EsNEJBQTRCLFdBQVc7QUFDdkM7QUFDQTtBQUNBLG1DQUFtQyxrQkFBa0I7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixXQUFXLFNBQVMsYUFBYTtBQUMxRDtBQUNBLHFCQUFxQixrQkFBa0IsU0FBUyxhQUFhO0FBQzdEO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsV0FBVztBQUN2QztBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsV0FBVyxTQUFTLGFBQWE7QUFDMUQ7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQix3REFBVztBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLE1BQU0sR0FBRyxTQUFTLEVBQUUsYUFBYSxPQUFPLE9BQU87QUFDaEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsZUFBZSwrREFBZTtBQUM5QixLQUFLO0FBQ0w7QUFDQSxlQUFlLCtEQUFlO0FBQzlCLEtBQUs7QUFDTDtBQUNBLGVBQWUsK0RBQWU7QUFDOUIsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLEdBQUc7QUFDMUM7QUFDQTtBQUNBLDJDQUEyQyxHQUFHO0FBQzlDLHNDQUFzQyxHQUFHO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLE1BQU07QUFDbkQ7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsY0FBYyw0REFBYTtBQUMzQjtBQUNBLGtCQUFrQixTQUFTLEdBQUcsYUFBYSxHQUFHLFFBQVE7QUFDdEQsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QiwrREFBZTtBQUN4QyxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxtQ0FBbUMsMENBQTBDO0FBQzdFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixLQUFLLGtDQUFrQyxJQUFJO0FBQzFFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL25vZ2dsci8uL25vZGVfbW9kdWxlcy8ucG5wbS9AcmVvd24rYXBwa2l0LWNvbnRyb2xsZXJzQDEuOC4xMV9AcmVhY3QtbmF0aXZlLWFzeW5jLXN0b3JhZ2UrYXN5bmMtc3RvcmFnZUAyLjIuMF9yZWFjdC1fYTgwMzIxMjM4OTdlMDc5MzEzNzQyMzJjM2NjNGU1MzUvbm9kZV9tb2R1bGVzL0ByZW93bi9hcHBraXQtY29udHJvbGxlcnMvZGlzdC9lc20vc3JjL3V0aWxzL0NvcmVIZWxwZXJVdGlsLmpzPzA3NWYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29uc3RhbnRzVXRpbCBhcyBDb21tb25Db25zdGFudHMgfSBmcm9tICdAcmVvd24vYXBwa2l0LWNvbW1vbic7XG5pbXBvcnQgeyBDb25zdGFudHNVdGlsIH0gZnJvbSAnLi9Db25zdGFudHNVdGlsLmpzJztcbmltcG9ydCB7IFN0b3JhZ2VVdGlsIH0gZnJvbSAnLi9TdG9yYWdlVXRpbC5qcyc7XG5leHBvcnQgY29uc3QgQ29yZUhlbHBlclV0aWwgPSB7XG4gICAgaXNNb2JpbGUoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzQ2xpZW50KCkpIHtcbiAgICAgICAgICAgIHJldHVybiBCb29sZWFuKCh3aW5kb3c/Lm1hdGNoTWVkaWEgJiZcbiAgICAgICAgICAgICAgICB0eXBlb2Ygd2luZG93Lm1hdGNoTWVkaWEgPT09ICdmdW5jdGlvbicgJiZcbiAgICAgICAgICAgICAgICB3aW5kb3cubWF0Y2hNZWRpYSgnKHBvaW50ZXI6Y29hcnNlKScpPy5tYXRjaGVzKSB8fFxuICAgICAgICAgICAgICAgIC9BbmRyb2lkfHdlYk9TfGlQaG9uZXxpUGFkfGlQb2R8QmxhY2tCZXJyeXxPcGVyYSBNaW5pL3UudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG4gICAgY2hlY2tDYWlwTmV0d29yayhuZXR3b3JrLCBuZXR3b3JrTmFtZSA9ICcnKSB7XG4gICAgICAgIHJldHVybiBuZXR3b3JrPy5jYWlwTmV0d29ya0lkLnRvTG9jYWxlTG93ZXJDYXNlKCkuaW5jbHVkZXMobmV0d29ya05hbWUudG9Mb3dlckNhc2UoKSk7XG4gICAgfSxcbiAgICBpc0FuZHJvaWQoKSB7XG4gICAgICAgIGlmICghdGhpcy5pc01vYmlsZSgpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdWEgPSB3aW5kb3c/Lm5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgcmV0dXJuIENvcmVIZWxwZXJVdGlsLmlzTW9iaWxlKCkgJiYgdWEuaW5jbHVkZXMoJ2FuZHJvaWQnKTtcbiAgICB9LFxuICAgIGlzSW9zKCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNNb2JpbGUoKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHVhID0gd2luZG93Py5uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIHJldHVybiB1YS5pbmNsdWRlcygnaXBob25lJykgfHwgdWEuaW5jbHVkZXMoJ2lwYWQnKTtcbiAgICB9LFxuICAgIGlzU2FmYXJpKCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNDbGllbnQoKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHVhID0gd2luZG93Py5uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIHJldHVybiB1YS5pbmNsdWRlcygnc2FmYXJpJyk7XG4gICAgfSxcbiAgICBpc0NsaWVudCgpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnO1xuICAgIH0sXG4gICAgaXNQYWlyaW5nRXhwaXJlZChleHBpcnkpIHtcbiAgICAgICAgcmV0dXJuIGV4cGlyeSA/IGV4cGlyeSAtIERhdGUubm93KCkgPD0gQ29uc3RhbnRzVXRpbC5URU5fU0VDX01TIDogdHJ1ZTtcbiAgICB9LFxuICAgIGlzQWxsb3dlZFJldHJ5KGxhc3RSZXRyeSwgZGlmZmVyZW5jZU1zID0gQ29uc3RhbnRzVXRpbC5PTkVfU0VDX01TKSB7XG4gICAgICAgIHJldHVybiBEYXRlLm5vdygpIC0gbGFzdFJldHJ5ID49IGRpZmZlcmVuY2VNcztcbiAgICB9LFxuICAgIGNvcHlUb0Nsb3Bib2FyZCh0ZXh0KSB7XG4gICAgICAgIG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KHRleHQpO1xuICAgIH0sXG4gICAgaXNJZnJhbWUoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gd2luZG93Py5zZWxmICE9PSB3aW5kb3c/LnRvcDtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBpc1NhZmVBcHAoKSB7XG4gICAgICAgIGlmIChDb3JlSGVscGVyVXRpbC5pc0NsaWVudCgpICYmIHdpbmRvdy5zZWxmICE9PSB3aW5kb3cudG9wKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFuY2VzdG9yID0gd2luZG93Py5sb2NhdGlvbj8uYW5jZXN0b3JPcmlnaW5zPy5bMF07XG4gICAgICAgICAgICAgICAgY29uc3Qgc2FmZUFwcFVybCA9ICdodHRwczovL2FwcC5zYWZlLmdsb2JhbCc7XG4gICAgICAgICAgICAgICAgaWYgKGFuY2VzdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFuY2VzdG9yVXJsID0gbmV3IFVSTChhbmNlc3Rvcik7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNhZmVVcmwgPSBuZXcgVVJMKHNhZmVBcHBVcmwpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYW5jZXN0b3JVcmwuaG9zdG5hbWUgPT09IHNhZmVVcmwuaG9zdG5hbWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSxcbiAgICBnZXRQYWlyaW5nRXhwaXJ5KCkge1xuICAgICAgICByZXR1cm4gRGF0ZS5ub3coKSArIENvbnN0YW50c1V0aWwuRk9VUl9NSU5VVEVTX01TO1xuICAgIH0sXG4gICAgZ2V0TmV0d29ya0lkKGNhaXBBZGRyZXNzKSB7XG4gICAgICAgIHJldHVybiBjYWlwQWRkcmVzcz8uc3BsaXQoJzonKVsxXTtcbiAgICB9LFxuICAgIGdldFBsYWluQWRkcmVzcyhjYWlwQWRkcmVzcykge1xuICAgICAgICByZXR1cm4gY2FpcEFkZHJlc3M/LnNwbGl0KCc6JylbMl07XG4gICAgfSxcbiAgICBhc3luYyB3YWl0KG1pbGxpc2Vjb25kcykge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KHJlc29sdmUsIG1pbGxpc2Vjb25kcyk7XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBkZWJvdW5jZShmdW5jLCB0aW1lb3V0ID0gNTAwKSB7XG4gICAgICAgIGxldCB0aW1lciA9IHVuZGVmaW5lZDtcbiAgICAgICAgcmV0dXJuICguLi5hcmdzKSA9PiB7XG4gICAgICAgICAgICBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgICAgICAgICAgIGZ1bmMoLi4uYXJncyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGltZXIpIHtcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGltZXIgPSBzZXRUaW1lb3V0KG5leHQsIHRpbWVvdXQpO1xuICAgICAgICB9O1xuICAgIH0sXG4gICAgaXNIdHRwVXJsKHVybCkge1xuICAgICAgICByZXR1cm4gdXJsLnN0YXJ0c1dpdGgoJ2h0dHA6Ly8nKSB8fCB1cmwuc3RhcnRzV2l0aCgnaHR0cHM6Ly8nKTtcbiAgICB9LFxuICAgIGZvcm1hdE5hdGl2ZVVybChhcHBVcmwsIHdjVXJpLCB1bml2ZXJzYWxMaW5rID0gbnVsbCkge1xuICAgICAgICBpZiAoQ29yZUhlbHBlclV0aWwuaXNIdHRwVXJsKGFwcFVybCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZvcm1hdFVuaXZlcnNhbFVybChhcHBVcmwsIHdjVXJpKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgc2FmZUFwcFVybCA9IGFwcFVybDtcbiAgICAgICAgbGV0IHNhZmVVbml2ZXJzYWxMaW5rID0gdW5pdmVyc2FsTGluaztcbiAgICAgICAgaWYgKCFzYWZlQXBwVXJsLmluY2x1ZGVzKCc6Ly8nKSkge1xuICAgICAgICAgICAgc2FmZUFwcFVybCA9IGFwcFVybC5yZXBsYWNlQWxsKCcvJywgJycpLnJlcGxhY2VBbGwoJzonLCAnJyk7XG4gICAgICAgICAgICBzYWZlQXBwVXJsID0gYCR7c2FmZUFwcFVybH06Ly9gO1xuICAgICAgICB9XG4gICAgICAgIGlmICghc2FmZUFwcFVybC5lbmRzV2l0aCgnLycpKSB7XG4gICAgICAgICAgICBzYWZlQXBwVXJsID0gYCR7c2FmZUFwcFVybH0vYDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2FmZVVuaXZlcnNhbExpbmsgJiYgIXNhZmVVbml2ZXJzYWxMaW5rPy5lbmRzV2l0aCgnLycpKSB7XG4gICAgICAgICAgICBzYWZlVW5pdmVyc2FsTGluayA9IGAke3NhZmVVbml2ZXJzYWxMaW5rfS9gO1xuICAgICAgICB9XG4gICAgICAgIC8vIEFuZHJvaWQgZGVlcGxpbmtzIGluIHRnIGNvbnRleHQgcmVxdWlyZSB0aGUgdXJpIHRvIGJlIGVuY29kZWQgdHdpY2VcbiAgICAgICAgaWYgKHRoaXMuaXNUZWxlZ3JhbSgpICYmIHRoaXMuaXNBbmRyb2lkKCkpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgICAgICAgd2NVcmkgPSBlbmNvZGVVUklDb21wb25lbnQod2NVcmkpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGVuY29kZWRXY1VybCA9IGVuY29kZVVSSUNvbXBvbmVudCh3Y1VyaSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZWRpcmVjdDogYCR7c2FmZUFwcFVybH13Yz91cmk9JHtlbmNvZGVkV2NVcmx9YCxcbiAgICAgICAgICAgIHJlZGlyZWN0VW5pdmVyc2FsTGluazogc2FmZVVuaXZlcnNhbExpbmtcbiAgICAgICAgICAgICAgICA/IGAke3NhZmVVbml2ZXJzYWxMaW5rfXdjP3VyaT0ke2VuY29kZWRXY1VybH1gXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBocmVmOiBzYWZlQXBwVXJsXG4gICAgICAgIH07XG4gICAgfSxcbiAgICBmb3JtYXRVbml2ZXJzYWxVcmwoYXBwVXJsLCB3Y1VyaSkge1xuICAgICAgICBpZiAoIUNvcmVIZWxwZXJVdGlsLmlzSHR0cFVybChhcHBVcmwpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5mb3JtYXROYXRpdmVVcmwoYXBwVXJsLCB3Y1VyaSk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHNhZmVBcHBVcmwgPSBhcHBVcmw7XG4gICAgICAgIGlmICghc2FmZUFwcFVybC5lbmRzV2l0aCgnLycpKSB7XG4gICAgICAgICAgICBzYWZlQXBwVXJsID0gYCR7c2FmZUFwcFVybH0vYDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBlbmNvZGVkV2NVcmwgPSBlbmNvZGVVUklDb21wb25lbnQod2NVcmkpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcmVkaXJlY3Q6IGAke3NhZmVBcHBVcmx9d2M/dXJpPSR7ZW5jb2RlZFdjVXJsfWAsXG4gICAgICAgICAgICBocmVmOiBzYWZlQXBwVXJsXG4gICAgICAgIH07XG4gICAgfSxcbiAgICBnZXRPcGVuVGFyZ2V0Rm9yUGxhdGZvcm0odGFyZ2V0KSB7XG4gICAgICAgIGlmICh0YXJnZXQgPT09ICdwb3B1cFdpbmRvdycpIHtcbiAgICAgICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gT25seSAnX2JsYW5rJyBkZWVwbGlua3Mgd29yayBpbiBUZWxlZ3JhbSBjb250ZXh0XG4gICAgICAgIGlmICh0aGlzLmlzVGVsZWdyYW0oKSkge1xuICAgICAgICAgICAgLy8gQnV0IGZvciBzb2NpYWwgbG9naW4sIHdlIG5lZWQgdG8gbG9hZCB0aGUgcGFnZSBpbiB0aGUgc2FtZSBjb250ZXh0XG4gICAgICAgICAgICBpZiAoU3RvcmFnZVV0aWwuZ2V0VGVsZWdyYW1Tb2NpYWxQcm92aWRlcigpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdfdG9wJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiAnX2JsYW5rJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgIH0sXG4gICAgb3BlbkhyZWYoaHJlZiwgdGFyZ2V0LCBmZWF0dXJlcykge1xuICAgICAgICB3aW5kb3c/Lm9wZW4oaHJlZiwgdGhpcy5nZXRPcGVuVGFyZ2V0Rm9yUGxhdGZvcm0odGFyZ2V0KSwgZmVhdHVyZXMgfHwgJ25vcmVmZXJyZXIgbm9vcGVuZXInKTtcbiAgICB9LFxuICAgIHJldHVybk9wZW5IcmVmKGhyZWYsIHRhcmdldCwgZmVhdHVyZXMpIHtcbiAgICAgICAgcmV0dXJuIHdpbmRvdz8ub3BlbihocmVmLCB0aGlzLmdldE9wZW5UYXJnZXRGb3JQbGF0Zm9ybSh0YXJnZXQpLCBmZWF0dXJlcyB8fCAnbm9yZWZlcnJlciBub29wZW5lcicpO1xuICAgIH0sXG4gICAgaXNUZWxlZ3JhbSgpIHtcbiAgICAgICAgcmV0dXJuICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgICAgIChCb29sZWFuKHdpbmRvdy5UZWxlZ3JhbVdlYnZpZXdQcm94eSkgfHxcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICAgICAgICAgIEJvb2xlYW4od2luZG93LlRlbGVncmFtKSB8fFxuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgICAgICAgICAgQm9vbGVhbih3aW5kb3cuVGVsZWdyYW1XZWJ2aWV3UHJveHlQcm90bykpKTtcbiAgICB9LFxuICAgIGlzUFdBKCkge1xuICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpc1N0YW5kYWxvbmVEaXNwbGF5TW9kZSA9IHdpbmRvdz8ubWF0Y2hNZWRpYSAmJiB0eXBlb2Ygd2luZG93Lm1hdGNoTWVkaWEgPT09ICdmdW5jdGlvbidcbiAgICAgICAgICAgID8gd2luZG93Lm1hdGNoTWVkaWEoJyhkaXNwbGF5LW1vZGU6IHN0YW5kYWxvbmUpJyk/Lm1hdGNoZXNcbiAgICAgICAgICAgIDogZmFsc2U7XG4gICAgICAgIGNvbnN0IGlzSU9TU3RhbmRhbG9uZSA9IHdpbmRvdz8ubmF2aWdhdG9yPy5zdGFuZGFsb25lO1xuICAgICAgICByZXR1cm4gQm9vbGVhbihpc1N0YW5kYWxvbmVEaXNwbGF5TW9kZSB8fCBpc0lPU1N0YW5kYWxvbmUpO1xuICAgIH0sXG4gICAgYXN5bmMgcHJlbG9hZEltYWdlKHNyYykge1xuICAgICAgICBjb25zdCBpbWFnZVByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpbWFnZSA9IG5ldyBJbWFnZSgpO1xuICAgICAgICAgICAgaW1hZ2Uub25sb2FkID0gcmVzb2x2ZTtcbiAgICAgICAgICAgIGltYWdlLm9uZXJyb3IgPSByZWplY3Q7XG4gICAgICAgICAgICBpbWFnZS5jcm9zc09yaWdpbiA9ICdhbm9ueW1vdXMnO1xuICAgICAgICAgICAgaW1hZ2Uuc3JjID0gc3JjO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmFjZShbaW1hZ2VQcm9taXNlLCBDb3JlSGVscGVyVXRpbC53YWl0KDIwMDApXSk7XG4gICAgfSxcbiAgICBwYXJzZUJhbGFuY2UoYmFsYW5jZSwgc3ltYm9sKSB7XG4gICAgICAgIGxldCBmb3JtYXR0ZWRCYWxhbmNlID0gJzAuMDAwJztcbiAgICAgICAgaWYgKHR5cGVvZiBiYWxhbmNlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgY29uc3QgbnVtYmVyID0gTnVtYmVyKGJhbGFuY2UpO1xuICAgICAgICAgICAgaWYgKCFpc05hTihudW1iZXIpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZm9ybWF0dGVkVmFsdWUgPSAoTWF0aC5mbG9vcihudW1iZXIgKiAxMDAwKSAvIDEwMDApLnRvRml4ZWQoMyk7XG4gICAgICAgICAgICAgICAgaWYgKGZvcm1hdHRlZFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvcm1hdHRlZEJhbGFuY2UgPSBmb3JtYXR0ZWRWYWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgW3ZhbHVlU3RyaW5nLCBkZWNpbWFsc1N0cmluZ10gPSBmb3JtYXR0ZWRCYWxhbmNlLnNwbGl0KCcuJyk7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gdmFsdWVTdHJpbmcgfHwgJzAnO1xuICAgICAgICBjb25zdCBkZWNpbWFscyA9IGRlY2ltYWxzU3RyaW5nIHx8ICcwMDAnO1xuICAgICAgICBjb25zdCBmb3JtYXR0ZWRUZXh0ID0gYCR7dmFsdWV9LiR7ZGVjaW1hbHN9JHtzeW1ib2wgPyBgICR7c3ltYm9sfWAgOiAnJ31gO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZm9ybWF0dGVkVGV4dCxcbiAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgZGVjaW1hbHMsXG4gICAgICAgICAgICBzeW1ib2xcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIGdldEFwaVVybCgpIHtcbiAgICAgICAgcmV0dXJuIENvbW1vbkNvbnN0YW50cy5XM01fQVBJX1VSTDtcbiAgICB9LFxuICAgIGdldEJsb2NrY2hhaW5BcGlVcmwoKSB7XG4gICAgICAgIHJldHVybiBDb21tb25Db25zdGFudHMuQkxPQ0tDSEFJTl9BUElfUlBDX1VSTDtcbiAgICB9LFxuICAgIGdldEFuYWx5dGljc1VybCgpIHtcbiAgICAgICAgcmV0dXJuIENvbW1vbkNvbnN0YW50cy5QVUxTRV9BUElfVVJMO1xuICAgIH0sXG4gICAgZ2V0VVVJRCgpIHtcbiAgICAgICAgaWYgKGNyeXB0bz8ucmFuZG9tVVVJRCkge1xuICAgICAgICAgICAgcmV0dXJuIGNyeXB0by5yYW5kb21VVUlEKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICd4eHh4eHh4eC14eHh4LTR4eHgteXh4eC14eHh4eHh4eHh4eHgnLnJlcGxhY2UoL1t4eV0vZ3UsIGMgPT4ge1xuICAgICAgICAgICAgY29uc3QgciA9IChNYXRoLnJhbmRvbSgpICogMTYpIHwgMDtcbiAgICAgICAgICAgIGNvbnN0IHYgPSBjID09PSAneCcgPyByIDogKHIgJiAweDMpIHwgMHg4O1xuICAgICAgICAgICAgcmV0dXJuIHYudG9TdHJpbmcoMTYpO1xuICAgICAgICB9KTtcbiAgICB9LFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgcGFyc2VFcnJvcihlcnJvcikge1xuICAgICAgICBpZiAodHlwZW9mIGVycm9yID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcmV0dXJuIGVycm9yO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBlcnJvcj8uaXNzdWVzPy5bMF0/Lm1lc3NhZ2UgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICByZXR1cm4gZXJyb3IuaXNzdWVzWzBdLm1lc3NhZ2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICAgICAgcmV0dXJuIGVycm9yLm1lc3NhZ2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICdVbmtub3duIGVycm9yJztcbiAgICB9LFxuICAgIHNvcnRSZXF1ZXN0ZWROZXR3b3JrcyhhcHByb3ZlZElkcywgcmVxdWVzdGVkTmV0d29ya3MgPSBbXSkge1xuICAgICAgICBjb25zdCBhcHByb3ZlZEluZGV4TWFwID0ge307XG4gICAgICAgIGlmIChyZXF1ZXN0ZWROZXR3b3JrcyAmJiBhcHByb3ZlZElkcykge1xuICAgICAgICAgICAgYXBwcm92ZWRJZHMuZm9yRWFjaCgoaWQsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgYXBwcm92ZWRJbmRleE1hcFtpZF0gPSBpbmRleDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmVxdWVzdGVkTmV0d29ya3Muc29ydCgoYSwgYikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4QSA9IGFwcHJvdmVkSW5kZXhNYXBbYS5pZF07XG4gICAgICAgICAgICAgICAgY29uc3QgaW5kZXhCID0gYXBwcm92ZWRJbmRleE1hcFtiLmlkXTtcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXhBICE9PSB1bmRlZmluZWQgJiYgaW5kZXhCICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGluZGV4QSAtIGluZGV4QjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaW5kZXhBICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpbmRleEIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVxdWVzdGVkTmV0d29ya3M7XG4gICAgfSxcbiAgICBjYWxjdWxhdGVCYWxhbmNlKGFycmF5KSB7XG4gICAgICAgIGxldCBzdW0gPSAwO1xuICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgYXJyYXkpIHtcbiAgICAgICAgICAgIHN1bSArPSBpdGVtLnZhbHVlID8/IDA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN1bTtcbiAgICB9LFxuICAgIGZvcm1hdFRva2VuQmFsYW5jZShudW1iZXIpIHtcbiAgICAgICAgY29uc3Qgcm91bmRlZE51bWJlciA9IG51bWJlci50b0ZpeGVkKDIpO1xuICAgICAgICBjb25zdCBbZG9sbGFycywgcGVubmllc10gPSByb3VuZGVkTnVtYmVyLnNwbGl0KCcuJyk7XG4gICAgICAgIHJldHVybiB7IGRvbGxhcnMsIHBlbm5pZXMgfTtcbiAgICB9LFxuICAgIGlzQWRkcmVzcyhhZGRyZXNzLCBjaGFpbiA9ICdlaXAxNTUnKSB7XG4gICAgICAgIHN3aXRjaCAoY2hhaW4pIHtcbiAgICAgICAgICAgIGNhc2UgJ2VpcDE1NSc6XG4gICAgICAgICAgICAgICAgaWYgKCEvXig/OjB4KT9bMC05YS1mXXs0MH0kL2l1LnRlc3QoYWRkcmVzcykpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICgvXig/OjB4KT9bMC05YS1mXXs0MH0kL2l1LnRlc3QoYWRkcmVzcykgfHxcbiAgICAgICAgICAgICAgICAgICAgL14oPzoweCk/WzAtOUEtRl17NDB9JC9pdS50ZXN0KGFkZHJlc3MpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICBjYXNlICdzb2xhbmEnOlxuICAgICAgICAgICAgICAgIHJldHVybiAvWzEtOUEtSEotTlAtWmEta20tel17MzIsNDR9JC9pdS50ZXN0KGFkZHJlc3MpO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHVuaXF1ZUJ5KGFyciwga2V5KSB7XG4gICAgICAgIGNvbnN0IHNldCA9IG5ldyBTZXQoKTtcbiAgICAgICAgcmV0dXJuIGFyci5maWx0ZXIoaXRlbSA9PiB7XG4gICAgICAgICAgICBjb25zdCBrZXlWYWx1ZSA9IGl0ZW1ba2V5XTtcbiAgICAgICAgICAgIGlmIChzZXQuaGFzKGtleVZhbHVlKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldC5hZGQoa2V5VmFsdWUpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgZ2VuZXJhdGVTZGtWZXJzaW9uKGFkYXB0ZXJzLCBwbGF0Zm9ybSwgdmVyc2lvbikge1xuICAgICAgICBjb25zdCBoYXNOb0FkYXB0ZXJzID0gYWRhcHRlcnMubGVuZ3RoID09PSAwO1xuICAgICAgICBjb25zdCBhZGFwdGVyTmFtZXMgPSAoaGFzTm9BZGFwdGVyc1xuICAgICAgICAgICAgPyBDb25zdGFudHNVdGlsLkFEQVBURVJfVFlQRVMuVU5JVkVSU0FMXG4gICAgICAgICAgICA6IGFkYXB0ZXJzLm1hcChhZGFwdGVyID0+IGFkYXB0ZXIuYWRhcHRlclR5cGUpLmpvaW4oJywnKSk7XG4gICAgICAgIHJldHVybiBgJHtwbGF0Zm9ybX0tJHthZGFwdGVyTmFtZXN9LSR7dmVyc2lvbn1gO1xuICAgIH0sXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG1heC1wYXJhbXNcbiAgICBjcmVhdGVBY2NvdW50KG5hbWVzcGFjZSwgYWRkcmVzcywgdHlwZSwgcHVibGljS2V5LCBwYXRoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgICBhZGRyZXNzLFxuICAgICAgICAgICAgdHlwZSxcbiAgICAgICAgICAgIHB1YmxpY0tleSxcbiAgICAgICAgICAgIHBhdGhcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIGlzQ2FpcEFkZHJlc3MoYWRkcmVzcykge1xuICAgICAgICBpZiAodHlwZW9mIGFkZHJlc3MgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2VjdGlvbnMgPSBhZGRyZXNzLnNwbGl0KCc6Jyk7XG4gICAgICAgIGNvbnN0IG5hbWVzcGFjZSA9IHNlY3Rpb25zWzBdO1xuICAgICAgICByZXR1cm4gKHNlY3Rpb25zLmZpbHRlcihCb29sZWFuKS5sZW5ndGggPT09IDMgJiZcbiAgICAgICAgICAgIG5hbWVzcGFjZSBpbiBDb21tb25Db25zdGFudHMuQ0hBSU5fTkFNRV9NQVApO1xuICAgIH0sXG4gICAgZ2V0QWNjb3VudChhY2NvdW50KSB7XG4gICAgICAgIGlmICghYWNjb3VudCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBhZGRyZXNzOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgY2hhaW5JZDogdW5kZWZpbmVkXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgYWNjb3VudCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgYWRkcmVzczogYWNjb3VudCxcbiAgICAgICAgICAgICAgICBjaGFpbklkOiB1bmRlZmluZWRcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGFkZHJlc3M6IGFjY291bnQuYWRkcmVzcyxcbiAgICAgICAgICAgIGNoYWluSWQ6IGFjY291bnQuY2hhaW5JZFxuICAgICAgICB9O1xuICAgIH0sXG4gICAgaXNNYWMoKSB7XG4gICAgICAgIGNvbnN0IHVhID0gd2luZG93Py5uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIHJldHVybiB1YS5pbmNsdWRlcygnbWFjaW50b3NoJykgJiYgIXVhLmluY2x1ZGVzKCdzYWZhcmknKTtcbiAgICB9LFxuICAgIGZvcm1hdFRlbGVncmFtU29jaWFsTG9naW5VcmwodXJsKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlVG9JbmplY3QgPSBgLS0ke2VuY29kZVVSSUNvbXBvbmVudCh3aW5kb3c/LmxvY2F0aW9uLmhyZWYpfWA7XG4gICAgICAgIGNvbnN0IHBhcmFtVG9JbmplY3QgPSAnc3RhdGU9JztcbiAgICAgICAgY29uc3QgcGFyc2VkVXJsID0gbmV3IFVSTCh1cmwpO1xuICAgICAgICBpZiAocGFyc2VkVXJsLmhvc3QgPT09ICdhdXRoLm1hZ2ljLmxpbmsnKSB7XG4gICAgICAgICAgICBjb25zdCBwcm92aWRlclBhcmFtID0gJ3Byb3ZpZGVyX2F1dGhvcml6YXRpb25fdXJsPSc7XG4gICAgICAgICAgICBjb25zdCBwcm92aWRlclVybCA9IHVybC5zdWJzdHJpbmcodXJsLmluZGV4T2YocHJvdmlkZXJQYXJhbSkgKyBwcm92aWRlclBhcmFtLmxlbmd0aCk7XG4gICAgICAgICAgICBjb25zdCByZXN1bHRVcmwgPSB0aGlzLmluamVjdEludG9VcmwoZGVjb2RlVVJJQ29tcG9uZW50KHByb3ZpZGVyVXJsKSwgcGFyYW1Ub0luamVjdCwgdmFsdWVUb0luamVjdCk7XG4gICAgICAgICAgICByZXR1cm4gdXJsLnJlcGxhY2UocHJvdmlkZXJVcmwsIGVuY29kZVVSSUNvbXBvbmVudChyZXN1bHRVcmwpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5pbmplY3RJbnRvVXJsKHVybCwgcGFyYW1Ub0luamVjdCwgdmFsdWVUb0luamVjdCk7XG4gICAgfSxcbiAgICBpbmplY3RJbnRvVXJsKHVybCwga2V5LCBhcHBlbmRTdHJpbmcpIHtcbiAgICAgICAgLy8gRmluZCB0aGUgcG9zaXRpb24gb2YgXCJrZXlcIiBlLmcuIFwic3RhdGU9XCIgaW4gdGhlIFVSTFxuICAgICAgICBjb25zdCBrZXlJbmRleCA9IHVybC5pbmRleE9mKGtleSk7XG4gICAgICAgIGlmIChrZXlJbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgJHtrZXl9IHBhcmFtZXRlciBub3QgZm91bmQgaW4gdGhlIFVSTDogJHt1cmx9YCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRmluZCB0aGUgcG9zaXRpb24gb2YgdGhlIG5leHQgXCImXCIgYWZ0ZXIgXCJrZXlcIlxuICAgICAgICBjb25zdCBrZXlFbmRJbmRleCA9IHVybC5pbmRleE9mKCcmJywga2V5SW5kZXgpO1xuICAgICAgICBjb25zdCBrZXlMZW5ndGggPSBrZXkubGVuZ3RoO1xuICAgICAgICAvLyBJZiB0aGVyZSBpcyBubyBcIiZcIiBhZnRlciBrZXksIGl0IG1lYW5zIFwia2V5XCIgaXMgdGhlIGxhc3QgcGFyYW1ldGVyXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1uZWdhdGVkLWNvbmRpdGlvblxuICAgICAgICBjb25zdCBrZXlQYXJhbUVuZCA9IGtleUVuZEluZGV4ICE9PSAtMSA/IGtleUVuZEluZGV4IDogdXJsLmxlbmd0aDtcbiAgICAgICAgLy8gRXh0cmFjdCB0aGUgcGFydCBvZiB0aGUgVVJMIGJlZm9yZSB0aGUga2V5IHZhbHVlXG4gICAgICAgIGNvbnN0IGJlZm9yZUtleVZhbHVlID0gdXJsLnN1YnN0cmluZygwLCBrZXlJbmRleCArIGtleUxlbmd0aCk7XG4gICAgICAgIC8vIEV4dHJhY3QgdGhlIGN1cnJlbnQga2V5IHZhbHVlXG4gICAgICAgIGNvbnN0IGN1cnJlbnRLZXlWYWx1ZSA9IHVybC5zdWJzdHJpbmcoa2V5SW5kZXggKyBrZXlMZW5ndGgsIGtleVBhcmFtRW5kKTtcbiAgICAgICAgLy8gRXh0cmFjdCB0aGUgcGFydCBvZiB0aGUgVVJMIGFmdGVyIHRoZSBrZXkgdmFsdWVcbiAgICAgICAgY29uc3QgYWZ0ZXJLZXlWYWx1ZSA9IHVybC5zdWJzdHJpbmcoa2V5RW5kSW5kZXgpO1xuICAgICAgICAvLyBBcHBlbmQgdGhlIG5ldyBzdHJpbmcgdG8gdGhlIGtleSB2YWx1ZVxuICAgICAgICBjb25zdCBuZXdLZXlWYWx1ZSA9IGN1cnJlbnRLZXlWYWx1ZSArIGFwcGVuZFN0cmluZztcbiAgICAgICAgLy8gUmVjb25zdHJ1Y3QgdGhlIFVSTCB3aXRoIHRoZSBhcHBlbmRlZCBrZXkgdmFsdWVcbiAgICAgICAgY29uc3QgbmV3VXJsID0gYmVmb3JlS2V5VmFsdWUgKyBuZXdLZXlWYWx1ZSArIGFmdGVyS2V5VmFsdWU7XG4gICAgICAgIHJldHVybiBuZXdVcmw7XG4gICAgfVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNvcmVIZWxwZXJVdGlsLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/CoreHelperUtil.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ERC7811Util.js":
/*!******************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ERC7811Util.js ***!
  \******************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ERC7811Utils: () => (/* binding */ ERC7811Utils)\n/* harmony export */ });\n/* harmony import */ var viem__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! viem */ \"(ssr)/./node_modules/.pnpm/viem@2.38.6_bufferutil@4.0.9_typescript@5.9.3_utf-8-validate@5.0.10_zod@4.1.12/node_modules/viem/_esm/utils/unit/formatUnits.js\");\n\nconst ERC7811Utils = {\n    /**\n     * Creates a Balance object from an ERC7811 Asset object\n     * @param asset - Asset object to convert\n     * @param chainId - Chain ID in CAIP-2 format\n     * @returns Balance object\n     */\n    createBalance(asset, chainId) {\n        const metadata = {\n            name: (asset.metadata['name'] || ''),\n            symbol: (asset.metadata['symbol'] || ''),\n            decimals: (asset.metadata['decimals'] || 0),\n            value: (asset.metadata['value'] || 0),\n            price: (asset.metadata['price'] || 0),\n            iconUrl: (asset.metadata['iconUrl'] || '')\n        };\n        return {\n            name: metadata.name,\n            symbol: metadata.symbol,\n            chainId,\n            address: asset.address === 'native'\n                ? undefined\n                : this.convertAddressToCAIP10Address(asset.address, chainId),\n            value: metadata.value,\n            price: metadata.price,\n            quantity: {\n                decimals: metadata.decimals.toString(),\n                numeric: this.convertHexToBalance({\n                    hex: asset.balance,\n                    decimals: metadata.decimals\n                })\n            },\n            iconUrl: metadata.iconUrl\n        };\n    },\n    /**\n     * Converts a hex string to a Balance object\n     * @param hex - Hex string to convert\n     * @param decimals - Number of decimals to use\n     * @returns Balance object\n     */\n    convertHexToBalance({ hex, decimals }) {\n        return (0,viem__WEBPACK_IMPORTED_MODULE_0__.formatUnits)(BigInt(hex), decimals);\n    },\n    /**\n     * Converts an address to a CAIP-10 address\n     * @param address - Address to convert\n     * @param chainId - Chain ID in CAIP-2 format\n     * @returns CAIP-10 address\n     */\n    convertAddressToCAIP10Address(address, chainId) {\n        return `${chainId}:${address}`;\n    },\n    /**\n     *  Creates a CAIP-2 Chain ID from a chain ID and namespace\n     * @param chainId  - Chain ID in hex format\n     * @param namespace  - Chain namespace\n     * @returns\n     */\n    createCAIP2ChainId(chainId, namespace) {\n        return `${namespace}:${parseInt(chainId, 16)}`;\n    },\n    /**\n     * Gets the chain ID in hex format from a CAIP-2 Chain ID\n     * @param caip2ChainId - CAIP-2 Chain ID\n     * @returns Chain ID in hex format\n     */\n    getChainIdHexFromCAIP2ChainId(caip2ChainId) {\n        const parts = caip2ChainId.split(':');\n        if (parts.length < 2 || !parts[1]) {\n            return '0x0';\n        }\n        const chainPart = parts[1];\n        const parsed = parseInt(chainPart, 10);\n        return isNaN(parsed) ? '0x0' : `0x${parsed.toString(16)}`;\n    },\n    /**\n     * Checks if a response is a valid WalletGetAssetsResponse\n     * @param response - The response to check\n     * @returns True if the response is a valid WalletGetAssetsResponse, false otherwise\n     */\n    isWalletGetAssetsResponse(response) {\n        // Check if response is an object and has the expected structure\n        if (typeof response !== 'object' || response === null) {\n            return false;\n        }\n        // Check if all values are arrays and conform to the expected asset structure\n        return Object.values(response).every(value => Array.isArray(value) && value.every(asset => this.isValidAsset(asset)));\n    },\n    /**\n     * Checks if an asset object is valid.\n     * @param asset - The asset object to check.\n     * @returns True if the asset is valid, false otherwise.\n     */\n    isValidAsset(asset) {\n        return (typeof asset === 'object' &&\n            asset !== null &&\n            typeof asset.address === 'string' &&\n            typeof asset.balance === 'string' &&\n            (asset.type === 'ERC20' || asset.type === 'NATIVE') &&\n            typeof asset.metadata === 'object' &&\n            asset.metadata !== null &&\n            typeof asset.metadata['name'] === 'string' &&\n            typeof asset.metadata['symbol'] === 'string' &&\n            typeof asset.metadata['decimals'] === 'number' &&\n            typeof asset.metadata['price'] === 'number' &&\n            typeof asset.metadata['iconUrl'] === 'string');\n    }\n};\n//# sourceMappingURL=ERC7811Util.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTFfQHJlYWN0LW5hdGl2ZS1hc3luYy1zdG9yYWdlK2FzeW5jLXN0b3JhZ2VAMi4yLjBfcmVhY3QtX2E4MDMyMTIzODk3ZTA3OTMxMzc0MjMyYzNjYzRlNTM1L25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy91dGlscy9FUkM3ODExVXRpbC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFtQztBQUM1QjtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLGVBQWU7QUFDekMsZUFBZSxpREFBVztBQUMxQixLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsUUFBUSxHQUFHLFFBQVE7QUFDckMsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLFVBQVUsR0FBRyxzQkFBc0I7QUFDckQsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QyxvQkFBb0I7QUFDaEUsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ub2dnbHIvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTFfQHJlYWN0LW5hdGl2ZS1hc3luYy1zdG9yYWdlK2FzeW5jLXN0b3JhZ2VAMi4yLjBfcmVhY3QtX2E4MDMyMTIzODk3ZTA3OTMxMzc0MjMyYzNjYzRlNTM1L25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy91dGlscy9FUkM3ODExVXRpbC5qcz8wMzM1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGZvcm1hdFVuaXRzIH0gZnJvbSAndmllbSc7XG5leHBvcnQgY29uc3QgRVJDNzgxMVV0aWxzID0ge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBCYWxhbmNlIG9iamVjdCBmcm9tIGFuIEVSQzc4MTEgQXNzZXQgb2JqZWN0XG4gICAgICogQHBhcmFtIGFzc2V0IC0gQXNzZXQgb2JqZWN0IHRvIGNvbnZlcnRcbiAgICAgKiBAcGFyYW0gY2hhaW5JZCAtIENoYWluIElEIGluIENBSVAtMiBmb3JtYXRcbiAgICAgKiBAcmV0dXJucyBCYWxhbmNlIG9iamVjdFxuICAgICAqL1xuICAgIGNyZWF0ZUJhbGFuY2UoYXNzZXQsIGNoYWluSWQpIHtcbiAgICAgICAgY29uc3QgbWV0YWRhdGEgPSB7XG4gICAgICAgICAgICBuYW1lOiAoYXNzZXQubWV0YWRhdGFbJ25hbWUnXSB8fCAnJyksXG4gICAgICAgICAgICBzeW1ib2w6IChhc3NldC5tZXRhZGF0YVsnc3ltYm9sJ10gfHwgJycpLFxuICAgICAgICAgICAgZGVjaW1hbHM6IChhc3NldC5tZXRhZGF0YVsnZGVjaW1hbHMnXSB8fCAwKSxcbiAgICAgICAgICAgIHZhbHVlOiAoYXNzZXQubWV0YWRhdGFbJ3ZhbHVlJ10gfHwgMCksXG4gICAgICAgICAgICBwcmljZTogKGFzc2V0Lm1ldGFkYXRhWydwcmljZSddIHx8IDApLFxuICAgICAgICAgICAgaWNvblVybDogKGFzc2V0Lm1ldGFkYXRhWydpY29uVXJsJ10gfHwgJycpXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBuYW1lOiBtZXRhZGF0YS5uYW1lLFxuICAgICAgICAgICAgc3ltYm9sOiBtZXRhZGF0YS5zeW1ib2wsXG4gICAgICAgICAgICBjaGFpbklkLFxuICAgICAgICAgICAgYWRkcmVzczogYXNzZXQuYWRkcmVzcyA9PT0gJ25hdGl2ZSdcbiAgICAgICAgICAgICAgICA/IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgIDogdGhpcy5jb252ZXJ0QWRkcmVzc1RvQ0FJUDEwQWRkcmVzcyhhc3NldC5hZGRyZXNzLCBjaGFpbklkKSxcbiAgICAgICAgICAgIHZhbHVlOiBtZXRhZGF0YS52YWx1ZSxcbiAgICAgICAgICAgIHByaWNlOiBtZXRhZGF0YS5wcmljZSxcbiAgICAgICAgICAgIHF1YW50aXR5OiB7XG4gICAgICAgICAgICAgICAgZGVjaW1hbHM6IG1ldGFkYXRhLmRlY2ltYWxzLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgbnVtZXJpYzogdGhpcy5jb252ZXJ0SGV4VG9CYWxhbmNlKHtcbiAgICAgICAgICAgICAgICAgICAgaGV4OiBhc3NldC5iYWxhbmNlLFxuICAgICAgICAgICAgICAgICAgICBkZWNpbWFsczogbWV0YWRhdGEuZGVjaW1hbHNcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGljb25Vcmw6IG1ldGFkYXRhLmljb25VcmxcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGEgaGV4IHN0cmluZyB0byBhIEJhbGFuY2Ugb2JqZWN0XG4gICAgICogQHBhcmFtIGhleCAtIEhleCBzdHJpbmcgdG8gY29udmVydFxuICAgICAqIEBwYXJhbSBkZWNpbWFscyAtIE51bWJlciBvZiBkZWNpbWFscyB0byB1c2VcbiAgICAgKiBAcmV0dXJucyBCYWxhbmNlIG9iamVjdFxuICAgICAqL1xuICAgIGNvbnZlcnRIZXhUb0JhbGFuY2UoeyBoZXgsIGRlY2ltYWxzIH0pIHtcbiAgICAgICAgcmV0dXJuIGZvcm1hdFVuaXRzKEJpZ0ludChoZXgpLCBkZWNpbWFscyk7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBhbiBhZGRyZXNzIHRvIGEgQ0FJUC0xMCBhZGRyZXNzXG4gICAgICogQHBhcmFtIGFkZHJlc3MgLSBBZGRyZXNzIHRvIGNvbnZlcnRcbiAgICAgKiBAcGFyYW0gY2hhaW5JZCAtIENoYWluIElEIGluIENBSVAtMiBmb3JtYXRcbiAgICAgKiBAcmV0dXJucyBDQUlQLTEwIGFkZHJlc3NcbiAgICAgKi9cbiAgICBjb252ZXJ0QWRkcmVzc1RvQ0FJUDEwQWRkcmVzcyhhZGRyZXNzLCBjaGFpbklkKSB7XG4gICAgICAgIHJldHVybiBgJHtjaGFpbklkfToke2FkZHJlc3N9YDtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqICBDcmVhdGVzIGEgQ0FJUC0yIENoYWluIElEIGZyb20gYSBjaGFpbiBJRCBhbmQgbmFtZXNwYWNlXG4gICAgICogQHBhcmFtIGNoYWluSWQgIC0gQ2hhaW4gSUQgaW4gaGV4IGZvcm1hdFxuICAgICAqIEBwYXJhbSBuYW1lc3BhY2UgIC0gQ2hhaW4gbmFtZXNwYWNlXG4gICAgICogQHJldHVybnNcbiAgICAgKi9cbiAgICBjcmVhdGVDQUlQMkNoYWluSWQoY2hhaW5JZCwgbmFtZXNwYWNlKSB7XG4gICAgICAgIHJldHVybiBgJHtuYW1lc3BhY2V9OiR7cGFyc2VJbnQoY2hhaW5JZCwgMTYpfWA7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBjaGFpbiBJRCBpbiBoZXggZm9ybWF0IGZyb20gYSBDQUlQLTIgQ2hhaW4gSURcbiAgICAgKiBAcGFyYW0gY2FpcDJDaGFpbklkIC0gQ0FJUC0yIENoYWluIElEXG4gICAgICogQHJldHVybnMgQ2hhaW4gSUQgaW4gaGV4IGZvcm1hdFxuICAgICAqL1xuICAgIGdldENoYWluSWRIZXhGcm9tQ0FJUDJDaGFpbklkKGNhaXAyQ2hhaW5JZCkge1xuICAgICAgICBjb25zdCBwYXJ0cyA9IGNhaXAyQ2hhaW5JZC5zcGxpdCgnOicpO1xuICAgICAgICBpZiAocGFydHMubGVuZ3RoIDwgMiB8fCAhcGFydHNbMV0pIHtcbiAgICAgICAgICAgIHJldHVybiAnMHgwJztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjaGFpblBhcnQgPSBwYXJ0c1sxXTtcbiAgICAgICAgY29uc3QgcGFyc2VkID0gcGFyc2VJbnQoY2hhaW5QYXJ0LCAxMCk7XG4gICAgICAgIHJldHVybiBpc05hTihwYXJzZWQpID8gJzB4MCcgOiBgMHgke3BhcnNlZC50b1N0cmluZygxNil9YDtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBhIHJlc3BvbnNlIGlzIGEgdmFsaWQgV2FsbGV0R2V0QXNzZXRzUmVzcG9uc2VcbiAgICAgKiBAcGFyYW0gcmVzcG9uc2UgLSBUaGUgcmVzcG9uc2UgdG8gY2hlY2tcbiAgICAgKiBAcmV0dXJucyBUcnVlIGlmIHRoZSByZXNwb25zZSBpcyBhIHZhbGlkIFdhbGxldEdldEFzc2V0c1Jlc3BvbnNlLCBmYWxzZSBvdGhlcndpc2VcbiAgICAgKi9cbiAgICBpc1dhbGxldEdldEFzc2V0c1Jlc3BvbnNlKHJlc3BvbnNlKSB7XG4gICAgICAgIC8vIENoZWNrIGlmIHJlc3BvbnNlIGlzIGFuIG9iamVjdCBhbmQgaGFzIHRoZSBleHBlY3RlZCBzdHJ1Y3R1cmVcbiAgICAgICAgaWYgKHR5cGVvZiByZXNwb25zZSAhPT0gJ29iamVjdCcgfHwgcmVzcG9uc2UgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBDaGVjayBpZiBhbGwgdmFsdWVzIGFyZSBhcnJheXMgYW5kIGNvbmZvcm0gdG8gdGhlIGV4cGVjdGVkIGFzc2V0IHN0cnVjdHVyZVxuICAgICAgICByZXR1cm4gT2JqZWN0LnZhbHVlcyhyZXNwb25zZSkuZXZlcnkodmFsdWUgPT4gQXJyYXkuaXNBcnJheSh2YWx1ZSkgJiYgdmFsdWUuZXZlcnkoYXNzZXQgPT4gdGhpcy5pc1ZhbGlkQXNzZXQoYXNzZXQpKSk7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYW4gYXNzZXQgb2JqZWN0IGlzIHZhbGlkLlxuICAgICAqIEBwYXJhbSBhc3NldCAtIFRoZSBhc3NldCBvYmplY3QgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMgVHJ1ZSBpZiB0aGUgYXNzZXQgaXMgdmFsaWQsIGZhbHNlIG90aGVyd2lzZS5cbiAgICAgKi9cbiAgICBpc1ZhbGlkQXNzZXQoYXNzZXQpIHtcbiAgICAgICAgcmV0dXJuICh0eXBlb2YgYXNzZXQgPT09ICdvYmplY3QnICYmXG4gICAgICAgICAgICBhc3NldCAhPT0gbnVsbCAmJlxuICAgICAgICAgICAgdHlwZW9mIGFzc2V0LmFkZHJlc3MgPT09ICdzdHJpbmcnICYmXG4gICAgICAgICAgICB0eXBlb2YgYXNzZXQuYmFsYW5jZSA9PT0gJ3N0cmluZycgJiZcbiAgICAgICAgICAgIChhc3NldC50eXBlID09PSAnRVJDMjAnIHx8IGFzc2V0LnR5cGUgPT09ICdOQVRJVkUnKSAmJlxuICAgICAgICAgICAgdHlwZW9mIGFzc2V0Lm1ldGFkYXRhID09PSAnb2JqZWN0JyAmJlxuICAgICAgICAgICAgYXNzZXQubWV0YWRhdGEgIT09IG51bGwgJiZcbiAgICAgICAgICAgIHR5cGVvZiBhc3NldC5tZXRhZGF0YVsnbmFtZSddID09PSAnc3RyaW5nJyAmJlxuICAgICAgICAgICAgdHlwZW9mIGFzc2V0Lm1ldGFkYXRhWydzeW1ib2wnXSA9PT0gJ3N0cmluZycgJiZcbiAgICAgICAgICAgIHR5cGVvZiBhc3NldC5tZXRhZGF0YVsnZGVjaW1hbHMnXSA9PT0gJ251bWJlcicgJiZcbiAgICAgICAgICAgIHR5cGVvZiBhc3NldC5tZXRhZGF0YVsncHJpY2UnXSA9PT0gJ251bWJlcicgJiZcbiAgICAgICAgICAgIHR5cGVvZiBhc3NldC5tZXRhZGF0YVsnaWNvblVybCddID09PSAnc3RyaW5nJyk7XG4gICAgfVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUVSQzc4MTFVdGlsLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ERC7811Util.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/EnsUtil.js":
/*!**************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/EnsUtil.js ***!
  \**************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EnsUtil: () => (/* binding */ EnsUtil)\n/* harmony export */ });\nconst SLIP44_MSB = 0x80000000;\nconst EnsUtil = {\n    convertEVMChainIdToCoinType(chainId) {\n        if (chainId >= SLIP44_MSB) {\n            throw new Error('Invalid chainId');\n        }\n        return (SLIP44_MSB | chainId) >>> 0;\n    }\n};\n//# sourceMappingURL=EnsUtil.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTFfQHJlYWN0LW5hdGl2ZS1hc3luYy1zdG9yYWdlK2FzeW5jLXN0b3JhZ2VAMi4yLjBfcmVhY3QtX2E4MDMyMTIzODk3ZTA3OTMxMzc0MjMyYzNjYzRlNTM1L25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy91dGlscy9FbnNVdGlsLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL25vZ2dsci8uL25vZGVfbW9kdWxlcy8ucG5wbS9AcmVvd24rYXBwa2l0LWNvbnRyb2xsZXJzQDEuOC4xMV9AcmVhY3QtbmF0aXZlLWFzeW5jLXN0b3JhZ2UrYXN5bmMtc3RvcmFnZUAyLjIuMF9yZWFjdC1fYTgwMzIxMjM4OTdlMDc5MzEzNzQyMzJjM2NjNGU1MzUvbm9kZV9tb2R1bGVzL0ByZW93bi9hcHBraXQtY29udHJvbGxlcnMvZGlzdC9lc20vc3JjL3V0aWxzL0Vuc1V0aWwuanM/MjBkNCJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBTTElQNDRfTVNCID0gMHg4MDAwMDAwMDtcbmV4cG9ydCBjb25zdCBFbnNVdGlsID0ge1xuICAgIGNvbnZlcnRFVk1DaGFpbklkVG9Db2luVHlwZShjaGFpbklkKSB7XG4gICAgICAgIGlmIChjaGFpbklkID49IFNMSVA0NF9NU0IpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBjaGFpbklkJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChTTElQNDRfTVNCIHwgY2hhaW5JZCkgPj4+IDA7XG4gICAgfVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUVuc1V0aWwuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/EnsUtil.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ExchangeUtil.js":
/*!*******************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ExchangeUtil.js ***!
  \*******************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   assets: () => (/* binding */ assets),\n/* harmony export */   baseSepoliaUSDC: () => (/* binding */ baseSepoliaUSDC),\n/* harmony export */   baseUSDC: () => (/* binding */ baseUSDC),\n/* harmony export */   formatCaip19Asset: () => (/* binding */ formatCaip19Asset),\n/* harmony export */   getApiUrl: () => (/* binding */ getApiUrl),\n/* harmony export */   getBuyStatus: () => (/* binding */ getBuyStatus),\n/* harmony export */   getExchanges: () => (/* binding */ getExchanges),\n/* harmony export */   getPayUrl: () => (/* binding */ getPayUrl),\n/* harmony export */   getPaymentAssetsForNetwork: () => (/* binding */ getPaymentAssetsForNetwork)\n/* harmony export */ });\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @reown/appkit-common */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-common@1.8.11_bufferutil@4.0.9_typescript@5.9.3_utf-8-validate@5.0.10_zod@4.1.12/node_modules/@reown/appkit-common/dist/esm/src/utils/ParseUtil.js\");\n/* harmony import */ var _controllers_OptionsController_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../controllers/OptionsController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/OptionsController.js\");\n\n\nconst CHAIN_ASSET_INFO_MAP = {\n    eip155: {\n        native: { assetNamespace: 'slip44', assetReference: '60' },\n        defaultTokenNamespace: 'erc20'\n    },\n    solana: {\n        native: { assetNamespace: 'slip44', assetReference: '501' },\n        defaultTokenNamespace: 'token'\n    }\n};\nclass JsonRpcError extends Error {\n}\nfunction getApiUrl() {\n    const { sdkType, sdkVersion, projectId } = _controllers_OptionsController_js__WEBPACK_IMPORTED_MODULE_0__.OptionsController.getSnapshot();\n    const url = new URL('https://rpc.walletconnect.org/v1/json-rpc');\n    url.searchParams.set('projectId', projectId);\n    url.searchParams.set('st', sdkType);\n    url.searchParams.set('sv', sdkVersion);\n    url.searchParams.set('source', 'fund-wallet');\n    return url.toString();\n}\nasync function sendRequest(method, params) {\n    const url = getApiUrl();\n    const { projectId } = _controllers_OptionsController_js__WEBPACK_IMPORTED_MODULE_0__.OptionsController.getSnapshot();\n    const requestBody = {\n        jsonrpc: '2.0',\n        id: 1,\n        method,\n        params: {\n            ...(params || {}),\n            projectId\n        }\n    };\n    const response = await fetch(url, {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: { 'Content-Type': 'application/json' }\n    });\n    const json = await response.json();\n    if (json.error) {\n        throw new JsonRpcError(json.error.message);\n    }\n    return json;\n}\nasync function getExchanges(params) {\n    const response = await sendRequest('reown_getExchanges', params);\n    return response.result;\n}\nasync function getPayUrl(params) {\n    const response = await sendRequest('reown_getExchangePayUrl', params);\n    return response.result;\n}\nasync function getBuyStatus(params) {\n    const response = await sendRequest('reown_getExchangeBuyStatus', params);\n    return response.result;\n}\nfunction formatCaip19Asset(caipNetworkId, asset) {\n    const { chainNamespace, chainId } = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_1__.ParseUtil.parseCaipNetworkId(caipNetworkId);\n    const chainInfo = CHAIN_ASSET_INFO_MAP[chainNamespace];\n    if (!chainInfo) {\n        throw new Error(`Unsupported chain namespace for CAIP-19 formatting: ${chainNamespace}`);\n    }\n    let assetNamespace = chainInfo.native.assetNamespace;\n    let assetReference = chainInfo.native.assetReference;\n    if (asset !== 'native') {\n        assetNamespace = chainInfo.defaultTokenNamespace;\n        assetReference = asset;\n    }\n    const networkPart = `${chainNamespace}:${chainId}`;\n    return `${networkPart}/${assetNamespace}:${assetReference}`;\n}\n// -- Assets ------------------------------------------------------------------ //\nconst ethereumETH = {\n    network: 'eip155:1',\n    asset: 'native',\n    metadata: {\n        name: 'Ethereum',\n        symbol: 'ETH',\n        decimals: 18\n    }\n};\nconst baseETH = {\n    network: 'eip155:8453',\n    asset: 'native',\n    metadata: {\n        name: 'Ethereum',\n        symbol: 'ETH',\n        decimals: 18\n    }\n};\nconst baseUSDC = {\n    network: 'eip155:8453',\n    asset: '0x833589fcd6edb6e08f4c7c32d4f71b54bda02913',\n    metadata: {\n        name: 'USD Coin',\n        symbol: 'USDC',\n        decimals: 6\n    }\n};\nconst baseSepoliaUSDC = {\n    network: 'eip155:84532',\n    asset: '0x036CbD53842c5426634e7929541eC2318f3dCF7e',\n    metadata: {\n        name: 'USD Coin',\n        symbol: 'USDC',\n        decimals: 6\n    }\n};\nconst baseSepoliaETH = {\n    network: 'eip155:84532',\n    asset: 'native',\n    metadata: {\n        name: 'Ethereum',\n        symbol: 'ETH',\n        decimals: 18\n    }\n};\nconst ethereumUSDC = {\n    network: 'eip155:1',\n    asset: '0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48',\n    metadata: {\n        name: 'USD Coin',\n        symbol: 'USDC',\n        decimals: 6\n    }\n};\nconst arbitrumUSDC = {\n    network: 'eip155:42161',\n    asset: '0xaf88d065e77c8cC2239327C5EDb3A432268e5831',\n    metadata: {\n        name: 'USD Coin',\n        symbol: 'USDC',\n        decimals: 6\n    }\n};\nconst polygonUSDC = {\n    network: 'eip155:137',\n    asset: '0x2791bca1f2de4661ed88a30c99a7a9449aa84174',\n    metadata: {\n        name: 'USD Coin',\n        symbol: 'USDC',\n        decimals: 6\n    }\n};\nconst solanaUSDC = {\n    network: 'solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp',\n    asset: 'EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v',\n    metadata: {\n        name: 'USD Coin',\n        symbol: 'USDC',\n        decimals: 6\n    }\n};\nconst ethereumUSDT = {\n    network: 'eip155:1',\n    asset: '0xdAC17F958D2ee523a2206206994597C13D831ec7',\n    metadata: {\n        name: 'Tether USD',\n        symbol: 'USDT',\n        decimals: 6\n    }\n};\nconst optimismUSDT = {\n    network: 'eip155:10',\n    asset: '0x94b008aA00579c1307B0EF2c499aD98a8ce58e58',\n    metadata: {\n        name: 'Tether USD',\n        symbol: 'USDT',\n        decimals: 6\n    }\n};\nconst arbitrumUSDT = {\n    network: 'eip155:42161',\n    asset: '0xFd086bC7CD5C481DCC9C85ebE478A1C0b69FCbb9',\n    metadata: {\n        name: 'Tether USD',\n        symbol: 'USDT',\n        decimals: 6\n    }\n};\nconst polygonUSDT = {\n    network: 'eip155:137',\n    asset: '0xc2132d05d31c914a87c6611c10748aeb04b58e8f',\n    metadata: {\n        name: 'Tether USD',\n        symbol: 'USDT',\n        decimals: 6\n    }\n};\nconst solanaUSDT = {\n    network: 'solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp',\n    asset: 'Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB',\n    metadata: {\n        name: 'Tether USD',\n        symbol: 'USDT',\n        decimals: 6\n    }\n};\nconst solanaSOL = {\n    network: 'solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp',\n    asset: 'native',\n    metadata: {\n        name: 'Solana',\n        symbol: 'SOL',\n        decimals: 9\n    }\n};\nconst assets = {\n    ethereumETH,\n    baseETH,\n    baseUSDC,\n    baseSepoliaETH,\n    ethereumUSDC,\n    arbitrumUSDC,\n    polygonUSDC,\n    solanaUSDC,\n    ethereumUSDT,\n    optimismUSDT,\n    arbitrumUSDT,\n    polygonUSDT,\n    solanaUSDT,\n    solanaSOL\n};\nfunction getPaymentAssetsForNetwork(network) {\n    return Object.values(assets).filter(asset => asset.network === network);\n}\n//# sourceMappingURL=ExchangeUtil.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTFfQHJlYWN0LW5hdGl2ZS1hc3luYy1zdG9yYWdlK2FzeW5jLXN0b3JhZ2VAMi4yLjBfcmVhY3QtX2E4MDMyMTIzODk3ZTA3OTMxMzc0MjMyYzNjYzRlNTM1L25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy91dGlscy9FeGNoYW5nZVV0aWwuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBaUQ7QUFDdUI7QUFDeEU7QUFDQTtBQUNBLGtCQUFrQixnREFBZ0Q7QUFDbEU7QUFDQSxLQUFLO0FBQ0w7QUFDQSxrQkFBa0IsaURBQWlEO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLFlBQVksaUNBQWlDLEVBQUUsZ0ZBQWlCO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksWUFBWSxFQUFFLGdGQUFpQjtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQixLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ087QUFDUCxZQUFZLDBCQUEwQixFQUFFLDJEQUFTO0FBQ2pEO0FBQ0E7QUFDQSwrRUFBK0UsZUFBZTtBQUM5RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixlQUFlLEdBQUcsUUFBUTtBQUNyRCxjQUFjLFlBQVksR0FBRyxlQUFlLEdBQUcsZUFBZTtBQUM5RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL25vZ2dsci8uL25vZGVfbW9kdWxlcy8ucG5wbS9AcmVvd24rYXBwa2l0LWNvbnRyb2xsZXJzQDEuOC4xMV9AcmVhY3QtbmF0aXZlLWFzeW5jLXN0b3JhZ2UrYXN5bmMtc3RvcmFnZUAyLjIuMF9yZWFjdC1fYTgwMzIxMjM4OTdlMDc5MzEzNzQyMzJjM2NjNGU1MzUvbm9kZV9tb2R1bGVzL0ByZW93bi9hcHBraXQtY29udHJvbGxlcnMvZGlzdC9lc20vc3JjL3V0aWxzL0V4Y2hhbmdlVXRpbC5qcz80MTQ0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBhcnNlVXRpbCB9IGZyb20gJ0ByZW93bi9hcHBraXQtY29tbW9uJztcbmltcG9ydCB7IE9wdGlvbnNDb250cm9sbGVyIH0gZnJvbSAnLi4vY29udHJvbGxlcnMvT3B0aW9uc0NvbnRyb2xsZXIuanMnO1xuY29uc3QgQ0hBSU5fQVNTRVRfSU5GT19NQVAgPSB7XG4gICAgZWlwMTU1OiB7XG4gICAgICAgIG5hdGl2ZTogeyBhc3NldE5hbWVzcGFjZTogJ3NsaXA0NCcsIGFzc2V0UmVmZXJlbmNlOiAnNjAnIH0sXG4gICAgICAgIGRlZmF1bHRUb2tlbk5hbWVzcGFjZTogJ2VyYzIwJ1xuICAgIH0sXG4gICAgc29sYW5hOiB7XG4gICAgICAgIG5hdGl2ZTogeyBhc3NldE5hbWVzcGFjZTogJ3NsaXA0NCcsIGFzc2V0UmVmZXJlbmNlOiAnNTAxJyB9LFxuICAgICAgICBkZWZhdWx0VG9rZW5OYW1lc3BhY2U6ICd0b2tlbidcbiAgICB9XG59O1xuY2xhc3MgSnNvblJwY0Vycm9yIGV4dGVuZHMgRXJyb3Ige1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldEFwaVVybCgpIHtcbiAgICBjb25zdCB7IHNka1R5cGUsIHNka1ZlcnNpb24sIHByb2plY3RJZCB9ID0gT3B0aW9uc0NvbnRyb2xsZXIuZ2V0U25hcHNob3QoKTtcbiAgICBjb25zdCB1cmwgPSBuZXcgVVJMKCdodHRwczovL3JwYy53YWxsZXRjb25uZWN0Lm9yZy92MS9qc29uLXJwYycpO1xuICAgIHVybC5zZWFyY2hQYXJhbXMuc2V0KCdwcm9qZWN0SWQnLCBwcm9qZWN0SWQpO1xuICAgIHVybC5zZWFyY2hQYXJhbXMuc2V0KCdzdCcsIHNka1R5cGUpO1xuICAgIHVybC5zZWFyY2hQYXJhbXMuc2V0KCdzdicsIHNka1ZlcnNpb24pO1xuICAgIHVybC5zZWFyY2hQYXJhbXMuc2V0KCdzb3VyY2UnLCAnZnVuZC13YWxsZXQnKTtcbiAgICByZXR1cm4gdXJsLnRvU3RyaW5nKCk7XG59XG5hc3luYyBmdW5jdGlvbiBzZW5kUmVxdWVzdChtZXRob2QsIHBhcmFtcykge1xuICAgIGNvbnN0IHVybCA9IGdldEFwaVVybCgpO1xuICAgIGNvbnN0IHsgcHJvamVjdElkIH0gPSBPcHRpb25zQ29udHJvbGxlci5nZXRTbmFwc2hvdCgpO1xuICAgIGNvbnN0IHJlcXVlc3RCb2R5ID0ge1xuICAgICAgICBqc29ucnBjOiAnMi4wJyxcbiAgICAgICAgaWQ6IDEsXG4gICAgICAgIG1ldGhvZCxcbiAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgICAuLi4ocGFyYW1zIHx8IHt9KSxcbiAgICAgICAgICAgIHByb2plY3RJZFxuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCwge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocmVxdWVzdEJvZHkpLFxuICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfVxuICAgIH0pO1xuICAgIGNvbnN0IGpzb24gPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgaWYgKGpzb24uZXJyb3IpIHtcbiAgICAgICAgdGhyb3cgbmV3IEpzb25ScGNFcnJvcihqc29uLmVycm9yLm1lc3NhZ2UpO1xuICAgIH1cbiAgICByZXR1cm4ganNvbjtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRFeGNoYW5nZXMocGFyYW1zKSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBzZW5kUmVxdWVzdCgncmVvd25fZ2V0RXhjaGFuZ2VzJywgcGFyYW1zKTtcbiAgICByZXR1cm4gcmVzcG9uc2UucmVzdWx0O1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFBheVVybChwYXJhbXMpIHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHNlbmRSZXF1ZXN0KCdyZW93bl9nZXRFeGNoYW5nZVBheVVybCcsIHBhcmFtcyk7XG4gICAgcmV0dXJuIHJlc3BvbnNlLnJlc3VsdDtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRCdXlTdGF0dXMocGFyYW1zKSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBzZW5kUmVxdWVzdCgncmVvd25fZ2V0RXhjaGFuZ2VCdXlTdGF0dXMnLCBwYXJhbXMpO1xuICAgIHJldHVybiByZXNwb25zZS5yZXN1bHQ7XG59XG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0Q2FpcDE5QXNzZXQoY2FpcE5ldHdvcmtJZCwgYXNzZXQpIHtcbiAgICBjb25zdCB7IGNoYWluTmFtZXNwYWNlLCBjaGFpbklkIH0gPSBQYXJzZVV0aWwucGFyc2VDYWlwTmV0d29ya0lkKGNhaXBOZXR3b3JrSWQpO1xuICAgIGNvbnN0IGNoYWluSW5mbyA9IENIQUlOX0FTU0VUX0lORk9fTUFQW2NoYWluTmFtZXNwYWNlXTtcbiAgICBpZiAoIWNoYWluSW5mbykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIGNoYWluIG5hbWVzcGFjZSBmb3IgQ0FJUC0xOSBmb3JtYXR0aW5nOiAke2NoYWluTmFtZXNwYWNlfWApO1xuICAgIH1cbiAgICBsZXQgYXNzZXROYW1lc3BhY2UgPSBjaGFpbkluZm8ubmF0aXZlLmFzc2V0TmFtZXNwYWNlO1xuICAgIGxldCBhc3NldFJlZmVyZW5jZSA9IGNoYWluSW5mby5uYXRpdmUuYXNzZXRSZWZlcmVuY2U7XG4gICAgaWYgKGFzc2V0ICE9PSAnbmF0aXZlJykge1xuICAgICAgICBhc3NldE5hbWVzcGFjZSA9IGNoYWluSW5mby5kZWZhdWx0VG9rZW5OYW1lc3BhY2U7XG4gICAgICAgIGFzc2V0UmVmZXJlbmNlID0gYXNzZXQ7XG4gICAgfVxuICAgIGNvbnN0IG5ldHdvcmtQYXJ0ID0gYCR7Y2hhaW5OYW1lc3BhY2V9OiR7Y2hhaW5JZH1gO1xuICAgIHJldHVybiBgJHtuZXR3b3JrUGFydH0vJHthc3NldE5hbWVzcGFjZX06JHthc3NldFJlZmVyZW5jZX1gO1xufVxuLy8gLS0gQXNzZXRzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuY29uc3QgZXRoZXJldW1FVEggPSB7XG4gICAgbmV0d29yazogJ2VpcDE1NToxJyxcbiAgICBhc3NldDogJ25hdGl2ZScsXG4gICAgbWV0YWRhdGE6IHtcbiAgICAgICAgbmFtZTogJ0V0aGVyZXVtJyxcbiAgICAgICAgc3ltYm9sOiAnRVRIJyxcbiAgICAgICAgZGVjaW1hbHM6IDE4XG4gICAgfVxufTtcbmNvbnN0IGJhc2VFVEggPSB7XG4gICAgbmV0d29yazogJ2VpcDE1NTo4NDUzJyxcbiAgICBhc3NldDogJ25hdGl2ZScsXG4gICAgbWV0YWRhdGE6IHtcbiAgICAgICAgbmFtZTogJ0V0aGVyZXVtJyxcbiAgICAgICAgc3ltYm9sOiAnRVRIJyxcbiAgICAgICAgZGVjaW1hbHM6IDE4XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBiYXNlVVNEQyA9IHtcbiAgICBuZXR3b3JrOiAnZWlwMTU1Ojg0NTMnLFxuICAgIGFzc2V0OiAnMHg4MzM1ODlmY2Q2ZWRiNmUwOGY0YzdjMzJkNGY3MWI1NGJkYTAyOTEzJyxcbiAgICBtZXRhZGF0YToge1xuICAgICAgICBuYW1lOiAnVVNEIENvaW4nLFxuICAgICAgICBzeW1ib2w6ICdVU0RDJyxcbiAgICAgICAgZGVjaW1hbHM6IDZcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGJhc2VTZXBvbGlhVVNEQyA9IHtcbiAgICBuZXR3b3JrOiAnZWlwMTU1Ojg0NTMyJyxcbiAgICBhc3NldDogJzB4MDM2Q2JENTM4NDJjNTQyNjYzNGU3OTI5NTQxZUMyMzE4ZjNkQ0Y3ZScsXG4gICAgbWV0YWRhdGE6IHtcbiAgICAgICAgbmFtZTogJ1VTRCBDb2luJyxcbiAgICAgICAgc3ltYm9sOiAnVVNEQycsXG4gICAgICAgIGRlY2ltYWxzOiA2XG4gICAgfVxufTtcbmNvbnN0IGJhc2VTZXBvbGlhRVRIID0ge1xuICAgIG5ldHdvcms6ICdlaXAxNTU6ODQ1MzInLFxuICAgIGFzc2V0OiAnbmF0aXZlJyxcbiAgICBtZXRhZGF0YToge1xuICAgICAgICBuYW1lOiAnRXRoZXJldW0nLFxuICAgICAgICBzeW1ib2w6ICdFVEgnLFxuICAgICAgICBkZWNpbWFsczogMThcbiAgICB9XG59O1xuY29uc3QgZXRoZXJldW1VU0RDID0ge1xuICAgIG5ldHdvcms6ICdlaXAxNTU6MScsXG4gICAgYXNzZXQ6ICcweEEwYjg2OTkxYzYyMThiMzZjMWQxOUQ0YTJlOUViMGNFMzYwNmVCNDgnLFxuICAgIG1ldGFkYXRhOiB7XG4gICAgICAgIG5hbWU6ICdVU0QgQ29pbicsXG4gICAgICAgIHN5bWJvbDogJ1VTREMnLFxuICAgICAgICBkZWNpbWFsczogNlxuICAgIH1cbn07XG5jb25zdCBhcmJpdHJ1bVVTREMgPSB7XG4gICAgbmV0d29yazogJ2VpcDE1NTo0MjE2MScsXG4gICAgYXNzZXQ6ICcweGFmODhkMDY1ZTc3YzhjQzIyMzkzMjdDNUVEYjNBNDMyMjY4ZTU4MzEnLFxuICAgIG1ldGFkYXRhOiB7XG4gICAgICAgIG5hbWU6ICdVU0QgQ29pbicsXG4gICAgICAgIHN5bWJvbDogJ1VTREMnLFxuICAgICAgICBkZWNpbWFsczogNlxuICAgIH1cbn07XG5jb25zdCBwb2x5Z29uVVNEQyA9IHtcbiAgICBuZXR3b3JrOiAnZWlwMTU1OjEzNycsXG4gICAgYXNzZXQ6ICcweDI3OTFiY2ExZjJkZTQ2NjFlZDg4YTMwYzk5YTdhOTQ0OWFhODQxNzQnLFxuICAgIG1ldGFkYXRhOiB7XG4gICAgICAgIG5hbWU6ICdVU0QgQ29pbicsXG4gICAgICAgIHN5bWJvbDogJ1VTREMnLFxuICAgICAgICBkZWNpbWFsczogNlxuICAgIH1cbn07XG5jb25zdCBzb2xhbmFVU0RDID0ge1xuICAgIG5ldHdvcms6ICdzb2xhbmE6NWV5a3Q0VXNGdjhQOE5KZFRSRXBZMXZ6cUtxWkt2ZHAnLFxuICAgIGFzc2V0OiAnRVBqRldkZDVBdWZxU1NxZU0ycU4xeHp5YmFwQzhHNHdFR0drWnd5VER0MXYnLFxuICAgIG1ldGFkYXRhOiB7XG4gICAgICAgIG5hbWU6ICdVU0QgQ29pbicsXG4gICAgICAgIHN5bWJvbDogJ1VTREMnLFxuICAgICAgICBkZWNpbWFsczogNlxuICAgIH1cbn07XG5jb25zdCBldGhlcmV1bVVTRFQgPSB7XG4gICAgbmV0d29yazogJ2VpcDE1NToxJyxcbiAgICBhc3NldDogJzB4ZEFDMTdGOTU4RDJlZTUyM2EyMjA2MjA2OTk0NTk3QzEzRDgzMWVjNycsXG4gICAgbWV0YWRhdGE6IHtcbiAgICAgICAgbmFtZTogJ1RldGhlciBVU0QnLFxuICAgICAgICBzeW1ib2w6ICdVU0RUJyxcbiAgICAgICAgZGVjaW1hbHM6IDZcbiAgICB9XG59O1xuY29uc3Qgb3B0aW1pc21VU0RUID0ge1xuICAgIG5ldHdvcms6ICdlaXAxNTU6MTAnLFxuICAgIGFzc2V0OiAnMHg5NGIwMDhhQTAwNTc5YzEzMDdCMEVGMmM0OTlhRDk4YThjZTU4ZTU4JyxcbiAgICBtZXRhZGF0YToge1xuICAgICAgICBuYW1lOiAnVGV0aGVyIFVTRCcsXG4gICAgICAgIHN5bWJvbDogJ1VTRFQnLFxuICAgICAgICBkZWNpbWFsczogNlxuICAgIH1cbn07XG5jb25zdCBhcmJpdHJ1bVVTRFQgPSB7XG4gICAgbmV0d29yazogJ2VpcDE1NTo0MjE2MScsXG4gICAgYXNzZXQ6ICcweEZkMDg2YkM3Q0Q1QzQ4MURDQzlDODVlYkU0NzhBMUMwYjY5RkNiYjknLFxuICAgIG1ldGFkYXRhOiB7XG4gICAgICAgIG5hbWU6ICdUZXRoZXIgVVNEJyxcbiAgICAgICAgc3ltYm9sOiAnVVNEVCcsXG4gICAgICAgIGRlY2ltYWxzOiA2XG4gICAgfVxufTtcbmNvbnN0IHBvbHlnb25VU0RUID0ge1xuICAgIG5ldHdvcms6ICdlaXAxNTU6MTM3JyxcbiAgICBhc3NldDogJzB4YzIxMzJkMDVkMzFjOTE0YTg3YzY2MTFjMTA3NDhhZWIwNGI1OGU4ZicsXG4gICAgbWV0YWRhdGE6IHtcbiAgICAgICAgbmFtZTogJ1RldGhlciBVU0QnLFxuICAgICAgICBzeW1ib2w6ICdVU0RUJyxcbiAgICAgICAgZGVjaW1hbHM6IDZcbiAgICB9XG59O1xuY29uc3Qgc29sYW5hVVNEVCA9IHtcbiAgICBuZXR3b3JrOiAnc29sYW5hOjVleWt0NFVzRnY4UDhOSmRUUkVwWTF2enFLcVpLdmRwJyxcbiAgICBhc3NldDogJ0VzOXZNRnJ6YUNFUm1KZnJGNEgyRllENEtDb05rWTExTWNDZThCZW53TllCJyxcbiAgICBtZXRhZGF0YToge1xuICAgICAgICBuYW1lOiAnVGV0aGVyIFVTRCcsXG4gICAgICAgIHN5bWJvbDogJ1VTRFQnLFxuICAgICAgICBkZWNpbWFsczogNlxuICAgIH1cbn07XG5jb25zdCBzb2xhbmFTT0wgPSB7XG4gICAgbmV0d29yazogJ3NvbGFuYTo1ZXlrdDRVc0Z2OFA4TkpkVFJFcFkxdnpxS3FaS3ZkcCcsXG4gICAgYXNzZXQ6ICduYXRpdmUnLFxuICAgIG1ldGFkYXRhOiB7XG4gICAgICAgIG5hbWU6ICdTb2xhbmEnLFxuICAgICAgICBzeW1ib2w6ICdTT0wnLFxuICAgICAgICBkZWNpbWFsczogOVxuICAgIH1cbn07XG5leHBvcnQgY29uc3QgYXNzZXRzID0ge1xuICAgIGV0aGVyZXVtRVRILFxuICAgIGJhc2VFVEgsXG4gICAgYmFzZVVTREMsXG4gICAgYmFzZVNlcG9saWFFVEgsXG4gICAgZXRoZXJldW1VU0RDLFxuICAgIGFyYml0cnVtVVNEQyxcbiAgICBwb2x5Z29uVVNEQyxcbiAgICBzb2xhbmFVU0RDLFxuICAgIGV0aGVyZXVtVVNEVCxcbiAgICBvcHRpbWlzbVVTRFQsXG4gICAgYXJiaXRydW1VU0RULFxuICAgIHBvbHlnb25VU0RULFxuICAgIHNvbGFuYVVTRFQsXG4gICAgc29sYW5hU09MXG59O1xuZXhwb3J0IGZ1bmN0aW9uIGdldFBheW1lbnRBc3NldHNGb3JOZXR3b3JrKG5ldHdvcmspIHtcbiAgICByZXR1cm4gT2JqZWN0LnZhbHVlcyhhc3NldHMpLmZpbHRlcihhc3NldCA9PiBhc3NldC5uZXR3b3JrID09PSBuZXR3b3JrKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUV4Y2hhbmdlVXRpbC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ExchangeUtil.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/FetchUtil.js":
/*!****************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/FetchUtil.js ***!
  \****************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FetchUtil: () => (/* binding */ FetchUtil)\n/* harmony export */ });\nasync function fetchData(...args) {\n    const response = await fetch(...args);\n    if (!response.ok) {\n        // Create error object and reject if not a 2xx response code\n        const err = new Error(`HTTP status code: ${response.status}`, {\n            cause: response\n        });\n        throw err;\n    }\n    return response;\n}\n// -- Utility --------------------------------------------------------------------\nclass FetchUtil {\n    constructor({ baseUrl, clientId }) {\n        this.baseUrl = baseUrl;\n        this.clientId = clientId;\n    }\n    async get({ headers, signal, cache, ...args }) {\n        const url = this.createUrl(args);\n        const response = await fetchData(url, { method: 'GET', headers, signal, cache });\n        return response.json();\n    }\n    async getBlob({ headers, signal, ...args }) {\n        const url = this.createUrl(args);\n        const response = await fetchData(url, { method: 'GET', headers, signal });\n        return response.blob();\n    }\n    async post({ body, headers, signal, ...args }) {\n        const url = this.createUrl(args);\n        const response = await fetchData(url, {\n            method: 'POST',\n            headers,\n            body: body ? JSON.stringify(body) : undefined,\n            signal\n        });\n        return response.json();\n    }\n    async put({ body, headers, signal, ...args }) {\n        const url = this.createUrl(args);\n        const response = await fetchData(url, {\n            method: 'PUT',\n            headers,\n            body: body ? JSON.stringify(body) : undefined,\n            signal\n        });\n        return response.json();\n    }\n    async delete({ body, headers, signal, ...args }) {\n        const url = this.createUrl(args);\n        const response = await fetchData(url, {\n            method: 'DELETE',\n            headers,\n            body: body ? JSON.stringify(body) : undefined,\n            signal\n        });\n        return response.json();\n    }\n    createUrl({ path, params }) {\n        const url = new URL(path, this.baseUrl);\n        if (params) {\n            Object.entries(params).forEach(([key, value]) => {\n                if (value) {\n                    url.searchParams.append(key, value);\n                }\n            });\n        }\n        if (this.clientId) {\n            url.searchParams.append('clientId', this.clientId);\n        }\n        return url;\n    }\n    sendBeacon({ body, ...args }) {\n        const url = this.createUrl(args);\n        return navigator.sendBeacon(url.toString(), body ? JSON.stringify(body) : undefined);\n    }\n}\n//# sourceMappingURL=FetchUtil.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTFfQHJlYWN0LW5hdGl2ZS1hc3luYy1zdG9yYWdlK2FzeW5jLXN0b3JhZ2VAMi4yLjBfcmVhY3QtX2E4MDMyMTIzODk3ZTA3OTMxMzc0MjMyYzNjYzRlNTM1L25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy91dGlscy9GZXRjaFV0aWwuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbURBQW1ELGdCQUFnQjtBQUNuRTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCxrQkFBa0IsbUJBQW1CO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixpQ0FBaUM7QUFDakQ7QUFDQSxnREFBZ0QsdUNBQXVDO0FBQ3ZGO0FBQ0E7QUFDQSxvQkFBb0IsMEJBQTBCO0FBQzlDO0FBQ0EsZ0RBQWdELGdDQUFnQztBQUNoRjtBQUNBO0FBQ0EsaUJBQWlCLGdDQUFnQztBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLGdCQUFnQixnQ0FBZ0M7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxtQkFBbUIsZ0NBQWdDO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsZ0JBQWdCLGNBQWM7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixlQUFlO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ub2dnbHIvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTFfQHJlYWN0LW5hdGl2ZS1hc3luYy1zdG9yYWdlK2FzeW5jLXN0b3JhZ2VAMi4yLjBfcmVhY3QtX2E4MDMyMTIzODk3ZTA3OTMxMzc0MjMyYzNjYzRlNTM1L25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy91dGlscy9GZXRjaFV0aWwuanM/NjI2ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJhc3luYyBmdW5jdGlvbiBmZXRjaERhdGEoLi4uYXJncykge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goLi4uYXJncyk7XG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAvLyBDcmVhdGUgZXJyb3Igb2JqZWN0IGFuZCByZWplY3QgaWYgbm90IGEgMnh4IHJlc3BvbnNlIGNvZGVcbiAgICAgICAgY29uc3QgZXJyID0gbmV3IEVycm9yKGBIVFRQIHN0YXR1cyBjb2RlOiAke3Jlc3BvbnNlLnN0YXR1c31gLCB7XG4gICAgICAgICAgICBjYXVzZTogcmVzcG9uc2VcbiAgICAgICAgfSk7XG4gICAgICAgIHRocm93IGVycjtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufVxuLy8gLS0gVXRpbGl0eSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuZXhwb3J0IGNsYXNzIEZldGNoVXRpbCB7XG4gICAgY29uc3RydWN0b3IoeyBiYXNlVXJsLCBjbGllbnRJZCB9KSB7XG4gICAgICAgIHRoaXMuYmFzZVVybCA9IGJhc2VVcmw7XG4gICAgICAgIHRoaXMuY2xpZW50SWQgPSBjbGllbnRJZDtcbiAgICB9XG4gICAgYXN5bmMgZ2V0KHsgaGVhZGVycywgc2lnbmFsLCBjYWNoZSwgLi4uYXJncyB9KSB7XG4gICAgICAgIGNvbnN0IHVybCA9IHRoaXMuY3JlYXRlVXJsKGFyZ3MpO1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoRGF0YSh1cmwsIHsgbWV0aG9kOiAnR0VUJywgaGVhZGVycywgc2lnbmFsLCBjYWNoZSB9KTtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICB9XG4gICAgYXN5bmMgZ2V0QmxvYih7IGhlYWRlcnMsIHNpZ25hbCwgLi4uYXJncyB9KSB7XG4gICAgICAgIGNvbnN0IHVybCA9IHRoaXMuY3JlYXRlVXJsKGFyZ3MpO1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoRGF0YSh1cmwsIHsgbWV0aG9kOiAnR0VUJywgaGVhZGVycywgc2lnbmFsIH0pO1xuICAgICAgICByZXR1cm4gcmVzcG9uc2UuYmxvYigpO1xuICAgIH1cbiAgICBhc3luYyBwb3N0KHsgYm9keSwgaGVhZGVycywgc2lnbmFsLCAuLi5hcmdzIH0pIHtcbiAgICAgICAgY29uc3QgdXJsID0gdGhpcy5jcmVhdGVVcmwoYXJncyk7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2hEYXRhKHVybCwge1xuICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICBoZWFkZXJzLFxuICAgICAgICAgICAgYm9keTogYm9keSA/IEpTT04uc3RyaW5naWZ5KGJvZHkpIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgc2lnbmFsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgIH1cbiAgICBhc3luYyBwdXQoeyBib2R5LCBoZWFkZXJzLCBzaWduYWwsIC4uLmFyZ3MgfSkge1xuICAgICAgICBjb25zdCB1cmwgPSB0aGlzLmNyZWF0ZVVybChhcmdzKTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaERhdGEodXJsLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgICAgaGVhZGVycyxcbiAgICAgICAgICAgIGJvZHk6IGJvZHkgPyBKU09OLnN0cmluZ2lmeShib2R5KSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHNpZ25hbFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICB9XG4gICAgYXN5bmMgZGVsZXRlKHsgYm9keSwgaGVhZGVycywgc2lnbmFsLCAuLi5hcmdzIH0pIHtcbiAgICAgICAgY29uc3QgdXJsID0gdGhpcy5jcmVhdGVVcmwoYXJncyk7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2hEYXRhKHVybCwge1xuICAgICAgICAgICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICAgICAgICAgIGhlYWRlcnMsXG4gICAgICAgICAgICBib2R5OiBib2R5ID8gSlNPTi5zdHJpbmdpZnkoYm9keSkgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBzaWduYWxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgfVxuICAgIGNyZWF0ZVVybCh7IHBhdGgsIHBhcmFtcyB9KSB7XG4gICAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwocGF0aCwgdGhpcy5iYXNlVXJsKTtcbiAgICAgICAgaWYgKHBhcmFtcykge1xuICAgICAgICAgICAgT2JqZWN0LmVudHJpZXMocGFyYW1zKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdXJsLnNlYXJjaFBhcmFtcy5hcHBlbmQoa2V5LCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuY2xpZW50SWQpIHtcbiAgICAgICAgICAgIHVybC5zZWFyY2hQYXJhbXMuYXBwZW5kKCdjbGllbnRJZCcsIHRoaXMuY2xpZW50SWQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1cmw7XG4gICAgfVxuICAgIHNlbmRCZWFjb24oeyBib2R5LCAuLi5hcmdzIH0pIHtcbiAgICAgICAgY29uc3QgdXJsID0gdGhpcy5jcmVhdGVVcmwoYXJncyk7XG4gICAgICAgIHJldHVybiBuYXZpZ2F0b3Iuc2VuZEJlYWNvbih1cmwudG9TdHJpbmcoKSwgYm9keSA/IEpTT04uc3RyaW5naWZ5KGJvZHkpIDogdW5kZWZpbmVkKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1GZXRjaFV0aWwuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/FetchUtil.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/MobileWallet.js":
/*!*******************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/MobileWallet.js ***!
  \*******************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CUSTOM_DEEPLINK_WALLETS: () => (/* binding */ CUSTOM_DEEPLINK_WALLETS),\n/* harmony export */   MobileWalletUtil: () => (/* binding */ MobileWalletUtil)\n/* harmony export */ });\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @reown/appkit-common */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-common@1.8.11_bufferutil@4.0.9_typescript@5.9.3_utf-8-validate@5.0.10_zod@4.1.12/node_modules/@reown/appkit-common/dist/esm/src/utils/ConstantsUtil.js\");\n/* harmony import */ var _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../controllers/ChainController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ChainController.js\");\n\n\n/*\n * Exclude wallets that do not support relay connections but have custom deeplink mechanisms\n * Excludes:\n * - Phantom\n * - Coinbase\n */\nconst CUSTOM_DEEPLINK_WALLETS = {\n    PHANTOM: {\n        id: 'a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393',\n        url: 'https://phantom.app'\n    },\n    SOLFLARE: {\n        id: '1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79',\n        url: 'https://solflare.com'\n    },\n    COINBASE: {\n        id: 'fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa',\n        url: 'https://go.cb-w.com'\n    },\n    /*\n     * Got details from their npm package:\n     * https://www.npmjs.com/package/@binance/w3w-utils?activeTab=code\n     * https://developers.binance.com/docs/binance-w3w/evm-compatible-provider#getdeeplink\n     */\n    BINANCE: {\n        id: '2fafea35bb471d22889ccb49c08d99dd0a18a37982602c33f696a5723934ba25',\n        appId: 'yFK5FCqYprrXDiVFbhyRx7',\n        deeplink: 'bnc://app.binance.com/mp/app',\n        url: 'https://app.binance.com/en/download'\n    }\n};\nconst MobileWalletUtil = {\n    /**\n     * Handles mobile wallet redirection for wallets that have Universal Links and doesn't support WalletConnect Deep Links.\n     *\n     * @param {string} id - The id of the wallet.\n     * @param {ChainNamespace} namespace - The namespace of the chain.\n     */\n    handleMobileDeeplinkRedirect(id, namespace) {\n        /**\n         * Universal Links requires explicit user interaction to open the wallet app.\n         * Previously we've been calling this with the life-cycle methods in the Solana clients by listening the SELECT_WALLET event of EventController.\n         * But this breaks the UL functionality for some wallets like Phantom.\n         */\n        const href = window.location.href;\n        const encodedHref = encodeURIComponent(href);\n        if (id === CUSTOM_DEEPLINK_WALLETS.PHANTOM.id && !('phantom' in window)) {\n            const protocol = href.startsWith('https') ? 'https' : 'http';\n            const host = href.split('/')[2];\n            const encodedRef = encodeURIComponent(`${protocol}://${host}`);\n            window.location.href = `${CUSTOM_DEEPLINK_WALLETS.PHANTOM.url}/ul/browse/${encodedHref}?ref=${encodedRef}`;\n        }\n        if (id === CUSTOM_DEEPLINK_WALLETS.SOLFLARE.id && !('solflare' in window)) {\n            window.location.href = `${CUSTOM_DEEPLINK_WALLETS.SOLFLARE.url}/ul/v1/browse/${encodedHref}?ref=${encodedHref}`;\n        }\n        if (namespace === _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.CHAIN.SOLANA) {\n            if (id === CUSTOM_DEEPLINK_WALLETS.COINBASE.id && !('coinbaseSolana' in window)) {\n                window.location.href = `${CUSTOM_DEEPLINK_WALLETS.COINBASE.url}/dapp?cb_url=${encodedHref}`;\n            }\n        }\n        /*\n         * Binance Web3 Wallet doesn't support WalletConnect for Bitcoin.\n         * For now we use their deeplink to open the in-app browser instead.\n         */\n        if (namespace === _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.CHAIN.BITCOIN) {\n            if (id === CUSTOM_DEEPLINK_WALLETS.BINANCE.id && !('binancew3w' in window)) {\n                const activeCaipNetwork = _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_1__.ChainController.state.activeCaipNetwork;\n                const startPagePath = window.btoa('/pages/browser/index');\n                const startPageQuery = window.btoa(`url=${encodedHref}&defaultChainId=${activeCaipNetwork?.id ?? 1}`);\n                const deeplink = new URL(CUSTOM_DEEPLINK_WALLETS.BINANCE.deeplink);\n                deeplink.searchParams.set('appId', CUSTOM_DEEPLINK_WALLETS.BINANCE.appId);\n                deeplink.searchParams.set('startPagePath', startPagePath);\n                deeplink.searchParams.set('startPageQuery', startPageQuery);\n                const universalLink = new URL(CUSTOM_DEEPLINK_WALLETS.BINANCE.url);\n                universalLink.searchParams.set('_dp', window.btoa(deeplink.toString()));\n                window.location.href = universalLink.toString();\n            }\n        }\n    }\n};\n//# sourceMappingURL=MobileWallet.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTFfQHJlYWN0LW5hdGl2ZS1hc3luYy1zdG9yYWdlK2FzeW5jLXN0b3JhZ2VAMi4yLjBfcmVhY3QtX2E4MDMyMTIzODk3ZTA3OTMxMzc0MjMyYzNjYzRlNTM1L25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy91dGlscy9Nb2JpbGVXYWxsZXQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFxRDtBQUNlO0FBQ3BFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZUFBZSxnQkFBZ0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscURBQXFELFNBQVMsS0FBSyxLQUFLO0FBQ3hFLHNDQUFzQyxvQ0FBb0MsYUFBYSxZQUFZLE9BQU8sV0FBVztBQUNySDtBQUNBO0FBQ0Esc0NBQXNDLHFDQUFxQyxnQkFBZ0IsWUFBWSxPQUFPLFlBQVk7QUFDMUg7QUFDQSwwQkFBMEIsK0RBQWE7QUFDdkM7QUFDQSwwQ0FBMEMscUNBQXFDLGVBQWUsWUFBWTtBQUMxRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsK0RBQWE7QUFDdkM7QUFDQSwwQ0FBMEMsNEVBQWU7QUFDekQ7QUFDQSwwREFBMEQsWUFBWSxrQkFBa0IsMkJBQTJCO0FBQ25IO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL25vZ2dsci8uL25vZGVfbW9kdWxlcy8ucG5wbS9AcmVvd24rYXBwa2l0LWNvbnRyb2xsZXJzQDEuOC4xMV9AcmVhY3QtbmF0aXZlLWFzeW5jLXN0b3JhZ2UrYXN5bmMtc3RvcmFnZUAyLjIuMF9yZWFjdC1fYTgwMzIxMjM4OTdlMDc5MzEzNzQyMzJjM2NjNGU1MzUvbm9kZV9tb2R1bGVzL0ByZW93bi9hcHBraXQtY29udHJvbGxlcnMvZGlzdC9lc20vc3JjL3V0aWxzL01vYmlsZVdhbGxldC5qcz9kNjg1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbnN0YW50c1V0aWwgfSBmcm9tICdAcmVvd24vYXBwa2l0LWNvbW1vbic7XG5pbXBvcnQgeyBDaGFpbkNvbnRyb2xsZXIgfSBmcm9tICcuLi9jb250cm9sbGVycy9DaGFpbkNvbnRyb2xsZXIuanMnO1xuLypcbiAqIEV4Y2x1ZGUgd2FsbGV0cyB0aGF0IGRvIG5vdCBzdXBwb3J0IHJlbGF5IGNvbm5lY3Rpb25zIGJ1dCBoYXZlIGN1c3RvbSBkZWVwbGluayBtZWNoYW5pc21zXG4gKiBFeGNsdWRlczpcbiAqIC0gUGhhbnRvbVxuICogLSBDb2luYmFzZVxuICovXG5leHBvcnQgY29uc3QgQ1VTVE9NX0RFRVBMSU5LX1dBTExFVFMgPSB7XG4gICAgUEhBTlRPTToge1xuICAgICAgICBpZDogJ2E3OTdhYTM1YzBmYWRiZmMxYTUzZTdmNjc1MTYyZWQ1MjI2OTY4YjQ0YTE5ZWUzZDI0Mzg1YzY0ZDFkM2MzOTMnLFxuICAgICAgICB1cmw6ICdodHRwczovL3BoYW50b20uYXBwJ1xuICAgIH0sXG4gICAgU09MRkxBUkU6IHtcbiAgICAgICAgaWQ6ICcxY2EwYmRkNDc0NzU3ODcwNWIxOTM5YWYwMjNkMTIwNjc3YzY0ZmU2Y2E3NmFkZDgxZmRhMzZlMzUwNjA1ZTc5JyxcbiAgICAgICAgdXJsOiAnaHR0cHM6Ly9zb2xmbGFyZS5jb20nXG4gICAgfSxcbiAgICBDT0lOQkFTRToge1xuICAgICAgICBpZDogJ2ZkMjBkYzQyNmZiMzc1NjZkODAzMjA1YjE5YmJjMWQ0MDk2YjI0OGFjMDQ1NDhlM2NmYjZiM2EzOGJkMDMzYWEnLFxuICAgICAgICB1cmw6ICdodHRwczovL2dvLmNiLXcuY29tJ1xuICAgIH0sXG4gICAgLypcbiAgICAgKiBHb3QgZGV0YWlscyBmcm9tIHRoZWlyIG5wbSBwYWNrYWdlOlxuICAgICAqIGh0dHBzOi8vd3d3Lm5wbWpzLmNvbS9wYWNrYWdlL0BiaW5hbmNlL3czdy11dGlscz9hY3RpdmVUYWI9Y29kZVxuICAgICAqIGh0dHBzOi8vZGV2ZWxvcGVycy5iaW5hbmNlLmNvbS9kb2NzL2JpbmFuY2UtdzN3L2V2bS1jb21wYXRpYmxlLXByb3ZpZGVyI2dldGRlZXBsaW5rXG4gICAgICovXG4gICAgQklOQU5DRToge1xuICAgICAgICBpZDogJzJmYWZlYTM1YmI0NzFkMjI4ODljY2I0OWMwOGQ5OWRkMGExOGEzNzk4MjYwMmMzM2Y2OTZhNTcyMzkzNGJhMjUnLFxuICAgICAgICBhcHBJZDogJ3lGSzVGQ3FZcHJyWERpVkZiaHlSeDcnLFxuICAgICAgICBkZWVwbGluazogJ2JuYzovL2FwcC5iaW5hbmNlLmNvbS9tcC9hcHAnLFxuICAgICAgICB1cmw6ICdodHRwczovL2FwcC5iaW5hbmNlLmNvbS9lbi9kb3dubG9hZCdcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IE1vYmlsZVdhbGxldFV0aWwgPSB7XG4gICAgLyoqXG4gICAgICogSGFuZGxlcyBtb2JpbGUgd2FsbGV0IHJlZGlyZWN0aW9uIGZvciB3YWxsZXRzIHRoYXQgaGF2ZSBVbml2ZXJzYWwgTGlua3MgYW5kIGRvZXNuJ3Qgc3VwcG9ydCBXYWxsZXRDb25uZWN0IERlZXAgTGlua3MuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgLSBUaGUgaWQgb2YgdGhlIHdhbGxldC5cbiAgICAgKiBAcGFyYW0ge0NoYWluTmFtZXNwYWNlfSBuYW1lc3BhY2UgLSBUaGUgbmFtZXNwYWNlIG9mIHRoZSBjaGFpbi5cbiAgICAgKi9cbiAgICBoYW5kbGVNb2JpbGVEZWVwbGlua1JlZGlyZWN0KGlkLCBuYW1lc3BhY2UpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVuaXZlcnNhbCBMaW5rcyByZXF1aXJlcyBleHBsaWNpdCB1c2VyIGludGVyYWN0aW9uIHRvIG9wZW4gdGhlIHdhbGxldCBhcHAuXG4gICAgICAgICAqIFByZXZpb3VzbHkgd2UndmUgYmVlbiBjYWxsaW5nIHRoaXMgd2l0aCB0aGUgbGlmZS1jeWNsZSBtZXRob2RzIGluIHRoZSBTb2xhbmEgY2xpZW50cyBieSBsaXN0ZW5pbmcgdGhlIFNFTEVDVF9XQUxMRVQgZXZlbnQgb2YgRXZlbnRDb250cm9sbGVyLlxuICAgICAgICAgKiBCdXQgdGhpcyBicmVha3MgdGhlIFVMIGZ1bmN0aW9uYWxpdHkgZm9yIHNvbWUgd2FsbGV0cyBsaWtlIFBoYW50b20uXG4gICAgICAgICAqL1xuICAgICAgICBjb25zdCBocmVmID0gd2luZG93LmxvY2F0aW9uLmhyZWY7XG4gICAgICAgIGNvbnN0IGVuY29kZWRIcmVmID0gZW5jb2RlVVJJQ29tcG9uZW50KGhyZWYpO1xuICAgICAgICBpZiAoaWQgPT09IENVU1RPTV9ERUVQTElOS19XQUxMRVRTLlBIQU5UT00uaWQgJiYgISgncGhhbnRvbScgaW4gd2luZG93KSkge1xuICAgICAgICAgICAgY29uc3QgcHJvdG9jb2wgPSBocmVmLnN0YXJ0c1dpdGgoJ2h0dHBzJykgPyAnaHR0cHMnIDogJ2h0dHAnO1xuICAgICAgICAgICAgY29uc3QgaG9zdCA9IGhyZWYuc3BsaXQoJy8nKVsyXTtcbiAgICAgICAgICAgIGNvbnN0IGVuY29kZWRSZWYgPSBlbmNvZGVVUklDb21wb25lbnQoYCR7cHJvdG9jb2x9Oi8vJHtob3N0fWApO1xuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBgJHtDVVNUT01fREVFUExJTktfV0FMTEVUUy5QSEFOVE9NLnVybH0vdWwvYnJvd3NlLyR7ZW5jb2RlZEhyZWZ9P3JlZj0ke2VuY29kZWRSZWZ9YDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaWQgPT09IENVU1RPTV9ERUVQTElOS19XQUxMRVRTLlNPTEZMQVJFLmlkICYmICEoJ3NvbGZsYXJlJyBpbiB3aW5kb3cpKSB7XG4gICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IGAke0NVU1RPTV9ERUVQTElOS19XQUxMRVRTLlNPTEZMQVJFLnVybH0vdWwvdjEvYnJvd3NlLyR7ZW5jb2RlZEhyZWZ9P3JlZj0ke2VuY29kZWRIcmVmfWA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5hbWVzcGFjZSA9PT0gQ29uc3RhbnRzVXRpbC5DSEFJTi5TT0xBTkEpIHtcbiAgICAgICAgICAgIGlmIChpZCA9PT0gQ1VTVE9NX0RFRVBMSU5LX1dBTExFVFMuQ09JTkJBU0UuaWQgJiYgISgnY29pbmJhc2VTb2xhbmEnIGluIHdpbmRvdykpIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IGAke0NVU1RPTV9ERUVQTElOS19XQUxMRVRTLkNPSU5CQVNFLnVybH0vZGFwcD9jYl91cmw9JHtlbmNvZGVkSHJlZn1gO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8qXG4gICAgICAgICAqIEJpbmFuY2UgV2ViMyBXYWxsZXQgZG9lc24ndCBzdXBwb3J0IFdhbGxldENvbm5lY3QgZm9yIEJpdGNvaW4uXG4gICAgICAgICAqIEZvciBub3cgd2UgdXNlIHRoZWlyIGRlZXBsaW5rIHRvIG9wZW4gdGhlIGluLWFwcCBicm93c2VyIGluc3RlYWQuXG4gICAgICAgICAqL1xuICAgICAgICBpZiAobmFtZXNwYWNlID09PSBDb25zdGFudHNVdGlsLkNIQUlOLkJJVENPSU4pIHtcbiAgICAgICAgICAgIGlmIChpZCA9PT0gQ1VTVE9NX0RFRVBMSU5LX1dBTExFVFMuQklOQU5DRS5pZCAmJiAhKCdiaW5hbmNldzN3JyBpbiB3aW5kb3cpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWN0aXZlQ2FpcE5ldHdvcmsgPSBDaGFpbkNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ2FpcE5ldHdvcms7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhcnRQYWdlUGF0aCA9IHdpbmRvdy5idG9hKCcvcGFnZXMvYnJvd3Nlci9pbmRleCcpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXJ0UGFnZVF1ZXJ5ID0gd2luZG93LmJ0b2EoYHVybD0ke2VuY29kZWRIcmVmfSZkZWZhdWx0Q2hhaW5JZD0ke2FjdGl2ZUNhaXBOZXR3b3JrPy5pZCA/PyAxfWApO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRlZXBsaW5rID0gbmV3IFVSTChDVVNUT01fREVFUExJTktfV0FMTEVUUy5CSU5BTkNFLmRlZXBsaW5rKTtcbiAgICAgICAgICAgICAgICBkZWVwbGluay5zZWFyY2hQYXJhbXMuc2V0KCdhcHBJZCcsIENVU1RPTV9ERUVQTElOS19XQUxMRVRTLkJJTkFOQ0UuYXBwSWQpO1xuICAgICAgICAgICAgICAgIGRlZXBsaW5rLnNlYXJjaFBhcmFtcy5zZXQoJ3N0YXJ0UGFnZVBhdGgnLCBzdGFydFBhZ2VQYXRoKTtcbiAgICAgICAgICAgICAgICBkZWVwbGluay5zZWFyY2hQYXJhbXMuc2V0KCdzdGFydFBhZ2VRdWVyeScsIHN0YXJ0UGFnZVF1ZXJ5KTtcbiAgICAgICAgICAgICAgICBjb25zdCB1bml2ZXJzYWxMaW5rID0gbmV3IFVSTChDVVNUT01fREVFUExJTktfV0FMTEVUUy5CSU5BTkNFLnVybCk7XG4gICAgICAgICAgICAgICAgdW5pdmVyc2FsTGluay5zZWFyY2hQYXJhbXMuc2V0KCdfZHAnLCB3aW5kb3cuYnRvYShkZWVwbGluay50b1N0cmluZygpKSk7XG4gICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSB1bml2ZXJzYWxMaW5rLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TW9iaWxlV2FsbGV0LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/MobileWallet.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ModalUtil.js":
/*!****************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ModalUtil.js ***!
  \****************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ModalUtil: () => (/* binding */ ModalUtil)\n/* harmony export */ });\n/* harmony import */ var _controllers_ConnectionController_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../controllers/ConnectionController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectionController.js\");\n/* harmony import */ var _controllers_ModalController_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../controllers/ModalController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ModalController.js\");\n/* harmony import */ var _controllers_RouterController_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../controllers/RouterController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/RouterController.js\");\n/* harmony import */ var _SIWXUtil_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./SIWXUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/SIWXUtil.js\");\n\n\n\n\nconst ModalUtil = {\n    isUnsupportedChainView() {\n        return (_controllers_RouterController_js__WEBPACK_IMPORTED_MODULE_0__.RouterController.state.view === 'UnsupportedChain' ||\n            (_controllers_RouterController_js__WEBPACK_IMPORTED_MODULE_0__.RouterController.state.view === 'SwitchNetwork' &&\n                _controllers_RouterController_js__WEBPACK_IMPORTED_MODULE_0__.RouterController.state.history.includes('UnsupportedChain')));\n    },\n    async safeClose() {\n        if (this.isUnsupportedChainView()) {\n            _controllers_ModalController_js__WEBPACK_IMPORTED_MODULE_1__.ModalController.shake();\n            return;\n        }\n        const isSIWXCloseDisabled = await _SIWXUtil_js__WEBPACK_IMPORTED_MODULE_2__.SIWXUtil.isSIWXCloseDisabled();\n        if (isSIWXCloseDisabled) {\n            _controllers_ModalController_js__WEBPACK_IMPORTED_MODULE_1__.ModalController.shake();\n            return;\n        }\n        if (_controllers_RouterController_js__WEBPACK_IMPORTED_MODULE_0__.RouterController.state.view === 'DataCapture' ||\n            _controllers_RouterController_js__WEBPACK_IMPORTED_MODULE_0__.RouterController.state.view === 'DataCaptureOtpConfirm') {\n            _controllers_ConnectionController_js__WEBPACK_IMPORTED_MODULE_3__.ConnectionController.disconnect();\n        }\n        _controllers_ModalController_js__WEBPACK_IMPORTED_MODULE_1__.ModalController.close();\n    }\n};\n//# sourceMappingURL=ModalUtil.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTFfQHJlYWN0LW5hdGl2ZS1hc3luYy1zdG9yYWdlK2FzeW5jLXN0b3JhZ2VAMi4yLjBfcmVhY3QtX2E4MDMyMTIzODk3ZTA3OTMxMzc0MjMyYzNjYzRlNTM1L25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy91dGlscy9Nb2RhbFV0aWwuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBOEU7QUFDVjtBQUNFO0FBQzdCO0FBQ2xDO0FBQ1A7QUFDQSxnQkFBZ0IsOEVBQWdCO0FBQ2hDLGFBQWEsOEVBQWdCO0FBQzdCLGdCQUFnQiw4RUFBZ0I7QUFDaEMsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZLDRFQUFlO0FBQzNCO0FBQ0E7QUFDQSwwQ0FBMEMsa0RBQVE7QUFDbEQ7QUFDQSxZQUFZLDRFQUFlO0FBQzNCO0FBQ0E7QUFDQSxZQUFZLDhFQUFnQjtBQUM1QixZQUFZLDhFQUFnQjtBQUM1QixZQUFZLHNGQUFvQjtBQUNoQztBQUNBLFFBQVEsNEVBQWU7QUFDdkI7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm9nZ2xyLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0ByZW93bithcHBraXQtY29udHJvbGxlcnNAMS44LjExX0ByZWFjdC1uYXRpdmUtYXN5bmMtc3RvcmFnZSthc3luYy1zdG9yYWdlQDIuMi4wX3JlYWN0LV9hODAzMjEyMzg5N2UwNzkzMTM3NDIzMmMzY2M0ZTUzNS9ub2RlX21vZHVsZXMvQHJlb3duL2FwcGtpdC1jb250cm9sbGVycy9kaXN0L2VzbS9zcmMvdXRpbHMvTW9kYWxVdGlsLmpzP2M3NTYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29ubmVjdGlvbkNvbnRyb2xsZXIgfSBmcm9tICcuLi9jb250cm9sbGVycy9Db25uZWN0aW9uQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBNb2RhbENvbnRyb2xsZXIgfSBmcm9tICcuLi9jb250cm9sbGVycy9Nb2RhbENvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgUm91dGVyQ29udHJvbGxlciB9IGZyb20gJy4uL2NvbnRyb2xsZXJzL1JvdXRlckNvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgU0lXWFV0aWwgfSBmcm9tICcuL1NJV1hVdGlsLmpzJztcbmV4cG9ydCBjb25zdCBNb2RhbFV0aWwgPSB7XG4gICAgaXNVbnN1cHBvcnRlZENoYWluVmlldygpIHtcbiAgICAgICAgcmV0dXJuIChSb3V0ZXJDb250cm9sbGVyLnN0YXRlLnZpZXcgPT09ICdVbnN1cHBvcnRlZENoYWluJyB8fFxuICAgICAgICAgICAgKFJvdXRlckNvbnRyb2xsZXIuc3RhdGUudmlldyA9PT0gJ1N3aXRjaE5ldHdvcmsnICYmXG4gICAgICAgICAgICAgICAgUm91dGVyQ29udHJvbGxlci5zdGF0ZS5oaXN0b3J5LmluY2x1ZGVzKCdVbnN1cHBvcnRlZENoYWluJykpKTtcbiAgICB9LFxuICAgIGFzeW5jIHNhZmVDbG9zZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNVbnN1cHBvcnRlZENoYWluVmlldygpKSB7XG4gICAgICAgICAgICBNb2RhbENvbnRyb2xsZXIuc2hha2UoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpc1NJV1hDbG9zZURpc2FibGVkID0gYXdhaXQgU0lXWFV0aWwuaXNTSVdYQ2xvc2VEaXNhYmxlZCgpO1xuICAgICAgICBpZiAoaXNTSVdYQ2xvc2VEaXNhYmxlZCkge1xuICAgICAgICAgICAgTW9kYWxDb250cm9sbGVyLnNoYWtlKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFJvdXRlckNvbnRyb2xsZXIuc3RhdGUudmlldyA9PT0gJ0RhdGFDYXB0dXJlJyB8fFxuICAgICAgICAgICAgUm91dGVyQ29udHJvbGxlci5zdGF0ZS52aWV3ID09PSAnRGF0YUNhcHR1cmVPdHBDb25maXJtJykge1xuICAgICAgICAgICAgQ29ubmVjdGlvbkNvbnRyb2xsZXIuZGlzY29ubmVjdCgpO1xuICAgICAgICB9XG4gICAgICAgIE1vZGFsQ29udHJvbGxlci5jbG9zZSgpO1xuICAgIH1cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Nb2RhbFV0aWwuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ModalUtil.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/NetworkUtil.js":
/*!******************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/NetworkUtil.js ***!
  \******************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   NetworkUtil: () => (/* binding */ NetworkUtil)\n/* harmony export */ });\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @reown/appkit-common */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-common@1.8.11_bufferutil@4.0.9_typescript@5.9.3_utf-8-validate@5.0.10_zod@4.1.12/node_modules/@reown/appkit-common/dist/esm/src/utils/ConstantsUtil.js\");\n/* harmony import */ var _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../controllers/ChainController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ChainController.js\");\n/* harmony import */ var _controllers_ConnectorController_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../controllers/ConnectorController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectorController.js\");\n/* harmony import */ var _controllers_RouterController_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../controllers/RouterController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/RouterController.js\");\n\n\n\n\nconst NetworkUtil = {\n    /**\n     * Function to handle the network switch.\n     * This function has variety of conditions to handle the network switch depending on the connectors or namespace's connection states.\n     * @param args.network - The network to switch to.\n     * @param args.shouldConfirmSwitch - Whether to confirm the switch. If true, the user will be asked to confirm the switch if necessary.\n     * @returns void\n     */\n    onSwitchNetwork({ network, ignoreSwitchConfirmation = false }) {\n        const currentNetwork = _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_0__.ChainController.state.activeCaipNetwork;\n        const currentNamespace = _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_0__.ChainController.state.activeChain;\n        const routerData = _controllers_RouterController_js__WEBPACK_IMPORTED_MODULE_1__.RouterController.state.data;\n        const isSameNetwork = network.id === currentNetwork?.id;\n        if (isSameNetwork) {\n            return;\n        }\n        const isCurrentNamespaceConnected = Boolean(_controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_0__.ChainController.getAccountData(currentNamespace)?.address);\n        const isNextNamespaceConnected = Boolean(_controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_0__.ChainController.getAccountData(network.chainNamespace)?.address);\n        const isDifferentNamespace = network.chainNamespace !== currentNamespace;\n        const connectorId = _controllers_ConnectorController_js__WEBPACK_IMPORTED_MODULE_2__.ConnectorController.getConnectorId(currentNamespace);\n        /**\n         * If the network is supported by the auth connector, we don't need to show switch active chain view.\n         * But there are some cases like switching from Ethereum to Bitcoin where Bitcoin is not supported by the auth connector and users should connect with another connector.\n         */\n        const isConnectedWithAuth = connectorId === _reown_appkit_common__WEBPACK_IMPORTED_MODULE_3__.ConstantsUtil.CONNECTOR_ID.AUTH;\n        const isSupportedForAuthConnector = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_3__.ConstantsUtil.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(c => c === network.chainNamespace);\n        /**\n         * 1. If the ignoreSwitchConfirmation is set to true, we should switch to the network,\n         * 2. If user connected with auth connector and the next network is supported by the auth connector,\n         * we should switch to the network without confirmation screen.\n         */\n        if (ignoreSwitchConfirmation || (isConnectedWithAuth && isSupportedForAuthConnector)) {\n            _controllers_RouterController_js__WEBPACK_IMPORTED_MODULE_1__.RouterController.push('SwitchNetwork', { ...routerData, network });\n        }\n        else if (\n        /**\n         * If user switching to a different namespace and next namespace is not connected, we need to show switch active chain view for confirmation first.\n         */\n        isCurrentNamespaceConnected &&\n            isDifferentNamespace &&\n            !isNextNamespaceConnected) {\n            _controllers_RouterController_js__WEBPACK_IMPORTED_MODULE_1__.RouterController.push('SwitchActiveChain', {\n                switchToChain: network.chainNamespace,\n                navigateTo: 'Connect',\n                navigateWithReplace: true,\n                network\n            });\n        }\n        else {\n            _controllers_RouterController_js__WEBPACK_IMPORTED_MODULE_1__.RouterController.push('SwitchNetwork', { ...routerData, network });\n        }\n    }\n};\n//# sourceMappingURL=NetworkUtil.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTFfQHJlYWN0LW5hdGl2ZS1hc3luYy1zdG9yYWdlK2FzeW5jLXN0b3JhZ2VAMi4yLjBfcmVhY3QtX2E4MDMyMTIzODk3ZTA3OTMxMzc0MjMyYzNjYzRlNTM1L25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy91dGlscy9OZXR3b3JrVXRpbC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFxRDtBQUNlO0FBQ1E7QUFDTjtBQUMvRDtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLDJDQUEyQztBQUNqRSwrQkFBK0IsNEVBQWU7QUFDOUMsaUNBQWlDLDRFQUFlO0FBQ2hELDJCQUEyQiw4RUFBZ0I7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvREFBb0QsNEVBQWU7QUFDbkUsaURBQWlELDRFQUFlO0FBQ2hFO0FBQ0EsNEJBQTRCLG9GQUFtQjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRCwrREFBYTtBQUNqRSw0Q0FBNEMsK0RBQWE7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSw4RUFBZ0IseUJBQXlCLHdCQUF3QjtBQUM3RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSw4RUFBZ0I7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLFlBQVksOEVBQWdCLHlCQUF5Qix3QkFBd0I7QUFDN0U7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ub2dnbHIvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTFfQHJlYWN0LW5hdGl2ZS1hc3luYy1zdG9yYWdlK2FzeW5jLXN0b3JhZ2VAMi4yLjBfcmVhY3QtX2E4MDMyMTIzODk3ZTA3OTMxMzc0MjMyYzNjYzRlNTM1L25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy91dGlscy9OZXR3b3JrVXRpbC5qcz82ZTk2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbnN0YW50c1V0aWwgfSBmcm9tICdAcmVvd24vYXBwa2l0LWNvbW1vbic7XG5pbXBvcnQgeyBDaGFpbkNvbnRyb2xsZXIgfSBmcm9tICcuLi9jb250cm9sbGVycy9DaGFpbkNvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgQ29ubmVjdG9yQ29udHJvbGxlciB9IGZyb20gJy4uL2NvbnRyb2xsZXJzL0Nvbm5lY3RvckNvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgUm91dGVyQ29udHJvbGxlciB9IGZyb20gJy4uL2NvbnRyb2xsZXJzL1JvdXRlckNvbnRyb2xsZXIuanMnO1xuZXhwb3J0IGNvbnN0IE5ldHdvcmtVdGlsID0ge1xuICAgIC8qKlxuICAgICAqIEZ1bmN0aW9uIHRvIGhhbmRsZSB0aGUgbmV0d29yayBzd2l0Y2guXG4gICAgICogVGhpcyBmdW5jdGlvbiBoYXMgdmFyaWV0eSBvZiBjb25kaXRpb25zIHRvIGhhbmRsZSB0aGUgbmV0d29yayBzd2l0Y2ggZGVwZW5kaW5nIG9uIHRoZSBjb25uZWN0b3JzIG9yIG5hbWVzcGFjZSdzIGNvbm5lY3Rpb24gc3RhdGVzLlxuICAgICAqIEBwYXJhbSBhcmdzLm5ldHdvcmsgLSBUaGUgbmV0d29yayB0byBzd2l0Y2ggdG8uXG4gICAgICogQHBhcmFtIGFyZ3Muc2hvdWxkQ29uZmlybVN3aXRjaCAtIFdoZXRoZXIgdG8gY29uZmlybSB0aGUgc3dpdGNoLiBJZiB0cnVlLCB0aGUgdXNlciB3aWxsIGJlIGFza2VkIHRvIGNvbmZpcm0gdGhlIHN3aXRjaCBpZiBuZWNlc3NhcnkuXG4gICAgICogQHJldHVybnMgdm9pZFxuICAgICAqL1xuICAgIG9uU3dpdGNoTmV0d29yayh7IG5ldHdvcmssIGlnbm9yZVN3aXRjaENvbmZpcm1hdGlvbiA9IGZhbHNlIH0pIHtcbiAgICAgICAgY29uc3QgY3VycmVudE5ldHdvcmsgPSBDaGFpbkNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ2FpcE5ldHdvcms7XG4gICAgICAgIGNvbnN0IGN1cnJlbnROYW1lc3BhY2UgPSBDaGFpbkNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ2hhaW47XG4gICAgICAgIGNvbnN0IHJvdXRlckRhdGEgPSBSb3V0ZXJDb250cm9sbGVyLnN0YXRlLmRhdGE7XG4gICAgICAgIGNvbnN0IGlzU2FtZU5ldHdvcmsgPSBuZXR3b3JrLmlkID09PSBjdXJyZW50TmV0d29yaz8uaWQ7XG4gICAgICAgIGlmIChpc1NhbWVOZXR3b3JrKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaXNDdXJyZW50TmFtZXNwYWNlQ29ubmVjdGVkID0gQm9vbGVhbihDaGFpbkNvbnRyb2xsZXIuZ2V0QWNjb3VudERhdGEoY3VycmVudE5hbWVzcGFjZSk/LmFkZHJlc3MpO1xuICAgICAgICBjb25zdCBpc05leHROYW1lc3BhY2VDb25uZWN0ZWQgPSBCb29sZWFuKENoYWluQ29udHJvbGxlci5nZXRBY2NvdW50RGF0YShuZXR3b3JrLmNoYWluTmFtZXNwYWNlKT8uYWRkcmVzcyk7XG4gICAgICAgIGNvbnN0IGlzRGlmZmVyZW50TmFtZXNwYWNlID0gbmV0d29yay5jaGFpbk5hbWVzcGFjZSAhPT0gY3VycmVudE5hbWVzcGFjZTtcbiAgICAgICAgY29uc3QgY29ubmVjdG9ySWQgPSBDb25uZWN0b3JDb250cm9sbGVyLmdldENvbm5lY3RvcklkKGN1cnJlbnROYW1lc3BhY2UpO1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdGhlIG5ldHdvcmsgaXMgc3VwcG9ydGVkIGJ5IHRoZSBhdXRoIGNvbm5lY3Rvciwgd2UgZG9uJ3QgbmVlZCB0byBzaG93IHN3aXRjaCBhY3RpdmUgY2hhaW4gdmlldy5cbiAgICAgICAgICogQnV0IHRoZXJlIGFyZSBzb21lIGNhc2VzIGxpa2Ugc3dpdGNoaW5nIGZyb20gRXRoZXJldW0gdG8gQml0Y29pbiB3aGVyZSBCaXRjb2luIGlzIG5vdCBzdXBwb3J0ZWQgYnkgdGhlIGF1dGggY29ubmVjdG9yIGFuZCB1c2VycyBzaG91bGQgY29ubmVjdCB3aXRoIGFub3RoZXIgY29ubmVjdG9yLlxuICAgICAgICAgKi9cbiAgICAgICAgY29uc3QgaXNDb25uZWN0ZWRXaXRoQXV0aCA9IGNvbm5lY3RvcklkID09PSBDb25zdGFudHNVdGlsLkNPTk5FQ1RPUl9JRC5BVVRIO1xuICAgICAgICBjb25zdCBpc1N1cHBvcnRlZEZvckF1dGhDb25uZWN0b3IgPSBDb25zdGFudHNVdGlsLkFVVEhfQ09OTkVDVE9SX1NVUFBPUlRFRF9DSEFJTlMuZmluZChjID0+IGMgPT09IG5ldHdvcmsuY2hhaW5OYW1lc3BhY2UpO1xuICAgICAgICAvKipcbiAgICAgICAgICogMS4gSWYgdGhlIGlnbm9yZVN3aXRjaENvbmZpcm1hdGlvbiBpcyBzZXQgdG8gdHJ1ZSwgd2Ugc2hvdWxkIHN3aXRjaCB0byB0aGUgbmV0d29yayxcbiAgICAgICAgICogMi4gSWYgdXNlciBjb25uZWN0ZWQgd2l0aCBhdXRoIGNvbm5lY3RvciBhbmQgdGhlIG5leHQgbmV0d29yayBpcyBzdXBwb3J0ZWQgYnkgdGhlIGF1dGggY29ubmVjdG9yLFxuICAgICAgICAgKiB3ZSBzaG91bGQgc3dpdGNoIHRvIHRoZSBuZXR3b3JrIHdpdGhvdXQgY29uZmlybWF0aW9uIHNjcmVlbi5cbiAgICAgICAgICovXG4gICAgICAgIGlmIChpZ25vcmVTd2l0Y2hDb25maXJtYXRpb24gfHwgKGlzQ29ubmVjdGVkV2l0aEF1dGggJiYgaXNTdXBwb3J0ZWRGb3JBdXRoQ29ubmVjdG9yKSkge1xuICAgICAgICAgICAgUm91dGVyQ29udHJvbGxlci5wdXNoKCdTd2l0Y2hOZXR3b3JrJywgeyAuLi5yb3V0ZXJEYXRhLCBuZXR3b3JrIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKFxuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdXNlciBzd2l0Y2hpbmcgdG8gYSBkaWZmZXJlbnQgbmFtZXNwYWNlIGFuZCBuZXh0IG5hbWVzcGFjZSBpcyBub3QgY29ubmVjdGVkLCB3ZSBuZWVkIHRvIHNob3cgc3dpdGNoIGFjdGl2ZSBjaGFpbiB2aWV3IGZvciBjb25maXJtYXRpb24gZmlyc3QuXG4gICAgICAgICAqL1xuICAgICAgICBpc0N1cnJlbnROYW1lc3BhY2VDb25uZWN0ZWQgJiZcbiAgICAgICAgICAgIGlzRGlmZmVyZW50TmFtZXNwYWNlICYmXG4gICAgICAgICAgICAhaXNOZXh0TmFtZXNwYWNlQ29ubmVjdGVkKSB7XG4gICAgICAgICAgICBSb3V0ZXJDb250cm9sbGVyLnB1c2goJ1N3aXRjaEFjdGl2ZUNoYWluJywge1xuICAgICAgICAgICAgICAgIHN3aXRjaFRvQ2hhaW46IG5ldHdvcmsuY2hhaW5OYW1lc3BhY2UsXG4gICAgICAgICAgICAgICAgbmF2aWdhdGVUbzogJ0Nvbm5lY3QnLFxuICAgICAgICAgICAgICAgIG5hdmlnYXRlV2l0aFJlcGxhY2U6IHRydWUsXG4gICAgICAgICAgICAgICAgbmV0d29ya1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBSb3V0ZXJDb250cm9sbGVyLnB1c2goJ1N3aXRjaE5ldHdvcmsnLCB7IC4uLnJvdXRlckRhdGEsIG5ldHdvcmsgfSk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TmV0d29ya1V0aWwuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/NetworkUtil.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/OptionsUtil.js":
/*!******************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/OptionsUtil.js ***!
  \******************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   OptionsUtil: () => (/* binding */ OptionsUtil)\n/* harmony export */ });\n/* harmony import */ var _controllers_OptionsController_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../controllers/OptionsController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/OptionsController.js\");\n/* harmony import */ var _ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ConstantsUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ConstantsUtil.js\");\n/* harmony import */ var _CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./CoreHelperUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/CoreHelperUtil.js\");\n\n\n\nconst OptionsUtil = {\n    getFeatureValue(key, features) {\n        const optionValue = features?.[key];\n        if (optionValue === undefined) {\n            return _ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.DEFAULT_FEATURES[key];\n        }\n        return optionValue;\n    },\n    filterSocialsByPlatform(socials) {\n        if (!socials || !socials.length) {\n            return socials;\n        }\n        let filteredSocials = socials;\n        if (_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_1__.CoreHelperUtil.isTelegram()) {\n            if (_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_1__.CoreHelperUtil.isIos()) {\n                filteredSocials = filteredSocials.filter(s => s !== 'google');\n            }\n            if (_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_1__.CoreHelperUtil.isMac()) {\n                filteredSocials = filteredSocials.filter(s => s !== 'x');\n            }\n            if (_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_1__.CoreHelperUtil.isAndroid()) {\n                filteredSocials = filteredSocials.filter(s => !['facebook', 'x'].includes(s));\n            }\n        }\n        if (_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_1__.CoreHelperUtil.isMobile()) {\n            filteredSocials = filteredSocials.filter(s => s !== 'facebook');\n        }\n        return filteredSocials;\n    },\n    isSocialsEnabled() {\n        return ((Array.isArray(_controllers_OptionsController_js__WEBPACK_IMPORTED_MODULE_2__.OptionsController.state.features?.socials) &&\n            _controllers_OptionsController_js__WEBPACK_IMPORTED_MODULE_2__.OptionsController.state.features?.socials.length > 0) ||\n            (Array.isArray(_controllers_OptionsController_js__WEBPACK_IMPORTED_MODULE_2__.OptionsController.state.remoteFeatures?.socials) &&\n                _controllers_OptionsController_js__WEBPACK_IMPORTED_MODULE_2__.OptionsController.state.remoteFeatures?.socials.length > 0));\n    },\n    isEmailEnabled() {\n        return Boolean(_controllers_OptionsController_js__WEBPACK_IMPORTED_MODULE_2__.OptionsController.state.features?.email || _controllers_OptionsController_js__WEBPACK_IMPORTED_MODULE_2__.OptionsController.state.remoteFeatures?.email);\n    }\n};\n//# sourceMappingURL=OptionsUtil.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTFfQHJlYWN0LW5hdGl2ZS1hc3luYy1zdG9yYWdlK2FzeW5jLXN0b3JhZ2VAMi4yLjBfcmVhY3QtX2E4MDMyMTIzODk3ZTA3OTMxMzc0MjMyYzNjYzRlNTM1L25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy91dGlscy9PcHRpb25zVXRpbC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQXdFO0FBQ3JCO0FBQ0U7QUFDOUM7QUFDUDtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsNERBQWE7QUFDaEM7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSw4REFBYztBQUMxQixnQkFBZ0IsOERBQWM7QUFDOUI7QUFDQTtBQUNBLGdCQUFnQiw4REFBYztBQUM5QjtBQUNBO0FBQ0EsZ0JBQWdCLDhEQUFjO0FBQzlCO0FBQ0E7QUFDQTtBQUNBLFlBQVksOERBQWM7QUFDMUI7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsK0JBQStCLGdGQUFpQjtBQUNoRCxZQUFZLGdGQUFpQjtBQUM3QiwyQkFBMkIsZ0ZBQWlCO0FBQzVDLGdCQUFnQixnRkFBaUI7QUFDakMsS0FBSztBQUNMO0FBQ0EsdUJBQXVCLGdGQUFpQiwwQkFBMEIsZ0ZBQWlCO0FBQ25GO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL25vZ2dsci8uL25vZGVfbW9kdWxlcy8ucG5wbS9AcmVvd24rYXBwa2l0LWNvbnRyb2xsZXJzQDEuOC4xMV9AcmVhY3QtbmF0aXZlLWFzeW5jLXN0b3JhZ2UrYXN5bmMtc3RvcmFnZUAyLjIuMF9yZWFjdC1fYTgwMzIxMjM4OTdlMDc5MzEzNzQyMzJjM2NjNGU1MzUvbm9kZV9tb2R1bGVzL0ByZW93bi9hcHBraXQtY29udHJvbGxlcnMvZGlzdC9lc20vc3JjL3V0aWxzL09wdGlvbnNVdGlsLmpzPzYwZjMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgT3B0aW9uc0NvbnRyb2xsZXIgfSBmcm9tICcuLi9jb250cm9sbGVycy9PcHRpb25zQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBDb25zdGFudHNVdGlsIH0gZnJvbSAnLi9Db25zdGFudHNVdGlsLmpzJztcbmltcG9ydCB7IENvcmVIZWxwZXJVdGlsIH0gZnJvbSAnLi9Db3JlSGVscGVyVXRpbC5qcyc7XG5leHBvcnQgY29uc3QgT3B0aW9uc1V0aWwgPSB7XG4gICAgZ2V0RmVhdHVyZVZhbHVlKGtleSwgZmVhdHVyZXMpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9uVmFsdWUgPSBmZWF0dXJlcz8uW2tleV07XG4gICAgICAgIGlmIChvcHRpb25WYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gQ29uc3RhbnRzVXRpbC5ERUZBVUxUX0ZFQVRVUkVTW2tleV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9wdGlvblZhbHVlO1xuICAgIH0sXG4gICAgZmlsdGVyU29jaWFsc0J5UGxhdGZvcm0oc29jaWFscykge1xuICAgICAgICBpZiAoIXNvY2lhbHMgfHwgIXNvY2lhbHMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gc29jaWFscztcbiAgICAgICAgfVxuICAgICAgICBsZXQgZmlsdGVyZWRTb2NpYWxzID0gc29jaWFscztcbiAgICAgICAgaWYgKENvcmVIZWxwZXJVdGlsLmlzVGVsZWdyYW0oKSkge1xuICAgICAgICAgICAgaWYgKENvcmVIZWxwZXJVdGlsLmlzSW9zKCkpIHtcbiAgICAgICAgICAgICAgICBmaWx0ZXJlZFNvY2lhbHMgPSBmaWx0ZXJlZFNvY2lhbHMuZmlsdGVyKHMgPT4gcyAhPT0gJ2dvb2dsZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKENvcmVIZWxwZXJVdGlsLmlzTWFjKCkpIHtcbiAgICAgICAgICAgICAgICBmaWx0ZXJlZFNvY2lhbHMgPSBmaWx0ZXJlZFNvY2lhbHMuZmlsdGVyKHMgPT4gcyAhPT0gJ3gnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChDb3JlSGVscGVyVXRpbC5pc0FuZHJvaWQoKSkge1xuICAgICAgICAgICAgICAgIGZpbHRlcmVkU29jaWFscyA9IGZpbHRlcmVkU29jaWFscy5maWx0ZXIocyA9PiAhWydmYWNlYm9vaycsICd4J10uaW5jbHVkZXMocykpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChDb3JlSGVscGVyVXRpbC5pc01vYmlsZSgpKSB7XG4gICAgICAgICAgICBmaWx0ZXJlZFNvY2lhbHMgPSBmaWx0ZXJlZFNvY2lhbHMuZmlsdGVyKHMgPT4gcyAhPT0gJ2ZhY2Vib29rJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZpbHRlcmVkU29jaWFscztcbiAgICB9LFxuICAgIGlzU29jaWFsc0VuYWJsZWQoKSB7XG4gICAgICAgIHJldHVybiAoKEFycmF5LmlzQXJyYXkoT3B0aW9uc0NvbnRyb2xsZXIuc3RhdGUuZmVhdHVyZXM/LnNvY2lhbHMpICYmXG4gICAgICAgICAgICBPcHRpb25zQ29udHJvbGxlci5zdGF0ZS5mZWF0dXJlcz8uc29jaWFscy5sZW5ndGggPiAwKSB8fFxuICAgICAgICAgICAgKEFycmF5LmlzQXJyYXkoT3B0aW9uc0NvbnRyb2xsZXIuc3RhdGUucmVtb3RlRmVhdHVyZXM/LnNvY2lhbHMpICYmXG4gICAgICAgICAgICAgICAgT3B0aW9uc0NvbnRyb2xsZXIuc3RhdGUucmVtb3RlRmVhdHVyZXM/LnNvY2lhbHMubGVuZ3RoID4gMCkpO1xuICAgIH0sXG4gICAgaXNFbWFpbEVuYWJsZWQoKSB7XG4gICAgICAgIHJldHVybiBCb29sZWFuKE9wdGlvbnNDb250cm9sbGVyLnN0YXRlLmZlYXR1cmVzPy5lbWFpbCB8fCBPcHRpb25zQ29udHJvbGxlci5zdGF0ZS5yZW1vdGVGZWF0dXJlcz8uZW1haWwpO1xuICAgIH1cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1PcHRpb25zVXRpbC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/OptionsUtil.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/SIWXUtil.js":
/*!***************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/SIWXUtil.js ***!
  \***************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SIWXUtil: () => (/* binding */ SIWXUtil)\n/* harmony export */ });\n/* harmony import */ var _walletconnect_universal_provider__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @walletconnect/universal-provider */ \"(ssr)/./node_modules/.pnpm/@walletconnect+universal-provider@2.22.4_@react-native-async-storage+async-storage@2.2._5dd727ea2623fa355027986e37232b45/node_modules/@walletconnect/universal-provider/dist/index.js\");\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @reown/appkit-common */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-common@1.8.11_bufferutil@4.0.9_typescript@5.9.3_utf-8-validate@5.0.10_zod@4.1.12/node_modules/@reown/appkit-common/dist/esm/src/utils/ParseUtil.js\");\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @reown/appkit-common */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-common@1.8.11_bufferutil@4.0.9_typescript@5.9.3_utf-8-validate@5.0.10_zod@4.1.12/node_modules/@reown/appkit-common/dist/esm/src/utils/ConstantsUtil.js\");\n/* harmony import */ var _reown_appkit_wallet_utils__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @reown/appkit-wallet/utils */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-wallet@1.8.11_bufferutil@4.0.9_typescript@5.9.3_utf-8-validate@5.0.10/node_modules/@reown/appkit-wallet/dist/esm/src/W3mFrameConstants.js\");\n/* harmony import */ var _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../controllers/ChainController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ChainController.js\");\n/* harmony import */ var _controllers_ConnectionController_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../controllers/ConnectionController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectionController.js\");\n/* harmony import */ var _controllers_ConnectorController_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../controllers/ConnectorController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectorController.js\");\n/* harmony import */ var _controllers_EventsController_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../controllers/EventsController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/EventsController.js\");\n/* harmony import */ var _controllers_ModalController_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../controllers/ModalController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ModalController.js\");\n/* harmony import */ var _controllers_OptionsController_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../controllers/OptionsController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/OptionsController.js\");\n/* harmony import */ var _controllers_RouterController_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../controllers/RouterController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/RouterController.js\");\n/* harmony import */ var _controllers_SnackController_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../controllers/SnackController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/SnackController.js\");\n/* harmony import */ var _ChainControllerUtil_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./ChainControllerUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ChainControllerUtil.js\");\n/* harmony import */ var _CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./CoreHelperUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/CoreHelperUtil.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n/**\n * SIWXUtil holds the methods to interact with the SIWX plugin and must be called internally on AppKit.\n */\nlet addEmbeddedWalletSessionPromise = null;\nconst SIWXUtil = {\n    getSIWX() {\n        return _controllers_OptionsController_js__WEBPACK_IMPORTED_MODULE_1__.OptionsController.state.siwx;\n    },\n    async initializeIfEnabled(caipAddress = _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_2__.ChainController.getActiveCaipAddress()) {\n        const siwx = _controllers_OptionsController_js__WEBPACK_IMPORTED_MODULE_1__.OptionsController.state.siwx;\n        if (!(siwx && caipAddress)) {\n            return;\n        }\n        const [namespace, chainId, address] = caipAddress.split(':');\n        if (!_controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_2__.ChainController.checkIfSupportedNetwork(namespace, `${namespace}:${chainId}`)) {\n            return;\n        }\n        try {\n            if (_controllers_OptionsController_js__WEBPACK_IMPORTED_MODULE_1__.OptionsController.state.remoteFeatures?.emailCapture) {\n                const user = _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_2__.ChainController.getAccountData(namespace)?.user;\n                await _controllers_ModalController_js__WEBPACK_IMPORTED_MODULE_3__.ModalController.open({\n                    view: 'DataCapture',\n                    data: {\n                        email: user?.email ?? undefined\n                    }\n                });\n                return;\n            }\n            if (addEmbeddedWalletSessionPromise) {\n                await addEmbeddedWalletSessionPromise;\n            }\n            const sessions = await siwx.getSessions(`${namespace}:${chainId}`, address);\n            if (sessions.length) {\n                return;\n            }\n            await _controllers_ModalController_js__WEBPACK_IMPORTED_MODULE_3__.ModalController.open({\n                view: 'SIWXSignMessage'\n            });\n        }\n        catch (error) {\n            // eslint-disable-next-line no-console\n            console.error('SIWXUtil:initializeIfEnabled', error);\n            _controllers_EventsController_js__WEBPACK_IMPORTED_MODULE_4__.EventsController.sendEvent({\n                type: 'track',\n                event: 'SIWX_AUTH_ERROR',\n                properties: this.getSIWXEventProperties(error)\n            });\n            // eslint-disable-next-line no-console\n            await _controllers_ConnectionController_js__WEBPACK_IMPORTED_MODULE_5__.ConnectionController._getClient()?.disconnect().catch(console.error);\n            _controllers_RouterController_js__WEBPACK_IMPORTED_MODULE_6__.RouterController.reset('Connect');\n            _controllers_SnackController_js__WEBPACK_IMPORTED_MODULE_7__.SnackController.showError('A problem occurred while trying initialize authentication');\n        }\n    },\n    async isAuthenticated(caipAddress = _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_2__.ChainController.getActiveCaipAddress()) {\n        const siwx = _controllers_OptionsController_js__WEBPACK_IMPORTED_MODULE_1__.OptionsController.state.siwx;\n        if (!siwx) {\n            return true;\n        }\n        // If there is no active caip address, there is nothing to authenticate\n        if (!caipAddress) {\n            return true;\n        }\n        const { chainNamespace, chainId, address } = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_8__.ParseUtil.parseCaipAddress(caipAddress);\n        const caipNetworkId = `${chainNamespace}:${chainId}`;\n        const sessions = await SIWXUtil.getSessions({\n            address,\n            caipNetworkId\n        });\n        return sessions.length > 0;\n    },\n    async requestSignMessage() {\n        const siwx = _controllers_OptionsController_js__WEBPACK_IMPORTED_MODULE_1__.OptionsController.state.siwx;\n        const address = _CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_9__.CoreHelperUtil.getPlainAddress(_controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_2__.ChainController.getActiveCaipAddress());\n        const network = (0,_ChainControllerUtil_js__WEBPACK_IMPORTED_MODULE_10__.getActiveCaipNetwork)();\n        const client = _controllers_ConnectionController_js__WEBPACK_IMPORTED_MODULE_5__.ConnectionController._getClient();\n        if (!siwx) {\n            throw new Error('SIWX is not enabled');\n        }\n        if (!address) {\n            throw new Error('No ActiveCaipAddress found');\n        }\n        if (!network) {\n            throw new Error('No ActiveCaipNetwork or client found');\n        }\n        if (!client) {\n            throw new Error('No ConnectionController client found');\n        }\n        try {\n            const siwxMessage = await siwx.createMessage({\n                chainId: network.caipNetworkId,\n                accountAddress: address\n            });\n            const message = siwxMessage.toString();\n            const connectorId = _controllers_ConnectorController_js__WEBPACK_IMPORTED_MODULE_11__.ConnectorController.getConnectorId(network.chainNamespace);\n            if (connectorId === _reown_appkit_common__WEBPACK_IMPORTED_MODULE_12__.ConstantsUtil.CONNECTOR_ID.AUTH) {\n                _controllers_RouterController_js__WEBPACK_IMPORTED_MODULE_6__.RouterController.pushTransactionStack({});\n            }\n            const signature = await client.signMessage(message);\n            await siwx.addSession({\n                data: siwxMessage,\n                message,\n                signature\n            });\n            _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_2__.ChainController.setLastConnectedSIWECaipNetwork(network);\n            _controllers_ModalController_js__WEBPACK_IMPORTED_MODULE_3__.ModalController.close();\n            _controllers_EventsController_js__WEBPACK_IMPORTED_MODULE_4__.EventsController.sendEvent({\n                type: 'track',\n                event: 'SIWX_AUTH_SUCCESS',\n                properties: this.getSIWXEventProperties()\n            });\n        }\n        catch (error) {\n            if (!_controllers_ModalController_js__WEBPACK_IMPORTED_MODULE_3__.ModalController.state.open || _controllers_RouterController_js__WEBPACK_IMPORTED_MODULE_6__.RouterController.state.view === 'ApproveTransaction') {\n                await _controllers_ModalController_js__WEBPACK_IMPORTED_MODULE_3__.ModalController.open({\n                    view: 'SIWXSignMessage'\n                });\n            }\n            _controllers_SnackController_js__WEBPACK_IMPORTED_MODULE_7__.SnackController.showError('Error signing message');\n            _controllers_EventsController_js__WEBPACK_IMPORTED_MODULE_4__.EventsController.sendEvent({\n                type: 'track',\n                event: 'SIWX_AUTH_ERROR',\n                properties: this.getSIWXEventProperties(error)\n            });\n            // eslint-disable-next-line no-console\n            console.error('SWIXUtil:requestSignMessage', error);\n        }\n    },\n    async cancelSignMessage() {\n        try {\n            const siwx = this.getSIWX();\n            const isRequired = siwx?.getRequired?.();\n            if (isRequired) {\n                const lastNetwork = _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_2__.ChainController.getLastConnectedSIWECaipNetwork();\n                if (lastNetwork) {\n                    const sessions = await siwx?.getSessions(lastNetwork?.caipNetworkId, _CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_9__.CoreHelperUtil.getPlainAddress(_controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_2__.ChainController.getActiveCaipAddress()) || '');\n                    if (sessions && sessions.length > 0) {\n                        await _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_2__.ChainController.switchActiveNetwork(lastNetwork);\n                    }\n                    else {\n                        await _controllers_ConnectionController_js__WEBPACK_IMPORTED_MODULE_5__.ConnectionController.disconnect();\n                    }\n                }\n                else {\n                    await _controllers_ConnectionController_js__WEBPACK_IMPORTED_MODULE_5__.ConnectionController.disconnect();\n                }\n            }\n            else {\n                _controllers_ModalController_js__WEBPACK_IMPORTED_MODULE_3__.ModalController.close();\n            }\n            _controllers_ModalController_js__WEBPACK_IMPORTED_MODULE_3__.ModalController.close();\n            _controllers_EventsController_js__WEBPACK_IMPORTED_MODULE_4__.EventsController.sendEvent({\n                event: 'CLICK_CANCEL_SIWX',\n                type: 'track',\n                properties: this.getSIWXEventProperties()\n            });\n        }\n        catch (error) {\n            // eslint-disable-next-line no-console\n            console.error('SIWXUtil:cancelSignMessage', error);\n        }\n    },\n    async getAllSessions() {\n        const siwx = this.getSIWX();\n        const allRequestedCaipNetworks = _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_2__.ChainController.getAllRequestedCaipNetworks();\n        const sessions = [];\n        await Promise.all(allRequestedCaipNetworks.map(async (caipNetwork) => {\n            const session = await siwx?.getSessions(caipNetwork.caipNetworkId, _CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_9__.CoreHelperUtil.getPlainAddress(_controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_2__.ChainController.getActiveCaipAddress()) || '');\n            if (session) {\n                sessions.push(...session);\n            }\n        }));\n        return sessions;\n    },\n    async getSessions(args) {\n        const siwx = _controllers_OptionsController_js__WEBPACK_IMPORTED_MODULE_1__.OptionsController.state.siwx;\n        let address = args?.address;\n        if (!address) {\n            const activeCaipAddress = _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_2__.ChainController.getActiveCaipAddress();\n            address = _CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_9__.CoreHelperUtil.getPlainAddress(activeCaipAddress);\n        }\n        let network = args?.caipNetworkId;\n        if (!network) {\n            const activeCaipNetwork = _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_2__.ChainController.getActiveCaipNetwork();\n            network = activeCaipNetwork?.caipNetworkId;\n        }\n        if (!(siwx && address && network)) {\n            return [];\n        }\n        return siwx.getSessions(network, address);\n    },\n    async isSIWXCloseDisabled() {\n        const siwx = this.getSIWX();\n        if (siwx) {\n            const isApproveSignScreen = _controllers_RouterController_js__WEBPACK_IMPORTED_MODULE_6__.RouterController.state.view === 'ApproveTransaction';\n            const isSiwxSignMessage = _controllers_RouterController_js__WEBPACK_IMPORTED_MODULE_6__.RouterController.state.view === 'SIWXSignMessage';\n            if (isApproveSignScreen || isSiwxSignMessage) {\n                return siwx.getRequired?.() && (await this.getSessions()).length === 0;\n            }\n        }\n        return false;\n    },\n    async authConnectorAuthenticate({ authConnector, chainId, socialUri, preferredAccountType, chainNamespace }) {\n        const siwx = SIWXUtil.getSIWX();\n        const network = (0,_ChainControllerUtil_js__WEBPACK_IMPORTED_MODULE_10__.getActiveCaipNetwork)();\n        if (!siwx ||\n            !chainNamespace.includes(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_12__.ConstantsUtil.CHAIN.EVM) ||\n            // Request to input email and sign message when email capture is enabled\n            _controllers_OptionsController_js__WEBPACK_IMPORTED_MODULE_1__.OptionsController.state.remoteFeatures?.emailCapture) {\n            const result = await authConnector.connect({\n                chainId,\n                socialUri,\n                preferredAccountType\n            });\n            return {\n                address: result.address,\n                chainId: result.chainId,\n                accounts: result.accounts\n            };\n        }\n        const caipNetwork = `${chainNamespace}:${chainId}`;\n        const siwxMessage = await siwx.createMessage({\n            chainId: caipNetwork,\n            accountAddress: '<<AccountAddress>>'\n        });\n        // Extract only the serializable data properties for postMessage, toString() is not possible to include in the postMessage\n        const siwxMessageData = {\n            accountAddress: siwxMessage.accountAddress,\n            chainId: siwxMessage.chainId,\n            domain: siwxMessage.domain,\n            uri: siwxMessage.uri,\n            version: siwxMessage.version,\n            nonce: siwxMessage.nonce,\n            notBefore: siwxMessage.notBefore,\n            statement: siwxMessage.statement,\n            resources: siwxMessage.resources,\n            requestId: siwxMessage.requestId,\n            issuedAt: siwxMessage.issuedAt,\n            expirationTime: siwxMessage.expirationTime,\n            serializedMessage: siwxMessage.toString()\n        };\n        const result = await authConnector.connect({\n            chainId,\n            socialUri,\n            siwxMessage: siwxMessageData,\n            preferredAccountType\n        });\n        siwxMessageData.accountAddress = result.address;\n        siwxMessageData.serializedMessage = result.message || '';\n        if (result.signature && result.message) {\n            const promise = SIWXUtil.addEmbeddedWalletSession(siwxMessageData, result.message, result.signature);\n            await promise;\n        }\n        _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_2__.ChainController.setLastConnectedSIWECaipNetwork(network);\n        return {\n            address: result.address,\n            chainId: result.chainId,\n            accounts: result.accounts\n        };\n    },\n    async addEmbeddedWalletSession(siwxMessageData, message, signature) {\n        if (addEmbeddedWalletSessionPromise) {\n            return addEmbeddedWalletSessionPromise;\n        }\n        const siwx = SIWXUtil.getSIWX();\n        if (!siwx) {\n            return Promise.resolve();\n        }\n        addEmbeddedWalletSessionPromise = siwx\n            .addSession({\n            data: siwxMessageData,\n            message,\n            signature\n        })\n            .finally(() => {\n            addEmbeddedWalletSessionPromise = null;\n        });\n        return addEmbeddedWalletSessionPromise;\n    },\n    async universalProviderAuthenticate({ universalProvider, chains, methods }) {\n        const siwx = SIWXUtil.getSIWX();\n        const network = (0,_ChainControllerUtil_js__WEBPACK_IMPORTED_MODULE_10__.getActiveCaipNetwork)();\n        const namespaces = new Set(chains.map(chain => chain.split(':')[0]));\n        if (!siwx || namespaces.size !== 1 || !namespaces.has('eip155')) {\n            return false;\n        }\n        // Ignores chainId and account address to get other message data\n        const siwxMessage = await siwx.createMessage({\n            chainId: (0,_ChainControllerUtil_js__WEBPACK_IMPORTED_MODULE_10__.getActiveCaipNetwork)()?.caipNetworkId || '',\n            accountAddress: ''\n        });\n        const result = await universalProvider.authenticate({\n            nonce: siwxMessage.nonce,\n            domain: siwxMessage.domain,\n            uri: siwxMessage.uri,\n            exp: siwxMessage.expirationTime,\n            iat: siwxMessage.issuedAt,\n            nbf: siwxMessage.notBefore,\n            requestId: siwxMessage.requestId,\n            version: siwxMessage.version,\n            resources: siwxMessage.resources,\n            statement: siwxMessage.statement,\n            chainId: siwxMessage.chainId,\n            methods,\n            // The first chainId is what is used for universal provider to build the message\n            chains: [siwxMessage.chainId, ...chains.filter(chain => chain !== siwxMessage.chainId)]\n        });\n        _controllers_SnackController_js__WEBPACK_IMPORTED_MODULE_7__.SnackController.showLoading('Authenticating...', { autoClose: false });\n        const walletInfo = {\n            ...result.session.peer.metadata,\n            name: result.session.peer.metadata.name,\n            icon: result.session.peer.metadata.icons?.[0],\n            type: 'WALLET_CONNECT'\n        };\n        _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_2__.ChainController.setAccountProp('connectedWalletInfo', walletInfo, Array.from(namespaces)[0]);\n        if (result?.auths?.length) {\n            const sessions = result.auths.map(cacao => {\n                const message = universalProvider.client.formatAuthMessage({\n                    request: cacao.p,\n                    iss: cacao.p.iss\n                });\n                return {\n                    data: {\n                        ...cacao.p,\n                        accountAddress: cacao.p.iss.split(':').slice(-1).join(''),\n                        chainId: cacao.p.iss.split(':').slice(2, 4).join(':'),\n                        uri: cacao.p.aud,\n                        version: cacao.p.version || siwxMessage.version,\n                        expirationTime: cacao.p.exp,\n                        issuedAt: cacao.p.iat,\n                        notBefore: cacao.p.nbf\n                    },\n                    message,\n                    signature: cacao.s.s,\n                    cacao\n                };\n            });\n            try {\n                await siwx.setSessions(sessions);\n                if (network) {\n                    _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_2__.ChainController.setLastConnectedSIWECaipNetwork(network);\n                }\n                _controllers_EventsController_js__WEBPACK_IMPORTED_MODULE_4__.EventsController.sendEvent({\n                    type: 'track',\n                    event: 'SIWX_AUTH_SUCCESS',\n                    properties: SIWXUtil.getSIWXEventProperties()\n                });\n            }\n            catch (error) {\n                // eslint-disable-next-line no-console\n                console.error('SIWX:universalProviderAuth - failed to set sessions', error);\n                _controllers_EventsController_js__WEBPACK_IMPORTED_MODULE_4__.EventsController.sendEvent({\n                    type: 'track',\n                    event: 'SIWX_AUTH_ERROR',\n                    properties: SIWXUtil.getSIWXEventProperties(error)\n                });\n                // eslint-disable-next-line no-console\n                await universalProvider.disconnect().catch(console.error);\n                throw error;\n            }\n            finally {\n                _controllers_SnackController_js__WEBPACK_IMPORTED_MODULE_7__.SnackController.hide();\n            }\n        }\n        return true;\n    },\n    getSIWXEventProperties(error) {\n        const namespace = _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_2__.ChainController.state.activeChain;\n        if (!namespace) {\n            throw new Error('SIWXUtil:getSIWXEventProperties - namespace is required');\n        }\n        return {\n            network: _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_2__.ChainController.state.activeCaipNetwork?.caipNetworkId || '',\n            isSmartAccount: (0,_ChainControllerUtil_js__WEBPACK_IMPORTED_MODULE_10__.getPreferredAccountType)(namespace) === _reown_appkit_wallet_utils__WEBPACK_IMPORTED_MODULE_13__.W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT,\n            message: error ? _CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_9__.CoreHelperUtil.parseError(error) : undefined\n        };\n    },\n    async clearSessions() {\n        const siwx = this.getSIWX();\n        if (siwx) {\n            await siwx.setSessions([]);\n        }\n    }\n};\n//# sourceMappingURL=SIWXUtil.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTFfQHJlYWN0LW5hdGl2ZS1hc3luYy1zdG9yYWdlK2FzeW5jLXN0b3JhZ2VAMi4yLjBfcmVhY3QtX2E4MDMyMTIzODk3ZTA3OTMxMzc0MjMyYzNjYzRlNTM1L25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy91dGlscy9TSVdYVXRpbC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBa0U7QUFDcUI7QUFDckI7QUFDRTtBQUNVO0FBQ0Y7QUFDTjtBQUNGO0FBQ0k7QUFDRjtBQUNGO0FBQ3FCO0FBQ3BDO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBLGVBQWUsZ0ZBQWlCO0FBQ2hDLEtBQUs7QUFDTCw0Q0FBNEMsNEVBQWU7QUFDM0QscUJBQXFCLGdGQUFpQjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsNEVBQWUsdUNBQXVDLFVBQVUsR0FBRyxRQUFRO0FBQ3hGO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixnRkFBaUI7QUFDakMsNkJBQTZCLDRFQUFlO0FBQzVDLHNCQUFzQiw0RUFBZTtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdURBQXVELFVBQVUsR0FBRyxRQUFRO0FBQzVFO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQiw0RUFBZTtBQUNqQztBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksOEVBQWdCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLGtCQUFrQixzRkFBb0I7QUFDdEMsWUFBWSw4RUFBZ0I7QUFDNUIsWUFBWSw0RUFBZTtBQUMzQjtBQUNBLEtBQUs7QUFDTCx3Q0FBd0MsNEVBQWU7QUFDdkQscUJBQXFCLGdGQUFpQjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixtQ0FBbUMsRUFBRSwyREFBUztBQUM5RCxpQ0FBaUMsZUFBZSxHQUFHLFFBQVE7QUFDM0Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMO0FBQ0EscUJBQXFCLGdGQUFpQjtBQUN0Qyx3QkFBd0IsOERBQWMsaUJBQWlCLDRFQUFlO0FBQ3RFLHdCQUF3Qiw4RUFBb0I7QUFDNUMsdUJBQXVCLHNGQUFvQjtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLGdDQUFnQyxxRkFBbUI7QUFDbkQsZ0NBQWdDLGdFQUFtQjtBQUNuRCxnQkFBZ0IsOEVBQWdCLHdCQUF3QjtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsWUFBWSw0RUFBZTtBQUMzQixZQUFZLDRFQUFlO0FBQzNCLFlBQVksOEVBQWdCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsaUJBQWlCLDRFQUFlLGVBQWUsOEVBQWdCO0FBQy9ELHNCQUFzQiw0RUFBZTtBQUNyQztBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLFlBQVksNEVBQWU7QUFDM0IsWUFBWSw4RUFBZ0I7QUFDNUI7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLDRFQUFlO0FBQ25EO0FBQ0EseUZBQXlGLDhEQUFjLGlCQUFpQiw0RUFBZTtBQUN2STtBQUNBLDhCQUE4Qiw0RUFBZTtBQUM3QztBQUNBO0FBQ0EsOEJBQThCLHNGQUFvQjtBQUNsRDtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsc0ZBQW9CO0FBQzlDO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQiw0RUFBZTtBQUMvQjtBQUNBLFlBQVksNEVBQWU7QUFDM0IsWUFBWSw4RUFBZ0I7QUFDNUI7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLHlDQUF5Qyw0RUFBZTtBQUN4RDtBQUNBO0FBQ0EsK0VBQStFLDhEQUFjLGlCQUFpQiw0RUFBZTtBQUM3SDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0w7QUFDQSxxQkFBcUIsZ0ZBQWlCO0FBQ3RDO0FBQ0E7QUFDQSxzQ0FBc0MsNEVBQWU7QUFDckQsc0JBQXNCLDhEQUFjO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyw0RUFBZTtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLDhFQUFnQjtBQUN4RCxzQ0FBc0MsOEVBQWdCO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsc0NBQXNDLHlFQUF5RTtBQUMvRztBQUNBLHdCQUF3Qiw4RUFBb0I7QUFDNUM7QUFDQSxxQ0FBcUMsZ0VBQW1CO0FBQ3hEO0FBQ0EsWUFBWSxnRkFBaUI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLGVBQWUsR0FBRyxRQUFRO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSw0RUFBZTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0wsMENBQTBDLG9DQUFvQztBQUM5RTtBQUNBLHdCQUF3Qiw4RUFBb0I7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLDhFQUFvQjtBQUN6QztBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsUUFBUSw0RUFBZSxvQ0FBb0Msa0JBQWtCO0FBQzdFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsNEVBQWU7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsNEVBQWU7QUFDbkM7QUFDQSxnQkFBZ0IsOEVBQWdCO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQiw4RUFBZ0I7QUFDaEM7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsNEVBQWU7QUFDL0I7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsMEJBQTBCLDRFQUFlO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLDRFQUFlO0FBQ3BDLDRCQUE0QixpRkFBdUIsZ0JBQWdCLDZFQUFvQjtBQUN2Riw2QkFBNkIsOERBQWM7QUFDM0M7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL25vZ2dsci8uL25vZGVfbW9kdWxlcy8ucG5wbS9AcmVvd24rYXBwa2l0LWNvbnRyb2xsZXJzQDEuOC4xMV9AcmVhY3QtbmF0aXZlLWFzeW5jLXN0b3JhZ2UrYXN5bmMtc3RvcmFnZUAyLjIuMF9yZWFjdC1fYTgwMzIxMjM4OTdlMDc5MzEzNzQyMzJjM2NjNGU1MzUvbm9kZV9tb2R1bGVzL0ByZW93bi9hcHBraXQtY29udHJvbGxlcnMvZGlzdC9lc20vc3JjL3V0aWxzL1NJV1hVdGlsLmpzP2MzMDciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFVuaXZlcnNhbFByb3ZpZGVyIGZyb20gJ0B3YWxsZXRjb25uZWN0L3VuaXZlcnNhbC1wcm92aWRlcic7XG5pbXBvcnQgeyBDb25zdGFudHNVdGlsIGFzIENvbW1vbkNvbnN0YW50c1V0aWwsIFBhcnNlVXRpbCB9IGZyb20gJ0ByZW93bi9hcHBraXQtY29tbW9uJztcbmltcG9ydCB7IFczbUZyYW1lUnBjQ29uc3RhbnRzIH0gZnJvbSAnQHJlb3duL2FwcGtpdC13YWxsZXQvdXRpbHMnO1xuaW1wb3J0IHsgQ2hhaW5Db250cm9sbGVyIH0gZnJvbSAnLi4vY29udHJvbGxlcnMvQ2hhaW5Db250cm9sbGVyLmpzJztcbmltcG9ydCB7IENvbm5lY3Rpb25Db250cm9sbGVyIH0gZnJvbSAnLi4vY29udHJvbGxlcnMvQ29ubmVjdGlvbkNvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgQ29ubmVjdG9yQ29udHJvbGxlciB9IGZyb20gJy4uL2NvbnRyb2xsZXJzL0Nvbm5lY3RvckNvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgRXZlbnRzQ29udHJvbGxlciB9IGZyb20gJy4uL2NvbnRyb2xsZXJzL0V2ZW50c0NvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgTW9kYWxDb250cm9sbGVyIH0gZnJvbSAnLi4vY29udHJvbGxlcnMvTW9kYWxDb250cm9sbGVyLmpzJztcbmltcG9ydCB7IE9wdGlvbnNDb250cm9sbGVyIH0gZnJvbSAnLi4vY29udHJvbGxlcnMvT3B0aW9uc0NvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgUm91dGVyQ29udHJvbGxlciB9IGZyb20gJy4uL2NvbnRyb2xsZXJzL1JvdXRlckNvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgU25hY2tDb250cm9sbGVyIH0gZnJvbSAnLi4vY29udHJvbGxlcnMvU25hY2tDb250cm9sbGVyLmpzJztcbmltcG9ydCB7IGdldEFjdGl2ZUNhaXBOZXR3b3JrLCBnZXRQcmVmZXJyZWRBY2NvdW50VHlwZSB9IGZyb20gJy4vQ2hhaW5Db250cm9sbGVyVXRpbC5qcyc7XG5pbXBvcnQgeyBDb3JlSGVscGVyVXRpbCB9IGZyb20gJy4vQ29yZUhlbHBlclV0aWwuanMnO1xuLyoqXG4gKiBTSVdYVXRpbCBob2xkcyB0aGUgbWV0aG9kcyB0byBpbnRlcmFjdCB3aXRoIHRoZSBTSVdYIHBsdWdpbiBhbmQgbXVzdCBiZSBjYWxsZWQgaW50ZXJuYWxseSBvbiBBcHBLaXQuXG4gKi9cbmxldCBhZGRFbWJlZGRlZFdhbGxldFNlc3Npb25Qcm9taXNlID0gbnVsbDtcbmV4cG9ydCBjb25zdCBTSVdYVXRpbCA9IHtcbiAgICBnZXRTSVdYKCkge1xuICAgICAgICByZXR1cm4gT3B0aW9uc0NvbnRyb2xsZXIuc3RhdGUuc2l3eDtcbiAgICB9LFxuICAgIGFzeW5jIGluaXRpYWxpemVJZkVuYWJsZWQoY2FpcEFkZHJlc3MgPSBDaGFpbkNvbnRyb2xsZXIuZ2V0QWN0aXZlQ2FpcEFkZHJlc3MoKSkge1xuICAgICAgICBjb25zdCBzaXd4ID0gT3B0aW9uc0NvbnRyb2xsZXIuc3RhdGUuc2l3eDtcbiAgICAgICAgaWYgKCEoc2l3eCAmJiBjYWlwQWRkcmVzcykpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBbbmFtZXNwYWNlLCBjaGFpbklkLCBhZGRyZXNzXSA9IGNhaXBBZGRyZXNzLnNwbGl0KCc6Jyk7XG4gICAgICAgIGlmICghQ2hhaW5Db250cm9sbGVyLmNoZWNrSWZTdXBwb3J0ZWROZXR3b3JrKG5hbWVzcGFjZSwgYCR7bmFtZXNwYWNlfToke2NoYWluSWR9YCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKE9wdGlvbnNDb250cm9sbGVyLnN0YXRlLnJlbW90ZUZlYXR1cmVzPy5lbWFpbENhcHR1cmUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB1c2VyID0gQ2hhaW5Db250cm9sbGVyLmdldEFjY291bnREYXRhKG5hbWVzcGFjZSk/LnVzZXI7XG4gICAgICAgICAgICAgICAgYXdhaXQgTW9kYWxDb250cm9sbGVyLm9wZW4oe1xuICAgICAgICAgICAgICAgICAgICB2aWV3OiAnRGF0YUNhcHR1cmUnLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbWFpbDogdXNlcj8uZW1haWwgPz8gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYWRkRW1iZWRkZWRXYWxsZXRTZXNzaW9uUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgIGF3YWl0IGFkZEVtYmVkZGVkV2FsbGV0U2Vzc2lvblByb21pc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBzZXNzaW9ucyA9IGF3YWl0IHNpd3guZ2V0U2Vzc2lvbnMoYCR7bmFtZXNwYWNlfToke2NoYWluSWR9YCwgYWRkcmVzcyk7XG4gICAgICAgICAgICBpZiAoc2Vzc2lvbnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXdhaXQgTW9kYWxDb250cm9sbGVyLm9wZW4oe1xuICAgICAgICAgICAgICAgIHZpZXc6ICdTSVdYU2lnbk1lc3NhZ2UnXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdTSVdYVXRpbDppbml0aWFsaXplSWZFbmFibGVkJywgZXJyb3IpO1xuICAgICAgICAgICAgRXZlbnRzQ29udHJvbGxlci5zZW5kRXZlbnQoe1xuICAgICAgICAgICAgICAgIHR5cGU6ICd0cmFjaycsXG4gICAgICAgICAgICAgICAgZXZlbnQ6ICdTSVdYX0FVVEhfRVJST1InLFxuICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IHRoaXMuZ2V0U0lXWEV2ZW50UHJvcGVydGllcyhlcnJvcilcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgICAgIGF3YWl0IENvbm5lY3Rpb25Db250cm9sbGVyLl9nZXRDbGllbnQoKT8uZGlzY29ubmVjdCgpLmNhdGNoKGNvbnNvbGUuZXJyb3IpO1xuICAgICAgICAgICAgUm91dGVyQ29udHJvbGxlci5yZXNldCgnQ29ubmVjdCcpO1xuICAgICAgICAgICAgU25hY2tDb250cm9sbGVyLnNob3dFcnJvcignQSBwcm9ibGVtIG9jY3VycmVkIHdoaWxlIHRyeWluZyBpbml0aWFsaXplIGF1dGhlbnRpY2F0aW9uJyk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGFzeW5jIGlzQXV0aGVudGljYXRlZChjYWlwQWRkcmVzcyA9IENoYWluQ29udHJvbGxlci5nZXRBY3RpdmVDYWlwQWRkcmVzcygpKSB7XG4gICAgICAgIGNvbnN0IHNpd3ggPSBPcHRpb25zQ29udHJvbGxlci5zdGF0ZS5zaXd4O1xuICAgICAgICBpZiAoIXNpd3gpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIHRoZXJlIGlzIG5vIGFjdGl2ZSBjYWlwIGFkZHJlc3MsIHRoZXJlIGlzIG5vdGhpbmcgdG8gYXV0aGVudGljYXRlXG4gICAgICAgIGlmICghY2FpcEFkZHJlc3MpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgY2hhaW5OYW1lc3BhY2UsIGNoYWluSWQsIGFkZHJlc3MgfSA9IFBhcnNlVXRpbC5wYXJzZUNhaXBBZGRyZXNzKGNhaXBBZGRyZXNzKTtcbiAgICAgICAgY29uc3QgY2FpcE5ldHdvcmtJZCA9IGAke2NoYWluTmFtZXNwYWNlfToke2NoYWluSWR9YDtcbiAgICAgICAgY29uc3Qgc2Vzc2lvbnMgPSBhd2FpdCBTSVdYVXRpbC5nZXRTZXNzaW9ucyh7XG4gICAgICAgICAgICBhZGRyZXNzLFxuICAgICAgICAgICAgY2FpcE5ldHdvcmtJZFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHNlc3Npb25zLmxlbmd0aCA+IDA7XG4gICAgfSxcbiAgICBhc3luYyByZXF1ZXN0U2lnbk1lc3NhZ2UoKSB7XG4gICAgICAgIGNvbnN0IHNpd3ggPSBPcHRpb25zQ29udHJvbGxlci5zdGF0ZS5zaXd4O1xuICAgICAgICBjb25zdCBhZGRyZXNzID0gQ29yZUhlbHBlclV0aWwuZ2V0UGxhaW5BZGRyZXNzKENoYWluQ29udHJvbGxlci5nZXRBY3RpdmVDYWlwQWRkcmVzcygpKTtcbiAgICAgICAgY29uc3QgbmV0d29yayA9IGdldEFjdGl2ZUNhaXBOZXR3b3JrKCk7XG4gICAgICAgIGNvbnN0IGNsaWVudCA9IENvbm5lY3Rpb25Db250cm9sbGVyLl9nZXRDbGllbnQoKTtcbiAgICAgICAgaWYgKCFzaXd4KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NJV1ggaXMgbm90IGVuYWJsZWQnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWFkZHJlc3MpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gQWN0aXZlQ2FpcEFkZHJlc3MgZm91bmQnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW5ldHdvcmspIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gQWN0aXZlQ2FpcE5ldHdvcmsgb3IgY2xpZW50IGZvdW5kJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFjbGllbnQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gQ29ubmVjdGlvbkNvbnRyb2xsZXIgY2xpZW50IGZvdW5kJyk7XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHNpd3hNZXNzYWdlID0gYXdhaXQgc2l3eC5jcmVhdGVNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICBjaGFpbklkOiBuZXR3b3JrLmNhaXBOZXR3b3JrSWQsXG4gICAgICAgICAgICAgICAgYWNjb3VudEFkZHJlc3M6IGFkZHJlc3NcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IHNpd3hNZXNzYWdlLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICBjb25zdCBjb25uZWN0b3JJZCA9IENvbm5lY3RvckNvbnRyb2xsZXIuZ2V0Q29ubmVjdG9ySWQobmV0d29yay5jaGFpbk5hbWVzcGFjZSk7XG4gICAgICAgICAgICBpZiAoY29ubmVjdG9ySWQgPT09IENvbW1vbkNvbnN0YW50c1V0aWwuQ09OTkVDVE9SX0lELkFVVEgpIHtcbiAgICAgICAgICAgICAgICBSb3V0ZXJDb250cm9sbGVyLnB1c2hUcmFuc2FjdGlvblN0YWNrKHt9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHNpZ25hdHVyZSA9IGF3YWl0IGNsaWVudC5zaWduTWVzc2FnZShtZXNzYWdlKTtcbiAgICAgICAgICAgIGF3YWl0IHNpd3guYWRkU2Vzc2lvbih7XG4gICAgICAgICAgICAgICAgZGF0YTogc2l3eE1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgICAgICAgICBzaWduYXR1cmVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgQ2hhaW5Db250cm9sbGVyLnNldExhc3RDb25uZWN0ZWRTSVdFQ2FpcE5ldHdvcmsobmV0d29yayk7XG4gICAgICAgICAgICBNb2RhbENvbnRyb2xsZXIuY2xvc2UoKTtcbiAgICAgICAgICAgIEV2ZW50c0NvbnRyb2xsZXIuc2VuZEV2ZW50KHtcbiAgICAgICAgICAgICAgICB0eXBlOiAndHJhY2snLFxuICAgICAgICAgICAgICAgIGV2ZW50OiAnU0lXWF9BVVRIX1NVQ0NFU1MnLFxuICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IHRoaXMuZ2V0U0lXWEV2ZW50UHJvcGVydGllcygpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGlmICghTW9kYWxDb250cm9sbGVyLnN0YXRlLm9wZW4gfHwgUm91dGVyQ29udHJvbGxlci5zdGF0ZS52aWV3ID09PSAnQXBwcm92ZVRyYW5zYWN0aW9uJykge1xuICAgICAgICAgICAgICAgIGF3YWl0IE1vZGFsQ29udHJvbGxlci5vcGVuKHtcbiAgICAgICAgICAgICAgICAgICAgdmlldzogJ1NJV1hTaWduTWVzc2FnZSdcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFNuYWNrQ29udHJvbGxlci5zaG93RXJyb3IoJ0Vycm9yIHNpZ25pbmcgbWVzc2FnZScpO1xuICAgICAgICAgICAgRXZlbnRzQ29udHJvbGxlci5zZW5kRXZlbnQoe1xuICAgICAgICAgICAgICAgIHR5cGU6ICd0cmFjaycsXG4gICAgICAgICAgICAgICAgZXZlbnQ6ICdTSVdYX0FVVEhfRVJST1InLFxuICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IHRoaXMuZ2V0U0lXWEV2ZW50UHJvcGVydGllcyhlcnJvcilcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1NXSVhVdGlsOnJlcXVlc3RTaWduTWVzc2FnZScsIGVycm9yKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgYXN5bmMgY2FuY2VsU2lnbk1lc3NhZ2UoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBzaXd4ID0gdGhpcy5nZXRTSVdYKCk7XG4gICAgICAgICAgICBjb25zdCBpc1JlcXVpcmVkID0gc2l3eD8uZ2V0UmVxdWlyZWQ/LigpO1xuICAgICAgICAgICAgaWYgKGlzUmVxdWlyZWQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsYXN0TmV0d29yayA9IENoYWluQ29udHJvbGxlci5nZXRMYXN0Q29ubmVjdGVkU0lXRUNhaXBOZXR3b3JrKCk7XG4gICAgICAgICAgICAgICAgaWYgKGxhc3ROZXR3b3JrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlc3Npb25zID0gYXdhaXQgc2l3eD8uZ2V0U2Vzc2lvbnMobGFzdE5ldHdvcms/LmNhaXBOZXR3b3JrSWQsIENvcmVIZWxwZXJVdGlsLmdldFBsYWluQWRkcmVzcyhDaGFpbkNvbnRyb2xsZXIuZ2V0QWN0aXZlQ2FpcEFkZHJlc3MoKSkgfHwgJycpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2Vzc2lvbnMgJiYgc2Vzc2lvbnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgQ2hhaW5Db250cm9sbGVyLnN3aXRjaEFjdGl2ZU5ldHdvcmsobGFzdE5ldHdvcmspO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgQ29ubmVjdGlvbkNvbnRyb2xsZXIuZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBDb25uZWN0aW9uQ29udHJvbGxlci5kaXNjb25uZWN0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgTW9kYWxDb250cm9sbGVyLmNsb3NlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBNb2RhbENvbnRyb2xsZXIuY2xvc2UoKTtcbiAgICAgICAgICAgIEV2ZW50c0NvbnRyb2xsZXIuc2VuZEV2ZW50KHtcbiAgICAgICAgICAgICAgICBldmVudDogJ0NMSUNLX0NBTkNFTF9TSVdYJyxcbiAgICAgICAgICAgICAgICB0eXBlOiAndHJhY2snLFxuICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IHRoaXMuZ2V0U0lXWEV2ZW50UHJvcGVydGllcygpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdTSVdYVXRpbDpjYW5jZWxTaWduTWVzc2FnZScsIGVycm9yKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgYXN5bmMgZ2V0QWxsU2Vzc2lvbnMoKSB7XG4gICAgICAgIGNvbnN0IHNpd3ggPSB0aGlzLmdldFNJV1goKTtcbiAgICAgICAgY29uc3QgYWxsUmVxdWVzdGVkQ2FpcE5ldHdvcmtzID0gQ2hhaW5Db250cm9sbGVyLmdldEFsbFJlcXVlc3RlZENhaXBOZXR3b3JrcygpO1xuICAgICAgICBjb25zdCBzZXNzaW9ucyA9IFtdO1xuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChhbGxSZXF1ZXN0ZWRDYWlwTmV0d29ya3MubWFwKGFzeW5jIChjYWlwTmV0d29yaykgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc2Vzc2lvbiA9IGF3YWl0IHNpd3g/LmdldFNlc3Npb25zKGNhaXBOZXR3b3JrLmNhaXBOZXR3b3JrSWQsIENvcmVIZWxwZXJVdGlsLmdldFBsYWluQWRkcmVzcyhDaGFpbkNvbnRyb2xsZXIuZ2V0QWN0aXZlQ2FpcEFkZHJlc3MoKSkgfHwgJycpO1xuICAgICAgICAgICAgaWYgKHNlc3Npb24pIHtcbiAgICAgICAgICAgICAgICBzZXNzaW9ucy5wdXNoKC4uLnNlc3Npb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybiBzZXNzaW9ucztcbiAgICB9LFxuICAgIGFzeW5jIGdldFNlc3Npb25zKGFyZ3MpIHtcbiAgICAgICAgY29uc3Qgc2l3eCA9IE9wdGlvbnNDb250cm9sbGVyLnN0YXRlLnNpd3g7XG4gICAgICAgIGxldCBhZGRyZXNzID0gYXJncz8uYWRkcmVzcztcbiAgICAgICAgaWYgKCFhZGRyZXNzKSB7XG4gICAgICAgICAgICBjb25zdCBhY3RpdmVDYWlwQWRkcmVzcyA9IENoYWluQ29udHJvbGxlci5nZXRBY3RpdmVDYWlwQWRkcmVzcygpO1xuICAgICAgICAgICAgYWRkcmVzcyA9IENvcmVIZWxwZXJVdGlsLmdldFBsYWluQWRkcmVzcyhhY3RpdmVDYWlwQWRkcmVzcyk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG5ldHdvcmsgPSBhcmdzPy5jYWlwTmV0d29ya0lkO1xuICAgICAgICBpZiAoIW5ldHdvcmspIHtcbiAgICAgICAgICAgIGNvbnN0IGFjdGl2ZUNhaXBOZXR3b3JrID0gQ2hhaW5Db250cm9sbGVyLmdldEFjdGl2ZUNhaXBOZXR3b3JrKCk7XG4gICAgICAgICAgICBuZXR3b3JrID0gYWN0aXZlQ2FpcE5ldHdvcms/LmNhaXBOZXR3b3JrSWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCEoc2l3eCAmJiBhZGRyZXNzICYmIG5ldHdvcmspKSB7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNpd3guZ2V0U2Vzc2lvbnMobmV0d29yaywgYWRkcmVzcyk7XG4gICAgfSxcbiAgICBhc3luYyBpc1NJV1hDbG9zZURpc2FibGVkKCkge1xuICAgICAgICBjb25zdCBzaXd4ID0gdGhpcy5nZXRTSVdYKCk7XG4gICAgICAgIGlmIChzaXd4KSB7XG4gICAgICAgICAgICBjb25zdCBpc0FwcHJvdmVTaWduU2NyZWVuID0gUm91dGVyQ29udHJvbGxlci5zdGF0ZS52aWV3ID09PSAnQXBwcm92ZVRyYW5zYWN0aW9uJztcbiAgICAgICAgICAgIGNvbnN0IGlzU2l3eFNpZ25NZXNzYWdlID0gUm91dGVyQ29udHJvbGxlci5zdGF0ZS52aWV3ID09PSAnU0lXWFNpZ25NZXNzYWdlJztcbiAgICAgICAgICAgIGlmIChpc0FwcHJvdmVTaWduU2NyZWVuIHx8IGlzU2l3eFNpZ25NZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNpd3guZ2V0UmVxdWlyZWQ/LigpICYmIChhd2FpdCB0aGlzLmdldFNlc3Npb25zKCkpLmxlbmd0aCA9PT0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSxcbiAgICBhc3luYyBhdXRoQ29ubmVjdG9yQXV0aGVudGljYXRlKHsgYXV0aENvbm5lY3RvciwgY2hhaW5JZCwgc29jaWFsVXJpLCBwcmVmZXJyZWRBY2NvdW50VHlwZSwgY2hhaW5OYW1lc3BhY2UgfSkge1xuICAgICAgICBjb25zdCBzaXd4ID0gU0lXWFV0aWwuZ2V0U0lXWCgpO1xuICAgICAgICBjb25zdCBuZXR3b3JrID0gZ2V0QWN0aXZlQ2FpcE5ldHdvcmsoKTtcbiAgICAgICAgaWYgKCFzaXd4IHx8XG4gICAgICAgICAgICAhY2hhaW5OYW1lc3BhY2UuaW5jbHVkZXMoQ29tbW9uQ29uc3RhbnRzVXRpbC5DSEFJTi5FVk0pIHx8XG4gICAgICAgICAgICAvLyBSZXF1ZXN0IHRvIGlucHV0IGVtYWlsIGFuZCBzaWduIG1lc3NhZ2Ugd2hlbiBlbWFpbCBjYXB0dXJlIGlzIGVuYWJsZWRcbiAgICAgICAgICAgIE9wdGlvbnNDb250cm9sbGVyLnN0YXRlLnJlbW90ZUZlYXR1cmVzPy5lbWFpbENhcHR1cmUpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGF1dGhDb25uZWN0b3IuY29ubmVjdCh7XG4gICAgICAgICAgICAgICAgY2hhaW5JZCxcbiAgICAgICAgICAgICAgICBzb2NpYWxVcmksXG4gICAgICAgICAgICAgICAgcHJlZmVycmVkQWNjb3VudFR5cGVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBhZGRyZXNzOiByZXN1bHQuYWRkcmVzcyxcbiAgICAgICAgICAgICAgICBjaGFpbklkOiByZXN1bHQuY2hhaW5JZCxcbiAgICAgICAgICAgICAgICBhY2NvdW50czogcmVzdWx0LmFjY291bnRzXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNhaXBOZXR3b3JrID0gYCR7Y2hhaW5OYW1lc3BhY2V9OiR7Y2hhaW5JZH1gO1xuICAgICAgICBjb25zdCBzaXd4TWVzc2FnZSA9IGF3YWl0IHNpd3guY3JlYXRlTWVzc2FnZSh7XG4gICAgICAgICAgICBjaGFpbklkOiBjYWlwTmV0d29yayxcbiAgICAgICAgICAgIGFjY291bnRBZGRyZXNzOiAnPDxBY2NvdW50QWRkcmVzcz4+J1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gRXh0cmFjdCBvbmx5IHRoZSBzZXJpYWxpemFibGUgZGF0YSBwcm9wZXJ0aWVzIGZvciBwb3N0TWVzc2FnZSwgdG9TdHJpbmcoKSBpcyBub3QgcG9zc2libGUgdG8gaW5jbHVkZSBpbiB0aGUgcG9zdE1lc3NhZ2VcbiAgICAgICAgY29uc3Qgc2l3eE1lc3NhZ2VEYXRhID0ge1xuICAgICAgICAgICAgYWNjb3VudEFkZHJlc3M6IHNpd3hNZXNzYWdlLmFjY291bnRBZGRyZXNzLFxuICAgICAgICAgICAgY2hhaW5JZDogc2l3eE1lc3NhZ2UuY2hhaW5JZCxcbiAgICAgICAgICAgIGRvbWFpbjogc2l3eE1lc3NhZ2UuZG9tYWluLFxuICAgICAgICAgICAgdXJpOiBzaXd4TWVzc2FnZS51cmksXG4gICAgICAgICAgICB2ZXJzaW9uOiBzaXd4TWVzc2FnZS52ZXJzaW9uLFxuICAgICAgICAgICAgbm9uY2U6IHNpd3hNZXNzYWdlLm5vbmNlLFxuICAgICAgICAgICAgbm90QmVmb3JlOiBzaXd4TWVzc2FnZS5ub3RCZWZvcmUsXG4gICAgICAgICAgICBzdGF0ZW1lbnQ6IHNpd3hNZXNzYWdlLnN0YXRlbWVudCxcbiAgICAgICAgICAgIHJlc291cmNlczogc2l3eE1lc3NhZ2UucmVzb3VyY2VzLFxuICAgICAgICAgICAgcmVxdWVzdElkOiBzaXd4TWVzc2FnZS5yZXF1ZXN0SWQsXG4gICAgICAgICAgICBpc3N1ZWRBdDogc2l3eE1lc3NhZ2UuaXNzdWVkQXQsXG4gICAgICAgICAgICBleHBpcmF0aW9uVGltZTogc2l3eE1lc3NhZ2UuZXhwaXJhdGlvblRpbWUsXG4gICAgICAgICAgICBzZXJpYWxpemVkTWVzc2FnZTogc2l3eE1lc3NhZ2UudG9TdHJpbmcoKVxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBhdXRoQ29ubmVjdG9yLmNvbm5lY3Qoe1xuICAgICAgICAgICAgY2hhaW5JZCxcbiAgICAgICAgICAgIHNvY2lhbFVyaSxcbiAgICAgICAgICAgIHNpd3hNZXNzYWdlOiBzaXd4TWVzc2FnZURhdGEsXG4gICAgICAgICAgICBwcmVmZXJyZWRBY2NvdW50VHlwZVxuICAgICAgICB9KTtcbiAgICAgICAgc2l3eE1lc3NhZ2VEYXRhLmFjY291bnRBZGRyZXNzID0gcmVzdWx0LmFkZHJlc3M7XG4gICAgICAgIHNpd3hNZXNzYWdlRGF0YS5zZXJpYWxpemVkTWVzc2FnZSA9IHJlc3VsdC5tZXNzYWdlIHx8ICcnO1xuICAgICAgICBpZiAocmVzdWx0LnNpZ25hdHVyZSAmJiByZXN1bHQubWVzc2FnZSkge1xuICAgICAgICAgICAgY29uc3QgcHJvbWlzZSA9IFNJV1hVdGlsLmFkZEVtYmVkZGVkV2FsbGV0U2Vzc2lvbihzaXd4TWVzc2FnZURhdGEsIHJlc3VsdC5tZXNzYWdlLCByZXN1bHQuc2lnbmF0dXJlKTtcbiAgICAgICAgICAgIGF3YWl0IHByb21pc2U7XG4gICAgICAgIH1cbiAgICAgICAgQ2hhaW5Db250cm9sbGVyLnNldExhc3RDb25uZWN0ZWRTSVdFQ2FpcE5ldHdvcmsobmV0d29yayk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBhZGRyZXNzOiByZXN1bHQuYWRkcmVzcyxcbiAgICAgICAgICAgIGNoYWluSWQ6IHJlc3VsdC5jaGFpbklkLFxuICAgICAgICAgICAgYWNjb3VudHM6IHJlc3VsdC5hY2NvdW50c1xuICAgICAgICB9O1xuICAgIH0sXG4gICAgYXN5bmMgYWRkRW1iZWRkZWRXYWxsZXRTZXNzaW9uKHNpd3hNZXNzYWdlRGF0YSwgbWVzc2FnZSwgc2lnbmF0dXJlKSB7XG4gICAgICAgIGlmIChhZGRFbWJlZGRlZFdhbGxldFNlc3Npb25Qcm9taXNlKSB7XG4gICAgICAgICAgICByZXR1cm4gYWRkRW1iZWRkZWRXYWxsZXRTZXNzaW9uUHJvbWlzZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzaXd4ID0gU0lXWFV0aWwuZ2V0U0lXWCgpO1xuICAgICAgICBpZiAoIXNpd3gpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgfVxuICAgICAgICBhZGRFbWJlZGRlZFdhbGxldFNlc3Npb25Qcm9taXNlID0gc2l3eFxuICAgICAgICAgICAgLmFkZFNlc3Npb24oe1xuICAgICAgICAgICAgZGF0YTogc2l3eE1lc3NhZ2VEYXRhLFxuICAgICAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgICAgIHNpZ25hdHVyZVxuICAgICAgICB9KVxuICAgICAgICAgICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICAgICAgYWRkRW1iZWRkZWRXYWxsZXRTZXNzaW9uUHJvbWlzZSA9IG51bGw7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gYWRkRW1iZWRkZWRXYWxsZXRTZXNzaW9uUHJvbWlzZTtcbiAgICB9LFxuICAgIGFzeW5jIHVuaXZlcnNhbFByb3ZpZGVyQXV0aGVudGljYXRlKHsgdW5pdmVyc2FsUHJvdmlkZXIsIGNoYWlucywgbWV0aG9kcyB9KSB7XG4gICAgICAgIGNvbnN0IHNpd3ggPSBTSVdYVXRpbC5nZXRTSVdYKCk7XG4gICAgICAgIGNvbnN0IG5ldHdvcmsgPSBnZXRBY3RpdmVDYWlwTmV0d29yaygpO1xuICAgICAgICBjb25zdCBuYW1lc3BhY2VzID0gbmV3IFNldChjaGFpbnMubWFwKGNoYWluID0+IGNoYWluLnNwbGl0KCc6JylbMF0pKTtcbiAgICAgICAgaWYgKCFzaXd4IHx8IG5hbWVzcGFjZXMuc2l6ZSAhPT0gMSB8fCAhbmFtZXNwYWNlcy5oYXMoJ2VpcDE1NScpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWdub3JlcyBjaGFpbklkIGFuZCBhY2NvdW50IGFkZHJlc3MgdG8gZ2V0IG90aGVyIG1lc3NhZ2UgZGF0YVxuICAgICAgICBjb25zdCBzaXd4TWVzc2FnZSA9IGF3YWl0IHNpd3guY3JlYXRlTWVzc2FnZSh7XG4gICAgICAgICAgICBjaGFpbklkOiBnZXRBY3RpdmVDYWlwTmV0d29yaygpPy5jYWlwTmV0d29ya0lkIHx8ICcnLFxuICAgICAgICAgICAgYWNjb3VudEFkZHJlc3M6ICcnXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB1bml2ZXJzYWxQcm92aWRlci5hdXRoZW50aWNhdGUoe1xuICAgICAgICAgICAgbm9uY2U6IHNpd3hNZXNzYWdlLm5vbmNlLFxuICAgICAgICAgICAgZG9tYWluOiBzaXd4TWVzc2FnZS5kb21haW4sXG4gICAgICAgICAgICB1cmk6IHNpd3hNZXNzYWdlLnVyaSxcbiAgICAgICAgICAgIGV4cDogc2l3eE1lc3NhZ2UuZXhwaXJhdGlvblRpbWUsXG4gICAgICAgICAgICBpYXQ6IHNpd3hNZXNzYWdlLmlzc3VlZEF0LFxuICAgICAgICAgICAgbmJmOiBzaXd4TWVzc2FnZS5ub3RCZWZvcmUsXG4gICAgICAgICAgICByZXF1ZXN0SWQ6IHNpd3hNZXNzYWdlLnJlcXVlc3RJZCxcbiAgICAgICAgICAgIHZlcnNpb246IHNpd3hNZXNzYWdlLnZlcnNpb24sXG4gICAgICAgICAgICByZXNvdXJjZXM6IHNpd3hNZXNzYWdlLnJlc291cmNlcyxcbiAgICAgICAgICAgIHN0YXRlbWVudDogc2l3eE1lc3NhZ2Uuc3RhdGVtZW50LFxuICAgICAgICAgICAgY2hhaW5JZDogc2l3eE1lc3NhZ2UuY2hhaW5JZCxcbiAgICAgICAgICAgIG1ldGhvZHMsXG4gICAgICAgICAgICAvLyBUaGUgZmlyc3QgY2hhaW5JZCBpcyB3aGF0IGlzIHVzZWQgZm9yIHVuaXZlcnNhbCBwcm92aWRlciB0byBidWlsZCB0aGUgbWVzc2FnZVxuICAgICAgICAgICAgY2hhaW5zOiBbc2l3eE1lc3NhZ2UuY2hhaW5JZCwgLi4uY2hhaW5zLmZpbHRlcihjaGFpbiA9PiBjaGFpbiAhPT0gc2l3eE1lc3NhZ2UuY2hhaW5JZCldXG4gICAgICAgIH0pO1xuICAgICAgICBTbmFja0NvbnRyb2xsZXIuc2hvd0xvYWRpbmcoJ0F1dGhlbnRpY2F0aW5nLi4uJywgeyBhdXRvQ2xvc2U6IGZhbHNlIH0pO1xuICAgICAgICBjb25zdCB3YWxsZXRJbmZvID0ge1xuICAgICAgICAgICAgLi4ucmVzdWx0LnNlc3Npb24ucGVlci5tZXRhZGF0YSxcbiAgICAgICAgICAgIG5hbWU6IHJlc3VsdC5zZXNzaW9uLnBlZXIubWV0YWRhdGEubmFtZSxcbiAgICAgICAgICAgIGljb246IHJlc3VsdC5zZXNzaW9uLnBlZXIubWV0YWRhdGEuaWNvbnM/LlswXSxcbiAgICAgICAgICAgIHR5cGU6ICdXQUxMRVRfQ09OTkVDVCdcbiAgICAgICAgfTtcbiAgICAgICAgQ2hhaW5Db250cm9sbGVyLnNldEFjY291bnRQcm9wKCdjb25uZWN0ZWRXYWxsZXRJbmZvJywgd2FsbGV0SW5mbywgQXJyYXkuZnJvbShuYW1lc3BhY2VzKVswXSk7XG4gICAgICAgIGlmIChyZXN1bHQ/LmF1dGhzPy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnN0IHNlc3Npb25zID0gcmVzdWx0LmF1dGhzLm1hcChjYWNhbyA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IHVuaXZlcnNhbFByb3ZpZGVyLmNsaWVudC5mb3JtYXRBdXRoTWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgICAgIHJlcXVlc3Q6IGNhY2FvLnAsXG4gICAgICAgICAgICAgICAgICAgIGlzczogY2FjYW8ucC5pc3NcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5jYWNhby5wLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWNjb3VudEFkZHJlc3M6IGNhY2FvLnAuaXNzLnNwbGl0KCc6Jykuc2xpY2UoLTEpLmpvaW4oJycpLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2hhaW5JZDogY2FjYW8ucC5pc3Muc3BsaXQoJzonKS5zbGljZSgyLCA0KS5qb2luKCc6JyksXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmk6IGNhY2FvLnAuYXVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmVyc2lvbjogY2FjYW8ucC52ZXJzaW9uIHx8IHNpd3hNZXNzYWdlLnZlcnNpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBleHBpcmF0aW9uVGltZTogY2FjYW8ucC5leHAsXG4gICAgICAgICAgICAgICAgICAgICAgICBpc3N1ZWRBdDogY2FjYW8ucC5pYXQsXG4gICAgICAgICAgICAgICAgICAgICAgICBub3RCZWZvcmU6IGNhY2FvLnAubmJmXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIHNpZ25hdHVyZTogY2FjYW8ucy5zLFxuICAgICAgICAgICAgICAgICAgICBjYWNhb1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgc2l3eC5zZXRTZXNzaW9ucyhzZXNzaW9ucyk7XG4gICAgICAgICAgICAgICAgaWYgKG5ldHdvcmspIHtcbiAgICAgICAgICAgICAgICAgICAgQ2hhaW5Db250cm9sbGVyLnNldExhc3RDb25uZWN0ZWRTSVdFQ2FpcE5ldHdvcmsobmV0d29yayk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIEV2ZW50c0NvbnRyb2xsZXIuc2VuZEV2ZW50KHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3RyYWNrJyxcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQ6ICdTSVdYX0FVVEhfU1VDQ0VTUycsXG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IFNJV1hVdGlsLmdldFNJV1hFdmVudFByb3BlcnRpZXMoKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdTSVdYOnVuaXZlcnNhbFByb3ZpZGVyQXV0aCAtIGZhaWxlZCB0byBzZXQgc2Vzc2lvbnMnLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgRXZlbnRzQ29udHJvbGxlci5zZW5kRXZlbnQoe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAndHJhY2snLFxuICAgICAgICAgICAgICAgICAgICBldmVudDogJ1NJV1hfQVVUSF9FUlJPUicsXG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IFNJV1hVdGlsLmdldFNJV1hFdmVudFByb3BlcnRpZXMoZXJyb3IpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgICAgICAgICBhd2FpdCB1bml2ZXJzYWxQcm92aWRlci5kaXNjb25uZWN0KCkuY2F0Y2goY29uc29sZS5lcnJvcik7XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICBTbmFja0NvbnRyb2xsZXIuaGlkZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG4gICAgZ2V0U0lXWEV2ZW50UHJvcGVydGllcyhlcnJvcikge1xuICAgICAgICBjb25zdCBuYW1lc3BhY2UgPSBDaGFpbkNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ2hhaW47XG4gICAgICAgIGlmICghbmFtZXNwYWNlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NJV1hVdGlsOmdldFNJV1hFdmVudFByb3BlcnRpZXMgLSBuYW1lc3BhY2UgaXMgcmVxdWlyZWQnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbmV0d29yazogQ2hhaW5Db250cm9sbGVyLnN0YXRlLmFjdGl2ZUNhaXBOZXR3b3JrPy5jYWlwTmV0d29ya0lkIHx8ICcnLFxuICAgICAgICAgICAgaXNTbWFydEFjY291bnQ6IGdldFByZWZlcnJlZEFjY291bnRUeXBlKG5hbWVzcGFjZSkgPT09IFczbUZyYW1lUnBjQ29uc3RhbnRzLkFDQ09VTlRfVFlQRVMuU01BUlRfQUNDT1VOVCxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yID8gQ29yZUhlbHBlclV0aWwucGFyc2VFcnJvcihlcnJvcikgOiB1bmRlZmluZWRcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIGFzeW5jIGNsZWFyU2Vzc2lvbnMoKSB7XG4gICAgICAgIGNvbnN0IHNpd3ggPSB0aGlzLmdldFNJV1goKTtcbiAgICAgICAgaWYgKHNpd3gpIHtcbiAgICAgICAgICAgIGF3YWl0IHNpd3guc2V0U2Vzc2lvbnMoW10pO1xuICAgICAgICB9XG4gICAgfVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVNJV1hVdGlsLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/SIWXUtil.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/StorageUtil.js":
/*!******************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/StorageUtil.js ***!
  \******************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   StorageUtil: () => (/* binding */ StorageUtil)\n/* harmony export */ });\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @reown/appkit-common */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-common@1.8.11_bufferutil@4.0.9_typescript@5.9.3_utf-8-validate@5.0.10_zod@4.1.12/node_modules/@reown/appkit-common/dist/esm/src/utils/SafeLocalStorage.js\");\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @reown/appkit-common */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-common@1.8.11_bufferutil@4.0.9_typescript@5.9.3_utf-8-validate@5.0.10_zod@4.1.12/node_modules/@reown/appkit-common/dist/esm/src/utils/ConstantsUtil.js\");\n/* eslint-disable no-console */\n\n// -- Utility -----------------------------------------------------------------\nconst StorageUtil = {\n    // Cache expiry in milliseconds\n    cacheExpiry: {\n        portfolio: 30000,\n        nativeBalance: 30000,\n        ens: 300000,\n        identity: 300000,\n        transactionsHistory: 15000,\n        tokenPrice: 15000,\n        // 7 Days\n        latestAppKitVersion: 604_800_000\n    },\n    isCacheExpired(timestamp, cacheExpiry) {\n        return Date.now() - timestamp > cacheExpiry;\n    },\n    getActiveNetworkProps() {\n        const namespace = StorageUtil.getActiveNamespace();\n        const caipNetworkId = StorageUtil.getActiveCaipNetworkId();\n        const stringChainId = caipNetworkId ? caipNetworkId.split(':')[1] : undefined;\n        // eslint-disable-next-line no-nested-ternary\n        const chainId = stringChainId\n            ? isNaN(Number(stringChainId))\n                ? stringChainId\n                : Number(stringChainId)\n            : undefined;\n        return {\n            namespace,\n            caipNetworkId,\n            chainId\n        };\n    },\n    setWalletConnectDeepLink({ name, href }) {\n        try {\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.DEEPLINK_CHOICE, JSON.stringify({ href, name }));\n        }\n        catch {\n            console.info('Unable to set WalletConnect deep link');\n        }\n    },\n    getWalletConnectDeepLink() {\n        try {\n            const deepLink = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.getItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.DEEPLINK_CHOICE);\n            if (deepLink) {\n                return JSON.parse(deepLink);\n            }\n        }\n        catch {\n            console.info('Unable to get WalletConnect deep link');\n        }\n        return undefined;\n    },\n    deleteWalletConnectDeepLink() {\n        try {\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.removeItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.DEEPLINK_CHOICE);\n        }\n        catch {\n            console.info('Unable to delete WalletConnect deep link');\n        }\n    },\n    setActiveNamespace(namespace) {\n        try {\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.ACTIVE_NAMESPACE, namespace);\n        }\n        catch {\n            console.info('Unable to set active namespace');\n        }\n    },\n    setActiveCaipNetworkId(caipNetworkId) {\n        try {\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.ACTIVE_CAIP_NETWORK_ID, caipNetworkId);\n            StorageUtil.setActiveNamespace(caipNetworkId.split(':')[0]);\n        }\n        catch {\n            console.info('Unable to set active caip network id');\n        }\n    },\n    getActiveCaipNetworkId() {\n        try {\n            return _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.getItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.ACTIVE_CAIP_NETWORK_ID);\n        }\n        catch {\n            console.info('Unable to get active caip network id');\n            return undefined;\n        }\n    },\n    deleteActiveCaipNetworkId() {\n        try {\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.removeItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.ACTIVE_CAIP_NETWORK_ID);\n        }\n        catch {\n            console.info('Unable to delete active caip network id');\n        }\n    },\n    deleteConnectedConnectorId(namespace) {\n        try {\n            const key = (0,_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.getSafeConnectorIdKey)(namespace);\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.removeItem(key);\n        }\n        catch {\n            console.info('Unable to delete connected connector id');\n        }\n    },\n    setAppKitRecent(wallet) {\n        try {\n            const recentWallets = StorageUtil.getRecentWallets();\n            const exists = recentWallets.find(w => w.id === wallet.id);\n            if (!exists) {\n                recentWallets.unshift(wallet);\n                if (recentWallets.length > 2) {\n                    recentWallets.pop();\n                }\n                _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.RECENT_WALLETS, JSON.stringify(recentWallets));\n                _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.RECENT_WALLET, JSON.stringify(wallet));\n            }\n        }\n        catch {\n            console.info('Unable to set AppKit recent');\n        }\n    },\n    getRecentWallets() {\n        try {\n            const recent = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.getItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.RECENT_WALLETS);\n            return recent ? JSON.parse(recent) : [];\n        }\n        catch {\n            console.info('Unable to get AppKit recent');\n        }\n        return [];\n    },\n    getRecentWallet() {\n        try {\n            const recent = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.getItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.RECENT_WALLET);\n            return recent ? JSON.parse(recent) : null;\n        }\n        catch {\n            console.info('Unable to get AppKit recent');\n        }\n        return null;\n    },\n    deleteRecentWallet() {\n        try {\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.removeItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.RECENT_WALLET);\n        }\n        catch {\n            console.info('Unable to delete AppKit recent');\n        }\n    },\n    setConnectedConnectorId(namespace, connectorId) {\n        try {\n            const key = (0,_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.getSafeConnectorIdKey)(namespace);\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.setItem(key, connectorId);\n        }\n        catch {\n            console.info('Unable to set Connected Connector Id');\n        }\n    },\n    getActiveNamespace() {\n        try {\n            const activeNamespace = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.getItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.ACTIVE_NAMESPACE);\n            return activeNamespace;\n        }\n        catch {\n            console.info('Unable to get active namespace');\n        }\n        return undefined;\n    },\n    getConnectedConnectorId(namespace) {\n        if (!namespace) {\n            return undefined;\n        }\n        try {\n            const key = (0,_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.getSafeConnectorIdKey)(namespace);\n            return _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.getItem(key);\n        }\n        catch (e) {\n            console.info('Unable to get connected connector id in namespace', namespace);\n        }\n        return undefined;\n    },\n    setConnectedSocialProvider(socialProvider) {\n        try {\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.CONNECTED_SOCIAL, socialProvider);\n        }\n        catch {\n            console.info('Unable to set connected social provider');\n        }\n    },\n    getConnectedSocialProvider() {\n        try {\n            return _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.getItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.CONNECTED_SOCIAL);\n        }\n        catch {\n            console.info('Unable to get connected social provider');\n        }\n        return undefined;\n    },\n    deleteConnectedSocialProvider() {\n        try {\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.removeItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.CONNECTED_SOCIAL);\n        }\n        catch {\n            console.info('Unable to delete connected social provider');\n        }\n    },\n    getConnectedSocialUsername() {\n        try {\n            return _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.getItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.CONNECTED_SOCIAL_USERNAME);\n        }\n        catch {\n            console.info('Unable to get connected social username');\n        }\n        return undefined;\n    },\n    getStoredActiveCaipNetworkId() {\n        const storedCaipNetworkId = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.getItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.ACTIVE_CAIP_NETWORK_ID);\n        const networkId = storedCaipNetworkId?.split(':')?.[1];\n        return networkId;\n    },\n    setConnectionStatus(status) {\n        try {\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.CONNECTION_STATUS, status);\n        }\n        catch {\n            console.info('Unable to set connection status');\n        }\n    },\n    getConnectionStatus() {\n        try {\n            return _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.getItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.CONNECTION_STATUS);\n        }\n        catch {\n            return undefined;\n        }\n    },\n    getConnectedNamespaces() {\n        try {\n            const namespaces = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.getItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.CONNECTED_NAMESPACES);\n            if (!namespaces?.length) {\n                return [];\n            }\n            return namespaces.split(',');\n        }\n        catch {\n            return [];\n        }\n    },\n    setConnectedNamespaces(namespaces) {\n        try {\n            const uniqueNamespaces = Array.from(new Set(namespaces));\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.CONNECTED_NAMESPACES, uniqueNamespaces.join(','));\n        }\n        catch {\n            console.info('Unable to set namespaces in storage');\n        }\n    },\n    addConnectedNamespace(namespace) {\n        try {\n            const namespaces = StorageUtil.getConnectedNamespaces();\n            if (!namespaces.includes(namespace)) {\n                namespaces.push(namespace);\n                StorageUtil.setConnectedNamespaces(namespaces);\n            }\n        }\n        catch {\n            console.info('Unable to add connected namespace');\n        }\n    },\n    removeConnectedNamespace(namespace) {\n        try {\n            const namespaces = StorageUtil.getConnectedNamespaces();\n            const index = namespaces.indexOf(namespace);\n            if (index > -1) {\n                namespaces.splice(index, 1);\n                StorageUtil.setConnectedNamespaces(namespaces);\n            }\n        }\n        catch {\n            console.info('Unable to remove connected namespace');\n        }\n    },\n    getTelegramSocialProvider() {\n        try {\n            return _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.getItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.TELEGRAM_SOCIAL_PROVIDER);\n        }\n        catch {\n            console.info('Unable to get telegram social provider');\n            return null;\n        }\n    },\n    setTelegramSocialProvider(socialProvider) {\n        try {\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.TELEGRAM_SOCIAL_PROVIDER, socialProvider);\n        }\n        catch {\n            console.info('Unable to set telegram social provider');\n        }\n    },\n    removeTelegramSocialProvider() {\n        try {\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.removeItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.TELEGRAM_SOCIAL_PROVIDER);\n        }\n        catch {\n            console.info('Unable to remove telegram social provider');\n        }\n    },\n    getBalanceCache() {\n        let cache = {};\n        try {\n            const result = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.getItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.PORTFOLIO_CACHE);\n            cache = result ? JSON.parse(result) : {};\n        }\n        catch {\n            console.info('Unable to get balance cache');\n        }\n        return cache;\n    },\n    removeAddressFromBalanceCache(caipAddress) {\n        try {\n            const cache = StorageUtil.getBalanceCache();\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.PORTFOLIO_CACHE, JSON.stringify({ ...cache, [caipAddress]: undefined }));\n        }\n        catch {\n            console.info('Unable to remove address from balance cache', caipAddress);\n        }\n    },\n    getBalanceCacheForCaipAddress(caipAddress) {\n        try {\n            const cache = StorageUtil.getBalanceCache();\n            const balanceCache = cache[caipAddress];\n            // We want to discard cache if it's older than the cache expiry\n            if (balanceCache &&\n                !this.isCacheExpired(balanceCache.timestamp, this.cacheExpiry.portfolio)) {\n                return balanceCache.balance;\n            }\n            StorageUtil.removeAddressFromBalanceCache(caipAddress);\n        }\n        catch {\n            console.info('Unable to get balance cache for address', caipAddress);\n        }\n        return undefined;\n    },\n    updateBalanceCache(params) {\n        try {\n            const cache = StorageUtil.getBalanceCache();\n            cache[params.caipAddress] = params;\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.PORTFOLIO_CACHE, JSON.stringify(cache));\n        }\n        catch {\n            console.info('Unable to update balance cache', params);\n        }\n    },\n    getNativeBalanceCache() {\n        let cache = {};\n        try {\n            const result = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.getItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.NATIVE_BALANCE_CACHE);\n            cache = result ? JSON.parse(result) : {};\n        }\n        catch {\n            console.info('Unable to get balance cache');\n        }\n        return cache;\n    },\n    removeAddressFromNativeBalanceCache(caipAddress) {\n        try {\n            const cache = StorageUtil.getBalanceCache();\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.NATIVE_BALANCE_CACHE, JSON.stringify({ ...cache, [caipAddress]: undefined }));\n        }\n        catch {\n            console.info('Unable to remove address from balance cache', caipAddress);\n        }\n    },\n    getNativeBalanceCacheForCaipAddress(caipAddress) {\n        try {\n            const cache = StorageUtil.getNativeBalanceCache();\n            const nativeBalanceCache = cache[caipAddress];\n            // We want to discard cache if it's older than the cache expiry\n            if (nativeBalanceCache &&\n                !this.isCacheExpired(nativeBalanceCache.timestamp, this.cacheExpiry.nativeBalance)) {\n                return nativeBalanceCache;\n            }\n            console.info('Discarding cache for address', caipAddress);\n            StorageUtil.removeAddressFromBalanceCache(caipAddress);\n        }\n        catch {\n            console.info('Unable to get balance cache for address', caipAddress);\n        }\n        return undefined;\n    },\n    updateNativeBalanceCache(params) {\n        try {\n            const cache = StorageUtil.getNativeBalanceCache();\n            cache[params.caipAddress] = params;\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.NATIVE_BALANCE_CACHE, JSON.stringify(cache));\n        }\n        catch {\n            console.info('Unable to update balance cache', params);\n        }\n    },\n    getEnsCache() {\n        let cache = {};\n        try {\n            const result = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.getItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.ENS_CACHE);\n            cache = result ? JSON.parse(result) : {};\n        }\n        catch {\n            console.info('Unable to get ens name cache');\n        }\n        return cache;\n    },\n    getEnsFromCacheForAddress(address) {\n        try {\n            const cache = StorageUtil.getEnsCache();\n            const ensCache = cache[address];\n            // We want to discard cache if it's older than the cache expiry\n            if (ensCache && !this.isCacheExpired(ensCache.timestamp, this.cacheExpiry.ens)) {\n                return ensCache.ens;\n            }\n            StorageUtil.removeEnsFromCache(address);\n        }\n        catch {\n            console.info('Unable to get ens name from cache', address);\n        }\n        return undefined;\n    },\n    updateEnsCache(params) {\n        try {\n            const cache = StorageUtil.getEnsCache();\n            cache[params.address] = params;\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.ENS_CACHE, JSON.stringify(cache));\n        }\n        catch {\n            console.info('Unable to update ens name cache', params);\n        }\n    },\n    removeEnsFromCache(address) {\n        try {\n            const cache = StorageUtil.getEnsCache();\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.ENS_CACHE, JSON.stringify({ ...cache, [address]: undefined }));\n        }\n        catch {\n            console.info('Unable to remove ens name from cache', address);\n        }\n    },\n    getIdentityCache() {\n        let cache = {};\n        try {\n            const result = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.getItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.IDENTITY_CACHE);\n            cache = result ? JSON.parse(result) : {};\n        }\n        catch {\n            console.info('Unable to get identity cache');\n        }\n        return cache;\n    },\n    getIdentityFromCacheForAddress(address) {\n        try {\n            const cache = StorageUtil.getIdentityCache();\n            const identityCache = cache[address];\n            // We want to discard cache if it's older than the cache expiry\n            if (identityCache &&\n                !this.isCacheExpired(identityCache.timestamp, this.cacheExpiry.identity)) {\n                return identityCache.identity;\n            }\n            StorageUtil.removeIdentityFromCache(address);\n        }\n        catch {\n            console.info('Unable to get identity from cache', address);\n        }\n        return undefined;\n    },\n    updateIdentityCache(params) {\n        try {\n            const cache = StorageUtil.getIdentityCache();\n            cache[params.address] = {\n                identity: params.identity,\n                timestamp: params.timestamp\n            };\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.IDENTITY_CACHE, JSON.stringify(cache));\n        }\n        catch {\n            console.info('Unable to update identity cache', params);\n        }\n    },\n    removeIdentityFromCache(address) {\n        try {\n            const cache = StorageUtil.getIdentityCache();\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.IDENTITY_CACHE, JSON.stringify({ ...cache, [address]: undefined }));\n        }\n        catch {\n            console.info('Unable to remove identity from cache', address);\n        }\n    },\n    clearAddressCache() {\n        try {\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.removeItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.PORTFOLIO_CACHE);\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.removeItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.NATIVE_BALANCE_CACHE);\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.removeItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.ENS_CACHE);\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.removeItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.IDENTITY_CACHE);\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.removeItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.HISTORY_TRANSACTIONS_CACHE);\n        }\n        catch {\n            console.info('Unable to clear address cache');\n        }\n    },\n    setPreferredAccountTypes(accountTypes) {\n        try {\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.PREFERRED_ACCOUNT_TYPES, JSON.stringify(accountTypes));\n        }\n        catch {\n            console.info('Unable to set preferred account types', accountTypes);\n        }\n    },\n    getPreferredAccountTypes() {\n        try {\n            const result = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.getItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.PREFERRED_ACCOUNT_TYPES);\n            if (!result) {\n                return {};\n            }\n            return JSON.parse(result);\n        }\n        catch {\n            console.info('Unable to get preferred account types');\n        }\n        return {};\n    },\n    setConnections(connections, chainNamespace) {\n        try {\n            const existingConnections = StorageUtil.getConnections();\n            const existing = existingConnections[chainNamespace] ?? [];\n            const connectorConnectionMap = new Map();\n            for (const conn of existing) {\n                connectorConnectionMap.set(conn.connectorId, { ...conn });\n            }\n            for (const conn of connections) {\n                const existingConn = connectorConnectionMap.get(conn.connectorId);\n                const isAuth = conn.connectorId === _reown_appkit_common__WEBPACK_IMPORTED_MODULE_1__.ConstantsUtil.CONNECTOR_ID.AUTH;\n                if (existingConn && !isAuth) {\n                    const existingAddrs = new Set(existingConn.accounts.map(a => a.address.toLowerCase()));\n                    const newAccounts = conn.accounts.filter(a => !existingAddrs.has(a.address.toLowerCase()));\n                    existingConn.accounts.push(...newAccounts);\n                }\n                else {\n                    connectorConnectionMap.set(conn.connectorId, { ...conn });\n                }\n            }\n            const dedupedConnections = {\n                ...existingConnections,\n                [chainNamespace]: Array.from(connectorConnectionMap.values())\n            };\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.CONNECTIONS, JSON.stringify(dedupedConnections));\n        }\n        catch (error) {\n            console.error('Unable to sync connections to storage', error);\n        }\n    },\n    getConnections() {\n        try {\n            const connectionsStorage = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.getItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.CONNECTIONS);\n            if (!connectionsStorage) {\n                return {};\n            }\n            return JSON.parse(connectionsStorage);\n        }\n        catch (error) {\n            console.error('Unable to get connections from storage', error);\n            return {};\n        }\n    },\n    deleteAddressFromConnection({ connectorId, address, namespace }) {\n        try {\n            const connections = StorageUtil.getConnections();\n            const namespaceConnections = connections[namespace] ?? [];\n            const connectionMap = new Map(namespaceConnections.map(conn => [conn.connectorId, conn]));\n            const connector = connectionMap.get(connectorId);\n            if (connector) {\n                const updatedAccounts = connector.accounts.filter(acc => acc.address.toLowerCase() !== address.toLowerCase());\n                if (updatedAccounts.length === 0) {\n                    connectionMap.delete(connectorId);\n                }\n                else {\n                    connectionMap.set(connectorId, {\n                        ...connector,\n                        accounts: connector.accounts.filter(acc => acc.address.toLowerCase() !== address.toLowerCase())\n                    });\n                }\n            }\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.CONNECTIONS, JSON.stringify({\n                ...connections,\n                [namespace]: Array.from(connectionMap.values())\n            }));\n        }\n        catch {\n            console.error(`Unable to remove address \"${address}\" from connector \"${connectorId}\" in namespace \"${namespace}\"`);\n        }\n    },\n    getDisconnectedConnectorIds() {\n        try {\n            const result = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.getItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.DISCONNECTED_CONNECTOR_IDS);\n            if (!result) {\n                return {};\n            }\n            return JSON.parse(result);\n        }\n        catch {\n            console.info('Unable to get disconnected connector ids');\n        }\n        return {};\n    },\n    addDisconnectedConnectorId(connectorId, chainNamespace) {\n        try {\n            const currentDisconnectedConnectorIds = StorageUtil.getDisconnectedConnectorIds();\n            const disconnectedConnectorIdsByNamespace = currentDisconnectedConnectorIds[chainNamespace] ?? [];\n            disconnectedConnectorIdsByNamespace.push(connectorId);\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.DISCONNECTED_CONNECTOR_IDS, JSON.stringify({\n                ...currentDisconnectedConnectorIds,\n                [chainNamespace]: Array.from(new Set(disconnectedConnectorIdsByNamespace))\n            }));\n        }\n        catch {\n            console.error(`Unable to set disconnected connector id \"${connectorId}\" for namespace \"${chainNamespace}\"`);\n        }\n    },\n    removeDisconnectedConnectorId(connectorId, chainNamespace) {\n        try {\n            const currentDisconnectedConnectorIds = StorageUtil.getDisconnectedConnectorIds();\n            let disconnectedConnectorIdsByNamespace = currentDisconnectedConnectorIds[chainNamespace] ?? [];\n            disconnectedConnectorIdsByNamespace = disconnectedConnectorIdsByNamespace.filter(id => id.toLowerCase() !== connectorId.toLowerCase());\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.DISCONNECTED_CONNECTOR_IDS, JSON.stringify({\n                ...currentDisconnectedConnectorIds,\n                [chainNamespace]: Array.from(new Set(disconnectedConnectorIdsByNamespace))\n            }));\n        }\n        catch {\n            console.error(`Unable to remove disconnected connector id \"${connectorId}\" for namespace \"${chainNamespace}\"`);\n        }\n    },\n    isConnectorDisconnected(connectorId, chainNamespace) {\n        try {\n            const currentDisconnectedConnectorIds = StorageUtil.getDisconnectedConnectorIds();\n            const disconnectedConnectorIdsByNamespace = currentDisconnectedConnectorIds[chainNamespace] ?? [];\n            return disconnectedConnectorIdsByNamespace.some(id => id.toLowerCase() === connectorId.toLowerCase());\n        }\n        catch {\n            console.info(`Unable to get disconnected connector id \"${connectorId}\" for namespace \"${chainNamespace}\"`);\n        }\n        return false;\n    },\n    getTransactionsCache() {\n        try {\n            const result = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.getItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.HISTORY_TRANSACTIONS_CACHE);\n            return result ? JSON.parse(result) : {};\n        }\n        catch {\n            console.info('Unable to get transactions cache');\n        }\n        return {};\n    },\n    getTransactionsCacheForAddress({ address, chainId = '' }) {\n        try {\n            const cache = StorageUtil.getTransactionsCache();\n            const transactionsCache = cache[address]?.[chainId];\n            // We want to discard cache if it's older than the cache expiry\n            if (transactionsCache &&\n                !this.isCacheExpired(transactionsCache.timestamp, this.cacheExpiry.transactionsHistory)) {\n                return transactionsCache.transactions;\n            }\n            StorageUtil.removeTransactionsCache({ address, chainId });\n        }\n        catch {\n            console.info('Unable to get transactions cache');\n        }\n        return undefined;\n    },\n    updateTransactionsCache({ address, chainId = '', timestamp, transactions }) {\n        try {\n            const cache = StorageUtil.getTransactionsCache();\n            cache[address] = {\n                ...cache[address],\n                [chainId]: {\n                    timestamp,\n                    transactions\n                }\n            };\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.HISTORY_TRANSACTIONS_CACHE, JSON.stringify(cache));\n        }\n        catch {\n            console.info('Unable to update transactions cache', {\n                address,\n                chainId,\n                timestamp,\n                transactions\n            });\n        }\n    },\n    removeTransactionsCache({ address, chainId }) {\n        try {\n            const cache = StorageUtil.getTransactionsCache();\n            const addressCache = cache?.[address] || {};\n            // eslint-disable-next-line @typescript-eslint/no-unused-vars\n            const { [chainId]: _removed, ...updatedChainData } = addressCache;\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.HISTORY_TRANSACTIONS_CACHE, JSON.stringify({\n                ...cache,\n                [address]: updatedChainData\n            }));\n        }\n        catch {\n            console.info('Unable to remove transactions cache', { address, chainId });\n        }\n    },\n    getTokenPriceCache() {\n        try {\n            const result = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.getItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.TOKEN_PRICE_CACHE);\n            return result ? JSON.parse(result) : {};\n        }\n        catch {\n            console.info('Unable to get token price cache');\n        }\n        return {};\n    },\n    getTokenPriceCacheForAddresses(addresses) {\n        try {\n            const cache = StorageUtil.getTokenPriceCache();\n            const tokenPriceCache = cache[addresses.join(',')];\n            if (tokenPriceCache &&\n                !this.isCacheExpired(tokenPriceCache.timestamp, this.cacheExpiry.tokenPrice)) {\n                return tokenPriceCache.tokenPrice;\n            }\n            StorageUtil.removeTokenPriceCache(addresses);\n        }\n        catch {\n            console.info('Unable to get token price cache for addresses', addresses);\n        }\n        return undefined;\n    },\n    updateTokenPriceCache(params) {\n        try {\n            const cache = StorageUtil.getTokenPriceCache();\n            cache[params.addresses.join(',')] = {\n                timestamp: params.timestamp,\n                tokenPrice: params.tokenPrice\n            };\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.TOKEN_PRICE_CACHE, JSON.stringify(cache));\n        }\n        catch {\n            console.info('Unable to update token price cache', params);\n        }\n    },\n    removeTokenPriceCache(addresses) {\n        try {\n            const cache = StorageUtil.getTokenPriceCache();\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.TOKEN_PRICE_CACHE, JSON.stringify({ ...cache, [addresses.join(',')]: undefined }));\n        }\n        catch {\n            console.info('Unable to remove token price cache', addresses);\n        }\n    },\n    /* ----- AppKit Latest Version ------------------------- */\n    getLatestAppKitVersion() {\n        try {\n            const result = this.getLatestAppKitVersionCache();\n            const version = result?.version;\n            if (version && !this.isCacheExpired(result.timestamp, this.cacheExpiry.latestAppKitVersion)) {\n                return version;\n            }\n            return undefined;\n        }\n        catch {\n            console.info('Unable to get latest AppKit version');\n        }\n        return undefined;\n    },\n    getLatestAppKitVersionCache() {\n        try {\n            const result = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.getItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.LATEST_APPKIT_VERSION);\n            return result ? JSON.parse(result) : {};\n        }\n        catch {\n            console.info('Unable to get latest AppKit version cache');\n        }\n        return {};\n    },\n    updateLatestAppKitVersion(params) {\n        try {\n            const cache = StorageUtil.getLatestAppKitVersionCache();\n            cache.timestamp = params.timestamp;\n            cache.version = params.version;\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.LATEST_APPKIT_VERSION, JSON.stringify(cache));\n        }\n        catch {\n            console.info('Unable to update latest AppKit version on local storage', params);\n        }\n    }\n};\n//# sourceMappingURL=StorageUtil.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTFfQHJlYWN0LW5hdGl2ZS1hc3luYy1zdG9yYWdlK2FzeW5jLXN0b3JhZ2VAMi4yLjBfcmVhY3QtX2E4MDMyMTIzODk3ZTA3OTMxMzc0MjMyYzNjYzRlNTM1L25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy91dGlscy9TdG9yYWdlVXRpbC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUMySTtBQUMzSTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsK0JBQStCLFlBQVk7QUFDM0M7QUFDQSxZQUFZLGtFQUFnQixTQUFTLHNFQUFvQixtQ0FBbUMsWUFBWTtBQUN4RztBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsNkJBQTZCLGtFQUFnQixTQUFTLHNFQUFvQjtBQUMxRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZLGtFQUFnQixZQUFZLHNFQUFvQjtBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWSxrRUFBZ0IsU0FBUyxzRUFBb0I7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVksa0VBQWdCLFNBQVMsc0VBQW9CO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLG1CQUFtQixrRUFBZ0IsU0FBUyxzRUFBb0I7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWSxrRUFBZ0IsWUFBWSxzRUFBb0I7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLHdCQUF3QiwyRUFBcUI7QUFDN0MsWUFBWSxrRUFBZ0I7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGtFQUFnQixTQUFTLHNFQUFvQjtBQUM3RCxnQkFBZ0Isa0VBQWdCLFNBQVMsc0VBQW9CO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLDJCQUEyQixrRUFBZ0IsU0FBUyxzRUFBb0I7QUFDeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSwyQkFBMkIsa0VBQWdCLFNBQVMsc0VBQW9CO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWSxrRUFBZ0IsWUFBWSxzRUFBb0I7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLHdCQUF3QiwyRUFBcUI7QUFDN0MsWUFBWSxrRUFBZ0I7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLG9DQUFvQyxrRUFBZ0IsU0FBUyxzRUFBb0I7QUFDakY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsMkVBQXFCO0FBQzdDLG1CQUFtQixrRUFBZ0I7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWSxrRUFBZ0IsU0FBUyxzRUFBb0I7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLG1CQUFtQixrRUFBZ0IsU0FBUyxzRUFBb0I7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWSxrRUFBZ0IsWUFBWSxzRUFBb0I7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLG1CQUFtQixrRUFBZ0IsU0FBUyxzRUFBb0I7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLG9DQUFvQyxrRUFBZ0IsU0FBUyxzRUFBb0I7QUFDakY7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWSxrRUFBZ0IsU0FBUyxzRUFBb0I7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLG1CQUFtQixrRUFBZ0IsU0FBUyxzRUFBb0I7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLCtCQUErQixrRUFBZ0IsU0FBUyxzRUFBb0I7QUFDNUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxZQUFZLGtFQUFnQixTQUFTLHNFQUFvQjtBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsbUJBQW1CLGtFQUFnQixTQUFTLHNFQUFvQjtBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZLGtFQUFnQixTQUFTLHNFQUFvQjtBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWSxrRUFBZ0IsWUFBWSxzRUFBb0I7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLGtFQUFnQixTQUFTLHNFQUFvQjtBQUN4RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsWUFBWSxrRUFBZ0IsU0FBUyxzRUFBb0IsbUNBQW1DLG9DQUFvQztBQUNoSTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGtFQUFnQixTQUFTLHNFQUFvQjtBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsa0VBQWdCLFNBQVMsc0VBQW9CO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxZQUFZLGtFQUFnQixTQUFTLHNFQUFvQix3Q0FBd0Msb0NBQW9DO0FBQ3JJO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxrRUFBZ0IsU0FBUyxzRUFBb0I7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLGtFQUFnQixTQUFTLHNFQUFvQjtBQUN4RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksa0VBQWdCLFNBQVMsc0VBQW9CO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFlBQVksa0VBQWdCLFNBQVMsc0VBQW9CLDZCQUE2QixnQ0FBZ0M7QUFDdEg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLGtFQUFnQixTQUFTLHNFQUFvQjtBQUN4RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxrRUFBZ0IsU0FBUyxzRUFBb0I7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsWUFBWSxrRUFBZ0IsU0FBUyxzRUFBb0Isa0NBQWtDLGdDQUFnQztBQUMzSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWSxrRUFBZ0IsWUFBWSxzRUFBb0I7QUFDNUQsWUFBWSxrRUFBZ0IsWUFBWSxzRUFBb0I7QUFDNUQsWUFBWSxrRUFBZ0IsWUFBWSxzRUFBb0I7QUFDNUQsWUFBWSxrRUFBZ0IsWUFBWSxzRUFBb0I7QUFDNUQsWUFBWSxrRUFBZ0IsWUFBWSxzRUFBb0I7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVksa0VBQWdCLFNBQVMsc0VBQW9CO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSwyQkFBMkIsa0VBQWdCLFNBQVMsc0VBQW9CO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrREFBK0QsU0FBUztBQUN4RTtBQUNBO0FBQ0E7QUFDQSxvREFBb0QsK0RBQW1CO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1FQUFtRSxTQUFTO0FBQzVFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksa0VBQWdCLFNBQVMsc0VBQW9CO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSx1Q0FBdUMsa0VBQWdCLFNBQVMsc0VBQW9CO0FBQ3BGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxrQ0FBa0MsaUNBQWlDO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBLFlBQVksa0VBQWdCLFNBQVMsc0VBQW9CO0FBQ3pEO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLHVEQUF1RCxRQUFRLG9CQUFvQixZQUFZLGtCQUFrQixVQUFVO0FBQzNIO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSwyQkFBMkIsa0VBQWdCLFNBQVMsc0VBQW9CO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxrRUFBZ0IsU0FBUyxzRUFBb0I7QUFDekQ7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0Esc0VBQXNFLFlBQVksbUJBQW1CLGVBQWU7QUFDcEg7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksa0VBQWdCLFNBQVMsc0VBQW9CO0FBQ3pEO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLHlFQUF5RSxZQUFZLG1CQUFtQixlQUFlO0FBQ3ZIO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUVBQXFFLFlBQVksbUJBQW1CLGVBQWU7QUFDbkg7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsMkJBQTJCLGtFQUFnQixTQUFTLHNFQUFvQjtBQUN4RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wscUNBQXFDLHVCQUF1QjtBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0RBQWtELGtCQUFrQjtBQUNwRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLDhCQUE4QixnREFBZ0Q7QUFDOUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxrRUFBZ0IsU0FBUyxzRUFBb0I7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxLQUFLO0FBQ0wsOEJBQThCLGtCQUFrQjtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiwyQ0FBMkM7QUFDL0QsWUFBWSxrRUFBZ0IsU0FBUyxzRUFBb0I7QUFDekQ7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0Esa0VBQWtFLGtCQUFrQjtBQUNwRjtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsMkJBQTJCLGtFQUFnQixTQUFTLHNFQUFvQjtBQUN4RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksa0VBQWdCLFNBQVMsc0VBQW9CO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFlBQVksa0VBQWdCLFNBQVMsc0VBQW9CLHFDQUFxQyw0Q0FBNEM7QUFDMUk7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsMkJBQTJCLGtFQUFnQixTQUFTLHNFQUFvQjtBQUN4RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksa0VBQWdCLFNBQVMsc0VBQW9CO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm9nZ2xyLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0ByZW93bithcHBraXQtY29udHJvbGxlcnNAMS44LjExX0ByZWFjdC1uYXRpdmUtYXN5bmMtc3RvcmFnZSthc3luYy1zdG9yYWdlQDIuMi4wX3JlYWN0LV9hODAzMjEyMzg5N2UwNzkzMTM3NDIzMmMzY2M0ZTUzNS9ub2RlX21vZHVsZXMvQHJlb3duL2FwcGtpdC1jb250cm9sbGVycy9kaXN0L2VzbS9zcmMvdXRpbHMvU3RvcmFnZVV0aWwuanM/ZmU5YiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZGlzYWJsZSBuby1jb25zb2xlICovXG5pbXBvcnQgeyBDb25zdGFudHNVdGlsIGFzIENvbW1vbkNvbnN0YW50c1V0aWwsIFNhZmVMb2NhbFN0b3JhZ2UsIFNhZmVMb2NhbFN0b3JhZ2VLZXlzLCBnZXRTYWZlQ29ubmVjdG9ySWRLZXkgfSBmcm9tICdAcmVvd24vYXBwa2l0LWNvbW1vbic7XG4vLyAtLSBVdGlsaXR5IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5leHBvcnQgY29uc3QgU3RvcmFnZVV0aWwgPSB7XG4gICAgLy8gQ2FjaGUgZXhwaXJ5IGluIG1pbGxpc2Vjb25kc1xuICAgIGNhY2hlRXhwaXJ5OiB7XG4gICAgICAgIHBvcnRmb2xpbzogMzAwMDAsXG4gICAgICAgIG5hdGl2ZUJhbGFuY2U6IDMwMDAwLFxuICAgICAgICBlbnM6IDMwMDAwMCxcbiAgICAgICAgaWRlbnRpdHk6IDMwMDAwMCxcbiAgICAgICAgdHJhbnNhY3Rpb25zSGlzdG9yeTogMTUwMDAsXG4gICAgICAgIHRva2VuUHJpY2U6IDE1MDAwLFxuICAgICAgICAvLyA3IERheXNcbiAgICAgICAgbGF0ZXN0QXBwS2l0VmVyc2lvbjogNjA0XzgwMF8wMDBcbiAgICB9LFxuICAgIGlzQ2FjaGVFeHBpcmVkKHRpbWVzdGFtcCwgY2FjaGVFeHBpcnkpIHtcbiAgICAgICAgcmV0dXJuIERhdGUubm93KCkgLSB0aW1lc3RhbXAgPiBjYWNoZUV4cGlyeTtcbiAgICB9LFxuICAgIGdldEFjdGl2ZU5ldHdvcmtQcm9wcygpIHtcbiAgICAgICAgY29uc3QgbmFtZXNwYWNlID0gU3RvcmFnZVV0aWwuZ2V0QWN0aXZlTmFtZXNwYWNlKCk7XG4gICAgICAgIGNvbnN0IGNhaXBOZXR3b3JrSWQgPSBTdG9yYWdlVXRpbC5nZXRBY3RpdmVDYWlwTmV0d29ya0lkKCk7XG4gICAgICAgIGNvbnN0IHN0cmluZ0NoYWluSWQgPSBjYWlwTmV0d29ya0lkID8gY2FpcE5ldHdvcmtJZC5zcGxpdCgnOicpWzFdIDogdW5kZWZpbmVkO1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbmVzdGVkLXRlcm5hcnlcbiAgICAgICAgY29uc3QgY2hhaW5JZCA9IHN0cmluZ0NoYWluSWRcbiAgICAgICAgICAgID8gaXNOYU4oTnVtYmVyKHN0cmluZ0NoYWluSWQpKVxuICAgICAgICAgICAgICAgID8gc3RyaW5nQ2hhaW5JZFxuICAgICAgICAgICAgICAgIDogTnVtYmVyKHN0cmluZ0NoYWluSWQpXG4gICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICAgIGNhaXBOZXR3b3JrSWQsXG4gICAgICAgICAgICBjaGFpbklkXG4gICAgICAgIH07XG4gICAgfSxcbiAgICBzZXRXYWxsZXRDb25uZWN0RGVlcExpbmsoeyBuYW1lLCBocmVmIH0pIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIFNhZmVMb2NhbFN0b3JhZ2Uuc2V0SXRlbShTYWZlTG9jYWxTdG9yYWdlS2V5cy5ERUVQTElOS19DSE9JQ0UsIEpTT04uc3RyaW5naWZ5KHsgaHJlZiwgbmFtZSB9KSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgY29uc29sZS5pbmZvKCdVbmFibGUgdG8gc2V0IFdhbGxldENvbm5lY3QgZGVlcCBsaW5rJyk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGdldFdhbGxldENvbm5lY3REZWVwTGluaygpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGRlZXBMaW5rID0gU2FmZUxvY2FsU3RvcmFnZS5nZXRJdGVtKFNhZmVMb2NhbFN0b3JhZ2VLZXlzLkRFRVBMSU5LX0NIT0lDRSk7XG4gICAgICAgICAgICBpZiAoZGVlcExpbmspIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShkZWVwTGluayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgY29uc29sZS5pbmZvKCdVbmFibGUgdG8gZ2V0IFdhbGxldENvbm5lY3QgZGVlcCBsaW5rJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9LFxuICAgIGRlbGV0ZVdhbGxldENvbm5lY3REZWVwTGluaygpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIFNhZmVMb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShTYWZlTG9jYWxTdG9yYWdlS2V5cy5ERUVQTElOS19DSE9JQ0UpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnVW5hYmxlIHRvIGRlbGV0ZSBXYWxsZXRDb25uZWN0IGRlZXAgbGluaycpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBzZXRBY3RpdmVOYW1lc3BhY2UobmFtZXNwYWNlKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBTYWZlTG9jYWxTdG9yYWdlLnNldEl0ZW0oU2FmZUxvY2FsU3RvcmFnZUtleXMuQUNUSVZFX05BTUVTUEFDRSwgbmFtZXNwYWNlKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICBjb25zb2xlLmluZm8oJ1VuYWJsZSB0byBzZXQgYWN0aXZlIG5hbWVzcGFjZScpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBzZXRBY3RpdmVDYWlwTmV0d29ya0lkKGNhaXBOZXR3b3JrSWQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIFNhZmVMb2NhbFN0b3JhZ2Uuc2V0SXRlbShTYWZlTG9jYWxTdG9yYWdlS2V5cy5BQ1RJVkVfQ0FJUF9ORVRXT1JLX0lELCBjYWlwTmV0d29ya0lkKTtcbiAgICAgICAgICAgIFN0b3JhZ2VVdGlsLnNldEFjdGl2ZU5hbWVzcGFjZShjYWlwTmV0d29ya0lkLnNwbGl0KCc6JylbMF0pO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnVW5hYmxlIHRvIHNldCBhY3RpdmUgY2FpcCBuZXR3b3JrIGlkJyk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGdldEFjdGl2ZUNhaXBOZXR3b3JrSWQoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gU2FmZUxvY2FsU3RvcmFnZS5nZXRJdGVtKFNhZmVMb2NhbFN0b3JhZ2VLZXlzLkFDVElWRV9DQUlQX05FVFdPUktfSUQpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnVW5hYmxlIHRvIGdldCBhY3RpdmUgY2FpcCBuZXR3b3JrIGlkJyk7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBkZWxldGVBY3RpdmVDYWlwTmV0d29ya0lkKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgU2FmZUxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFNhZmVMb2NhbFN0b3JhZ2VLZXlzLkFDVElWRV9DQUlQX05FVFdPUktfSUQpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnVW5hYmxlIHRvIGRlbGV0ZSBhY3RpdmUgY2FpcCBuZXR3b3JrIGlkJyk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGRlbGV0ZUNvbm5lY3RlZENvbm5lY3RvcklkKG5hbWVzcGFjZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3Qga2V5ID0gZ2V0U2FmZUNvbm5lY3RvcklkS2V5KG5hbWVzcGFjZSk7XG4gICAgICAgICAgICBTYWZlTG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oa2V5KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICBjb25zb2xlLmluZm8oJ1VuYWJsZSB0byBkZWxldGUgY29ubmVjdGVkIGNvbm5lY3RvciBpZCcpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBzZXRBcHBLaXRSZWNlbnQod2FsbGV0KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZWNlbnRXYWxsZXRzID0gU3RvcmFnZVV0aWwuZ2V0UmVjZW50V2FsbGV0cygpO1xuICAgICAgICAgICAgY29uc3QgZXhpc3RzID0gcmVjZW50V2FsbGV0cy5maW5kKHcgPT4gdy5pZCA9PT0gd2FsbGV0LmlkKTtcbiAgICAgICAgICAgIGlmICghZXhpc3RzKSB7XG4gICAgICAgICAgICAgICAgcmVjZW50V2FsbGV0cy51bnNoaWZ0KHdhbGxldCk7XG4gICAgICAgICAgICAgICAgaWYgKHJlY2VudFdhbGxldHMubGVuZ3RoID4gMikge1xuICAgICAgICAgICAgICAgICAgICByZWNlbnRXYWxsZXRzLnBvcCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBTYWZlTG9jYWxTdG9yYWdlLnNldEl0ZW0oU2FmZUxvY2FsU3RvcmFnZUtleXMuUkVDRU5UX1dBTExFVFMsIEpTT04uc3RyaW5naWZ5KHJlY2VudFdhbGxldHMpKTtcbiAgICAgICAgICAgICAgICBTYWZlTG9jYWxTdG9yYWdlLnNldEl0ZW0oU2FmZUxvY2FsU3RvcmFnZUtleXMuUkVDRU5UX1dBTExFVCwgSlNPTi5zdHJpbmdpZnkod2FsbGV0KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgY29uc29sZS5pbmZvKCdVbmFibGUgdG8gc2V0IEFwcEtpdCByZWNlbnQnKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgZ2V0UmVjZW50V2FsbGV0cygpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlY2VudCA9IFNhZmVMb2NhbFN0b3JhZ2UuZ2V0SXRlbShTYWZlTG9jYWxTdG9yYWdlS2V5cy5SRUNFTlRfV0FMTEVUUyk7XG4gICAgICAgICAgICByZXR1cm4gcmVjZW50ID8gSlNPTi5wYXJzZShyZWNlbnQpIDogW107XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgY29uc29sZS5pbmZvKCdVbmFibGUgdG8gZ2V0IEFwcEtpdCByZWNlbnQnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW107XG4gICAgfSxcbiAgICBnZXRSZWNlbnRXYWxsZXQoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZWNlbnQgPSBTYWZlTG9jYWxTdG9yYWdlLmdldEl0ZW0oU2FmZUxvY2FsU3RvcmFnZUtleXMuUkVDRU5UX1dBTExFVCk7XG4gICAgICAgICAgICByZXR1cm4gcmVjZW50ID8gSlNPTi5wYXJzZShyZWNlbnQpIDogbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICBjb25zb2xlLmluZm8oJ1VuYWJsZSB0byBnZXQgQXBwS2l0IHJlY2VudCcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH0sXG4gICAgZGVsZXRlUmVjZW50V2FsbGV0KCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgU2FmZUxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFNhZmVMb2NhbFN0b3JhZ2VLZXlzLlJFQ0VOVF9XQUxMRVQpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnVW5hYmxlIHRvIGRlbGV0ZSBBcHBLaXQgcmVjZW50Jyk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHNldENvbm5lY3RlZENvbm5lY3RvcklkKG5hbWVzcGFjZSwgY29ubmVjdG9ySWQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IGdldFNhZmVDb25uZWN0b3JJZEtleShuYW1lc3BhY2UpO1xuICAgICAgICAgICAgU2FmZUxvY2FsU3RvcmFnZS5zZXRJdGVtKGtleSwgY29ubmVjdG9ySWQpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnVW5hYmxlIHRvIHNldCBDb25uZWN0ZWQgQ29ubmVjdG9yIElkJyk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGdldEFjdGl2ZU5hbWVzcGFjZSgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGFjdGl2ZU5hbWVzcGFjZSA9IFNhZmVMb2NhbFN0b3JhZ2UuZ2V0SXRlbShTYWZlTG9jYWxTdG9yYWdlS2V5cy5BQ1RJVkVfTkFNRVNQQUNFKTtcbiAgICAgICAgICAgIHJldHVybiBhY3RpdmVOYW1lc3BhY2U7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgY29uc29sZS5pbmZvKCdVbmFibGUgdG8gZ2V0IGFjdGl2ZSBuYW1lc3BhY2UnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH0sXG4gICAgZ2V0Q29ubmVjdGVkQ29ubmVjdG9ySWQobmFtZXNwYWNlKSB7XG4gICAgICAgIGlmICghbmFtZXNwYWNlKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBrZXkgPSBnZXRTYWZlQ29ubmVjdG9ySWRLZXkobmFtZXNwYWNlKTtcbiAgICAgICAgICAgIHJldHVybiBTYWZlTG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgY29uc29sZS5pbmZvKCdVbmFibGUgdG8gZ2V0IGNvbm5lY3RlZCBjb25uZWN0b3IgaWQgaW4gbmFtZXNwYWNlJywgbmFtZXNwYWNlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH0sXG4gICAgc2V0Q29ubmVjdGVkU29jaWFsUHJvdmlkZXIoc29jaWFsUHJvdmlkZXIpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIFNhZmVMb2NhbFN0b3JhZ2Uuc2V0SXRlbShTYWZlTG9jYWxTdG9yYWdlS2V5cy5DT05ORUNURURfU09DSUFMLCBzb2NpYWxQcm92aWRlcik7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgY29uc29sZS5pbmZvKCdVbmFibGUgdG8gc2V0IGNvbm5lY3RlZCBzb2NpYWwgcHJvdmlkZXInKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgZ2V0Q29ubmVjdGVkU29jaWFsUHJvdmlkZXIoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gU2FmZUxvY2FsU3RvcmFnZS5nZXRJdGVtKFNhZmVMb2NhbFN0b3JhZ2VLZXlzLkNPTk5FQ1RFRF9TT0NJQUwpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnVW5hYmxlIHRvIGdldCBjb25uZWN0ZWQgc29jaWFsIHByb3ZpZGVyJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9LFxuICAgIGRlbGV0ZUNvbm5lY3RlZFNvY2lhbFByb3ZpZGVyKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgU2FmZUxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFNhZmVMb2NhbFN0b3JhZ2VLZXlzLkNPTk5FQ1RFRF9TT0NJQUwpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnVW5hYmxlIHRvIGRlbGV0ZSBjb25uZWN0ZWQgc29jaWFsIHByb3ZpZGVyJyk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGdldENvbm5lY3RlZFNvY2lhbFVzZXJuYW1lKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIFNhZmVMb2NhbFN0b3JhZ2UuZ2V0SXRlbShTYWZlTG9jYWxTdG9yYWdlS2V5cy5DT05ORUNURURfU09DSUFMX1VTRVJOQU1FKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICBjb25zb2xlLmluZm8oJ1VuYWJsZSB0byBnZXQgY29ubmVjdGVkIHNvY2lhbCB1c2VybmFtZScpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfSxcbiAgICBnZXRTdG9yZWRBY3RpdmVDYWlwTmV0d29ya0lkKCkge1xuICAgICAgICBjb25zdCBzdG9yZWRDYWlwTmV0d29ya0lkID0gU2FmZUxvY2FsU3RvcmFnZS5nZXRJdGVtKFNhZmVMb2NhbFN0b3JhZ2VLZXlzLkFDVElWRV9DQUlQX05FVFdPUktfSUQpO1xuICAgICAgICBjb25zdCBuZXR3b3JrSWQgPSBzdG9yZWRDYWlwTmV0d29ya0lkPy5zcGxpdCgnOicpPy5bMV07XG4gICAgICAgIHJldHVybiBuZXR3b3JrSWQ7XG4gICAgfSxcbiAgICBzZXRDb25uZWN0aW9uU3RhdHVzKHN0YXR1cykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgU2FmZUxvY2FsU3RvcmFnZS5zZXRJdGVtKFNhZmVMb2NhbFN0b3JhZ2VLZXlzLkNPTk5FQ1RJT05fU1RBVFVTLCBzdGF0dXMpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnVW5hYmxlIHRvIHNldCBjb25uZWN0aW9uIHN0YXR1cycpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBnZXRDb25uZWN0aW9uU3RhdHVzKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIFNhZmVMb2NhbFN0b3JhZ2UuZ2V0SXRlbShTYWZlTG9jYWxTdG9yYWdlS2V5cy5DT05ORUNUSU9OX1NUQVRVUyk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgZ2V0Q29ubmVjdGVkTmFtZXNwYWNlcygpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IG5hbWVzcGFjZXMgPSBTYWZlTG9jYWxTdG9yYWdlLmdldEl0ZW0oU2FmZUxvY2FsU3RvcmFnZUtleXMuQ09OTkVDVEVEX05BTUVTUEFDRVMpO1xuICAgICAgICAgICAgaWYgKCFuYW1lc3BhY2VzPy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmFtZXNwYWNlcy5zcGxpdCgnLCcpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgc2V0Q29ubmVjdGVkTmFtZXNwYWNlcyhuYW1lc3BhY2VzKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCB1bmlxdWVOYW1lc3BhY2VzID0gQXJyYXkuZnJvbShuZXcgU2V0KG5hbWVzcGFjZXMpKTtcbiAgICAgICAgICAgIFNhZmVMb2NhbFN0b3JhZ2Uuc2V0SXRlbShTYWZlTG9jYWxTdG9yYWdlS2V5cy5DT05ORUNURURfTkFNRVNQQUNFUywgdW5pcXVlTmFtZXNwYWNlcy5qb2luKCcsJykpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnVW5hYmxlIHRvIHNldCBuYW1lc3BhY2VzIGluIHN0b3JhZ2UnKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgYWRkQ29ubmVjdGVkTmFtZXNwYWNlKG5hbWVzcGFjZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgbmFtZXNwYWNlcyA9IFN0b3JhZ2VVdGlsLmdldENvbm5lY3RlZE5hbWVzcGFjZXMoKTtcbiAgICAgICAgICAgIGlmICghbmFtZXNwYWNlcy5pbmNsdWRlcyhuYW1lc3BhY2UpKSB7XG4gICAgICAgICAgICAgICAgbmFtZXNwYWNlcy5wdXNoKG5hbWVzcGFjZSk7XG4gICAgICAgICAgICAgICAgU3RvcmFnZVV0aWwuc2V0Q29ubmVjdGVkTmFtZXNwYWNlcyhuYW1lc3BhY2VzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICBjb25zb2xlLmluZm8oJ1VuYWJsZSB0byBhZGQgY29ubmVjdGVkIG5hbWVzcGFjZScpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICByZW1vdmVDb25uZWN0ZWROYW1lc3BhY2UobmFtZXNwYWNlKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBuYW1lc3BhY2VzID0gU3RvcmFnZVV0aWwuZ2V0Q29ubmVjdGVkTmFtZXNwYWNlcygpO1xuICAgICAgICAgICAgY29uc3QgaW5kZXggPSBuYW1lc3BhY2VzLmluZGV4T2YobmFtZXNwYWNlKTtcbiAgICAgICAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgICAgICAgICAgbmFtZXNwYWNlcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgIFN0b3JhZ2VVdGlsLnNldENvbm5lY3RlZE5hbWVzcGFjZXMobmFtZXNwYWNlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgY29uc29sZS5pbmZvKCdVbmFibGUgdG8gcmVtb3ZlIGNvbm5lY3RlZCBuYW1lc3BhY2UnKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgZ2V0VGVsZWdyYW1Tb2NpYWxQcm92aWRlcigpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiBTYWZlTG9jYWxTdG9yYWdlLmdldEl0ZW0oU2FmZUxvY2FsU3RvcmFnZUtleXMuVEVMRUdSQU1fU09DSUFMX1BST1ZJREVSKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICBjb25zb2xlLmluZm8oJ1VuYWJsZSB0byBnZXQgdGVsZWdyYW0gc29jaWFsIHByb3ZpZGVyJyk7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgc2V0VGVsZWdyYW1Tb2NpYWxQcm92aWRlcihzb2NpYWxQcm92aWRlcikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgU2FmZUxvY2FsU3RvcmFnZS5zZXRJdGVtKFNhZmVMb2NhbFN0b3JhZ2VLZXlzLlRFTEVHUkFNX1NPQ0lBTF9QUk9WSURFUiwgc29jaWFsUHJvdmlkZXIpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnVW5hYmxlIHRvIHNldCB0ZWxlZ3JhbSBzb2NpYWwgcHJvdmlkZXInKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgcmVtb3ZlVGVsZWdyYW1Tb2NpYWxQcm92aWRlcigpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIFNhZmVMb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShTYWZlTG9jYWxTdG9yYWdlS2V5cy5URUxFR1JBTV9TT0NJQUxfUFJPVklERVIpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnVW5hYmxlIHRvIHJlbW92ZSB0ZWxlZ3JhbSBzb2NpYWwgcHJvdmlkZXInKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgZ2V0QmFsYW5jZUNhY2hlKCkge1xuICAgICAgICBsZXQgY2FjaGUgPSB7fTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IFNhZmVMb2NhbFN0b3JhZ2UuZ2V0SXRlbShTYWZlTG9jYWxTdG9yYWdlS2V5cy5QT1JURk9MSU9fQ0FDSEUpO1xuICAgICAgICAgICAgY2FjaGUgPSByZXN1bHQgPyBKU09OLnBhcnNlKHJlc3VsdCkgOiB7fTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICBjb25zb2xlLmluZm8oJ1VuYWJsZSB0byBnZXQgYmFsYW5jZSBjYWNoZScpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjYWNoZTtcbiAgICB9LFxuICAgIHJlbW92ZUFkZHJlc3NGcm9tQmFsYW5jZUNhY2hlKGNhaXBBZGRyZXNzKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBjYWNoZSA9IFN0b3JhZ2VVdGlsLmdldEJhbGFuY2VDYWNoZSgpO1xuICAgICAgICAgICAgU2FmZUxvY2FsU3RvcmFnZS5zZXRJdGVtKFNhZmVMb2NhbFN0b3JhZ2VLZXlzLlBPUlRGT0xJT19DQUNIRSwgSlNPTi5zdHJpbmdpZnkoeyAuLi5jYWNoZSwgW2NhaXBBZGRyZXNzXTogdW5kZWZpbmVkIH0pKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICBjb25zb2xlLmluZm8oJ1VuYWJsZSB0byByZW1vdmUgYWRkcmVzcyBmcm9tIGJhbGFuY2UgY2FjaGUnLCBjYWlwQWRkcmVzcyk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGdldEJhbGFuY2VDYWNoZUZvckNhaXBBZGRyZXNzKGNhaXBBZGRyZXNzKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBjYWNoZSA9IFN0b3JhZ2VVdGlsLmdldEJhbGFuY2VDYWNoZSgpO1xuICAgICAgICAgICAgY29uc3QgYmFsYW5jZUNhY2hlID0gY2FjaGVbY2FpcEFkZHJlc3NdO1xuICAgICAgICAgICAgLy8gV2Ugd2FudCB0byBkaXNjYXJkIGNhY2hlIGlmIGl0J3Mgb2xkZXIgdGhhbiB0aGUgY2FjaGUgZXhwaXJ5XG4gICAgICAgICAgICBpZiAoYmFsYW5jZUNhY2hlICYmXG4gICAgICAgICAgICAgICAgIXRoaXMuaXNDYWNoZUV4cGlyZWQoYmFsYW5jZUNhY2hlLnRpbWVzdGFtcCwgdGhpcy5jYWNoZUV4cGlyeS5wb3J0Zm9saW8pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGJhbGFuY2VDYWNoZS5iYWxhbmNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgU3RvcmFnZVV0aWwucmVtb3ZlQWRkcmVzc0Zyb21CYWxhbmNlQ2FjaGUoY2FpcEFkZHJlc3MpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnVW5hYmxlIHRvIGdldCBiYWxhbmNlIGNhY2hlIGZvciBhZGRyZXNzJywgY2FpcEFkZHJlc3MpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfSxcbiAgICB1cGRhdGVCYWxhbmNlQ2FjaGUocGFyYW1zKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBjYWNoZSA9IFN0b3JhZ2VVdGlsLmdldEJhbGFuY2VDYWNoZSgpO1xuICAgICAgICAgICAgY2FjaGVbcGFyYW1zLmNhaXBBZGRyZXNzXSA9IHBhcmFtcztcbiAgICAgICAgICAgIFNhZmVMb2NhbFN0b3JhZ2Uuc2V0SXRlbShTYWZlTG9jYWxTdG9yYWdlS2V5cy5QT1JURk9MSU9fQ0FDSEUsIEpTT04uc3RyaW5naWZ5KGNhY2hlKSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgY29uc29sZS5pbmZvKCdVbmFibGUgdG8gdXBkYXRlIGJhbGFuY2UgY2FjaGUnLCBwYXJhbXMpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBnZXROYXRpdmVCYWxhbmNlQ2FjaGUoKSB7XG4gICAgICAgIGxldCBjYWNoZSA9IHt9O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gU2FmZUxvY2FsU3RvcmFnZS5nZXRJdGVtKFNhZmVMb2NhbFN0b3JhZ2VLZXlzLk5BVElWRV9CQUxBTkNFX0NBQ0hFKTtcbiAgICAgICAgICAgIGNhY2hlID0gcmVzdWx0ID8gSlNPTi5wYXJzZShyZXN1bHQpIDoge307XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgY29uc29sZS5pbmZvKCdVbmFibGUgdG8gZ2V0IGJhbGFuY2UgY2FjaGUnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2FjaGU7XG4gICAgfSxcbiAgICByZW1vdmVBZGRyZXNzRnJvbU5hdGl2ZUJhbGFuY2VDYWNoZShjYWlwQWRkcmVzcykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgY2FjaGUgPSBTdG9yYWdlVXRpbC5nZXRCYWxhbmNlQ2FjaGUoKTtcbiAgICAgICAgICAgIFNhZmVMb2NhbFN0b3JhZ2Uuc2V0SXRlbShTYWZlTG9jYWxTdG9yYWdlS2V5cy5OQVRJVkVfQkFMQU5DRV9DQUNIRSwgSlNPTi5zdHJpbmdpZnkoeyAuLi5jYWNoZSwgW2NhaXBBZGRyZXNzXTogdW5kZWZpbmVkIH0pKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICBjb25zb2xlLmluZm8oJ1VuYWJsZSB0byByZW1vdmUgYWRkcmVzcyBmcm9tIGJhbGFuY2UgY2FjaGUnLCBjYWlwQWRkcmVzcyk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGdldE5hdGl2ZUJhbGFuY2VDYWNoZUZvckNhaXBBZGRyZXNzKGNhaXBBZGRyZXNzKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBjYWNoZSA9IFN0b3JhZ2VVdGlsLmdldE5hdGl2ZUJhbGFuY2VDYWNoZSgpO1xuICAgICAgICAgICAgY29uc3QgbmF0aXZlQmFsYW5jZUNhY2hlID0gY2FjaGVbY2FpcEFkZHJlc3NdO1xuICAgICAgICAgICAgLy8gV2Ugd2FudCB0byBkaXNjYXJkIGNhY2hlIGlmIGl0J3Mgb2xkZXIgdGhhbiB0aGUgY2FjaGUgZXhwaXJ5XG4gICAgICAgICAgICBpZiAobmF0aXZlQmFsYW5jZUNhY2hlICYmXG4gICAgICAgICAgICAgICAgIXRoaXMuaXNDYWNoZUV4cGlyZWQobmF0aXZlQmFsYW5jZUNhY2hlLnRpbWVzdGFtcCwgdGhpcy5jYWNoZUV4cGlyeS5uYXRpdmVCYWxhbmNlKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBuYXRpdmVCYWxhbmNlQ2FjaGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zb2xlLmluZm8oJ0Rpc2NhcmRpbmcgY2FjaGUgZm9yIGFkZHJlc3MnLCBjYWlwQWRkcmVzcyk7XG4gICAgICAgICAgICBTdG9yYWdlVXRpbC5yZW1vdmVBZGRyZXNzRnJvbUJhbGFuY2VDYWNoZShjYWlwQWRkcmVzcyk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgY29uc29sZS5pbmZvKCdVbmFibGUgdG8gZ2V0IGJhbGFuY2UgY2FjaGUgZm9yIGFkZHJlc3MnLCBjYWlwQWRkcmVzcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9LFxuICAgIHVwZGF0ZU5hdGl2ZUJhbGFuY2VDYWNoZShwYXJhbXMpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGNhY2hlID0gU3RvcmFnZVV0aWwuZ2V0TmF0aXZlQmFsYW5jZUNhY2hlKCk7XG4gICAgICAgICAgICBjYWNoZVtwYXJhbXMuY2FpcEFkZHJlc3NdID0gcGFyYW1zO1xuICAgICAgICAgICAgU2FmZUxvY2FsU3RvcmFnZS5zZXRJdGVtKFNhZmVMb2NhbFN0b3JhZ2VLZXlzLk5BVElWRV9CQUxBTkNFX0NBQ0hFLCBKU09OLnN0cmluZ2lmeShjYWNoZSkpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnVW5hYmxlIHRvIHVwZGF0ZSBiYWxhbmNlIGNhY2hlJywgcGFyYW1zKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgZ2V0RW5zQ2FjaGUoKSB7XG4gICAgICAgIGxldCBjYWNoZSA9IHt9O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gU2FmZUxvY2FsU3RvcmFnZS5nZXRJdGVtKFNhZmVMb2NhbFN0b3JhZ2VLZXlzLkVOU19DQUNIRSk7XG4gICAgICAgICAgICBjYWNoZSA9IHJlc3VsdCA/IEpTT04ucGFyc2UocmVzdWx0KSA6IHt9O1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnVW5hYmxlIHRvIGdldCBlbnMgbmFtZSBjYWNoZScpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjYWNoZTtcbiAgICB9LFxuICAgIGdldEVuc0Zyb21DYWNoZUZvckFkZHJlc3MoYWRkcmVzcykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgY2FjaGUgPSBTdG9yYWdlVXRpbC5nZXRFbnNDYWNoZSgpO1xuICAgICAgICAgICAgY29uc3QgZW5zQ2FjaGUgPSBjYWNoZVthZGRyZXNzXTtcbiAgICAgICAgICAgIC8vIFdlIHdhbnQgdG8gZGlzY2FyZCBjYWNoZSBpZiBpdCdzIG9sZGVyIHRoYW4gdGhlIGNhY2hlIGV4cGlyeVxuICAgICAgICAgICAgaWYgKGVuc0NhY2hlICYmICF0aGlzLmlzQ2FjaGVFeHBpcmVkKGVuc0NhY2hlLnRpbWVzdGFtcCwgdGhpcy5jYWNoZUV4cGlyeS5lbnMpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVuc0NhY2hlLmVucztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFN0b3JhZ2VVdGlsLnJlbW92ZUVuc0Zyb21DYWNoZShhZGRyZXNzKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICBjb25zb2xlLmluZm8oJ1VuYWJsZSB0byBnZXQgZW5zIG5hbWUgZnJvbSBjYWNoZScsIGFkZHJlc3MpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfSxcbiAgICB1cGRhdGVFbnNDYWNoZShwYXJhbXMpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGNhY2hlID0gU3RvcmFnZVV0aWwuZ2V0RW5zQ2FjaGUoKTtcbiAgICAgICAgICAgIGNhY2hlW3BhcmFtcy5hZGRyZXNzXSA9IHBhcmFtcztcbiAgICAgICAgICAgIFNhZmVMb2NhbFN0b3JhZ2Uuc2V0SXRlbShTYWZlTG9jYWxTdG9yYWdlS2V5cy5FTlNfQ0FDSEUsIEpTT04uc3RyaW5naWZ5KGNhY2hlKSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgY29uc29sZS5pbmZvKCdVbmFibGUgdG8gdXBkYXRlIGVucyBuYW1lIGNhY2hlJywgcGFyYW1zKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgcmVtb3ZlRW5zRnJvbUNhY2hlKGFkZHJlc3MpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGNhY2hlID0gU3RvcmFnZVV0aWwuZ2V0RW5zQ2FjaGUoKTtcbiAgICAgICAgICAgIFNhZmVMb2NhbFN0b3JhZ2Uuc2V0SXRlbShTYWZlTG9jYWxTdG9yYWdlS2V5cy5FTlNfQ0FDSEUsIEpTT04uc3RyaW5naWZ5KHsgLi4uY2FjaGUsIFthZGRyZXNzXTogdW5kZWZpbmVkIH0pKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICBjb25zb2xlLmluZm8oJ1VuYWJsZSB0byByZW1vdmUgZW5zIG5hbWUgZnJvbSBjYWNoZScsIGFkZHJlc3MpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBnZXRJZGVudGl0eUNhY2hlKCkge1xuICAgICAgICBsZXQgY2FjaGUgPSB7fTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IFNhZmVMb2NhbFN0b3JhZ2UuZ2V0SXRlbShTYWZlTG9jYWxTdG9yYWdlS2V5cy5JREVOVElUWV9DQUNIRSk7XG4gICAgICAgICAgICBjYWNoZSA9IHJlc3VsdCA/IEpTT04ucGFyc2UocmVzdWx0KSA6IHt9O1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnVW5hYmxlIHRvIGdldCBpZGVudGl0eSBjYWNoZScpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjYWNoZTtcbiAgICB9LFxuICAgIGdldElkZW50aXR5RnJvbUNhY2hlRm9yQWRkcmVzcyhhZGRyZXNzKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBjYWNoZSA9IFN0b3JhZ2VVdGlsLmdldElkZW50aXR5Q2FjaGUoKTtcbiAgICAgICAgICAgIGNvbnN0IGlkZW50aXR5Q2FjaGUgPSBjYWNoZVthZGRyZXNzXTtcbiAgICAgICAgICAgIC8vIFdlIHdhbnQgdG8gZGlzY2FyZCBjYWNoZSBpZiBpdCdzIG9sZGVyIHRoYW4gdGhlIGNhY2hlIGV4cGlyeVxuICAgICAgICAgICAgaWYgKGlkZW50aXR5Q2FjaGUgJiZcbiAgICAgICAgICAgICAgICAhdGhpcy5pc0NhY2hlRXhwaXJlZChpZGVudGl0eUNhY2hlLnRpbWVzdGFtcCwgdGhpcy5jYWNoZUV4cGlyeS5pZGVudGl0eSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaWRlbnRpdHlDYWNoZS5pZGVudGl0eTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFN0b3JhZ2VVdGlsLnJlbW92ZUlkZW50aXR5RnJvbUNhY2hlKGFkZHJlc3MpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnVW5hYmxlIHRvIGdldCBpZGVudGl0eSBmcm9tIGNhY2hlJywgYWRkcmVzcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9LFxuICAgIHVwZGF0ZUlkZW50aXR5Q2FjaGUocGFyYW1zKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBjYWNoZSA9IFN0b3JhZ2VVdGlsLmdldElkZW50aXR5Q2FjaGUoKTtcbiAgICAgICAgICAgIGNhY2hlW3BhcmFtcy5hZGRyZXNzXSA9IHtcbiAgICAgICAgICAgICAgICBpZGVudGl0eTogcGFyYW1zLmlkZW50aXR5LFxuICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogcGFyYW1zLnRpbWVzdGFtcFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIFNhZmVMb2NhbFN0b3JhZ2Uuc2V0SXRlbShTYWZlTG9jYWxTdG9yYWdlS2V5cy5JREVOVElUWV9DQUNIRSwgSlNPTi5zdHJpbmdpZnkoY2FjaGUpKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICBjb25zb2xlLmluZm8oJ1VuYWJsZSB0byB1cGRhdGUgaWRlbnRpdHkgY2FjaGUnLCBwYXJhbXMpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICByZW1vdmVJZGVudGl0eUZyb21DYWNoZShhZGRyZXNzKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBjYWNoZSA9IFN0b3JhZ2VVdGlsLmdldElkZW50aXR5Q2FjaGUoKTtcbiAgICAgICAgICAgIFNhZmVMb2NhbFN0b3JhZ2Uuc2V0SXRlbShTYWZlTG9jYWxTdG9yYWdlS2V5cy5JREVOVElUWV9DQUNIRSwgSlNPTi5zdHJpbmdpZnkoeyAuLi5jYWNoZSwgW2FkZHJlc3NdOiB1bmRlZmluZWQgfSkpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnVW5hYmxlIHRvIHJlbW92ZSBpZGVudGl0eSBmcm9tIGNhY2hlJywgYWRkcmVzcyk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGNsZWFyQWRkcmVzc0NhY2hlKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgU2FmZUxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFNhZmVMb2NhbFN0b3JhZ2VLZXlzLlBPUlRGT0xJT19DQUNIRSk7XG4gICAgICAgICAgICBTYWZlTG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oU2FmZUxvY2FsU3RvcmFnZUtleXMuTkFUSVZFX0JBTEFOQ0VfQ0FDSEUpO1xuICAgICAgICAgICAgU2FmZUxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFNhZmVMb2NhbFN0b3JhZ2VLZXlzLkVOU19DQUNIRSk7XG4gICAgICAgICAgICBTYWZlTG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oU2FmZUxvY2FsU3RvcmFnZUtleXMuSURFTlRJVFlfQ0FDSEUpO1xuICAgICAgICAgICAgU2FmZUxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFNhZmVMb2NhbFN0b3JhZ2VLZXlzLkhJU1RPUllfVFJBTlNBQ1RJT05TX0NBQ0hFKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICBjb25zb2xlLmluZm8oJ1VuYWJsZSB0byBjbGVhciBhZGRyZXNzIGNhY2hlJyk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHNldFByZWZlcnJlZEFjY291bnRUeXBlcyhhY2NvdW50VHlwZXMpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIFNhZmVMb2NhbFN0b3JhZ2Uuc2V0SXRlbShTYWZlTG9jYWxTdG9yYWdlS2V5cy5QUkVGRVJSRURfQUNDT1VOVF9UWVBFUywgSlNPTi5zdHJpbmdpZnkoYWNjb3VudFR5cGVzKSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgY29uc29sZS5pbmZvKCdVbmFibGUgdG8gc2V0IHByZWZlcnJlZCBhY2NvdW50IHR5cGVzJywgYWNjb3VudFR5cGVzKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgZ2V0UHJlZmVycmVkQWNjb3VudFR5cGVzKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gU2FmZUxvY2FsU3RvcmFnZS5nZXRJdGVtKFNhZmVMb2NhbFN0b3JhZ2VLZXlzLlBSRUZFUlJFRF9BQ0NPVU5UX1RZUEVTKTtcbiAgICAgICAgICAgIGlmICghcmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UocmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICBjb25zb2xlLmluZm8oJ1VuYWJsZSB0byBnZXQgcHJlZmVycmVkIGFjY291bnQgdHlwZXMnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge307XG4gICAgfSxcbiAgICBzZXRDb25uZWN0aW9ucyhjb25uZWN0aW9ucywgY2hhaW5OYW1lc3BhY2UpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nQ29ubmVjdGlvbnMgPSBTdG9yYWdlVXRpbC5nZXRDb25uZWN0aW9ucygpO1xuICAgICAgICAgICAgY29uc3QgZXhpc3RpbmcgPSBleGlzdGluZ0Nvbm5lY3Rpb25zW2NoYWluTmFtZXNwYWNlXSA/PyBbXTtcbiAgICAgICAgICAgIGNvbnN0IGNvbm5lY3RvckNvbm5lY3Rpb25NYXAgPSBuZXcgTWFwKCk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGNvbm4gb2YgZXhpc3RpbmcpIHtcbiAgICAgICAgICAgICAgICBjb25uZWN0b3JDb25uZWN0aW9uTWFwLnNldChjb25uLmNvbm5lY3RvcklkLCB7IC4uLmNvbm4gfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGNvbm4gb2YgY29ubmVjdGlvbnMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBleGlzdGluZ0Nvbm4gPSBjb25uZWN0b3JDb25uZWN0aW9uTWFwLmdldChjb25uLmNvbm5lY3RvcklkKTtcbiAgICAgICAgICAgICAgICBjb25zdCBpc0F1dGggPSBjb25uLmNvbm5lY3RvcklkID09PSBDb21tb25Db25zdGFudHNVdGlsLkNPTk5FQ1RPUl9JRC5BVVRIO1xuICAgICAgICAgICAgICAgIGlmIChleGlzdGluZ0Nvbm4gJiYgIWlzQXV0aCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBleGlzdGluZ0FkZHJzID0gbmV3IFNldChleGlzdGluZ0Nvbm4uYWNjb3VudHMubWFwKGEgPT4gYS5hZGRyZXNzLnRvTG93ZXJDYXNlKCkpKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3QWNjb3VudHMgPSBjb25uLmFjY291bnRzLmZpbHRlcihhID0+ICFleGlzdGluZ0FkZHJzLmhhcyhhLmFkZHJlc3MudG9Mb3dlckNhc2UoKSkpO1xuICAgICAgICAgICAgICAgICAgICBleGlzdGluZ0Nvbm4uYWNjb3VudHMucHVzaCguLi5uZXdBY2NvdW50cyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25uZWN0b3JDb25uZWN0aW9uTWFwLnNldChjb25uLmNvbm5lY3RvcklkLCB7IC4uLmNvbm4gfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZGVkdXBlZENvbm5lY3Rpb25zID0ge1xuICAgICAgICAgICAgICAgIC4uLmV4aXN0aW5nQ29ubmVjdGlvbnMsXG4gICAgICAgICAgICAgICAgW2NoYWluTmFtZXNwYWNlXTogQXJyYXkuZnJvbShjb25uZWN0b3JDb25uZWN0aW9uTWFwLnZhbHVlcygpKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIFNhZmVMb2NhbFN0b3JhZ2Uuc2V0SXRlbShTYWZlTG9jYWxTdG9yYWdlS2V5cy5DT05ORUNUSU9OUywgSlNPTi5zdHJpbmdpZnkoZGVkdXBlZENvbm5lY3Rpb25zKSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdVbmFibGUgdG8gc3luYyBjb25uZWN0aW9ucyB0byBzdG9yYWdlJywgZXJyb3IpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBnZXRDb25uZWN0aW9ucygpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGNvbm5lY3Rpb25zU3RvcmFnZSA9IFNhZmVMb2NhbFN0b3JhZ2UuZ2V0SXRlbShTYWZlTG9jYWxTdG9yYWdlS2V5cy5DT05ORUNUSU9OUyk7XG4gICAgICAgICAgICBpZiAoIWNvbm5lY3Rpb25zU3RvcmFnZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7fTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKGNvbm5lY3Rpb25zU3RvcmFnZSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdVbmFibGUgdG8gZ2V0IGNvbm5lY3Rpb25zIGZyb20gc3RvcmFnZScsIGVycm9yKTtcbiAgICAgICAgICAgIHJldHVybiB7fTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgZGVsZXRlQWRkcmVzc0Zyb21Db25uZWN0aW9uKHsgY29ubmVjdG9ySWQsIGFkZHJlc3MsIG5hbWVzcGFjZSB9KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBjb25uZWN0aW9ucyA9IFN0b3JhZ2VVdGlsLmdldENvbm5lY3Rpb25zKCk7XG4gICAgICAgICAgICBjb25zdCBuYW1lc3BhY2VDb25uZWN0aW9ucyA9IGNvbm5lY3Rpb25zW25hbWVzcGFjZV0gPz8gW107XG4gICAgICAgICAgICBjb25zdCBjb25uZWN0aW9uTWFwID0gbmV3IE1hcChuYW1lc3BhY2VDb25uZWN0aW9ucy5tYXAoY29ubiA9PiBbY29ubi5jb25uZWN0b3JJZCwgY29ubl0pKTtcbiAgICAgICAgICAgIGNvbnN0IGNvbm5lY3RvciA9IGNvbm5lY3Rpb25NYXAuZ2V0KGNvbm5lY3RvcklkKTtcbiAgICAgICAgICAgIGlmIChjb25uZWN0b3IpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB1cGRhdGVkQWNjb3VudHMgPSBjb25uZWN0b3IuYWNjb3VudHMuZmlsdGVyKGFjYyA9PiBhY2MuYWRkcmVzcy50b0xvd2VyQ2FzZSgpICE9PSBhZGRyZXNzLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICAgICAgICAgIGlmICh1cGRhdGVkQWNjb3VudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbm5lY3Rpb25NYXAuZGVsZXRlKGNvbm5lY3RvcklkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbm5lY3Rpb25NYXAuc2V0KGNvbm5lY3RvcklkLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5jb25uZWN0b3IsXG4gICAgICAgICAgICAgICAgICAgICAgICBhY2NvdW50czogY29ubmVjdG9yLmFjY291bnRzLmZpbHRlcihhY2MgPT4gYWNjLmFkZHJlc3MudG9Mb3dlckNhc2UoKSAhPT0gYWRkcmVzcy50b0xvd2VyQ2FzZSgpKVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBTYWZlTG9jYWxTdG9yYWdlLnNldEl0ZW0oU2FmZUxvY2FsU3RvcmFnZUtleXMuQ09OTkVDVElPTlMsIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICAuLi5jb25uZWN0aW9ucyxcbiAgICAgICAgICAgICAgICBbbmFtZXNwYWNlXTogQXJyYXkuZnJvbShjb25uZWN0aW9uTWFwLnZhbHVlcygpKVxuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYFVuYWJsZSB0byByZW1vdmUgYWRkcmVzcyBcIiR7YWRkcmVzc31cIiBmcm9tIGNvbm5lY3RvciBcIiR7Y29ubmVjdG9ySWR9XCIgaW4gbmFtZXNwYWNlIFwiJHtuYW1lc3BhY2V9XCJgKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgZ2V0RGlzY29ubmVjdGVkQ29ubmVjdG9ySWRzKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gU2FmZUxvY2FsU3RvcmFnZS5nZXRJdGVtKFNhZmVMb2NhbFN0b3JhZ2VLZXlzLkRJU0NPTk5FQ1RFRF9DT05ORUNUT1JfSURTKTtcbiAgICAgICAgICAgIGlmICghcmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UocmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICBjb25zb2xlLmluZm8oJ1VuYWJsZSB0byBnZXQgZGlzY29ubmVjdGVkIGNvbm5lY3RvciBpZHMnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge307XG4gICAgfSxcbiAgICBhZGREaXNjb25uZWN0ZWRDb25uZWN0b3JJZChjb25uZWN0b3JJZCwgY2hhaW5OYW1lc3BhY2UpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnREaXNjb25uZWN0ZWRDb25uZWN0b3JJZHMgPSBTdG9yYWdlVXRpbC5nZXREaXNjb25uZWN0ZWRDb25uZWN0b3JJZHMoKTtcbiAgICAgICAgICAgIGNvbnN0IGRpc2Nvbm5lY3RlZENvbm5lY3Rvcklkc0J5TmFtZXNwYWNlID0gY3VycmVudERpc2Nvbm5lY3RlZENvbm5lY3Rvcklkc1tjaGFpbk5hbWVzcGFjZV0gPz8gW107XG4gICAgICAgICAgICBkaXNjb25uZWN0ZWRDb25uZWN0b3JJZHNCeU5hbWVzcGFjZS5wdXNoKGNvbm5lY3RvcklkKTtcbiAgICAgICAgICAgIFNhZmVMb2NhbFN0b3JhZ2Uuc2V0SXRlbShTYWZlTG9jYWxTdG9yYWdlS2V5cy5ESVNDT05ORUNURURfQ09OTkVDVE9SX0lEUywgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgIC4uLmN1cnJlbnREaXNjb25uZWN0ZWRDb25uZWN0b3JJZHMsXG4gICAgICAgICAgICAgICAgW2NoYWluTmFtZXNwYWNlXTogQXJyYXkuZnJvbShuZXcgU2V0KGRpc2Nvbm5lY3RlZENvbm5lY3Rvcklkc0J5TmFtZXNwYWNlKSlcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBVbmFibGUgdG8gc2V0IGRpc2Nvbm5lY3RlZCBjb25uZWN0b3IgaWQgXCIke2Nvbm5lY3RvcklkfVwiIGZvciBuYW1lc3BhY2UgXCIke2NoYWluTmFtZXNwYWNlfVwiYCk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHJlbW92ZURpc2Nvbm5lY3RlZENvbm5lY3RvcklkKGNvbm5lY3RvcklkLCBjaGFpbk5hbWVzcGFjZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudERpc2Nvbm5lY3RlZENvbm5lY3RvcklkcyA9IFN0b3JhZ2VVdGlsLmdldERpc2Nvbm5lY3RlZENvbm5lY3RvcklkcygpO1xuICAgICAgICAgICAgbGV0IGRpc2Nvbm5lY3RlZENvbm5lY3Rvcklkc0J5TmFtZXNwYWNlID0gY3VycmVudERpc2Nvbm5lY3RlZENvbm5lY3Rvcklkc1tjaGFpbk5hbWVzcGFjZV0gPz8gW107XG4gICAgICAgICAgICBkaXNjb25uZWN0ZWRDb25uZWN0b3JJZHNCeU5hbWVzcGFjZSA9IGRpc2Nvbm5lY3RlZENvbm5lY3Rvcklkc0J5TmFtZXNwYWNlLmZpbHRlcihpZCA9PiBpZC50b0xvd2VyQ2FzZSgpICE9PSBjb25uZWN0b3JJZC50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgICAgIFNhZmVMb2NhbFN0b3JhZ2Uuc2V0SXRlbShTYWZlTG9jYWxTdG9yYWdlS2V5cy5ESVNDT05ORUNURURfQ09OTkVDVE9SX0lEUywgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgIC4uLmN1cnJlbnREaXNjb25uZWN0ZWRDb25uZWN0b3JJZHMsXG4gICAgICAgICAgICAgICAgW2NoYWluTmFtZXNwYWNlXTogQXJyYXkuZnJvbShuZXcgU2V0KGRpc2Nvbm5lY3RlZENvbm5lY3Rvcklkc0J5TmFtZXNwYWNlKSlcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBVbmFibGUgdG8gcmVtb3ZlIGRpc2Nvbm5lY3RlZCBjb25uZWN0b3IgaWQgXCIke2Nvbm5lY3RvcklkfVwiIGZvciBuYW1lc3BhY2UgXCIke2NoYWluTmFtZXNwYWNlfVwiYCk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGlzQ29ubmVjdG9yRGlzY29ubmVjdGVkKGNvbm5lY3RvcklkLCBjaGFpbk5hbWVzcGFjZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudERpc2Nvbm5lY3RlZENvbm5lY3RvcklkcyA9IFN0b3JhZ2VVdGlsLmdldERpc2Nvbm5lY3RlZENvbm5lY3RvcklkcygpO1xuICAgICAgICAgICAgY29uc3QgZGlzY29ubmVjdGVkQ29ubmVjdG9ySWRzQnlOYW1lc3BhY2UgPSBjdXJyZW50RGlzY29ubmVjdGVkQ29ubmVjdG9ySWRzW2NoYWluTmFtZXNwYWNlXSA/PyBbXTtcbiAgICAgICAgICAgIHJldHVybiBkaXNjb25uZWN0ZWRDb25uZWN0b3JJZHNCeU5hbWVzcGFjZS5zb21lKGlkID0+IGlkLnRvTG93ZXJDYXNlKCkgPT09IGNvbm5lY3RvcklkLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIGNvbnNvbGUuaW5mbyhgVW5hYmxlIHRvIGdldCBkaXNjb25uZWN0ZWQgY29ubmVjdG9yIGlkIFwiJHtjb25uZWN0b3JJZH1cIiBmb3IgbmFtZXNwYWNlIFwiJHtjaGFpbk5hbWVzcGFjZX1cImApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9LFxuICAgIGdldFRyYW5zYWN0aW9uc0NhY2hlKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gU2FmZUxvY2FsU3RvcmFnZS5nZXRJdGVtKFNhZmVMb2NhbFN0b3JhZ2VLZXlzLkhJU1RPUllfVFJBTlNBQ1RJT05TX0NBQ0hFKTtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQgPyBKU09OLnBhcnNlKHJlc3VsdCkgOiB7fTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICBjb25zb2xlLmluZm8oJ1VuYWJsZSB0byBnZXQgdHJhbnNhY3Rpb25zIGNhY2hlJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH0sXG4gICAgZ2V0VHJhbnNhY3Rpb25zQ2FjaGVGb3JBZGRyZXNzKHsgYWRkcmVzcywgY2hhaW5JZCA9ICcnIH0pIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGNhY2hlID0gU3RvcmFnZVV0aWwuZ2V0VHJhbnNhY3Rpb25zQ2FjaGUoKTtcbiAgICAgICAgICAgIGNvbnN0IHRyYW5zYWN0aW9uc0NhY2hlID0gY2FjaGVbYWRkcmVzc10/LltjaGFpbklkXTtcbiAgICAgICAgICAgIC8vIFdlIHdhbnQgdG8gZGlzY2FyZCBjYWNoZSBpZiBpdCdzIG9sZGVyIHRoYW4gdGhlIGNhY2hlIGV4cGlyeVxuICAgICAgICAgICAgaWYgKHRyYW5zYWN0aW9uc0NhY2hlICYmXG4gICAgICAgICAgICAgICAgIXRoaXMuaXNDYWNoZUV4cGlyZWQodHJhbnNhY3Rpb25zQ2FjaGUudGltZXN0YW1wLCB0aGlzLmNhY2hlRXhwaXJ5LnRyYW5zYWN0aW9uc0hpc3RvcnkpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRyYW5zYWN0aW9uc0NhY2hlLnRyYW5zYWN0aW9ucztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFN0b3JhZ2VVdGlsLnJlbW92ZVRyYW5zYWN0aW9uc0NhY2hlKHsgYWRkcmVzcywgY2hhaW5JZCB9KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICBjb25zb2xlLmluZm8oJ1VuYWJsZSB0byBnZXQgdHJhbnNhY3Rpb25zIGNhY2hlJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9LFxuICAgIHVwZGF0ZVRyYW5zYWN0aW9uc0NhY2hlKHsgYWRkcmVzcywgY2hhaW5JZCA9ICcnLCB0aW1lc3RhbXAsIHRyYW5zYWN0aW9ucyB9KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBjYWNoZSA9IFN0b3JhZ2VVdGlsLmdldFRyYW5zYWN0aW9uc0NhY2hlKCk7XG4gICAgICAgICAgICBjYWNoZVthZGRyZXNzXSA9IHtcbiAgICAgICAgICAgICAgICAuLi5jYWNoZVthZGRyZXNzXSxcbiAgICAgICAgICAgICAgICBbY2hhaW5JZF06IHtcbiAgICAgICAgICAgICAgICAgICAgdGltZXN0YW1wLFxuICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbnNcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgU2FmZUxvY2FsU3RvcmFnZS5zZXRJdGVtKFNhZmVMb2NhbFN0b3JhZ2VLZXlzLkhJU1RPUllfVFJBTlNBQ1RJT05TX0NBQ0hFLCBKU09OLnN0cmluZ2lmeShjYWNoZSkpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnVW5hYmxlIHRvIHVwZGF0ZSB0cmFuc2FjdGlvbnMgY2FjaGUnLCB7XG4gICAgICAgICAgICAgICAgYWRkcmVzcyxcbiAgICAgICAgICAgICAgICBjaGFpbklkLFxuICAgICAgICAgICAgICAgIHRpbWVzdGFtcCxcbiAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbnNcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSxcbiAgICByZW1vdmVUcmFuc2FjdGlvbnNDYWNoZSh7IGFkZHJlc3MsIGNoYWluSWQgfSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgY2FjaGUgPSBTdG9yYWdlVXRpbC5nZXRUcmFuc2FjdGlvbnNDYWNoZSgpO1xuICAgICAgICAgICAgY29uc3QgYWRkcmVzc0NhY2hlID0gY2FjaGU/LlthZGRyZXNzXSB8fCB7fTtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW51c2VkLXZhcnNcbiAgICAgICAgICAgIGNvbnN0IHsgW2NoYWluSWRdOiBfcmVtb3ZlZCwgLi4udXBkYXRlZENoYWluRGF0YSB9ID0gYWRkcmVzc0NhY2hlO1xuICAgICAgICAgICAgU2FmZUxvY2FsU3RvcmFnZS5zZXRJdGVtKFNhZmVMb2NhbFN0b3JhZ2VLZXlzLkhJU1RPUllfVFJBTlNBQ1RJT05TX0NBQ0hFLCBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgLi4uY2FjaGUsXG4gICAgICAgICAgICAgICAgW2FkZHJlc3NdOiB1cGRhdGVkQ2hhaW5EYXRhXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgY29uc29sZS5pbmZvKCdVbmFibGUgdG8gcmVtb3ZlIHRyYW5zYWN0aW9ucyBjYWNoZScsIHsgYWRkcmVzcywgY2hhaW5JZCB9KTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgZ2V0VG9rZW5QcmljZUNhY2hlKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gU2FmZUxvY2FsU3RvcmFnZS5nZXRJdGVtKFNhZmVMb2NhbFN0b3JhZ2VLZXlzLlRPS0VOX1BSSUNFX0NBQ0hFKTtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQgPyBKU09OLnBhcnNlKHJlc3VsdCkgOiB7fTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICBjb25zb2xlLmluZm8oJ1VuYWJsZSB0byBnZXQgdG9rZW4gcHJpY2UgY2FjaGUnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge307XG4gICAgfSxcbiAgICBnZXRUb2tlblByaWNlQ2FjaGVGb3JBZGRyZXNzZXMoYWRkcmVzc2VzKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBjYWNoZSA9IFN0b3JhZ2VVdGlsLmdldFRva2VuUHJpY2VDYWNoZSgpO1xuICAgICAgICAgICAgY29uc3QgdG9rZW5QcmljZUNhY2hlID0gY2FjaGVbYWRkcmVzc2VzLmpvaW4oJywnKV07XG4gICAgICAgICAgICBpZiAodG9rZW5QcmljZUNhY2hlICYmXG4gICAgICAgICAgICAgICAgIXRoaXMuaXNDYWNoZUV4cGlyZWQodG9rZW5QcmljZUNhY2hlLnRpbWVzdGFtcCwgdGhpcy5jYWNoZUV4cGlyeS50b2tlblByaWNlKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0b2tlblByaWNlQ2FjaGUudG9rZW5QcmljZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFN0b3JhZ2VVdGlsLnJlbW92ZVRva2VuUHJpY2VDYWNoZShhZGRyZXNzZXMpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnVW5hYmxlIHRvIGdldCB0b2tlbiBwcmljZSBjYWNoZSBmb3IgYWRkcmVzc2VzJywgYWRkcmVzc2VzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH0sXG4gICAgdXBkYXRlVG9rZW5QcmljZUNhY2hlKHBhcmFtcykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgY2FjaGUgPSBTdG9yYWdlVXRpbC5nZXRUb2tlblByaWNlQ2FjaGUoKTtcbiAgICAgICAgICAgIGNhY2hlW3BhcmFtcy5hZGRyZXNzZXMuam9pbignLCcpXSA9IHtcbiAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IHBhcmFtcy50aW1lc3RhbXAsXG4gICAgICAgICAgICAgICAgdG9rZW5QcmljZTogcGFyYW1zLnRva2VuUHJpY2VcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBTYWZlTG9jYWxTdG9yYWdlLnNldEl0ZW0oU2FmZUxvY2FsU3RvcmFnZUtleXMuVE9LRU5fUFJJQ0VfQ0FDSEUsIEpTT04uc3RyaW5naWZ5KGNhY2hlKSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgY29uc29sZS5pbmZvKCdVbmFibGUgdG8gdXBkYXRlIHRva2VuIHByaWNlIGNhY2hlJywgcGFyYW1zKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgcmVtb3ZlVG9rZW5QcmljZUNhY2hlKGFkZHJlc3Nlcykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgY2FjaGUgPSBTdG9yYWdlVXRpbC5nZXRUb2tlblByaWNlQ2FjaGUoKTtcbiAgICAgICAgICAgIFNhZmVMb2NhbFN0b3JhZ2Uuc2V0SXRlbShTYWZlTG9jYWxTdG9yYWdlS2V5cy5UT0tFTl9QUklDRV9DQUNIRSwgSlNPTi5zdHJpbmdpZnkoeyAuLi5jYWNoZSwgW2FkZHJlc3Nlcy5qb2luKCcsJyldOiB1bmRlZmluZWQgfSkpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnVW5hYmxlIHRvIHJlbW92ZSB0b2tlbiBwcmljZSBjYWNoZScsIGFkZHJlc3Nlcyk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIC8qIC0tLS0tIEFwcEtpdCBMYXRlc3QgVmVyc2lvbiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG4gICAgZ2V0TGF0ZXN0QXBwS2l0VmVyc2lvbigpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuZ2V0TGF0ZXN0QXBwS2l0VmVyc2lvbkNhY2hlKCk7XG4gICAgICAgICAgICBjb25zdCB2ZXJzaW9uID0gcmVzdWx0Py52ZXJzaW9uO1xuICAgICAgICAgICAgaWYgKHZlcnNpb24gJiYgIXRoaXMuaXNDYWNoZUV4cGlyZWQocmVzdWx0LnRpbWVzdGFtcCwgdGhpcy5jYWNoZUV4cGlyeS5sYXRlc3RBcHBLaXRWZXJzaW9uKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB2ZXJzaW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICBjb25zb2xlLmluZm8oJ1VuYWJsZSB0byBnZXQgbGF0ZXN0IEFwcEtpdCB2ZXJzaW9uJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9LFxuICAgIGdldExhdGVzdEFwcEtpdFZlcnNpb25DYWNoZSgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IFNhZmVMb2NhbFN0b3JhZ2UuZ2V0SXRlbShTYWZlTG9jYWxTdG9yYWdlS2V5cy5MQVRFU1RfQVBQS0lUX1ZFUlNJT04pO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdCA/IEpTT04ucGFyc2UocmVzdWx0KSA6IHt9O1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnVW5hYmxlIHRvIGdldCBsYXRlc3QgQXBwS2l0IHZlcnNpb24gY2FjaGUnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge307XG4gICAgfSxcbiAgICB1cGRhdGVMYXRlc3RBcHBLaXRWZXJzaW9uKHBhcmFtcykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgY2FjaGUgPSBTdG9yYWdlVXRpbC5nZXRMYXRlc3RBcHBLaXRWZXJzaW9uQ2FjaGUoKTtcbiAgICAgICAgICAgIGNhY2hlLnRpbWVzdGFtcCA9IHBhcmFtcy50aW1lc3RhbXA7XG4gICAgICAgICAgICBjYWNoZS52ZXJzaW9uID0gcGFyYW1zLnZlcnNpb247XG4gICAgICAgICAgICBTYWZlTG9jYWxTdG9yYWdlLnNldEl0ZW0oU2FmZUxvY2FsU3RvcmFnZUtleXMuTEFURVNUX0FQUEtJVF9WRVJTSU9OLCBKU09OLnN0cmluZ2lmeShjYWNoZSkpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnVW5hYmxlIHRvIHVwZGF0ZSBsYXRlc3QgQXBwS2l0IHZlcnNpb24gb24gbG9jYWwgc3RvcmFnZScsIHBhcmFtcyk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3RvcmFnZVV0aWwuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/StorageUtil.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/SwapApiUtil.js":
/*!******************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/SwapApiUtil.js ***!
  \******************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SwapApiUtil: () => (/* binding */ SwapApiUtil)\n/* harmony export */ });\n/* harmony import */ var _controllers_BlockchainApiController_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../controllers/BlockchainApiController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/BlockchainApiController.js\");\n/* harmony import */ var _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../controllers/ChainController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ChainController.js\");\n/* harmony import */ var _controllers_ConnectionController_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../controllers/ConnectionController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectionController.js\");\n/* harmony import */ var _BalanceUtil_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./BalanceUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/BalanceUtil.js\");\n/* harmony import */ var _ChainControllerUtil_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ChainControllerUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ChainControllerUtil.js\");\n\n\n\n\n\n// -- Controller ---------------------------------------- //\nconst SwapApiUtil = {\n    async getTokenList(caipNetworkId) {\n        const response = await _controllers_BlockchainApiController_js__WEBPACK_IMPORTED_MODULE_0__.BlockchainApiController.fetchSwapTokens({\n            chainId: caipNetworkId\n        });\n        const tokens = response?.tokens?.map(token => ({\n            ...token,\n            eip2612: false,\n            quantity: {\n                decimals: '0',\n                numeric: '0'\n            },\n            price: 0,\n            value: 0\n        })) || [];\n        return tokens;\n    },\n    async fetchGasPrice() {\n        const caipNetwork = _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_1__.ChainController.state.activeCaipNetwork;\n        if (!caipNetwork) {\n            return null;\n        }\n        try {\n            switch (caipNetwork.chainNamespace) {\n                case 'solana':\n                    // eslint-disable-next-line no-case-declarations\n                    const lamportsPerSignature = (await _controllers_ConnectionController_js__WEBPACK_IMPORTED_MODULE_2__.ConnectionController?.estimateGas({ chainNamespace: 'solana' }))?.toString();\n                    return {\n                        standard: lamportsPerSignature,\n                        fast: lamportsPerSignature,\n                        instant: lamportsPerSignature\n                    };\n                case 'eip155':\n                default:\n                    return await _controllers_BlockchainApiController_js__WEBPACK_IMPORTED_MODULE_0__.BlockchainApiController.fetchGasPrice({\n                        chainId: caipNetwork.caipNetworkId\n                    });\n            }\n        }\n        catch {\n            return null;\n        }\n    },\n    async fetchSwapAllowance({ tokenAddress, userAddress, sourceTokenAmount, sourceTokenDecimals }) {\n        const response = await _controllers_BlockchainApiController_js__WEBPACK_IMPORTED_MODULE_0__.BlockchainApiController.fetchSwapAllowance({\n            tokenAddress,\n            userAddress\n        });\n        if (response?.allowance && sourceTokenAmount && sourceTokenDecimals) {\n            const parsedValue = _controllers_ConnectionController_js__WEBPACK_IMPORTED_MODULE_2__.ConnectionController.parseUnits(sourceTokenAmount, sourceTokenDecimals) || 0;\n            const hasAllowance = BigInt(response.allowance) >= parsedValue;\n            return hasAllowance;\n        }\n        return false;\n    },\n    async getMyTokensWithBalance(forceUpdate) {\n        const balances = await _BalanceUtil_js__WEBPACK_IMPORTED_MODULE_3__.BalanceUtil.getMyTokensWithBalance(forceUpdate);\n        _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_1__.ChainController.setAccountProp('tokenBalance', balances, _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_1__.ChainController.state.activeChain);\n        return this.mapBalancesToSwapTokens(balances);\n    },\n    /**\n     * Maps the balances from Blockchain API to SwapTokenWithBalance array\n     * @param balances\n     * @returns SwapTokenWithBalance[]\n     */\n    mapBalancesToSwapTokens(balances) {\n        return (balances?.map(token => ({\n            ...token,\n            address: token?.address ? token.address : (0,_ChainControllerUtil_js__WEBPACK_IMPORTED_MODULE_4__.getActiveNetworkTokenAddress)(),\n            decimals: parseInt(token.quantity.decimals, 10),\n            logoUri: token.iconUrl,\n            eip2612: false\n        })) || []);\n    },\n    async handleSwapError(error) {\n        try {\n            const cause = error?.cause;\n            if (!cause?.json) {\n                return undefined;\n            }\n            const response = await cause.json();\n            const reason = response?.reasons?.[0]?.description;\n            if (reason?.includes('insufficient liquidity')) {\n                return 'Insufficient liquidity';\n            }\n            return undefined;\n        }\n        catch {\n            return undefined;\n        }\n    }\n};\n//# sourceMappingURL=SwapApiUtil.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTFfQHJlYWN0LW5hdGl2ZS1hc3luYy1zdG9yYWdlK2FzeW5jLXN0b3JhZ2VAMi4yLjBfcmVhY3QtX2E4MDMyMTIzODk3ZTA3OTMxMzc0MjMyYzNjYzRlNTM1L25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy91dGlscy9Td2FwQXBpVXRpbC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBb0Y7QUFDaEI7QUFDVTtBQUMvQjtBQUN5QjtBQUN4RTtBQUNPO0FBQ1A7QUFDQSwrQkFBK0IsNEZBQXVCO0FBQ3REO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMO0FBQ0EsNEJBQTRCLDRFQUFlO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0RBQXdELHNGQUFvQixnQkFBZ0IsMEJBQTBCO0FBQ3RIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLDRGQUF1QjtBQUN4RDtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLCtCQUErQixtRUFBbUU7QUFDbEcsK0JBQStCLDRGQUF1QjtBQUN0RDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsZ0NBQWdDLHNGQUFvQjtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLCtCQUErQix3REFBVztBQUMxQyxRQUFRLDRFQUFlLDBDQUEwQyw0RUFBZTtBQUNoRjtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0RBQXNELHFGQUE0QjtBQUNsRjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm9nZ2xyLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0ByZW93bithcHBraXQtY29udHJvbGxlcnNAMS44LjExX0ByZWFjdC1uYXRpdmUtYXN5bmMtc3RvcmFnZSthc3luYy1zdG9yYWdlQDIuMi4wX3JlYWN0LV9hODAzMjEyMzg5N2UwNzkzMTM3NDIzMmMzY2M0ZTUzNS9ub2RlX21vZHVsZXMvQHJlb3duL2FwcGtpdC1jb250cm9sbGVycy9kaXN0L2VzbS9zcmMvdXRpbHMvU3dhcEFwaVV0aWwuanM/MDg4OCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBCbG9ja2NoYWluQXBpQ29udHJvbGxlciB9IGZyb20gJy4uL2NvbnRyb2xsZXJzL0Jsb2NrY2hhaW5BcGlDb250cm9sbGVyLmpzJztcbmltcG9ydCB7IENoYWluQ29udHJvbGxlciB9IGZyb20gJy4uL2NvbnRyb2xsZXJzL0NoYWluQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBDb25uZWN0aW9uQ29udHJvbGxlciB9IGZyb20gJy4uL2NvbnRyb2xsZXJzL0Nvbm5lY3Rpb25Db250cm9sbGVyLmpzJztcbmltcG9ydCB7IEJhbGFuY2VVdGlsIH0gZnJvbSAnLi9CYWxhbmNlVXRpbC5qcyc7XG5pbXBvcnQgeyBnZXRBY3RpdmVOZXR3b3JrVG9rZW5BZGRyZXNzIH0gZnJvbSAnLi9DaGFpbkNvbnRyb2xsZXJVdGlsLmpzJztcbi8vIC0tIENvbnRyb2xsZXIgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuZXhwb3J0IGNvbnN0IFN3YXBBcGlVdGlsID0ge1xuICAgIGFzeW5jIGdldFRva2VuTGlzdChjYWlwTmV0d29ya0lkKSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgQmxvY2tjaGFpbkFwaUNvbnRyb2xsZXIuZmV0Y2hTd2FwVG9rZW5zKHtcbiAgICAgICAgICAgIGNoYWluSWQ6IGNhaXBOZXR3b3JrSWRcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHRva2VucyA9IHJlc3BvbnNlPy50b2tlbnM/Lm1hcCh0b2tlbiA9PiAoe1xuICAgICAgICAgICAgLi4udG9rZW4sXG4gICAgICAgICAgICBlaXAyNjEyOiBmYWxzZSxcbiAgICAgICAgICAgIHF1YW50aXR5OiB7XG4gICAgICAgICAgICAgICAgZGVjaW1hbHM6ICcwJyxcbiAgICAgICAgICAgICAgICBudW1lcmljOiAnMCdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwcmljZTogMCxcbiAgICAgICAgICAgIHZhbHVlOiAwXG4gICAgICAgIH0pKSB8fCBbXTtcbiAgICAgICAgcmV0dXJuIHRva2VucztcbiAgICB9LFxuICAgIGFzeW5jIGZldGNoR2FzUHJpY2UoKSB7XG4gICAgICAgIGNvbnN0IGNhaXBOZXR3b3JrID0gQ2hhaW5Db250cm9sbGVyLnN0YXRlLmFjdGl2ZUNhaXBOZXR3b3JrO1xuICAgICAgICBpZiAoIWNhaXBOZXR3b3JrKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgc3dpdGNoIChjYWlwTmV0d29yay5jaGFpbk5hbWVzcGFjZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ3NvbGFuYSc6XG4gICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jYXNlLWRlY2xhcmF0aW9uc1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBsYW1wb3J0c1BlclNpZ25hdHVyZSA9IChhd2FpdCBDb25uZWN0aW9uQ29udHJvbGxlcj8uZXN0aW1hdGVHYXMoeyBjaGFpbk5hbWVzcGFjZTogJ3NvbGFuYScgfSkpPy50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhbmRhcmQ6IGxhbXBvcnRzUGVyU2lnbmF0dXJlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmFzdDogbGFtcG9ydHNQZXJTaWduYXR1cmUsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnN0YW50OiBsYW1wb3J0c1BlclNpZ25hdHVyZVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGNhc2UgJ2VpcDE1NSc6XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IEJsb2NrY2hhaW5BcGlDb250cm9sbGVyLmZldGNoR2FzUHJpY2Uoe1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hhaW5JZDogY2FpcE5ldHdvcmsuY2FpcE5ldHdvcmtJZFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgYXN5bmMgZmV0Y2hTd2FwQWxsb3dhbmNlKHsgdG9rZW5BZGRyZXNzLCB1c2VyQWRkcmVzcywgc291cmNlVG9rZW5BbW91bnQsIHNvdXJjZVRva2VuRGVjaW1hbHMgfSkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IEJsb2NrY2hhaW5BcGlDb250cm9sbGVyLmZldGNoU3dhcEFsbG93YW5jZSh7XG4gICAgICAgICAgICB0b2tlbkFkZHJlc3MsXG4gICAgICAgICAgICB1c2VyQWRkcmVzc1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHJlc3BvbnNlPy5hbGxvd2FuY2UgJiYgc291cmNlVG9rZW5BbW91bnQgJiYgc291cmNlVG9rZW5EZWNpbWFscykge1xuICAgICAgICAgICAgY29uc3QgcGFyc2VkVmFsdWUgPSBDb25uZWN0aW9uQ29udHJvbGxlci5wYXJzZVVuaXRzKHNvdXJjZVRva2VuQW1vdW50LCBzb3VyY2VUb2tlbkRlY2ltYWxzKSB8fCAwO1xuICAgICAgICAgICAgY29uc3QgaGFzQWxsb3dhbmNlID0gQmlnSW50KHJlc3BvbnNlLmFsbG93YW5jZSkgPj0gcGFyc2VkVmFsdWU7XG4gICAgICAgICAgICByZXR1cm4gaGFzQWxsb3dhbmNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9LFxuICAgIGFzeW5jIGdldE15VG9rZW5zV2l0aEJhbGFuY2UoZm9yY2VVcGRhdGUpIHtcbiAgICAgICAgY29uc3QgYmFsYW5jZXMgPSBhd2FpdCBCYWxhbmNlVXRpbC5nZXRNeVRva2Vuc1dpdGhCYWxhbmNlKGZvcmNlVXBkYXRlKTtcbiAgICAgICAgQ2hhaW5Db250cm9sbGVyLnNldEFjY291bnRQcm9wKCd0b2tlbkJhbGFuY2UnLCBiYWxhbmNlcywgQ2hhaW5Db250cm9sbGVyLnN0YXRlLmFjdGl2ZUNoYWluKTtcbiAgICAgICAgcmV0dXJuIHRoaXMubWFwQmFsYW5jZXNUb1N3YXBUb2tlbnMoYmFsYW5jZXMpO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogTWFwcyB0aGUgYmFsYW5jZXMgZnJvbSBCbG9ja2NoYWluIEFQSSB0byBTd2FwVG9rZW5XaXRoQmFsYW5jZSBhcnJheVxuICAgICAqIEBwYXJhbSBiYWxhbmNlc1xuICAgICAqIEByZXR1cm5zIFN3YXBUb2tlbldpdGhCYWxhbmNlW11cbiAgICAgKi9cbiAgICBtYXBCYWxhbmNlc1RvU3dhcFRva2VucyhiYWxhbmNlcykge1xuICAgICAgICByZXR1cm4gKGJhbGFuY2VzPy5tYXAodG9rZW4gPT4gKHtcbiAgICAgICAgICAgIC4uLnRva2VuLFxuICAgICAgICAgICAgYWRkcmVzczogdG9rZW4/LmFkZHJlc3MgPyB0b2tlbi5hZGRyZXNzIDogZ2V0QWN0aXZlTmV0d29ya1Rva2VuQWRkcmVzcygpLFxuICAgICAgICAgICAgZGVjaW1hbHM6IHBhcnNlSW50KHRva2VuLnF1YW50aXR5LmRlY2ltYWxzLCAxMCksXG4gICAgICAgICAgICBsb2dvVXJpOiB0b2tlbi5pY29uVXJsLFxuICAgICAgICAgICAgZWlwMjYxMjogZmFsc2VcbiAgICAgICAgfSkpIHx8IFtdKTtcbiAgICB9LFxuICAgIGFzeW5jIGhhbmRsZVN3YXBFcnJvcihlcnJvcikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgY2F1c2UgPSBlcnJvcj8uY2F1c2U7XG4gICAgICAgICAgICBpZiAoIWNhdXNlPy5qc29uKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgY2F1c2UuanNvbigpO1xuICAgICAgICAgICAgY29uc3QgcmVhc29uID0gcmVzcG9uc2U/LnJlYXNvbnM/LlswXT8uZGVzY3JpcHRpb247XG4gICAgICAgICAgICBpZiAocmVhc29uPy5pbmNsdWRlcygnaW5zdWZmaWNpZW50IGxpcXVpZGl0eScpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdJbnN1ZmZpY2llbnQgbGlxdWlkaXR5JztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Td2FwQXBpVXRpbC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/SwapApiUtil.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/SwapCalculationUtil.js":
/*!**************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/SwapCalculationUtil.js ***!
  \**************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SwapCalculationUtil: () => (/* binding */ SwapCalculationUtil)\n/* harmony export */ });\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @reown/appkit-common */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-common@1.8.11_bufferutil@4.0.9_typescript@5.9.3_utf-8-validate@5.0.10_zod@4.1.12/node_modules/@reown/appkit-common/dist/esm/src/utils/NumberUtil.js\");\n// -- Types --------------------------------------------- //\n\n// -- Util ---------------------------------------- //\nconst SwapCalculationUtil = {\n    getGasPriceInEther(gas, gasPrice) {\n        const totalGasCostInWei = gasPrice * gas;\n        const totalGasCostInEther = Number(totalGasCostInWei) / 1e18;\n        return totalGasCostInEther;\n    },\n    getGasPriceInUSD(networkPrice, gas, gasPrice) {\n        const totalGasCostInEther = SwapCalculationUtil.getGasPriceInEther(gas, gasPrice);\n        const networkPriceInUSD = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.NumberUtil.bigNumber(networkPrice);\n        const gasCostInUSD = networkPriceInUSD.times(totalGasCostInEther);\n        return gasCostInUSD.toNumber();\n    },\n    getPriceImpact({ sourceTokenAmount, sourceTokenPriceInUSD, toTokenPriceInUSD, toTokenAmount }) {\n        const inputValue = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.NumberUtil.bigNumber(sourceTokenAmount).times(sourceTokenPriceInUSD);\n        const outputValue = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.NumberUtil.bigNumber(toTokenAmount).times(toTokenPriceInUSD);\n        const priceImpact = inputValue.minus(outputValue).div(inputValue).times(100);\n        return priceImpact.toNumber();\n    },\n    getMaxSlippage(slippage, toTokenAmount) {\n        const slippageToleranceDecimal = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.NumberUtil.bigNumber(slippage).div(100);\n        const maxSlippageAmount = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.NumberUtil.multiply(toTokenAmount, slippageToleranceDecimal);\n        return maxSlippageAmount.toNumber();\n    },\n    getProviderFee(sourceTokenAmount, feePercentage = 0.0085) {\n        const providerFee = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.NumberUtil.bigNumber(sourceTokenAmount).times(feePercentage);\n        return providerFee.toString();\n    },\n    isInsufficientNetworkTokenForGas(networkBalanceInUSD, gasPriceInUSD) {\n        const gasPrice = gasPriceInUSD || '0';\n        if (_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.NumberUtil.bigNumber(networkBalanceInUSD).eq(0)) {\n            return true;\n        }\n        return _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.NumberUtil.bigNumber(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.NumberUtil.bigNumber(gasPrice)).gt(networkBalanceInUSD);\n    },\n    isInsufficientSourceTokenForSwap(sourceTokenAmount, sourceTokenAddress, balance) {\n        const sourceTokenBalance = balance?.find(token => token.address === sourceTokenAddress)\n            ?.quantity?.numeric;\n        const isInSufficientBalance = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.NumberUtil.bigNumber(sourceTokenBalance || '0').lt(sourceTokenAmount);\n        return isInSufficientBalance;\n    }\n};\n//# sourceMappingURL=SwapCalculationUtil.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTFfQHJlYWN0LW5hdGl2ZS1hc3luYy1zdG9yYWdlK2FzeW5jLXN0b3JhZ2VAMi4yLjBfcmVhY3QtX2E4MDMyMTIzODk3ZTA3OTMxMzc0MjMyYzNjYzRlNTM1L25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy91dGlscy9Td2FwQ2FsY3VsYXRpb25VdGlsLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDa0Q7QUFDbEQ7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxrQ0FBa0MsNERBQVU7QUFDNUM7QUFDQTtBQUNBLEtBQUs7QUFDTCxxQkFBcUIsNEVBQTRFO0FBQ2pHLDJCQUEyQiw0REFBVTtBQUNyQyw0QkFBNEIsNERBQVU7QUFDdEM7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLHlDQUF5Qyw0REFBVTtBQUNuRCxrQ0FBa0MsNERBQVU7QUFDNUM7QUFDQSxLQUFLO0FBQ0w7QUFDQSw0QkFBNEIsNERBQVU7QUFDdEM7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVksNERBQVU7QUFDdEI7QUFDQTtBQUNBLGVBQWUsNERBQVUsV0FBVyw0REFBVTtBQUM5QyxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLDREQUFVO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm9nZ2xyLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0ByZW93bithcHBraXQtY29udHJvbGxlcnNAMS44LjExX0ByZWFjdC1uYXRpdmUtYXN5bmMtc3RvcmFnZSthc3luYy1zdG9yYWdlQDIuMi4wX3JlYWN0LV9hODAzMjEyMzg5N2UwNzkzMTM3NDIzMmMzY2M0ZTUzNS9ub2RlX21vZHVsZXMvQHJlb3duL2FwcGtpdC1jb250cm9sbGVycy9kaXN0L2VzbS9zcmMvdXRpbHMvU3dhcENhbGN1bGF0aW9uVXRpbC5qcz8yZmZhIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIC0tIFR5cGVzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuaW1wb3J0IHsgTnVtYmVyVXRpbCB9IGZyb20gJ0ByZW93bi9hcHBraXQtY29tbW9uJztcbi8vIC0tIFV0aWwgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuZXhwb3J0IGNvbnN0IFN3YXBDYWxjdWxhdGlvblV0aWwgPSB7XG4gICAgZ2V0R2FzUHJpY2VJbkV0aGVyKGdhcywgZ2FzUHJpY2UpIHtcbiAgICAgICAgY29uc3QgdG90YWxHYXNDb3N0SW5XZWkgPSBnYXNQcmljZSAqIGdhcztcbiAgICAgICAgY29uc3QgdG90YWxHYXNDb3N0SW5FdGhlciA9IE51bWJlcih0b3RhbEdhc0Nvc3RJbldlaSkgLyAxZTE4O1xuICAgICAgICByZXR1cm4gdG90YWxHYXNDb3N0SW5FdGhlcjtcbiAgICB9LFxuICAgIGdldEdhc1ByaWNlSW5VU0QobmV0d29ya1ByaWNlLCBnYXMsIGdhc1ByaWNlKSB7XG4gICAgICAgIGNvbnN0IHRvdGFsR2FzQ29zdEluRXRoZXIgPSBTd2FwQ2FsY3VsYXRpb25VdGlsLmdldEdhc1ByaWNlSW5FdGhlcihnYXMsIGdhc1ByaWNlKTtcbiAgICAgICAgY29uc3QgbmV0d29ya1ByaWNlSW5VU0QgPSBOdW1iZXJVdGlsLmJpZ051bWJlcihuZXR3b3JrUHJpY2UpO1xuICAgICAgICBjb25zdCBnYXNDb3N0SW5VU0QgPSBuZXR3b3JrUHJpY2VJblVTRC50aW1lcyh0b3RhbEdhc0Nvc3RJbkV0aGVyKTtcbiAgICAgICAgcmV0dXJuIGdhc0Nvc3RJblVTRC50b051bWJlcigpO1xuICAgIH0sXG4gICAgZ2V0UHJpY2VJbXBhY3QoeyBzb3VyY2VUb2tlbkFtb3VudCwgc291cmNlVG9rZW5QcmljZUluVVNELCB0b1Rva2VuUHJpY2VJblVTRCwgdG9Ub2tlbkFtb3VudCB9KSB7XG4gICAgICAgIGNvbnN0IGlucHV0VmFsdWUgPSBOdW1iZXJVdGlsLmJpZ051bWJlcihzb3VyY2VUb2tlbkFtb3VudCkudGltZXMoc291cmNlVG9rZW5QcmljZUluVVNEKTtcbiAgICAgICAgY29uc3Qgb3V0cHV0VmFsdWUgPSBOdW1iZXJVdGlsLmJpZ051bWJlcih0b1Rva2VuQW1vdW50KS50aW1lcyh0b1Rva2VuUHJpY2VJblVTRCk7XG4gICAgICAgIGNvbnN0IHByaWNlSW1wYWN0ID0gaW5wdXRWYWx1ZS5taW51cyhvdXRwdXRWYWx1ZSkuZGl2KGlucHV0VmFsdWUpLnRpbWVzKDEwMCk7XG4gICAgICAgIHJldHVybiBwcmljZUltcGFjdC50b051bWJlcigpO1xuICAgIH0sXG4gICAgZ2V0TWF4U2xpcHBhZ2Uoc2xpcHBhZ2UsIHRvVG9rZW5BbW91bnQpIHtcbiAgICAgICAgY29uc3Qgc2xpcHBhZ2VUb2xlcmFuY2VEZWNpbWFsID0gTnVtYmVyVXRpbC5iaWdOdW1iZXIoc2xpcHBhZ2UpLmRpdigxMDApO1xuICAgICAgICBjb25zdCBtYXhTbGlwcGFnZUFtb3VudCA9IE51bWJlclV0aWwubXVsdGlwbHkodG9Ub2tlbkFtb3VudCwgc2xpcHBhZ2VUb2xlcmFuY2VEZWNpbWFsKTtcbiAgICAgICAgcmV0dXJuIG1heFNsaXBwYWdlQW1vdW50LnRvTnVtYmVyKCk7XG4gICAgfSxcbiAgICBnZXRQcm92aWRlckZlZShzb3VyY2VUb2tlbkFtb3VudCwgZmVlUGVyY2VudGFnZSA9IDAuMDA4NSkge1xuICAgICAgICBjb25zdCBwcm92aWRlckZlZSA9IE51bWJlclV0aWwuYmlnTnVtYmVyKHNvdXJjZVRva2VuQW1vdW50KS50aW1lcyhmZWVQZXJjZW50YWdlKTtcbiAgICAgICAgcmV0dXJuIHByb3ZpZGVyRmVlLnRvU3RyaW5nKCk7XG4gICAgfSxcbiAgICBpc0luc3VmZmljaWVudE5ldHdvcmtUb2tlbkZvckdhcyhuZXR3b3JrQmFsYW5jZUluVVNELCBnYXNQcmljZUluVVNEKSB7XG4gICAgICAgIGNvbnN0IGdhc1ByaWNlID0gZ2FzUHJpY2VJblVTRCB8fCAnMCc7XG4gICAgICAgIGlmIChOdW1iZXJVdGlsLmJpZ051bWJlcihuZXR3b3JrQmFsYW5jZUluVVNEKS5lcSgwKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE51bWJlclV0aWwuYmlnTnVtYmVyKE51bWJlclV0aWwuYmlnTnVtYmVyKGdhc1ByaWNlKSkuZ3QobmV0d29ya0JhbGFuY2VJblVTRCk7XG4gICAgfSxcbiAgICBpc0luc3VmZmljaWVudFNvdXJjZVRva2VuRm9yU3dhcChzb3VyY2VUb2tlbkFtb3VudCwgc291cmNlVG9rZW5BZGRyZXNzLCBiYWxhbmNlKSB7XG4gICAgICAgIGNvbnN0IHNvdXJjZVRva2VuQmFsYW5jZSA9IGJhbGFuY2U/LmZpbmQodG9rZW4gPT4gdG9rZW4uYWRkcmVzcyA9PT0gc291cmNlVG9rZW5BZGRyZXNzKVxuICAgICAgICAgICAgPy5xdWFudGl0eT8ubnVtZXJpYztcbiAgICAgICAgY29uc3QgaXNJblN1ZmZpY2llbnRCYWxhbmNlID0gTnVtYmVyVXRpbC5iaWdOdW1iZXIoc291cmNlVG9rZW5CYWxhbmNlIHx8ICcwJykubHQoc291cmNlVG9rZW5BbW91bnQpO1xuICAgICAgICByZXR1cm4gaXNJblN1ZmZpY2llbnRCYWxhbmNlO1xuICAgIH1cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Td2FwQ2FsY3VsYXRpb25VdGlsLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/SwapCalculationUtil.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ViemUtil.js":
/*!***************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ViemUtil.js ***!
  \***************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ViemUtil: () => (/* binding */ ViemUtil)\n/* harmony export */ });\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @reown/appkit-common */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-common@1.8.11_bufferutil@4.0.9_typescript@5.9.3_utf-8-validate@5.0.10_zod@4.1.12/node_modules/@reown/appkit-common/dist/esm/src/utils/ParseUtil.js\");\n/* harmony import */ var _controllers_OptionsController_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../controllers/OptionsController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/OptionsController.js\");\n\n\n\n// -- Constants ----------------------------------------------------------------\nlet cachedViemUtils = undefined;\n// -- Helpers ------------------------------------------------------------------\nasync function loadViemUtils() {\n    if (!cachedViemUtils) {\n        const { createPublicClient, http, defineChain } = await Promise.all(/*! import() */[__webpack_require__.e(\"vendor-chunks/viem@2.38.6_bufferutil@4.0.9_typescript@5.9.3_utf-8-validate@5.0.10_zod@4.1.12\"), __webpack_require__.e(\"vendor-chunks/ox@0.9.6_typescript@5.9.3_zod@4.1.12\"), __webpack_require__.e(\"vendor-chunks/abitype@1.1.0_typescript@5.9.3_zod@4.1.12\")]).then(__webpack_require__.bind(__webpack_require__, /*! viem */ \"(ssr)/./node_modules/.pnpm/viem@2.38.6_bufferutil@4.0.9_typescript@5.9.3_utf-8-validate@5.0.10_zod@4.1.12/node_modules/viem/_esm/index.js\"));\n        cachedViemUtils = {\n            createPublicClient,\n            http,\n            defineChain\n        };\n    }\n    return cachedViemUtils;\n}\n// -- Utils --------------------------------------------------------------------\nconst ViemUtil = {\n    getBlockchainApiRpcUrl(caipNetworkId, projectId) {\n        const url = new URL('https://rpc.walletconnect.org/v1/');\n        url.searchParams.set('chainId', caipNetworkId);\n        url.searchParams.set('projectId', projectId);\n        return url.toString();\n    },\n    async getViemChain(caipNetwork) {\n        const { defineChain } = await loadViemUtils();\n        const { chainId } = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.ParseUtil.parseCaipNetworkId(caipNetwork.caipNetworkId);\n        return defineChain({ ...caipNetwork, id: Number(chainId) });\n    },\n    async createViemPublicClient(caipNetwork) {\n        const { createPublicClient, http } = await loadViemUtils();\n        const projectId = _controllers_OptionsController_js__WEBPACK_IMPORTED_MODULE_1__.OptionsController.state.projectId;\n        const viemChain = await ViemUtil.getViemChain(caipNetwork);\n        if (!viemChain) {\n            throw new Error(`Chain ${caipNetwork.caipNetworkId} not found in viem/chains`);\n        }\n        return createPublicClient({\n            chain: viemChain,\n            transport: http(ViemUtil.getBlockchainApiRpcUrl(caipNetwork.caipNetworkId, projectId))\n        });\n    }\n};\n//# sourceMappingURL=ViemUtil.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTFfQHJlYWN0LW5hdGl2ZS1hc3luYy1zdG9yYWdlK2FzeW5jLXN0b3JhZ2VAMi4yLjBfcmVhY3QtX2E4MDMyMTIzODk3ZTA3OTMxMzc0MjMyYzNjYzRlNTM1L25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy91dGlscy9WaWVtVXRpbC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBc0I7QUFDMkI7QUFDdUI7QUFDeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQix3Q0FBd0MsUUFBUSwrZkFBYztBQUM5RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxnQkFBZ0IsY0FBYztBQUM5QixnQkFBZ0IsVUFBVSxFQUFFLDJEQUFTO0FBQ3JDLDZCQUE2QixxQ0FBcUM7QUFDbEUsS0FBSztBQUNMO0FBQ0EsZ0JBQWdCLDJCQUEyQjtBQUMzQywwQkFBMEIsZ0ZBQWlCO0FBQzNDO0FBQ0E7QUFDQSxxQ0FBcUMsMkJBQTJCO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL25vZ2dsci8uL25vZGVfbW9kdWxlcy8ucG5wbS9AcmVvd24rYXBwa2l0LWNvbnRyb2xsZXJzQDEuOC4xMV9AcmVhY3QtbmF0aXZlLWFzeW5jLXN0b3JhZ2UrYXN5bmMtc3RvcmFnZUAyLjIuMF9yZWFjdC1fYTgwMzIxMjM4OTdlMDc5MzEzNzQyMzJjM2NjNGU1MzUvbm9kZV9tb2R1bGVzL0ByZW93bi9hcHBraXQtY29udHJvbGxlcnMvZGlzdC9lc20vc3JjL3V0aWxzL1ZpZW1VdGlsLmpzPzE3NDkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHt9IGZyb20gJ3ZpZW0nO1xuaW1wb3J0IHsgUGFyc2VVdGlsIH0gZnJvbSAnQHJlb3duL2FwcGtpdC1jb21tb24nO1xuaW1wb3J0IHsgT3B0aW9uc0NvbnRyb2xsZXIgfSBmcm9tICcuLi9jb250cm9sbGVycy9PcHRpb25zQ29udHJvbGxlci5qcyc7XG4vLyAtLSBDb25zdGFudHMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxubGV0IGNhY2hlZFZpZW1VdGlscyA9IHVuZGVmaW5lZDtcbi8vIC0tIEhlbHBlcnMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5hc3luYyBmdW5jdGlvbiBsb2FkVmllbVV0aWxzKCkge1xuICAgIGlmICghY2FjaGVkVmllbVV0aWxzKSB7XG4gICAgICAgIGNvbnN0IHsgY3JlYXRlUHVibGljQ2xpZW50LCBodHRwLCBkZWZpbmVDaGFpbiB9ID0gYXdhaXQgaW1wb3J0KCd2aWVtJyk7XG4gICAgICAgIGNhY2hlZFZpZW1VdGlscyA9IHtcbiAgICAgICAgICAgIGNyZWF0ZVB1YmxpY0NsaWVudCxcbiAgICAgICAgICAgIGh0dHAsXG4gICAgICAgICAgICBkZWZpbmVDaGFpblxuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gY2FjaGVkVmllbVV0aWxzO1xufVxuLy8gLS0gVXRpbHMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmV4cG9ydCBjb25zdCBWaWVtVXRpbCA9IHtcbiAgICBnZXRCbG9ja2NoYWluQXBpUnBjVXJsKGNhaXBOZXR3b3JrSWQsIHByb2plY3RJZCkge1xuICAgICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKCdodHRwczovL3JwYy53YWxsZXRjb25uZWN0Lm9yZy92MS8nKTtcbiAgICAgICAgdXJsLnNlYXJjaFBhcmFtcy5zZXQoJ2NoYWluSWQnLCBjYWlwTmV0d29ya0lkKTtcbiAgICAgICAgdXJsLnNlYXJjaFBhcmFtcy5zZXQoJ3Byb2plY3RJZCcsIHByb2plY3RJZCk7XG4gICAgICAgIHJldHVybiB1cmwudG9TdHJpbmcoKTtcbiAgICB9LFxuICAgIGFzeW5jIGdldFZpZW1DaGFpbihjYWlwTmV0d29yaykge1xuICAgICAgICBjb25zdCB7IGRlZmluZUNoYWluIH0gPSBhd2FpdCBsb2FkVmllbVV0aWxzKCk7XG4gICAgICAgIGNvbnN0IHsgY2hhaW5JZCB9ID0gUGFyc2VVdGlsLnBhcnNlQ2FpcE5ldHdvcmtJZChjYWlwTmV0d29yay5jYWlwTmV0d29ya0lkKTtcbiAgICAgICAgcmV0dXJuIGRlZmluZUNoYWluKHsgLi4uY2FpcE5ldHdvcmssIGlkOiBOdW1iZXIoY2hhaW5JZCkgfSk7XG4gICAgfSxcbiAgICBhc3luYyBjcmVhdGVWaWVtUHVibGljQ2xpZW50KGNhaXBOZXR3b3JrKSB7XG4gICAgICAgIGNvbnN0IHsgY3JlYXRlUHVibGljQ2xpZW50LCBodHRwIH0gPSBhd2FpdCBsb2FkVmllbVV0aWxzKCk7XG4gICAgICAgIGNvbnN0IHByb2plY3RJZCA9IE9wdGlvbnNDb250cm9sbGVyLnN0YXRlLnByb2plY3RJZDtcbiAgICAgICAgY29uc3QgdmllbUNoYWluID0gYXdhaXQgVmllbVV0aWwuZ2V0VmllbUNoYWluKGNhaXBOZXR3b3JrKTtcbiAgICAgICAgaWYgKCF2aWVtQ2hhaW4pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2hhaW4gJHtjYWlwTmV0d29yay5jYWlwTmV0d29ya0lkfSBub3QgZm91bmQgaW4gdmllbS9jaGFpbnNgKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY3JlYXRlUHVibGljQ2xpZW50KHtcbiAgICAgICAgICAgIGNoYWluOiB2aWVtQ2hhaW4sXG4gICAgICAgICAgICB0cmFuc3BvcnQ6IGh0dHAoVmllbVV0aWwuZ2V0QmxvY2tjaGFpbkFwaVJwY1VybChjYWlwTmV0d29yay5jYWlwTmV0d29ya0lkLCBwcm9qZWN0SWQpKVxuICAgICAgICB9KTtcbiAgICB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VmllbVV0aWwuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ViemUtil.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/WalletConnectUtil.js":
/*!************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/WalletConnectUtil.js ***!
  \************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DEFAULT_METHODS: () => (/* binding */ DEFAULT_METHODS),\n/* harmony export */   WcHelpersUtil: () => (/* binding */ WcHelpersUtil)\n/* harmony export */ });\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @reown/appkit-common */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-common@1.8.11_bufferutil@4.0.9_typescript@5.9.3_utf-8-validate@5.0.10_zod@4.1.12/node_modules/@reown/appkit-common/dist/esm/src/utils/ParseUtil.js\");\n/* harmony import */ var _controllers_EnsController_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../controllers/EnsController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/EnsController.js\");\n\n\nconst DEFAULT_METHODS = {\n    solana: [\n        'solana_signMessage',\n        'solana_signTransaction',\n        'solana_requestAccounts',\n        'solana_getAccounts',\n        'solana_signAllTransactions',\n        'solana_signAndSendTransaction'\n    ],\n    eip155: [\n        'eth_accounts',\n        'eth_requestAccounts',\n        'eth_sendRawTransaction',\n        'eth_sign',\n        'eth_signTransaction',\n        'eth_signTypedData',\n        'eth_signTypedData_v3',\n        'eth_signTypedData_v4',\n        'eth_sendTransaction',\n        'personal_sign',\n        'wallet_switchEthereumChain',\n        'wallet_addEthereumChain',\n        'wallet_getPermissions',\n        'wallet_requestPermissions',\n        'wallet_registerOnboarding',\n        'wallet_watchAsset',\n        'wallet_scanQRCode',\n        // EIP-5792\n        'wallet_getCallsStatus',\n        'wallet_showCallsStatus',\n        'wallet_sendCalls',\n        'wallet_getCapabilities',\n        // EIP-7715\n        'wallet_grantPermissions',\n        'wallet_revokePermissions',\n        //EIP-7811\n        'wallet_getAssets'\n    ],\n    bip122: ['sendTransfer', 'signMessage', 'signPsbt', 'getAccountAddresses']\n};\nconst WcHelpersUtil = {\n    RPC_ERROR_CODE: {\n        USER_REJECTED: 5000,\n        USER_REJECTED_METHODS: 5002\n    },\n    getMethodsByChainNamespace(chainNamespace) {\n        return DEFAULT_METHODS[chainNamespace] || [];\n    },\n    createDefaultNamespace(chainNamespace) {\n        return {\n            methods: this.getMethodsByChainNamespace(chainNamespace),\n            events: ['accountsChanged', 'chainChanged'],\n            chains: [],\n            rpcMap: {}\n        };\n    },\n    applyNamespaceOverrides(baseNamespaces, overrides) {\n        if (!overrides) {\n            return { ...baseNamespaces };\n        }\n        const result = { ...baseNamespaces };\n        const namespacesToOverride = new Set();\n        if (overrides.methods) {\n            Object.keys(overrides.methods).forEach(ns => namespacesToOverride.add(ns));\n        }\n        if (overrides.chains) {\n            Object.keys(overrides.chains).forEach(ns => namespacesToOverride.add(ns));\n        }\n        if (overrides.events) {\n            Object.keys(overrides.events).forEach(ns => namespacesToOverride.add(ns));\n        }\n        if (overrides.rpcMap) {\n            Object.keys(overrides.rpcMap).forEach(chainId => {\n                const [ns] = chainId.split(':');\n                if (ns) {\n                    namespacesToOverride.add(ns);\n                }\n            });\n        }\n        namespacesToOverride.forEach(ns => {\n            if (!result[ns]) {\n                result[ns] = this.createDefaultNamespace(ns);\n            }\n        });\n        if (overrides.methods) {\n            Object.entries(overrides.methods).forEach(([ns, methods]) => {\n                if (result[ns]) {\n                    result[ns].methods = methods;\n                }\n            });\n        }\n        if (overrides.chains) {\n            Object.entries(overrides.chains).forEach(([ns, chains]) => {\n                if (result[ns]) {\n                    result[ns].chains = chains;\n                }\n            });\n        }\n        if (overrides.events) {\n            Object.entries(overrides.events).forEach(([ns, events]) => {\n                if (result[ns]) {\n                    result[ns].events = events;\n                }\n            });\n        }\n        if (overrides.rpcMap) {\n            const processedNamespaces = new Set();\n            Object.entries(overrides.rpcMap).forEach(([chainId, rpcUrl]) => {\n                const [ns, id] = chainId.split(':');\n                if (!ns || !id || !result[ns]) {\n                    return;\n                }\n                if (!result[ns].rpcMap) {\n                    result[ns].rpcMap = {};\n                }\n                if (!processedNamespaces.has(ns)) {\n                    result[ns].rpcMap = {};\n                    processedNamespaces.add(ns);\n                }\n                result[ns].rpcMap[id] = rpcUrl;\n            });\n        }\n        return result;\n    },\n    createNamespaces(caipNetworks, configOverride) {\n        const defaultNamespaces = caipNetworks.reduce((acc, chain) => {\n            const { id, chainNamespace, rpcUrls } = chain;\n            const rpcUrl = rpcUrls.default.http[0];\n            if (!acc[chainNamespace]) {\n                acc[chainNamespace] = this.createDefaultNamespace(chainNamespace);\n            }\n            const caipNetworkId = `${chainNamespace}:${id}`;\n            // eslint-disable-next-line @typescript-eslint/non-nullable-type-assertion-style\n            const namespace = acc[chainNamespace];\n            namespace.chains.push(caipNetworkId);\n            // Workaround for wallets that only support deprecated Solana network ID\n            switch (caipNetworkId) {\n                case 'solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp':\n                    namespace.chains.push('solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ');\n                    break;\n                case 'solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1':\n                    namespace.chains.push('solana:8E9rvCKLFQia2Y35HXjjpWzj8weVo44K');\n                    break;\n                default:\n            }\n            if (namespace?.rpcMap && rpcUrl) {\n                namespace.rpcMap[id] = rpcUrl;\n            }\n            return acc;\n        }, {});\n        return this.applyNamespaceOverrides(defaultNamespaces, configOverride);\n    },\n    resolveReownName: async (name) => {\n        const wcNameAddress = await _controllers_EnsController_js__WEBPACK_IMPORTED_MODULE_0__.EnsController.resolveName(name);\n        const networkNameAddresses = Object.values(wcNameAddress?.addresses) || [];\n        return networkNameAddresses[0]?.address || false;\n    },\n    getChainsFromNamespaces(namespaces = {}) {\n        return Object.values(namespaces).flatMap(namespace => {\n            const chains = (namespace.chains || []);\n            const accountsChains = namespace.accounts.map(account => {\n                const [chainNamespace, chainId] = account.split(':');\n                return `${chainNamespace}:${chainId}`;\n            });\n            return Array.from(new Set([...chains, ...accountsChains]));\n        });\n    },\n    isSessionEventData(data) {\n        return (typeof data === 'object' &&\n            data !== null &&\n            'id' in data &&\n            'topic' in data &&\n            'params' in data &&\n            typeof data.params === 'object' &&\n            data.params !== null &&\n            'chainId' in data.params &&\n            'event' in data.params &&\n            typeof data.params.event === 'object' &&\n            data.params.event !== null);\n    },\n    isUserRejectedRequestError(error) {\n        try {\n            if (typeof error === 'object' && error !== null) {\n                const objErr = error;\n                const hasCode = typeof objErr['code'] === 'number';\n                const hasUserRejectedMethods = hasCode && objErr['code'] === WcHelpersUtil.RPC_ERROR_CODE.USER_REJECTED_METHODS;\n                const hasUserRejected = hasCode && objErr['code'] === WcHelpersUtil.RPC_ERROR_CODE.USER_REJECTED;\n                return hasUserRejectedMethods || hasUserRejected;\n            }\n            return false;\n        }\n        catch {\n            return false;\n        }\n    },\n    isOriginAllowed(currentOrigin, allowedPatterns, defaultAllowedOrigins) {\n        for (const pattern of [...allowedPatterns, ...defaultAllowedOrigins]) {\n            if (pattern.includes('*')) {\n                // Convert wildcard pattern to regex, escape special chars, replace *, match whole string\n                const escapedPattern = pattern.replace(/[.*+?^${}()|[\\]\\\\]/gu, '\\\\$&');\n                const regexString = `^${escapedPattern.replace(/\\\\\\*/gu, '.*')}$`;\n                const regex = new RegExp(regexString, 'u');\n                if (regex.test(currentOrigin)) {\n                    return true;\n                }\n            }\n            else {\n                /**\n                 * There are some cases where pattern is getting just the origin, where using new URL(pattern).origin will throw an error\n                 * thus we a try catch to handle this case\n                 */\n                try {\n                    if (new URL(pattern).origin === currentOrigin) {\n                        return true;\n                    }\n                }\n                catch (e) {\n                    if (pattern === currentOrigin) {\n                        return true;\n                    }\n                }\n            }\n        }\n        // No match found\n        return false;\n    },\n    listenWcProvider({ universalProvider, namespace, onConnect, onDisconnect, onAccountsChanged, onChainChanged, onDisplayUri }) {\n        if (onConnect) {\n            universalProvider.on('connect', () => {\n                const accounts = WcHelpersUtil.getWalletConnectAccounts(universalProvider, namespace);\n                onConnect(accounts);\n            });\n        }\n        if (onDisconnect) {\n            universalProvider.on('disconnect', () => {\n                onDisconnect();\n            });\n        }\n        if (onAccountsChanged) {\n            /*\n             * In multichain scenario - every adapter will listen to accountsChanged event\n             * so make sure to call `onAccountsChanged` only on the namespace that actually has accounts changed\n             */\n            universalProvider.on('accountsChanged', (accounts) => {\n                try {\n                    const allAccounts = universalProvider.session?.namespaces?.[namespace]?.accounts || [];\n                    const defaultChain = universalProvider.rpcProviders?.[namespace]?.getDefaultChain();\n                    const parsedAccounts = accounts\n                        .map(account => {\n                        const caipAccount = allAccounts.find(acc => acc.includes(`${namespace}:${defaultChain}:${account}`));\n                        if (!caipAccount) {\n                            return undefined;\n                        }\n                        const { chainId, chainNamespace } = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_1__.ParseUtil.parseCaipAddress(caipAccount);\n                        return {\n                            address: account,\n                            chainId,\n                            chainNamespace\n                        };\n                    })\n                        .filter(account => account !== undefined);\n                    // Emit accountsChanged event only if there are accounts\n                    if (parsedAccounts.length > 0) {\n                        onAccountsChanged(parsedAccounts);\n                    }\n                }\n                catch (error) {\n                    console.warn('Failed to parse accounts for namespace on accountsChanged event', namespace, accounts, error);\n                }\n            });\n        }\n        if (onChainChanged) {\n            universalProvider.on('chainChanged', (chainId) => {\n                onChainChanged(chainId);\n            });\n        }\n        if (onDisplayUri) {\n            universalProvider.on('display_uri', (uri) => {\n                onDisplayUri(uri);\n            });\n        }\n    },\n    getWalletConnectAccounts(universalProvider, namespace) {\n        const accountsAdded = new Set();\n        const accounts = universalProvider?.session?.namespaces?.[namespace]?.accounts\n            ?.map(account => _reown_appkit_common__WEBPACK_IMPORTED_MODULE_1__.ParseUtil.parseCaipAddress(account))\n            .filter(({ address }) => {\n            if (accountsAdded.has(address.toLowerCase())) {\n                return false;\n            }\n            accountsAdded.add(address.toLowerCase());\n            return true;\n        });\n        if (accounts && accounts.length > 0) {\n            return accounts;\n        }\n        return [];\n    }\n};\n//# sourceMappingURL=WalletConnectUtil.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTFfQHJlYWN0LW5hdGl2ZS1hc3luYy1zdG9yYWdlK2FzeW5jLXN0b3JhZ2VAMi4yLjBfcmVhY3QtX2E4MDMyMTIzODk3ZTA3OTMxMzc0MjMyYzNjYzRlNTM1L25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy91dGlscy9XYWxsZXRDb25uZWN0VXRpbC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQWlEO0FBQ2U7QUFDekQ7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0Esb0JBQW9CLDhCQUE4QjtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyxlQUFlLEdBQUcsR0FBRztBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxJQUFJO0FBQ2I7QUFDQSxLQUFLO0FBQ0w7QUFDQSxvQ0FBb0Msd0VBQWE7QUFDakQ7QUFDQTtBQUNBLEtBQUs7QUFDTCwyQ0FBMkM7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsZUFBZSxHQUFHLFFBQVE7QUFDcEQsYUFBYTtBQUNiO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlFQUFpRTtBQUNqRSx3Q0FBd0MsdUNBQXVDO0FBQy9FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCx1QkFBdUIsd0dBQXdHO0FBQy9IO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9GQUFvRixVQUFVLEdBQUcsYUFBYSxHQUFHLFFBQVE7QUFDekg7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLDBCQUEwQixFQUFFLDJEQUFTO0FBQ3JFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QiwyREFBUztBQUN0Qyx1QkFBdUIsU0FBUztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm9nZ2xyLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0ByZW93bithcHBraXQtY29udHJvbGxlcnNAMS44LjExX0ByZWFjdC1uYXRpdmUtYXN5bmMtc3RvcmFnZSthc3luYy1zdG9yYWdlQDIuMi4wX3JlYWN0LV9hODAzMjEyMzg5N2UwNzkzMTM3NDIzMmMzY2M0ZTUzNS9ub2RlX21vZHVsZXMvQHJlb3duL2FwcGtpdC1jb250cm9sbGVycy9kaXN0L2VzbS9zcmMvdXRpbHMvV2FsbGV0Q29ubmVjdFV0aWwuanM/ZDBkYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYXJzZVV0aWwgfSBmcm9tICdAcmVvd24vYXBwa2l0LWNvbW1vbic7XG5pbXBvcnQgeyBFbnNDb250cm9sbGVyIH0gZnJvbSAnLi4vY29udHJvbGxlcnMvRW5zQ29udHJvbGxlci5qcyc7XG5leHBvcnQgY29uc3QgREVGQVVMVF9NRVRIT0RTID0ge1xuICAgIHNvbGFuYTogW1xuICAgICAgICAnc29sYW5hX3NpZ25NZXNzYWdlJyxcbiAgICAgICAgJ3NvbGFuYV9zaWduVHJhbnNhY3Rpb24nLFxuICAgICAgICAnc29sYW5hX3JlcXVlc3RBY2NvdW50cycsXG4gICAgICAgICdzb2xhbmFfZ2V0QWNjb3VudHMnLFxuICAgICAgICAnc29sYW5hX3NpZ25BbGxUcmFuc2FjdGlvbnMnLFxuICAgICAgICAnc29sYW5hX3NpZ25BbmRTZW5kVHJhbnNhY3Rpb24nXG4gICAgXSxcbiAgICBlaXAxNTU6IFtcbiAgICAgICAgJ2V0aF9hY2NvdW50cycsXG4gICAgICAgICdldGhfcmVxdWVzdEFjY291bnRzJyxcbiAgICAgICAgJ2V0aF9zZW5kUmF3VHJhbnNhY3Rpb24nLFxuICAgICAgICAnZXRoX3NpZ24nLFxuICAgICAgICAnZXRoX3NpZ25UcmFuc2FjdGlvbicsXG4gICAgICAgICdldGhfc2lnblR5cGVkRGF0YScsXG4gICAgICAgICdldGhfc2lnblR5cGVkRGF0YV92MycsXG4gICAgICAgICdldGhfc2lnblR5cGVkRGF0YV92NCcsXG4gICAgICAgICdldGhfc2VuZFRyYW5zYWN0aW9uJyxcbiAgICAgICAgJ3BlcnNvbmFsX3NpZ24nLFxuICAgICAgICAnd2FsbGV0X3N3aXRjaEV0aGVyZXVtQ2hhaW4nLFxuICAgICAgICAnd2FsbGV0X2FkZEV0aGVyZXVtQ2hhaW4nLFxuICAgICAgICAnd2FsbGV0X2dldFBlcm1pc3Npb25zJyxcbiAgICAgICAgJ3dhbGxldF9yZXF1ZXN0UGVybWlzc2lvbnMnLFxuICAgICAgICAnd2FsbGV0X3JlZ2lzdGVyT25ib2FyZGluZycsXG4gICAgICAgICd3YWxsZXRfd2F0Y2hBc3NldCcsXG4gICAgICAgICd3YWxsZXRfc2NhblFSQ29kZScsXG4gICAgICAgIC8vIEVJUC01NzkyXG4gICAgICAgICd3YWxsZXRfZ2V0Q2FsbHNTdGF0dXMnLFxuICAgICAgICAnd2FsbGV0X3Nob3dDYWxsc1N0YXR1cycsXG4gICAgICAgICd3YWxsZXRfc2VuZENhbGxzJyxcbiAgICAgICAgJ3dhbGxldF9nZXRDYXBhYmlsaXRpZXMnLFxuICAgICAgICAvLyBFSVAtNzcxNVxuICAgICAgICAnd2FsbGV0X2dyYW50UGVybWlzc2lvbnMnLFxuICAgICAgICAnd2FsbGV0X3Jldm9rZVBlcm1pc3Npb25zJyxcbiAgICAgICAgLy9FSVAtNzgxMVxuICAgICAgICAnd2FsbGV0X2dldEFzc2V0cydcbiAgICBdLFxuICAgIGJpcDEyMjogWydzZW5kVHJhbnNmZXInLCAnc2lnbk1lc3NhZ2UnLCAnc2lnblBzYnQnLCAnZ2V0QWNjb3VudEFkZHJlc3NlcyddXG59O1xuZXhwb3J0IGNvbnN0IFdjSGVscGVyc1V0aWwgPSB7XG4gICAgUlBDX0VSUk9SX0NPREU6IHtcbiAgICAgICAgVVNFUl9SRUpFQ1RFRDogNTAwMCxcbiAgICAgICAgVVNFUl9SRUpFQ1RFRF9NRVRIT0RTOiA1MDAyXG4gICAgfSxcbiAgICBnZXRNZXRob2RzQnlDaGFpbk5hbWVzcGFjZShjaGFpbk5hbWVzcGFjZSkge1xuICAgICAgICByZXR1cm4gREVGQVVMVF9NRVRIT0RTW2NoYWluTmFtZXNwYWNlXSB8fCBbXTtcbiAgICB9LFxuICAgIGNyZWF0ZURlZmF1bHROYW1lc3BhY2UoY2hhaW5OYW1lc3BhY2UpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1ldGhvZHM6IHRoaXMuZ2V0TWV0aG9kc0J5Q2hhaW5OYW1lc3BhY2UoY2hhaW5OYW1lc3BhY2UpLFxuICAgICAgICAgICAgZXZlbnRzOiBbJ2FjY291bnRzQ2hhbmdlZCcsICdjaGFpbkNoYW5nZWQnXSxcbiAgICAgICAgICAgIGNoYWluczogW10sXG4gICAgICAgICAgICBycGNNYXA6IHt9XG4gICAgICAgIH07XG4gICAgfSxcbiAgICBhcHBseU5hbWVzcGFjZU92ZXJyaWRlcyhiYXNlTmFtZXNwYWNlcywgb3ZlcnJpZGVzKSB7XG4gICAgICAgIGlmICghb3ZlcnJpZGVzKSB7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5iYXNlTmFtZXNwYWNlcyB9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHsgLi4uYmFzZU5hbWVzcGFjZXMgfTtcbiAgICAgICAgY29uc3QgbmFtZXNwYWNlc1RvT3ZlcnJpZGUgPSBuZXcgU2V0KCk7XG4gICAgICAgIGlmIChvdmVycmlkZXMubWV0aG9kcykge1xuICAgICAgICAgICAgT2JqZWN0LmtleXMob3ZlcnJpZGVzLm1ldGhvZHMpLmZvckVhY2gobnMgPT4gbmFtZXNwYWNlc1RvT3ZlcnJpZGUuYWRkKG5zKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG92ZXJyaWRlcy5jaGFpbnMpIHtcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKG92ZXJyaWRlcy5jaGFpbnMpLmZvckVhY2gobnMgPT4gbmFtZXNwYWNlc1RvT3ZlcnJpZGUuYWRkKG5zKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG92ZXJyaWRlcy5ldmVudHMpIHtcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKG92ZXJyaWRlcy5ldmVudHMpLmZvckVhY2gobnMgPT4gbmFtZXNwYWNlc1RvT3ZlcnJpZGUuYWRkKG5zKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG92ZXJyaWRlcy5ycGNNYXApIHtcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKG92ZXJyaWRlcy5ycGNNYXApLmZvckVhY2goY2hhaW5JZCA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgW25zXSA9IGNoYWluSWQuc3BsaXQoJzonKTtcbiAgICAgICAgICAgICAgICBpZiAobnMpIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZXNwYWNlc1RvT3ZlcnJpZGUuYWRkKG5zKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBuYW1lc3BhY2VzVG9PdmVycmlkZS5mb3JFYWNoKG5zID0+IHtcbiAgICAgICAgICAgIGlmICghcmVzdWx0W25zXSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdFtuc10gPSB0aGlzLmNyZWF0ZURlZmF1bHROYW1lc3BhY2UobnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKG92ZXJyaWRlcy5tZXRob2RzKSB7XG4gICAgICAgICAgICBPYmplY3QuZW50cmllcyhvdmVycmlkZXMubWV0aG9kcykuZm9yRWFjaCgoW25zLCBtZXRob2RzXSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHRbbnNdKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdFtuc10ubWV0aG9kcyA9IG1ldGhvZHM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG92ZXJyaWRlcy5jaGFpbnMpIHtcbiAgICAgICAgICAgIE9iamVjdC5lbnRyaWVzKG92ZXJyaWRlcy5jaGFpbnMpLmZvckVhY2goKFtucywgY2hhaW5zXSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHRbbnNdKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdFtuc10uY2hhaW5zID0gY2hhaW5zO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvdmVycmlkZXMuZXZlbnRzKSB7XG4gICAgICAgICAgICBPYmplY3QuZW50cmllcyhvdmVycmlkZXMuZXZlbnRzKS5mb3JFYWNoKChbbnMsIGV2ZW50c10pID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0W25zXSkge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHRbbnNdLmV2ZW50cyA9IGV2ZW50cztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3ZlcnJpZGVzLnJwY01hcCkge1xuICAgICAgICAgICAgY29uc3QgcHJvY2Vzc2VkTmFtZXNwYWNlcyA9IG5ldyBTZXQoKTtcbiAgICAgICAgICAgIE9iamVjdC5lbnRyaWVzKG92ZXJyaWRlcy5ycGNNYXApLmZvckVhY2goKFtjaGFpbklkLCBycGNVcmxdKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgW25zLCBpZF0gPSBjaGFpbklkLnNwbGl0KCc6Jyk7XG4gICAgICAgICAgICAgICAgaWYgKCFucyB8fCAhaWQgfHwgIXJlc3VsdFtuc10pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIXJlc3VsdFtuc10ucnBjTWFwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdFtuc10ucnBjTWFwID0ge307XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghcHJvY2Vzc2VkTmFtZXNwYWNlcy5oYXMobnMpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdFtuc10ucnBjTWFwID0ge307XG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3NlZE5hbWVzcGFjZXMuYWRkKG5zKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVzdWx0W25zXS5ycGNNYXBbaWRdID0gcnBjVXJsO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9LFxuICAgIGNyZWF0ZU5hbWVzcGFjZXMoY2FpcE5ldHdvcmtzLCBjb25maWdPdmVycmlkZSkge1xuICAgICAgICBjb25zdCBkZWZhdWx0TmFtZXNwYWNlcyA9IGNhaXBOZXR3b3Jrcy5yZWR1Y2UoKGFjYywgY2hhaW4pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgaWQsIGNoYWluTmFtZXNwYWNlLCBycGNVcmxzIH0gPSBjaGFpbjtcbiAgICAgICAgICAgIGNvbnN0IHJwY1VybCA9IHJwY1VybHMuZGVmYXVsdC5odHRwWzBdO1xuICAgICAgICAgICAgaWYgKCFhY2NbY2hhaW5OYW1lc3BhY2VdKSB7XG4gICAgICAgICAgICAgICAgYWNjW2NoYWluTmFtZXNwYWNlXSA9IHRoaXMuY3JlYXRlRGVmYXVsdE5hbWVzcGFjZShjaGFpbk5hbWVzcGFjZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBjYWlwTmV0d29ya0lkID0gYCR7Y2hhaW5OYW1lc3BhY2V9OiR7aWR9YDtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm9uLW51bGxhYmxlLXR5cGUtYXNzZXJ0aW9uLXN0eWxlXG4gICAgICAgICAgICBjb25zdCBuYW1lc3BhY2UgPSBhY2NbY2hhaW5OYW1lc3BhY2VdO1xuICAgICAgICAgICAgbmFtZXNwYWNlLmNoYWlucy5wdXNoKGNhaXBOZXR3b3JrSWQpO1xuICAgICAgICAgICAgLy8gV29ya2Fyb3VuZCBmb3Igd2FsbGV0cyB0aGF0IG9ubHkgc3VwcG9ydCBkZXByZWNhdGVkIFNvbGFuYSBuZXR3b3JrIElEXG4gICAgICAgICAgICBzd2l0Y2ggKGNhaXBOZXR3b3JrSWQpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdzb2xhbmE6NWV5a3Q0VXNGdjhQOE5KZFRSRXBZMXZ6cUtxWkt2ZHAnOlxuICAgICAgICAgICAgICAgICAgICBuYW1lc3BhY2UuY2hhaW5zLnB1c2goJ3NvbGFuYTo0c0dqTVcxc1VuSHpTeEdzcHVocHFMRHg2d2l5ak50WicpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdzb2xhbmE6RXRXVFJBQlphWXE2aU1mZVlLb3VSdTE2NlZVMnhxYTEnOlxuICAgICAgICAgICAgICAgICAgICBuYW1lc3BhY2UuY2hhaW5zLnB1c2goJ3NvbGFuYTo4RTlydkNLTEZRaWEyWTM1SFhqanBXemo4d2VWbzQ0SycpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5hbWVzcGFjZT8ucnBjTWFwICYmIHJwY1VybCkge1xuICAgICAgICAgICAgICAgIG5hbWVzcGFjZS5ycGNNYXBbaWRdID0gcnBjVXJsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgfSwge30pO1xuICAgICAgICByZXR1cm4gdGhpcy5hcHBseU5hbWVzcGFjZU92ZXJyaWRlcyhkZWZhdWx0TmFtZXNwYWNlcywgY29uZmlnT3ZlcnJpZGUpO1xuICAgIH0sXG4gICAgcmVzb2x2ZVJlb3duTmFtZTogYXN5bmMgKG5hbWUpID0+IHtcbiAgICAgICAgY29uc3Qgd2NOYW1lQWRkcmVzcyA9IGF3YWl0IEVuc0NvbnRyb2xsZXIucmVzb2x2ZU5hbWUobmFtZSk7XG4gICAgICAgIGNvbnN0IG5ldHdvcmtOYW1lQWRkcmVzc2VzID0gT2JqZWN0LnZhbHVlcyh3Y05hbWVBZGRyZXNzPy5hZGRyZXNzZXMpIHx8IFtdO1xuICAgICAgICByZXR1cm4gbmV0d29ya05hbWVBZGRyZXNzZXNbMF0/LmFkZHJlc3MgfHwgZmFsc2U7XG4gICAgfSxcbiAgICBnZXRDaGFpbnNGcm9tTmFtZXNwYWNlcyhuYW1lc3BhY2VzID0ge30pIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC52YWx1ZXMobmFtZXNwYWNlcykuZmxhdE1hcChuYW1lc3BhY2UgPT4ge1xuICAgICAgICAgICAgY29uc3QgY2hhaW5zID0gKG5hbWVzcGFjZS5jaGFpbnMgfHwgW10pO1xuICAgICAgICAgICAgY29uc3QgYWNjb3VudHNDaGFpbnMgPSBuYW1lc3BhY2UuYWNjb3VudHMubWFwKGFjY291bnQgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IFtjaGFpbk5hbWVzcGFjZSwgY2hhaW5JZF0gPSBhY2NvdW50LnNwbGl0KCc6Jyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGAke2NoYWluTmFtZXNwYWNlfToke2NoYWluSWR9YDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIEFycmF5LmZyb20obmV3IFNldChbLi4uY2hhaW5zLCAuLi5hY2NvdW50c0NoYWluc10pKTtcbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBpc1Nlc3Npb25FdmVudERhdGEoZGF0YSkge1xuICAgICAgICByZXR1cm4gKHR5cGVvZiBkYXRhID09PSAnb2JqZWN0JyAmJlxuICAgICAgICAgICAgZGF0YSAhPT0gbnVsbCAmJlxuICAgICAgICAgICAgJ2lkJyBpbiBkYXRhICYmXG4gICAgICAgICAgICAndG9waWMnIGluIGRhdGEgJiZcbiAgICAgICAgICAgICdwYXJhbXMnIGluIGRhdGEgJiZcbiAgICAgICAgICAgIHR5cGVvZiBkYXRhLnBhcmFtcyA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgICAgIGRhdGEucGFyYW1zICE9PSBudWxsICYmXG4gICAgICAgICAgICAnY2hhaW5JZCcgaW4gZGF0YS5wYXJhbXMgJiZcbiAgICAgICAgICAgICdldmVudCcgaW4gZGF0YS5wYXJhbXMgJiZcbiAgICAgICAgICAgIHR5cGVvZiBkYXRhLnBhcmFtcy5ldmVudCA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgICAgIGRhdGEucGFyYW1zLmV2ZW50ICE9PSBudWxsKTtcbiAgICB9LFxuICAgIGlzVXNlclJlamVjdGVkUmVxdWVzdEVycm9yKGVycm9yKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGVycm9yID09PSAnb2JqZWN0JyAmJiBlcnJvciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG9iakVyciA9IGVycm9yO1xuICAgICAgICAgICAgICAgIGNvbnN0IGhhc0NvZGUgPSB0eXBlb2Ygb2JqRXJyWydjb2RlJ10gPT09ICdudW1iZXInO1xuICAgICAgICAgICAgICAgIGNvbnN0IGhhc1VzZXJSZWplY3RlZE1ldGhvZHMgPSBoYXNDb2RlICYmIG9iakVyclsnY29kZSddID09PSBXY0hlbHBlcnNVdGlsLlJQQ19FUlJPUl9DT0RFLlVTRVJfUkVKRUNURURfTUVUSE9EUztcbiAgICAgICAgICAgICAgICBjb25zdCBoYXNVc2VyUmVqZWN0ZWQgPSBoYXNDb2RlICYmIG9iakVyclsnY29kZSddID09PSBXY0hlbHBlcnNVdGlsLlJQQ19FUlJPUl9DT0RFLlVTRVJfUkVKRUNURUQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGhhc1VzZXJSZWplY3RlZE1ldGhvZHMgfHwgaGFzVXNlclJlamVjdGVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgaXNPcmlnaW5BbGxvd2VkKGN1cnJlbnRPcmlnaW4sIGFsbG93ZWRQYXR0ZXJucywgZGVmYXVsdEFsbG93ZWRPcmlnaW5zKSB7XG4gICAgICAgIGZvciAoY29uc3QgcGF0dGVybiBvZiBbLi4uYWxsb3dlZFBhdHRlcm5zLCAuLi5kZWZhdWx0QWxsb3dlZE9yaWdpbnNdKSB7XG4gICAgICAgICAgICBpZiAocGF0dGVybi5pbmNsdWRlcygnKicpKSB7XG4gICAgICAgICAgICAgICAgLy8gQ29udmVydCB3aWxkY2FyZCBwYXR0ZXJuIHRvIHJlZ2V4LCBlc2NhcGUgc3BlY2lhbCBjaGFycywgcmVwbGFjZSAqLCBtYXRjaCB3aG9sZSBzdHJpbmdcbiAgICAgICAgICAgICAgICBjb25zdCBlc2NhcGVkUGF0dGVybiA9IHBhdHRlcm4ucmVwbGFjZSgvWy4qKz9eJHt9KCl8W1xcXVxcXFxdL2d1LCAnXFxcXCQmJyk7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVnZXhTdHJpbmcgPSBgXiR7ZXNjYXBlZFBhdHRlcm4ucmVwbGFjZSgvXFxcXFxcKi9ndSwgJy4qJyl9JGA7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVnZXggPSBuZXcgUmVnRXhwKHJlZ2V4U3RyaW5nLCAndScpO1xuICAgICAgICAgICAgICAgIGlmIChyZWdleC50ZXN0KGN1cnJlbnRPcmlnaW4pKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFRoZXJlIGFyZSBzb21lIGNhc2VzIHdoZXJlIHBhdHRlcm4gaXMgZ2V0dGluZyBqdXN0IHRoZSBvcmlnaW4sIHdoZXJlIHVzaW5nIG5ldyBVUkwocGF0dGVybikub3JpZ2luIHdpbGwgdGhyb3cgYW4gZXJyb3JcbiAgICAgICAgICAgICAgICAgKiB0aHVzIHdlIGEgdHJ5IGNhdGNoIHRvIGhhbmRsZSB0aGlzIGNhc2VcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobmV3IFVSTChwYXR0ZXJuKS5vcmlnaW4gPT09IGN1cnJlbnRPcmlnaW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXR0ZXJuID09PSBjdXJyZW50T3JpZ2luKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBObyBtYXRjaCBmb3VuZFxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSxcbiAgICBsaXN0ZW5XY1Byb3ZpZGVyKHsgdW5pdmVyc2FsUHJvdmlkZXIsIG5hbWVzcGFjZSwgb25Db25uZWN0LCBvbkRpc2Nvbm5lY3QsIG9uQWNjb3VudHNDaGFuZ2VkLCBvbkNoYWluQ2hhbmdlZCwgb25EaXNwbGF5VXJpIH0pIHtcbiAgICAgICAgaWYgKG9uQ29ubmVjdCkge1xuICAgICAgICAgICAgdW5pdmVyc2FsUHJvdmlkZXIub24oJ2Nvbm5lY3QnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWNjb3VudHMgPSBXY0hlbHBlcnNVdGlsLmdldFdhbGxldENvbm5lY3RBY2NvdW50cyh1bml2ZXJzYWxQcm92aWRlciwgbmFtZXNwYWNlKTtcbiAgICAgICAgICAgICAgICBvbkNvbm5lY3QoYWNjb3VudHMpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9uRGlzY29ubmVjdCkge1xuICAgICAgICAgICAgdW5pdmVyc2FsUHJvdmlkZXIub24oJ2Rpc2Nvbm5lY3QnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgb25EaXNjb25uZWN0KCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob25BY2NvdW50c0NoYW5nZWQpIHtcbiAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgKiBJbiBtdWx0aWNoYWluIHNjZW5hcmlvIC0gZXZlcnkgYWRhcHRlciB3aWxsIGxpc3RlbiB0byBhY2NvdW50c0NoYW5nZWQgZXZlbnRcbiAgICAgICAgICAgICAqIHNvIG1ha2Ugc3VyZSB0byBjYWxsIGBvbkFjY291bnRzQ2hhbmdlZGAgb25seSBvbiB0aGUgbmFtZXNwYWNlIHRoYXQgYWN0dWFsbHkgaGFzIGFjY291bnRzIGNoYW5nZWRcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdW5pdmVyc2FsUHJvdmlkZXIub24oJ2FjY291bnRzQ2hhbmdlZCcsIChhY2NvdW50cykgPT4ge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFsbEFjY291bnRzID0gdW5pdmVyc2FsUHJvdmlkZXIuc2Vzc2lvbj8ubmFtZXNwYWNlcz8uW25hbWVzcGFjZV0/LmFjY291bnRzIHx8IFtdO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkZWZhdWx0Q2hhaW4gPSB1bml2ZXJzYWxQcm92aWRlci5ycGNQcm92aWRlcnM/LltuYW1lc3BhY2VdPy5nZXREZWZhdWx0Q2hhaW4oKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFyc2VkQWNjb3VudHMgPSBhY2NvdW50c1xuICAgICAgICAgICAgICAgICAgICAgICAgLm1hcChhY2NvdW50ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhaXBBY2NvdW50ID0gYWxsQWNjb3VudHMuZmluZChhY2MgPT4gYWNjLmluY2x1ZGVzKGAke25hbWVzcGFjZX06JHtkZWZhdWx0Q2hhaW59OiR7YWNjb3VudH1gKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWNhaXBBY2NvdW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgY2hhaW5JZCwgY2hhaW5OYW1lc3BhY2UgfSA9IFBhcnNlVXRpbC5wYXJzZUNhaXBBZGRyZXNzKGNhaXBBY2NvdW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkcmVzczogYWNjb3VudCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFpbklkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYWluTmFtZXNwYWNlXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihhY2NvdW50ID0+IGFjY291bnQgIT09IHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIEVtaXQgYWNjb3VudHNDaGFuZ2VkIGV2ZW50IG9ubHkgaWYgdGhlcmUgYXJlIGFjY291bnRzXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXJzZWRBY2NvdW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkFjY291bnRzQ2hhbmdlZChwYXJzZWRBY2NvdW50cyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignRmFpbGVkIHRvIHBhcnNlIGFjY291bnRzIGZvciBuYW1lc3BhY2Ugb24gYWNjb3VudHNDaGFuZ2VkIGV2ZW50JywgbmFtZXNwYWNlLCBhY2NvdW50cywgZXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvbkNoYWluQ2hhbmdlZCkge1xuICAgICAgICAgICAgdW5pdmVyc2FsUHJvdmlkZXIub24oJ2NoYWluQ2hhbmdlZCcsIChjaGFpbklkKSA9PiB7XG4gICAgICAgICAgICAgICAgb25DaGFpbkNoYW5nZWQoY2hhaW5JZCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob25EaXNwbGF5VXJpKSB7XG4gICAgICAgICAgICB1bml2ZXJzYWxQcm92aWRlci5vbignZGlzcGxheV91cmknLCAodXJpKSA9PiB7XG4gICAgICAgICAgICAgICAgb25EaXNwbGF5VXJpKHVyaSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgZ2V0V2FsbGV0Q29ubmVjdEFjY291bnRzKHVuaXZlcnNhbFByb3ZpZGVyLCBuYW1lc3BhY2UpIHtcbiAgICAgICAgY29uc3QgYWNjb3VudHNBZGRlZCA9IG5ldyBTZXQoKTtcbiAgICAgICAgY29uc3QgYWNjb3VudHMgPSB1bml2ZXJzYWxQcm92aWRlcj8uc2Vzc2lvbj8ubmFtZXNwYWNlcz8uW25hbWVzcGFjZV0/LmFjY291bnRzXG4gICAgICAgICAgICA/Lm1hcChhY2NvdW50ID0+IFBhcnNlVXRpbC5wYXJzZUNhaXBBZGRyZXNzKGFjY291bnQpKVxuICAgICAgICAgICAgLmZpbHRlcigoeyBhZGRyZXNzIH0pID0+IHtcbiAgICAgICAgICAgIGlmIChhY2NvdW50c0FkZGVkLmhhcyhhZGRyZXNzLnRvTG93ZXJDYXNlKCkpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYWNjb3VudHNBZGRlZC5hZGQoYWRkcmVzcy50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGFjY291bnRzICYmIGFjY291bnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiBhY2NvdW50cztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW107XG4gICAgfVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVdhbGxldENvbm5lY3RVdGlsLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/WalletConnectUtil.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/withErrorBoundary.js":
/*!************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/withErrorBoundary.js ***!
  \************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AppKitError: () => (/* binding */ AppKitError),\n/* harmony export */   withErrorBoundary: () => (/* binding */ withErrorBoundary)\n/* harmony export */ });\n/* harmony import */ var _controllers_TelemetryController_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../controllers/TelemetryController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/TelemetryController.js\");\n\nclass AppKitError extends Error {\n    constructor(message, category, originalError) {\n        super(message);\n        this.originalName = 'AppKitError';\n        this.name = 'AppKitError';\n        this.category = category;\n        this.originalError = originalError;\n        if (originalError && originalError instanceof Error) {\n            this.originalName = originalError.name;\n        }\n        // Ensure `this instanceof AppKitError` is true, important for custom errors.\n        Object.setPrototypeOf(this, AppKitError.prototype);\n        let isStackConstructedFromOriginal = false;\n        if (originalError instanceof Error &&\n            typeof originalError.stack === 'string' &&\n            originalError.stack) {\n            const originalErrorStack = originalError.stack;\n            /**\n             * Most error stacks start with \"ErrorName: ErrorMessage\\n...frames...\"\n             * We want to take the \"...frames...\" part.\n             */\n            const firstNewlineIndex = originalErrorStack.indexOf('\\n');\n            if (firstNewlineIndex > -1) {\n                const originalFrames = originalErrorStack.substring(firstNewlineIndex + 1);\n                this.stack = `${this.name}: ${this.message}\\n${originalFrames}`;\n                isStackConstructedFromOriginal = true;\n            }\n        }\n        if (!isStackConstructedFromOriginal) {\n            /**\n             * If stack was not (or could not be) constructed from originalError,\n             * generate a standard stack trace for this AppKitError instance.\n             * This will point to where `new AppKitError()` was called.\n             */\n            if (Error.captureStackTrace) {\n                Error.captureStackTrace(this, AppKitError);\n            }\n            else if (!this.stack) {\n                /**\n                 * Fallback for environments without Error.captureStackTrace.\n                 * `super(message)` might have set a stack.\n                 * If `this.stack` is still undefined/empty, provide a minimal one.\n                 * Node.js and modern browsers typically set `this.stack` from `super(message)`.\n                 */\n                this.stack = `${this.name}: ${this.message}`;\n            }\n        }\n    }\n}\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction errorHandler(err, defaultCategory) {\n    let errMessage = '';\n    try {\n        if (err instanceof Error) {\n            errMessage = err.message;\n        }\n        else if (typeof err === 'string') {\n            errMessage = err;\n        }\n        else if (typeof err === 'object' && err !== null) {\n            if (Object.keys(err).length === 0) {\n                errMessage = 'Unknown error';\n            }\n            else {\n                errMessage = err?.message || JSON.stringify(err);\n            }\n        }\n        else {\n            errMessage = String(err);\n        }\n    }\n    catch (_error) {\n        errMessage = 'Unknown error';\n        // eslint-disable-next-line no-console\n        console.error('Error parsing error message', _error);\n    }\n    const error = err instanceof AppKitError ? err : new AppKitError(errMessage, defaultCategory, err);\n    _controllers_TelemetryController_js__WEBPACK_IMPORTED_MODULE_0__.TelemetryController.sendError(error, error.category);\n    throw error;\n}\nfunction withErrorBoundary(controller, defaultCategory = 'INTERNAL_SDK_ERROR') {\n    const newController = {};\n    Object.keys(controller).forEach(key => {\n        const original = controller[key];\n        if (typeof original === 'function') {\n            let wrapped = original;\n            if (original.constructor.name === 'AsyncFunction') {\n                wrapped = async (...args) => {\n                    try {\n                        return await original(...args);\n                    }\n                    catch (err) {\n                        return errorHandler(err, defaultCategory);\n                    }\n                };\n            }\n            else {\n                wrapped = (...args) => {\n                    try {\n                        return original(...args);\n                    }\n                    catch (err) {\n                        return errorHandler(err, defaultCategory);\n                    }\n                };\n            }\n            newController[key] = wrapped;\n        }\n        else {\n            newController[key] = original;\n        }\n    });\n    return newController;\n}\n//# sourceMappingURL=withErrorBoundary.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTFfQHJlYWN0LW5hdGl2ZS1hc3luYy1zdG9yYWdlK2FzeW5jLXN0b3JhZ2VAMi4yLjBfcmVhY3QtX2E4MDMyMTIzODk3ZTA3OTMxMzc0MjMyYzNjYzRlNTM1L25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy91dGlscy93aXRoRXJyb3JCb3VuZGFyeS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBNEU7QUFDckU7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLFVBQVUsSUFBSSxhQUFhLElBQUksZUFBZTtBQUM5RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxVQUFVLElBQUksYUFBYTtBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSxvRkFBbUI7QUFDdkI7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL25vZ2dsci8uL25vZGVfbW9kdWxlcy8ucG5wbS9AcmVvd24rYXBwa2l0LWNvbnRyb2xsZXJzQDEuOC4xMV9AcmVhY3QtbmF0aXZlLWFzeW5jLXN0b3JhZ2UrYXN5bmMtc3RvcmFnZUAyLjIuMF9yZWFjdC1fYTgwMzIxMjM4OTdlMDc5MzEzNzQyMzJjM2NjNGU1MzUvbm9kZV9tb2R1bGVzL0ByZW93bi9hcHBraXQtY29udHJvbGxlcnMvZGlzdC9lc20vc3JjL3V0aWxzL3dpdGhFcnJvckJvdW5kYXJ5LmpzPzVlMjQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVGVsZW1ldHJ5Q29udHJvbGxlciB9IGZyb20gJy4uL2NvbnRyb2xsZXJzL1RlbGVtZXRyeUNvbnRyb2xsZXIuanMnO1xuZXhwb3J0IGNsYXNzIEFwcEtpdEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UsIGNhdGVnb3J5LCBvcmlnaW5hbEVycm9yKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UpO1xuICAgICAgICB0aGlzLm9yaWdpbmFsTmFtZSA9ICdBcHBLaXRFcnJvcic7XG4gICAgICAgIHRoaXMubmFtZSA9ICdBcHBLaXRFcnJvcic7XG4gICAgICAgIHRoaXMuY2F0ZWdvcnkgPSBjYXRlZ29yeTtcbiAgICAgICAgdGhpcy5vcmlnaW5hbEVycm9yID0gb3JpZ2luYWxFcnJvcjtcbiAgICAgICAgaWYgKG9yaWdpbmFsRXJyb3IgJiYgb3JpZ2luYWxFcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLm9yaWdpbmFsTmFtZSA9IG9yaWdpbmFsRXJyb3IubmFtZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBFbnN1cmUgYHRoaXMgaW5zdGFuY2VvZiBBcHBLaXRFcnJvcmAgaXMgdHJ1ZSwgaW1wb3J0YW50IGZvciBjdXN0b20gZXJyb3JzLlxuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgQXBwS2l0RXJyb3IucHJvdG90eXBlKTtcbiAgICAgICAgbGV0IGlzU3RhY2tDb25zdHJ1Y3RlZEZyb21PcmlnaW5hbCA9IGZhbHNlO1xuICAgICAgICBpZiAob3JpZ2luYWxFcnJvciBpbnN0YW5jZW9mIEVycm9yICYmXG4gICAgICAgICAgICB0eXBlb2Ygb3JpZ2luYWxFcnJvci5zdGFjayA9PT0gJ3N0cmluZycgJiZcbiAgICAgICAgICAgIG9yaWdpbmFsRXJyb3Iuc3RhY2spIHtcbiAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsRXJyb3JTdGFjayA9IG9yaWdpbmFsRXJyb3Iuc3RhY2s7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIE1vc3QgZXJyb3Igc3RhY2tzIHN0YXJ0IHdpdGggXCJFcnJvck5hbWU6IEVycm9yTWVzc2FnZVxcbi4uLmZyYW1lcy4uLlwiXG4gICAgICAgICAgICAgKiBXZSB3YW50IHRvIHRha2UgdGhlIFwiLi4uZnJhbWVzLi4uXCIgcGFydC5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgY29uc3QgZmlyc3ROZXdsaW5lSW5kZXggPSBvcmlnaW5hbEVycm9yU3RhY2suaW5kZXhPZignXFxuJyk7XG4gICAgICAgICAgICBpZiAoZmlyc3ROZXdsaW5lSW5kZXggPiAtMSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsRnJhbWVzID0gb3JpZ2luYWxFcnJvclN0YWNrLnN1YnN0cmluZyhmaXJzdE5ld2xpbmVJbmRleCArIDEpO1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhY2sgPSBgJHt0aGlzLm5hbWV9OiAke3RoaXMubWVzc2FnZX1cXG4ke29yaWdpbmFsRnJhbWVzfWA7XG4gICAgICAgICAgICAgICAgaXNTdGFja0NvbnN0cnVjdGVkRnJvbU9yaWdpbmFsID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzU3RhY2tDb25zdHJ1Y3RlZEZyb21PcmlnaW5hbCkge1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBJZiBzdGFjayB3YXMgbm90IChvciBjb3VsZCBub3QgYmUpIGNvbnN0cnVjdGVkIGZyb20gb3JpZ2luYWxFcnJvcixcbiAgICAgICAgICAgICAqIGdlbmVyYXRlIGEgc3RhbmRhcmQgc3RhY2sgdHJhY2UgZm9yIHRoaXMgQXBwS2l0RXJyb3IgaW5zdGFuY2UuXG4gICAgICAgICAgICAgKiBUaGlzIHdpbGwgcG9pbnQgdG8gd2hlcmUgYG5ldyBBcHBLaXRFcnJvcigpYCB3YXMgY2FsbGVkLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBpZiAoRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UpIHtcbiAgICAgICAgICAgICAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLCBBcHBLaXRFcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICghdGhpcy5zdGFjaykge1xuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIEZhbGxiYWNrIGZvciBlbnZpcm9ubWVudHMgd2l0aG91dCBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZS5cbiAgICAgICAgICAgICAgICAgKiBgc3VwZXIobWVzc2FnZSlgIG1pZ2h0IGhhdmUgc2V0IGEgc3RhY2suXG4gICAgICAgICAgICAgICAgICogSWYgYHRoaXMuc3RhY2tgIGlzIHN0aWxsIHVuZGVmaW5lZC9lbXB0eSwgcHJvdmlkZSBhIG1pbmltYWwgb25lLlxuICAgICAgICAgICAgICAgICAqIE5vZGUuanMgYW5kIG1vZGVybiBicm93c2VycyB0eXBpY2FsbHkgc2V0IGB0aGlzLnN0YWNrYCBmcm9tIGBzdXBlcihtZXNzYWdlKWAuXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgdGhpcy5zdGFjayA9IGAke3RoaXMubmFtZX06ICR7dGhpcy5tZXNzYWdlfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuZnVuY3Rpb24gZXJyb3JIYW5kbGVyKGVyciwgZGVmYXVsdENhdGVnb3J5KSB7XG4gICAgbGV0IGVyck1lc3NhZ2UgPSAnJztcbiAgICB0cnkge1xuICAgICAgICBpZiAoZXJyIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICAgIGVyck1lc3NhZ2UgPSBlcnIubWVzc2FnZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgZXJyID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgZXJyTWVzc2FnZSA9IGVycjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgZXJyID09PSAnb2JqZWN0JyAmJiBlcnIgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhlcnIpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGVyck1lc3NhZ2UgPSAnVW5rbm93biBlcnJvcic7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBlcnJNZXNzYWdlID0gZXJyPy5tZXNzYWdlIHx8IEpTT04uc3RyaW5naWZ5KGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBlcnJNZXNzYWdlID0gU3RyaW5nKGVycik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2ggKF9lcnJvcikge1xuICAgICAgICBlcnJNZXNzYWdlID0gJ1Vua25vd24gZXJyb3InO1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBwYXJzaW5nIGVycm9yIG1lc3NhZ2UnLCBfZXJyb3IpO1xuICAgIH1cbiAgICBjb25zdCBlcnJvciA9IGVyciBpbnN0YW5jZW9mIEFwcEtpdEVycm9yID8gZXJyIDogbmV3IEFwcEtpdEVycm9yKGVyck1lc3NhZ2UsIGRlZmF1bHRDYXRlZ29yeSwgZXJyKTtcbiAgICBUZWxlbWV0cnlDb250cm9sbGVyLnNlbmRFcnJvcihlcnJvciwgZXJyb3IuY2F0ZWdvcnkpO1xuICAgIHRocm93IGVycm9yO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHdpdGhFcnJvckJvdW5kYXJ5KGNvbnRyb2xsZXIsIGRlZmF1bHRDYXRlZ29yeSA9ICdJTlRFUk5BTF9TREtfRVJST1InKSB7XG4gICAgY29uc3QgbmV3Q29udHJvbGxlciA9IHt9O1xuICAgIE9iamVjdC5rZXlzKGNvbnRyb2xsZXIpLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgY29uc3Qgb3JpZ2luYWwgPSBjb250cm9sbGVyW2tleV07XG4gICAgICAgIGlmICh0eXBlb2Ygb3JpZ2luYWwgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGxldCB3cmFwcGVkID0gb3JpZ2luYWw7XG4gICAgICAgICAgICBpZiAob3JpZ2luYWwuY29uc3RydWN0b3IubmFtZSA9PT0gJ0FzeW5jRnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgd3JhcHBlZCA9IGFzeW5jICguLi5hcmdzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgb3JpZ2luYWwoLi4uYXJncyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVycm9ySGFuZGxlcihlcnIsIGRlZmF1bHRDYXRlZ29yeSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgd3JhcHBlZCA9ICguLi5hcmdzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3JpZ2luYWwoLi4uYXJncyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVycm9ySGFuZGxlcihlcnIsIGRlZmF1bHRDYXRlZ29yeSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmV3Q29udHJvbGxlcltrZXldID0gd3JhcHBlZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG5ld0NvbnRyb2xsZXJba2V5XSA9IG9yaWdpbmFsO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIG5ld0NvbnRyb2xsZXI7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD13aXRoRXJyb3JCb3VuZGFyeS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.11_@react-native-async-storage+async-storage@2.2.0_react-_a8032123897e07931374232c3cc4e535/node_modules/@reown/appkit-controllers/dist/esm/src/utils/withErrorBoundary.js\n");

/***/ })

};
;